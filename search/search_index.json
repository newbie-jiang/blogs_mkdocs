{"config":{"lang":["en"],"separator":"[\\s\\u200b\\u3000\\-\u3001\u3002\uff0c\uff0e\uff1f\uff01\uff1b]+","pipeline":["stemmer"]},"docs":[{"location":"","title":"Welcome to MkDocs","text":""},{"location":"#welcome-to-mkdocs","title":"Welcome to MkDocs","text":"<p>For full documentation visit mkdocs.org.</p>"},{"location":"#commands","title":"Commands","text":"<ul> <li><code>mkdocs new [dir-name]</code> - Create a new project.</li> <li><code>mkdocs serve</code> - Start the live-reloading docs server.</li> <li><code>mkdocs build</code> - Build the documentation site.</li> <li><code>mkdocs -h</code> - Print help message and exit.</li> </ul>"},{"location":"#project-layout","title":"Project layout","text":"<pre><code>mkdocs.yml    # The configuration file.\ndocs/\n    index.md  # The documentation homepage.\n    ...       # Other markdown pages, images and other files.\n</code></pre>"},{"location":"ai/1.Gemini%20%E4%B8%AD%E8%BD%AC%E6%9C%8D%E5%8A%A1%E5%99%A8%E6%90%AD%E5%BB%BA/","title":"Gemini\u4e2d\u8f6c\u670d\u52a1\u5668\u642d\u5efa","text":""},{"location":"ai/1.Gemini%20%E4%B8%AD%E8%BD%AC%E6%9C%8D%E5%8A%A1%E5%99%A8%E6%90%AD%E5%BB%BA/#gemini","title":"Gemini\u4e2d\u8f6c\u670d\u52a1\u5668\u642d\u5efa","text":"<p>\u53ef\u4f7f\u7528\u7684\u6a21\u578b\uff08\u7edd\u5927\u591a\u6570\u90fd\u514d\u8d39\uff09</p> <p>https://ai.google.dev/gemini-api/docs/pricing?hl=zh-cn</p>"},{"location":"ai/1.Gemini%20%E4%B8%AD%E8%BD%AC%E6%9C%8D%E5%8A%A1%E5%99%A8%E6%90%AD%E5%BB%BA/#_1","title":"\u4e3a\u4ec0\u4e48\u8981\u4e2d\u8f6c\uff1f","text":"<p>\u56fd\u5185\u4ee5\u53ca\u4e00\u4e9b\u5730\u533a\u88ab\u9650\u5236\u4e0d\u80fd\u4f7f\u7528\uff0c\u6240\u4ee5\u62ff\u4e00\u53f0\u53ef\u8bbf\u95eeGemini\u7684\u670d\u52a1\u5668\u4f5c\u4e2d\u8f6c\uff0c\u4ee3\u7406\u8bbf\u95ee\u5c31\u53ef\u4ee5\u4e86</p> <p>\u4e2d\u8f6c\u670d\u52a1\u5668\u6211\u4f7f\u7528\u4e86\u4e00\u53f0\u7f8e\u56fd\u7684vps</p>"},{"location":"ai/1.Gemini%20%E4%B8%AD%E8%BD%AC%E6%9C%8D%E5%8A%A1%E5%99%A8%E6%90%AD%E5%BB%BA/#1","title":"1.\u5b89\u88c5\u4f9d\u8d56\u5e93","text":"<ol> <li>\u5fc5\u987b\u5b89\u88c5\u7684\u4f9d\u8d56\u5e93 Python \u7248\u672c \u63a8\u8350 Python 3.9+\uff08google-generativeai \u9700\u8981 Python &gt;=3.9\uff09</li> </ol> <pre><code>pip install flask google-generativeai\n\n\u5b89\u88c5\u5931\u8d25\u5219\u4f7f\u7528Python 3.9+\u5b89\u88c5\npython3.10 -m pip install flask google-generativeai\n</code></pre> <p>\u8f83\u4f4e\u7248\u672c\u7684python\u5b89\u88c5\u5931\u8d25\u89e3\u51b3\u65b9\u6cd5 \u53ef\u901a\u8fc7\u7f16\u8bd1\u5b89\u88c5</p> <pre><code># 1. \u5b89\u88c5\u4f9d\u8d56\nsudo apt update\nsudo apt install -y wget build-essential libssl-dev zlib1g-dev \\\n    libncurses5-dev libbz2-dev libreadline-dev libsqlite3-dev \\\n    libffi-dev liblzma-dev tk-dev\n\n# 2. \u4e0b\u8f7d Python 3.10 \u6e90\u7801\uff08\u6216\u66ff\u6362\u4e3a 3.11.x\uff09\ncd /usr/src\nsudo wget https://www.python.org/ftp/python/3.10.14/Python-3.10.14.tgz\nsudo tar xzf Python-3.10.14.tgz\ncd Python-3.10.14\n\n# 3. \u7f16\u8bd1\u5b89\u88c5\nsudo ./configure --enable-optimizations\nsudo make altinstall   # \u7528 altinstall \u4e0d\u4f1a\u8986\u76d6\u7cfb\u7edf python3\n\n# 4. \u68c0\u67e5\u7248\u672c\npython3.10 --version\n\n\u65b0\u88c5\u7684 pip \u4e5f\u8981\u5347\u7ea7\npython3.10 -m ensurepip\npython3.10 -m pip install --upgrade pip\n</code></pre>"},{"location":"ai/1.Gemini%20%E4%B8%AD%E8%BD%AC%E6%9C%8D%E5%8A%A1%E5%99%A8%E6%90%AD%E5%BB%BA/#2","title":"2.\u57fa\u7840\u4e2d\u8f6c\u6587\u4ef6\u7f16\u5199","text":"<pre><code>from flask import Flask, request, jsonify\nimport google.generativeai as genai\n\napp = Flask(__name__)\n\n# \u4f60\u7684Gemini API Key\nGEMINI_API_KEY = \"API_KEY\"  # \u6539\u4e3a\u81ea\u5df1\u7684API_KEY\ngenai.configure(api_key=GEMINI_API_KEY)\n\n@app.route(\"/chat\", methods=[\"POST\"])\ndef chat():\n    data = request.get_json()\n    prompt = data.get(\"prompt\", \"\")\n    if not prompt:\n        return jsonify({\"error\": \"No prompt provided\"}), 400\n\n    try:\n        model = genai.GenerativeModel('gemini-2.5-pro')\n        response = model.generate_content(prompt)\n        return jsonify({\"reply\": response.text})\n    except Exception as e:\n        return jsonify({\"error\": str(e)}), 500\n\nif __name__ == \"__main__\":\n    app.run(host=\"0.0.0.0\", port=8000)\n</code></pre> <p>\u8fd0\u884c</p> <pre><code>python3.10 gemini_proxy.py\n</code></pre> <pre><code>root@blogs:~/gemini# python3.10 gemini_proxy.py\n * Serving Flask app 'gemini_proxy'\n * Debug mode: off\nWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.\n * Running on all addresses (0.0.0.0)\n * Running on http://127.0.0.1:8000\n * Running on http://142.xxx.xxx.xx:8000\nPress CTRL+C to quit\n</code></pre>"},{"location":"ai/1.Gemini%20%E4%B8%AD%E8%BD%AC%E6%9C%8D%E5%8A%A1%E5%99%A8%E6%90%AD%E5%BB%BA/#_2","title":"\u5728\u56fd\u5185\u7684\u670d\u52a1\u5668\u4e0a\u6d4b\u8bd5","text":"<p>\u7f16\u5199\u4e00\u4e2a\u7b80\u5355\u811a\u672c gemini.py</p> <pre><code>import requests\n\nresp = requests.post(\"http://142.xxx.xxx.xx:8000/chat\",\n                     json={\"prompt\": \"\u4ecb\u7ecd\u4e00\u4e0bSTM32\"})\nprint(resp.json()[\"reply\"])\n</code></pre> <p>\u8fd0\u884c\u5373\u53ef</p> <pre><code>python3 gemini.py\n</code></pre> <p>\u56de\u590d\u7684\u662f\u6807\u51c6\u7684md\u6587\u6863\u683c\u5f0f</p> <pre><code>hdj@hdj-virtual-machine:~/api_request$ python3 gemini.py \n\u597d\u7684\uff0c\u8fd9\u91cc\u4e3a\u60a8\u5168\u9762\u4ecb\u7ecd\u4e00\u4e0bSTM32\u3002\n\nSTM32\u662f\u4e00\u7cfb\u5217\u7531**\u610f\u6cd5\u534a\u5bfc\u4f53\uff08STMicroelectronics,\u7b80\u79f0ST\uff09**\u516c\u53f8\u751f\u4ea7\u7684**32\u4f4d\u5fae\u63a7\u5236\u5668\uff08Microcontroller Unit, MCU\uff09**\u3002\u5b83\u662f\u76ee\u524d\u5168\u7403\u6700\u53d7\u6b22\u8fce\u3001\u5e94\u7528\u6700\u5e7f\u6cdb\u7684MCU\u5bb6\u65cf\u4e4b\u4e00\uff0c\u65e0\u8bba\u662f\u5728\u5de5\u4e1a\u754c\u3001\u6d88\u8d39\u7535\u5b50\u8fd8\u662f\u4e2a\u4eba\u7231\u597d\u8005\uff08Maker\uff09\u9886\u57df\uff0c\u90fd\u6709\u7740\u6781\u9ad8\u7684\u5360\u6709\u7387\u3002\n\n\u53ef\u4ee5\u628aSTM32\u7406\u89e3\u4e3a\u4e00\u4e2a\u5fae\u578b\u7684\u3001\u53ef\u7f16\u7a0b\u7684\u8ba1\u7b97\u673a\u6838\u5fc3\uff0c\u5b83\u88ab\u96c6\u6210\u5728\u4e00\u5757\u5c0f\u5c0f\u7684\u82af\u7247\u4e0a\u3002\n\n---\n\n### \u4e00\u3001 STM32\u7684\u6838\u5fc3\u7279\u70b9\uff08\u4e3a\u4ec0\u4e48\u5b83\u5982\u6b64\u53d7\u6b22\u8fce\uff1f\uff09\n\n1.  **\u5f3a\u5927\u7684ARM Cortex-M\u5185\u6838**\uff1a\n    STM32\u5168\u7cfb\u5217\u90fd\u57fa\u4e8eARM\u516c\u53f8\u7684Cortex-M\u7cfb\u5217\u5185\u6838\u3002\u8fd9\u662f\u4e00\u4e2a\u884c\u4e1a\u6807\u51c6\uff0c\u610f\u5473\u7740\u5b83\u6709\u6781\u9ad8\u7684\u6027\u80fd\u3001\u80fd\u6548\u6bd4\u548c\u6210\u719f\u7684\u5de5\u5177\u94fe\u652f\u6301\u3002\u5e38\u89c1\u7684\u5185\u6838\u6709\uff1a\n    *   **Cortex-M0/M0+**\uff1a\u5165\u95e8\u7ea7\uff0c\u8d85\u4f4e\u529f\u8017\uff0c\u7528\u4e8e\u66ff\u4ee3\u4f20\u7edf\u76848\u4f4d/16\u4f4dMCU\u3002\n    *   **Cortex-M3**\uff1a\u4e3b\u6d41\uff0c\u6027\u80fd\u548c\u6210\u672c\u7684\u5b8c\u7f8e\u5e73\u8861\uff0c\u662fSTM32F1\u7cfb\u5217\u7684\u7ecf\u5178\u5185\u6838\u3002\n    *   **Cortex-M4**\uff1a\u9ad8\u6027\u80fd\uff0c\u5728M3\u7684\u57fa\u7840\u4e0a\u589e\u52a0\u4e86DSP\uff08\u6570\u5b57\u4fe1\u53f7\u5904\u7406\uff09\u6307\u4ee4\u548cFPU\uff08\u6d6e\u70b9\u8fd0\u7b97\u5355\u5143\uff09\uff0c\u975e\u5e38\u9002\u5408\u9700\u8981\u8fdb\u884c\u97f3\u9891\u5904\u7406\u3001\u7535\u673a\u63a7\u5236\u7b49\u590d\u6742\u8ba1\u7b97\u7684\u573a\u666f\u3002\n    *   **Cortex-M7**\uff1a\u65d7\u8230\u7ea7\uff0c\u62e5\u6709\u6700\u9ad8\u7684\u6027\u80fd\uff0c\u5177\u5907\u8d85\u7ea7\u6807\u91cf\u6d41\u6c34\u7ebf\u548c\u7f13\u5b58\uff0c\u7528\u4e8e\u56fe\u5f62\u754c\u9762\u3001\u9ad8\u7ea7\u63a7\u5236\u7b49\u8981\u6c42\u82db\u523b\u7684\u5e94\u7528\u3002\n\n2.  **\u4e30\u5bcc\u7684\u4ea7\u54c1\u7ebf**\uff1a\n    STM32\u4e0d\u662f\u5355\u4e00\u82af\u7247\uff0c\u800c\u662f\u4e00\u4e2a\u5e9e\u5927\u7684\u5bb6\u65cf\u3002ST\u516c\u53f8\u6839\u636e\u4e0d\u540c\u7684\u5e94\u7528\u9700\u6c42\uff0c\u5212\u5206\u51fa\u4e86\u591a\u4e2a\u7cfb\u5217\uff0c\u51e0\u4e4e\u53ef\u4ee5\u6ee1\u8db3\u4efb\u4f55\u5d4c\u5165\u5f0f\u8bbe\u8ba1\u9700\u6c42\u3002\n    *   **\u4e3b\u6d41\u578b (Mainstream) - STM32F\u7cfb\u5217**\uff1a\u5982F0, F1, F2, F3, F4, F7\u3002\u8fd9\u662f\u6700\u7ecf\u5178\u548c\u5e94\u7528\u6700\u5e7f\u7684\u7cfb\u5217\uff0c\u63d0\u4f9b\u4e86\u4ece\u57fa\u7840\u5230\u9ad8\u6027\u80fd\u7684\u5b8c\u6574\u9009\u62e9\u3002\n        *   **F103** \u662f\u201c\u4e00\u4ee3\u795e\u673a\u201d\uff0c\u65e0\u6570\u5f00\u53d1\u8005\u5165\u95e8\u548c\u4ea7\u54c1\u7684\u9996\u9009\u3002\n        *   **F4\u7cfb\u5217** \u56e0\u5176\u5f3a\u5927\u7684M4\u5185\u6838\u548c\u4e30\u5bcc\u7684\u7247\u4e0a\u5916\u8bbe\u800c\u5e7f\u53d7\u6b22\u8fce\u3002\n    *   **\u8d85\u4f4e\u529f\u8017\u578b (Ultra-low-power) - STM32L\u7cfb\u5217**\uff1a\u5982L0, L1, L4, L5\u3002\u4e13\u4e3a\u7535\u6c60\u4f9b\u7535\u548c\u5bf9\u529f\u8017\u6709\u4e25\u683c\u8981\u6c42\u7684\u8bbe\u5907\u8bbe\u8ba1\uff0c\u4f8b\u5982\u53ef\u7a7f\u6234\u8bbe\u5907\u3001\u7269\u8054\u7f51\u4f20\u611f\u5668\u8282\u70b9\u3002\n    *   **\u9ad8\u6027\u80fd\u578b (High-performance) - STM32H\u7cfb\u5217**\uff1a\u5982H7\u3002\u8fd9\u662f\u76ee\u524d\u6027\u80fd\u6700\u5f3a\u7684\u7cfb\u5217\uff0c\u4e3b\u9891\u53ef\u8fbe\u6570\u767eMHz\uff0c\u751a\u81f3\u6709\u53cc\u6838\u7248\u672c\uff0c\u9002\u7528\u4e8e\u5b9e\u65f6\u6027\u8981\u6c42\u6781\u9ad8\u7684\u5de5\u4e1a\u63a7\u5236\u3001\u9ad8\u7aef\u4eba\u673a\u754c\u9762\u7b49\u3002\n    *   **\u65e0\u7ebf\u578b (Wireless) - STM32W/WB/WL\u7cfb\u5217**\uff1a\u96c6\u6210\u4e86\u5c04\u9891\uff08RF\uff09\u529f\u80fd\uff0c\u652f\u6301\u84dd\u7259(BLE)\u3001Zigbee\u3001LoRa\u7b49\u65e0\u7ebf\u901a\u4fe1\u534f\u8bae\uff0c\u662f\u5f00\u53d1\u7269\u8054\u7f51\uff08IoT\uff09\u8bbe\u5907\u7684\u9996\u9009\u3002\n    *   **\u5fae\u5904\u7406\u5668 (MPU) - STM32MP\u7cfb\u5217**\uff1a\u5982MP1\u3002\u8fd9\u5df2\u7ecf\u4e0d\u662fMCU\u4e86\uff0c\u800c\u662fMPU\uff08\u5fae\u5904\u7406\u5668\uff09\uff0c\u53ef\u4ee5\u8fd0\u884cLinux\u7b49\u5b8c\u6574\u64cd\u4f5c\u7cfb\u7edf\uff0c\u7528\u4e8e\u5f00\u53d1\u590d\u6742\u7684\u5d4c\u5165\u5f0f\u7cfb\u7edf\uff0c\u5982\u5de5\u4e1a\u7f51\u5173\u3001\u667a\u80fd\u5bb6\u5c45\u4e2d\u63a7\u7b49\u3002\n\n3.  **\u5f3a\u5927\u7684\u7247\u4e0a\u5916\u8bbe (Peripherals)**\uff1a\n    STM32\u5185\u90e8\u96c6\u6210\u4e86\u5927\u91cf\u529f\u80fd\u6a21\u5757\uff0c\u5f00\u53d1\u8005\u65e0\u9700\u5916\u63a5\u592a\u591a\u82af\u7247\u5c31\u80fd\u5b9e\u73b0\u590d\u6742\u529f\u80fd\u3002\u5e38\u89c1\u7684\u5916\u8bbe\u5305\u62ec\uff1a\n    *   **\u901a\u7528\u8f93\u5165/\u8f93\u51fa (GPIO)**\n    *   **\u5b9a\u65f6\u5668 (Timer)**\uff1a\u53ef\u7528\u4e8e\u751f\u6210PWM\u6ce2\u63a7\u5236\u7535\u673a/\u8235\u673a/LED\u4eae\u5ea6\u3001\u7cbe\u786e\u5ef6\u65f6\u7b49\u3002\n    *   **\u901a\u4fe1\u63a5\u53e3**\uff1aUART (\u4e32\u53e3), I2C, SPI\u3002\n    *   **\u9ad8\u7ea7\u901a\u4fe1\u63a5\u53e3**\uff1aCAN (\u6c7d\u8f66\u603b\u7ebf), USB, Ethernet (\u4ee5\u592a\u7f51)\u3002\n    *   **\u6a21\u62df\u5668\u4ef6**\uff1aADC (\u6a21\u6570\u8f6c\u6362\u5668), DAC (\u6570\u6a21\u8f6c\u6362\u5668)\u3002\n    *   **\u5176\u4ed6**\uff1aDMA (\u76f4\u63a5\u5b58\u50a8\u5668\u5b58\u53d6), RTC (\u5b9e\u65f6\u65f6\u949f) \u7b49\u3002\n\n4.  **\u65e0\u4e0e\u4f26\u6bd4\u7684\u751f\u6001\u7cfb\u7edf (Ecosystem)**\uff1a\n    \u8fd9\u662fSTM32\u6210\u529f\u7684\u5173\u952e\uff01ST\u516c\u53f8\u63d0\u4f9b\u4e86\u4ece\u786c\u4ef6\u5230\u8f6f\u4ef6\u7684\u5b8c\u6574\u3001\u514d\u8d39\u3001\u6613\u7528\u7684\u5f00\u53d1\u5de5\u5177\u94fe\u3002\n    *   **STM32CubeMX**\uff1a\u4e00\u4e2a\u56fe\u5f62\u5316\u914d\u7f6e\u5de5\u5177\uff0c\u4f60\u53ea\u9700\u7528\u9f20\u6807\u70b9\u51e0\u4e0b\uff0c\u5c31\u80fd\u5b8c\u6210\u82af\u7247\u7684\u5f15\u811a\u5206\u914d\u3001\u65f6\u949f\u6811\u914d\u7f6e\u3001\u5916\u8bbe\u521d\u59cb\u5316\u7b49\u5de5\u4f5c\uff0c\u5e76\u81ea\u52a8\u751f\u6210C\u8bed\u8a00\u521d\u59cb\u5316\u4ee3\u7801\u3002\u8fd9\u6781\u5927\u5730\u964d\u4f4e\u4e86\u5165\u95e8\u95e8\u69db\u3002\n    *   **STM32CubeIDE**\uff1a\u4e00\u4e2a\u96c6\u6210\u4e86STM32CubeMX\u3001\u4ee3\u7801\u7f16\u8f91\u5668\u3001\u7f16\u8bd1\u5668\uff08GCC\uff09\u548c\u8c03\u8bd5\u5668\u4e8e\u4e00\u4f53\u7684\u5b98\u65b9\u96c6\u6210\u5f00\u53d1\u73af\u5883\uff08IDE\uff09\uff0c\u5b8c\u5168\u514d\u8d39\u3002\n    *   **HAL\u5e93 (\u786c\u4ef6\u62bd\u8c61\u5c42\u5e93)** \u548c **LL\u5e93 (\u5e95\u5c42\u5e93)**\uff1aST\u5b98\u65b9\u63d0\u4f9b\u7684\u6807\u51c6\u9a71\u52a8\u5e93\u3002HAL\u5e93\u5c01\u88c5\u4e86\u5e95\u5c42\u7ec6\u8282\uff0c\u8ba9\u5f00\u53d1\u8005\u53ef\u4ee5\u8f7b\u677e\u8c03\u7528API\u6765\u64cd\u4f5c\u5916\u8bbe\uff0c\u53ef\u79fb\u690d\u6027\u597d\uff1bLL\u5e93\u5219\u66f4\u63a5\u8fd1\u5bc4\u5b58\u5668\u64cd\u4f5c\uff0c\u6548\u7387\u66f4\u9ad8\uff0c\u9002\u5408\u8d44\u6df1\u5f00\u53d1\u8005\u3002\n    *   **\u4e30\u5bcc\u7684\u6587\u6863\u548c\u793e\u533a\u652f\u6301**\uff1a\u5b98\u7f51\u6709\u6d77\u91cf\u7684\u6570\u636e\u624b\u518c\u3001\u53c2\u8003\u624b\u518c\u3001\u5e94\u7528\u7b14\u8bb0\u3002\u7f51\u7edc\u4e0a\u4e5f\u6709\u6570\u4e0d\u6e05\u7684\u6559\u7a0b\u3001\u89c6\u9891\u3001\u5f00\u6e90\u9879\u76ee\u548c\u6d3b\u8dc3\u7684\u5f00\u53d1\u8005\u793e\u533a\u3002\u9047\u5230\u95ee\u9898\uff0c\u4f60\u603b\u80fd\u627e\u5230\u7b54\u6848\u3002\n\n5.  **\u9ad8\u6027\u4ef7\u6bd4\u548c\u6613\u4e8e\u83b7\u53d6**\uff1a\n    STM32\u5728\u63d0\u4f9b\u5f3a\u5927\u6027\u80fd\u7684\u540c\u65f6\uff0c\u4ef7\u683c\u975e\u5e38\u6709\u7ade\u4e89\u529b\u3002\u540c\u65f6\uff0c\u5404\u79cd\u578b\u53f7\u7684\u82af\u7247\u548c\u5f00\u53d1\u677f\uff08\u5982Nucleo\u3001Discovery\u7cfb\u5217\uff09\u5728\u5168\u7403\u8303\u56f4\u5185\u90fd\u975e\u5e38\u5bb9\u6613\u8d2d\u4e70\u5230\u3002\n\n---\n\n### \u4e8c\u3001\u5982\u4f55\u5f00\u59cb\u5b66\u4e60STM32\uff1f\n\n\u5bf9\u4e8e\u521d\u5b66\u8005\uff0c\u63a8\u8350\u7684\u8def\u5f84\u5982\u4e0b\uff1a\n\n1.  **\u51c6\u5907\u786c\u4ef6**\uff1a\u8d2d\u4e70\u4e00\u5757 **STM32 Nucleo** \u5f00\u53d1\u677f\u3002\u6bd4\u5982 `Nucleo-F103RB` \u6216 `Nucleo-L476RG`\u3002\u8fd9\u79cd\u677f\u5b50\u4ef7\u683c\u4fbf\u5b9c\uff08\u901a\u5e38\u5728100\u5143\u4eba\u6c11\u5e01\u5de6\u53f3\uff09\uff0c\u5e76\u4e14\u81ea\u5e26ST-LINK\u8c03\u8bd5\u5668\uff0c\u65e0\u9700\u989d\u5916\u8d2d\u4e70\u70e7\u5f55\u5de5\u5177\uff0c\u63d2\u4e0aUSB\u7ebf\u5c31\u80fd\u5f00\u59cb\u5f00\u53d1\u3002\n\n2.  **\u5b89\u88c5\u8f6f\u4ef6**\uff1a\u4e0b\u8f7d\u5e76\u5b89\u88c5\u5b98\u65b9\u514d\u8d39\u7684 **STM32CubeIDE**\u3002\n\n3.  **\u5b66\u4e60C\u8bed\u8a00**\uff1aSTM32\u7684\u5f00\u53d1\u8bed\u8a00\u4e3b\u8981\u662fC\u8bed\u8a00\uff0c\u4f60\u9700\u8981\u638c\u63e1C\u8bed\u8a00\u7684\u57fa\u672c\u8bed\u6cd5\uff0c\u5c24\u5176\u662f\u6307\u9488\u3001\u7ed3\u6784\u4f53\u548c\u4f4d\u64cd\u4f5c\u3002\n\n4.  **\u70b9\u4eae\u7b2c\u4e00\u76cf\u706f (Blinky)**\uff1a\n    *   \u5728STM32CubeIDE\u4e2d\u65b0\u5efa\u4e00\u4e2a\u5de5\u7a0b\uff0c\u4f7f\u7528\u5185\u7f6e\u7684CubeMX\u56fe\u5f62\u5316\u5de5\u5177\u914d\u7f6e\u4e00\u4e2aGPIO\u5f15\u811a\u4e3a\u8f93\u51fa\u6a21\u5f0f\u3002\n    *   \u751f\u6210\u4ee3\u7801\u540e\uff0c\u5728\u4e3b\u5faa\u73af `while(1)` \u4e2d\u6dfb\u52a0\u51e0\u884c\u4ee3\u7801\uff0c\u8ba9\u8fd9\u4e2a\u5f15\u811a\u9ad8\u4f4e\u7535\u5e73\u4ea4\u66ff\u53d8\u5316\uff0c\u4ece\u800c\u70b9\u4eae\u548c\u7184\u706d\u5f00\u53d1\u677f\u4e0a\u7684LED\u706f\u3002\n    *   \u8fd9\u4e2a\u8fc7\u7a0b\u4f1a\u8ba9\u4f60\u719f\u6089\u6574\u4e2a\u5f00\u53d1\u6d41\u7a0b\uff1a**\u914d\u7f6e -&gt; \u751f\u6210\u4ee3\u7801 -&gt; \u7f16\u5199\u903b\u8f91 -&gt; \u7f16\u8bd1 -&gt; \u4e0b\u8f7d -&gt; \u8c03\u8bd5**\u3002\n\n5.  **\u9010\u6b65\u6df1\u5165**\uff1a\n    *   \u5b66\u4e60\u4f7f\u7528**\u4e32\u53e3(UART)**\uff0c\u901a\u8fc7\u5b83\u5411\u7535\u8111\u53d1\u9001\u8c03\u8bd5\u4fe1\u606f\uff0c\u8fd9\u662f\u6700\u91cd\u8981\u7684\u8c03\u8bd5\u624b\u6bb5\u3002\n    *   \u5b66\u4e60\u4f7f\u7528**\u5b9a\u65f6\u5668(Timer)**\uff0c\u5b9e\u73b0\u7cbe\u786e\u5ef6\u65f6\u548cPWM\u8f93\u51fa\u3002\n    *   \u5b66\u4e60\u4f7f\u7528**ADC**\uff0c\u8bfb\u53d6\u7535\u4f4d\u5668\u6216\u4f20\u611f\u5668\u7684\u6a21\u62df\u4fe1\u53f7\u3002\n    *   \u5b66\u4e60 **\u4e2d\u65ad** \u673a\u5236\uff0c\u8fd9\u662f\u5d4c\u5165\u5f0f\u7cfb\u7edf\u4e8b\u4ef6\u9a71\u52a8\u7f16\u7a0b\u7684\u6838\u5fc3\u3002\n\n---\n\n### \u4e09\u3001STM32\u7684\u5e94\u7528\u9886\u57df\n\n\u5b83\u7684\u5e94\u7528\u65e0\u5904\u4e0d\u5728\uff1a\n*   **\u6d88\u8d39\u7535\u5b50**\uff1a\u65e0\u4eba\u673a\u3001\u626b\u5730\u673a\u5668\u4eba\u3001\u667a\u80fd\u624b\u73af\u3001\u7535\u5b50\u70df\u3001\u7535\u52a8\u7259\u5237\u3002\n*   **\u5de5\u4e1a\u63a7\u5236**\uff1aPLC\u3001\u53d8\u9891\u5668\u3001\u4f3a\u670d\u9a71\u52a8\u5668\u3001\u5de5\u4e1a\u673a\u5668\u4eba\u3002\n*   **\u7269\u8054\u7f51 (IoT)**\uff1a\u667a\u80fd\u5bb6\u5c45\u8bbe\u5907\u3001\u73af\u5883\u76d1\u6d4b\u4f20\u611f\u5668\u3001\u5171\u4eab\u5355\u8f66\u9501\u3002\n*   **\u6c7d\u8f66\u7535\u5b50**\uff1a\u8f66\u8f7d\u5a31\u4e50\u7cfb\u7edf\u3001\u8f66\u7a97\u63a7\u5236\u5668\u3001\u4eea\u8868\u76d8\u3002\n*   **\u4e2a\u4ebaDIY\u9879\u76ee**\uff1a\u5404\u79cd\u673a\u5668\u4eba\u3001\u667a\u80fd\u5c0f\u8f66\u3001\u521b\u610f\u7535\u5b50\u4f5c\u54c1\u3002\n\n### \u603b\u7ed3\n\n**STM32** \u4e0d\u4ec5\u4ec5\u662f\u4e00\u9897\u82af\u7247\uff0c\u5b83\u662f\u4e00\u4e2a\u96c6**\u9ad8\u6027\u80fd\u5185\u6838\u3001\u4e30\u5bcc\u4ea7\u54c1\u9009\u62e9\u3001\u5f3a\u5927\u7247\u4e0a\u5916\u8bbe\u548c\u9876\u7ea7\u5f00\u53d1\u751f\u6001**\u4e8e\u4e00\u4f53\u7684\u5e73\u53f0\u3002\u5b83\u6781\u5927\u5730\u964d\u4f4e\u4e86\u5d4c\u5165\u5f0f\u5f00\u53d1\u7684\u95e8\u69db\uff0c\u540c\u65f6\u53c8\u80fd\u6ee1\u8db3\u4e13\u4e1a\u548c\u590d\u6742\u7684\u5e94\u7528\u9700\u6c42\uff0c\u662f\u8fde\u63a5\u8f6f\u4ef6\u4e16\u754c\u548c\u7269\u7406\u4e16\u754c\u7684\u5f3a\u5927\u6865\u6881\u3002\u5bf9\u4e8e\u4efb\u4f55\u60f3\u8fdb\u5165\u5d4c\u5165\u5f0f\u9886\u57df\u7684\u4eba\u6765\u8bf4\uff0c\u5b66\u4e60STM32\u90fd\u662f\u4e00\u4e2a\u6781\u597d\u7684\u9009\u62e9\u3002\n</code></pre>"},{"location":"ai/2.Gemini%20%E4%B8%AD%E8%BD%AC%E6%9C%8D%E5%8A%A1%E5%99%A8%E4%BC%98%E5%8C%96%E6%80%9D%E8%B7%AF/","title":"Gemini \u4e2d\u8f6c\u670d\u52a1\u5668\u4f18\u5316\u601d\u8def","text":""},{"location":"ai/2.Gemini%20%E4%B8%AD%E8%BD%AC%E6%9C%8D%E5%8A%A1%E5%99%A8%E4%BC%98%E5%8C%96%E6%80%9D%E8%B7%AF/#gemini","title":"Gemini \u4e2d\u8f6c\u670d\u52a1\u5668\u4f18\u5316\u601d\u8def","text":"<p>\u601d\u8003\u4e00\u4e2a\u95ee\u9898\uff0c\u4f7f\u7528\u4e2d\u8f6c\u670d\u52a1\u5668\uff0c\u672c\u5730\u7684\u8bbf\u95ee\u53ea\u9700\u8981\u4e00\u4e2a\u94fe\u63a5\u5730\u5740\u5c31\u53ef\u4ee5\u8bbf\u95ee\u4e86\uff0c\u5982\u4f55\u505a\u5546\u4e1a\u5316\uff1f</p> <ul> <li>\u4e2d\u8f6c\u670d\u52a1\u5668\u5e94\u8be5\u53ef\u4ee5\u63d0\u4f9b\u591a\u5bb6\u7684\u6a21\u578b\uff08gemini   openai deepseek minimax \uff09</li> <li>\u5e94\u8be5\u6709\u8ba4\u8bc1\u673a\u5236\uff0c\u4f7f\u5f97\u8bbe\u5907\u901a\u8fc7\u67d0\u79cd\u8ba4\u8bc1\u540e\u624d\u80fd\u4f7f\u7528 \u4e2d\u8f6c\u670d\u52a1\u5668\u7684\u670d\u52a1</li> <li>\u4e2d\u8f6c\u670d\u52a1\u5668\u5bf9\u8bf7\u6c42\u7684IP\u76d1\u6d4b\uff0c\u9632\u6b62\u6ee5\u7528</li> <li>\u4e2d\u8f6c\u670d\u52a1\u5668\u6709\u5bf9\u8bbe\u5907\u7684\u8bbf\u95ee\u6743\u9650\u7ba1\u7406</li> </ul> <p>\u201c\u4e0d\u4f7f\u7528API Key\uff0c\u76f4\u63a5\u7528\u552f\u4e00\u8bbe\u5907\u53f7\u505a\u8ba4\u8bc1\u548c\u6743\u9650\u7ba1\u7406\u201d\uff0c\u600e\u4e48\u505a\u5230\u201c\u5b89\u5168\u201d\uff0c\u4ee5\u53ca\u201c\u9632\u4f2a\u3001\u9632\u91cd\u653e\u3001\u9632\u66b4\u529b\u731c\u6d4b\u201d\uff0c\u4e0b\u9762\u6211\u7ed9\u4f60\u8be6\u7ec6\u89e3\u91ca\u5e38\u89c1\u6280\u672f\u65b9\u6848\uff0c\u7528\u7b80\u5355\u7684\u8bed\u8a00\u548c\u6d41\u7a0b\u56fe\u3002</p>"},{"location":"ai/2.Gemini%20%E4%B8%AD%E8%BD%AC%E6%9C%8D%E5%8A%A1%E5%99%A8%E4%BC%98%E5%8C%96%E6%80%9D%E8%B7%AF/#_1","title":"\u4e00\u3001\u6700\u7b80\u5355\u7684\u4e0d\u5b89\u5168\u65b9\u6848\uff08\u53ea\u9760\u8bbe\u5907\u53f7\uff09","text":"<ul> <li>\u8bbe\u5907\u8bf7\u6c42\uff1a<code>POST /api/chat {\"device_id\": \"ABC123456\"}</code></li> <li>\u540e\u53f0\uff1a\u67e5\u6570\u636e\u5e93\uff0c\u770b<code>device_id</code>\u6709\u6ca1\u6709\u6ce8\u518c\u8fc7\uff0c\u6709\u5219\u5141\u8bb8\u8bf7\u6c42</li> </ul>"},{"location":"ai/2.Gemini%20%E4%B8%AD%E8%BD%AC%E6%9C%8D%E5%8A%A1%E5%99%A8%E4%BC%98%E5%8C%96%E6%80%9D%E8%B7%AF/#_2","title":"\u98ce\u9669\uff1a","text":"<ul> <li>\u8bbe\u5907\u53f7\u88ab\u6293\u5305/\u6cc4\u6f0f/\u66b4\u529b\u731c\u6d4b\u540e\uff0c\u4efb\u4f55\u4eba\u90fd\u80fd\u4f2a\u9020\u8bf7\u6c42\uff0c\u5192\u5145\u8bbe\u5907</li> </ul>"},{"location":"ai/2.Gemini%20%E4%B8%AD%E8%BD%AC%E6%9C%8D%E5%8A%A1%E5%99%A8%E4%BC%98%E5%8C%96%E6%80%9D%E8%B7%AF/#_3","title":"\u4e8c\u3001\u52a0\u5f3a\u7248\uff1a\u6bcf\u53f0\u8bbe\u5907\u6709\u552f\u4e00\u5bc6\u94a5\uff08\u8bbe\u5907\u5bc6\u94a5\uff09","text":""},{"location":"ai/2.Gemini%20%E4%B8%AD%E8%BD%AC%E6%9C%8D%E5%8A%A1%E5%99%A8%E4%BC%98%E5%8C%96%E6%80%9D%E8%B7%AF/#key","title":"\u51fa\u5382\u65f6\uff0c\u6bcf\u53f0\u8bbe\u5907\u6709\u4e00\u4efd\u72ec\u7acb\u5bc6\u94a5\uff08\u4e0d\u662f\u6240\u6709\u8bbe\u5907\u901a\u7528\u7684Key\uff09","text":"<ul> <li>\u8bbe\u5907\u53f7\uff1a<code>device_id</code></li> <li>\u8bbe\u5907\u5bc6\u94a5\uff1a<code>device_secret</code>\uff08\u6bd4\u5982\u4e00\u4e32128bit\u968f\u673a\u6570\uff0c\u5b58\u50a8\u5728\u8bbe\u5907\u5b89\u5168\u533a\uff09</li> </ul>"},{"location":"ai/2.Gemini%20%E4%B8%AD%E8%BD%AC%E6%9C%8D%E5%8A%A1%E5%99%A8%E4%BC%98%E5%8C%96%E6%80%9D%E8%B7%AF/#_4","title":"\u8c03\u7528\u6d41\u7a0b\uff1a","text":""},{"location":"ai/2.Gemini%20%E4%B8%AD%E8%BD%AC%E6%9C%8D%E5%8A%A1%E5%99%A8%E4%BC%98%E5%8C%96%E6%80%9D%E8%B7%AF/#1","title":"1. \u8bbe\u5907\u7aef","text":"<ul> <li> <p>\u751f\u6210\u4e00\u6761\u6d88\u606f\uff1a\u6bd4\u5982\u8bf7\u6c42\u5185\u5bb9<code>data</code>\u3001\u65f6\u95f4\u6233<code>ts</code></p> </li> <li> <p>\u7528\u5bc6\u94a5\u505a\u7b7e\u540d\uff08\u5e38\u7528HMAC\u7b97\u6cd5\uff09\uff1a    <code>sign = HMAC_SHA256(device_secret, data + ts)</code></p> </li> <li> <p>\u53d1\u9001\u5185\u5bb9\uff1a</p> </li> </ul> <pre><code>{\n  \"device_id\": \"ABC123456\",\n  \"data\": \"\u4f60\u8981\u95ee\u7684\u5927\u6a21\u578b\u5185\u5bb9\",\n  \"ts\": 17250000,\n  \"sign\": \"38d7a2...fcf9\"   //\u7b7e\u540d\n}\n</code></pre>"},{"location":"ai/2.Gemini%20%E4%B8%AD%E8%BD%AC%E6%9C%8D%E5%8A%A1%E5%99%A8%E4%BC%98%E5%8C%96%E6%80%9D%E8%B7%AF/#2","title":"2. \u670d\u52a1\u5668\u7aef","text":"<ul> <li>\u67e5<code>device_id</code>\uff0c\u83b7\u53d6\u8be5\u8bbe\u5907\u7684<code>device_secret</code></li> <li>\u7528\u6536\u5230\u7684<code>data</code>\u3001<code>ts</code>\u3001\u672c\u5730\u7684<code>device_secret</code>\u91cd\u65b0\u7b97\u4e00\u6b21<code>sign</code>\uff0c\u4e0e\u8bbe\u5907\u4e0a\u4f20\u7684<code>sign</code>\u6bd4\u5bf9</li> <li>\u5982\u679c\u4e00\u81f4\u3001\u4e14<code>ts</code>\u5728\u5141\u8bb8\u7684\u65f6\u95f4\u8303\u56f4\u5185\uff08\u9632\u91cd\u653e\uff09\uff0c\u5219\u901a\u8fc7</li> </ul>"},{"location":"ai/2.Gemini%20%E4%B8%AD%E8%BD%AC%E6%9C%8D%E5%8A%A1%E5%99%A8%E4%BC%98%E5%8C%96%E6%80%9D%E8%B7%AF/#_5","title":"\u4f18\u52bf\uff1a","text":"<ul> <li>\u5373\u4f7f\u522b\u4eba\u77e5\u9053\u4e86\u8bbe\u5907\u53f7\uff0c\u6ca1\u6709\u5bc6\u94a5\u65e0\u6cd5\u751f\u6210\u6b63\u786e\u7b7e\u540d\uff0c\u4f2a\u9020\u8bf7\u6c42\u5c31\u4f1a\u5931\u8d25</li> <li><code>ts</code>\uff08\u65f6\u95f4\u6233\uff09\u9632\u6b62\u540c\u4e00\u4e2a\u5305\u88ab\u591a\u6b21\u5229\u7528\uff08\u91cd\u653e\u653b\u51fb\uff09</li> </ul>"},{"location":"ai/2.Gemini%20%E4%B8%AD%E8%BD%AC%E6%9C%8D%E5%8A%A1%E5%99%A8%E4%BC%98%E5%8C%96%E6%80%9D%E8%B7%AF/#_6","title":"\u4e09\u3001\u6d41\u7a0b\u56fe","text":"<pre><code>      \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510             \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n      \u2502   \u8bbe\u5907\u7aef     \u2502             \u2502    \u670d\u52a1\u5668    \u2502\n      \u2514\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518             \u2514\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n            \u2502                              \u2502\n   1. \u7528 secret \u7b97 sign                   \u2502\n            \u2502                              \u2502\n   2. POST {device_id, data, ts, sign}     \u2502\n            \u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500HTTP\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500&gt;\u2502\n            \u2502                              \u2502\n                                 3. \u67e5device_id, \u62ffsecret\n                                 4. \u6821\u9a8c sign \u662f\u5426\u6b63\u786e\n                                 5. \u68c0\u67e5ts\uff0c\u662f\u5426\u8fc7\u671f/\u91cd\u653e\n                                 6. \u8ba4\u8bc1\u901a\u8fc7\u624d\u5904\u7406\u8bf7\u6c42\n</code></pre>"},{"location":"ai/2.Gemini%20%E4%B8%AD%E8%BD%AC%E6%9C%8D%E5%8A%A1%E5%99%A8%E4%BC%98%E5%8C%96%E6%80%9D%E8%B7%AF/#_7","title":"\u56db\u3001\u9632\u66b4\u529b\u731c\u6d4b","text":"<ul> <li>\u8bbe\u5907\u53f7\u3001\u5bc6\u94a5\u8db3\u591f\u957f\u4e14\u4e0d\u53ef\u9884\u6d4b\uff08\u5982UUID\u3001128\u4f4d\u968f\u673a\u6570\uff09</li> <li>\u5982\u679c\u77ed\u65f6\u95f4\u540c\u4e00IP/\u540c\u4e00\u8bbe\u5907\u53f7\u8fde\u7eed\u591a\u6b21\u8ba4\u8bc1\u5931\u8d25\uff0c\u76f4\u63a5\u5c01\u7981\u6216\u9650\u6d41</li> </ul>"},{"location":"ai/2.Gemini%20%E4%B8%AD%E8%BD%AC%E6%9C%8D%E5%8A%A1%E5%99%A8%E4%BC%98%E5%8C%96%E6%80%9D%E8%B7%AF/#_8","title":"\u4e94\u3001\u73b0\u5b9e\u4e2d\u5e38\u7528\u7684\u505a\u6cd5","text":"<ul> <li>\u5f88\u591a\u7269\u8054\u7f51\u4e91\u5e73\u53f0\u3001\u667a\u80fd\u5bb6\u5c45\u4e91\u3001\u4e91\u6253\u5370\u670d\u52a1\u90fd\u91c7\u7528\u8fd9\u79cd\u673a\u5236</li> <li>\u5fae\u4fe1\u5c0f\u7a0b\u5e8f\u3001\u667a\u80fd\u95e8\u9501\u3001\u626b\u7801\u70b9\u9910\u786c\u4ef6\u7b49\u4e5f\u4f1a\u7528</li> <li>\u4e91\u670d\u52a1\u6bd4\u5982\u817e\u8baf\u4e91IoT Hub\u3001\u963f\u91cc\u4e91\u7269\u8054\u7f51\u5e73\u53f0\u90fd\u7528\u8bbe\u5907\u5bc6\u94a5+\u7b7e\u540d\u8ba4\u8bc1</li> </ul>"},{"location":"ai/2.Gemini%20%E4%B8%AD%E8%BD%AC%E6%9C%8D%E5%8A%A1%E5%99%A8%E4%BC%98%E5%8C%96%E6%80%9D%E8%B7%AF/#_9","title":"\u516d\u3001\u603b\u7ed3","text":"<ul> <li>\u8bbe\u5907\u53f7\u8d1f\u8d23\u8eab\u4efd\u8bc6\u522b\uff08\u8c01\u5728\u8bf7\u6c42\uff09</li> <li>\u8bbe\u5907\u5bc6\u94a5/\u7b7e\u540d\u4fdd\u8bc1\u8eab\u4efd\u771f\u5b9e\u6027\uff08\u4f60\u771f\u7684\u662f\u8fd9\u4e2a\u8bbe\u5907\uff01\uff09</li> <li>\u65f6\u95f4\u6233/Nonce\u9632\u6b62\u8001\u5305\u88ab\u91cd\u653e</li> <li>\u4e0d\u7528\u660e\u6587API Key\u3001\u4e0d\u9700\u8981\u6bcf\u53f0\u8bbe\u5907\u4eba\u5de5\u914d\u7f6e\uff0c\u53ea\u9700\u8981\u5b89\u5168\u5199\u5165\u5bc6\u94a5</li> </ul>"},{"location":"ai/2.Gemini%20%E4%B8%AD%E8%BD%AC%E6%9C%8D%E5%8A%A1%E5%99%A8%E4%BC%98%E5%8C%96%E6%80%9D%E8%B7%AF/#demo","title":"\u4e03\u3001\u4e3e\u4e2a\u6700\u5c0fDemo\uff08\u4f2a\u4ee3\u7801\uff09","text":"<p>\u8bbe\u5907\u7aef\uff1a</p> <pre><code>import hmac, hashlib, time\ndevice_id = \"ABC123456\"\ndevice_secret = \"MY_SECRET_KEY\"\ndata = '{\"prompt\":\"hello\"}'\nts = int(time.time())\nmsg = data + str(ts)\nsign = hmac.new(device_secret.encode(), msg.encode(), hashlib.sha256).hexdigest()\n\npost_body = {\n    \"device_id\": device_id,\n    \"data\": data,\n    \"ts\": ts,\n    \"sign\": sign\n}\n</code></pre> <p>\u670d\u52a1\u5668\u7aef\uff1a</p> <pre><code># 1. \u67e5device_id\u62ff\u5230device_secret\n# 2. \u7528\u6536\u5230\u7684data+ts+secret \u7b97\u4e00\u6b21sign\n# 3. \u6bd4\u5bf9\n# 4. \u68c0\u67e5ts\u5728\u00b1300\u79d2\u5185\n# 5. \u8ba4\u8bc1\u901a\u8fc7\u624d\u7ee7\u7eed\n</code></pre>"},{"location":"ai/2.Gemini%20%E4%B8%AD%E8%BD%AC%E6%9C%8D%E5%8A%A1%E5%99%A8%E4%BC%98%E5%8C%96%E6%80%9D%E8%B7%AF/#_10","title":"\u516b\u3001\u5982\u679c\u53ea\u7528\u8bbe\u5907\u53f7\uff0c\u6ca1\u5bc6\u94a5\u4f1a\u6709\u5565\u95ee\u9898\uff1f","text":"<ul> <li>\u968f\u4fbf\u8c01\u90fd\u80fd\u5192\u5145\u4f60\u7684\u8bbe\u5907\u53f7\uff08\u6293\u5305\u6216\u8005\u679a\u4e3e\uff09</li> <li>\u8bbe\u5907\u53f7\u7684\u4fdd\u62a4\u5b8c\u5168\u9760\u7269\u7406\u9694\u79bb\uff0c\u51e0\u4e4e\u4e0d\u5b89\u5168</li> </ul>"},{"location":"ai/2.Gemini%20%E4%B8%AD%E8%BD%AC%E6%9C%8D%E5%8A%A1%E5%99%A8%E4%BC%98%E5%8C%96%E6%80%9D%E8%B7%AF/#_11","title":"\u662f\u4e0d\u662f\u670d\u52a1\u5668\u7aef\u77e5\u9053\u6240\u6709\u7684\u79d8\u94a5\uff0c\u8bbe\u5907\u8ba4\u8bc1\u65f6\u904d\u5386\u6570\u636e\u5e93\u67e5\u8be2\u662f\u5426\u653e\u884c\uff1f","text":"<p>\u7406\u89e3\u57fa\u672c\u6b63\u786e\uff0c\u4f46\u5b9e\u9645\u5b9e\u73b0\u4e0a\u4f1a\u66f4\u9ad8\u6548\uff0c\u4e0d\u9700\u8981\u201c\u5168\u8868\u904d\u5386\u201d\u2014\u2014\u670d\u52a1\u5668\u7aef\u4f1a\u901a\u8fc7\u8bbe\u5907\u53f7\uff08device_id\uff09\u5feb\u901f\u67e5\u627e\u5bc6\u94a5\u3002</p>"},{"location":"ai/2.Gemini%20%E4%B8%AD%E8%BD%AC%E6%9C%8D%E5%8A%A1%E5%99%A8%E4%BC%98%E5%8C%96%E6%80%9D%E8%B7%AF/#_12","title":"\u8be6\u7ec6\u89e3\u91ca","text":""},{"location":"ai/2.Gemini%20%E4%B8%AD%E8%BD%AC%E6%9C%8D%E5%8A%A1%E5%99%A8%E4%BC%98%E5%8C%96%E6%80%9D%E8%B7%AF/#1_1","title":"1. \u670d\u52a1\u5668\u7aef\u600e\u4e48\u5b58\u5bc6\u94a5\uff1f","text":"<ul> <li>\u6570\u636e\u5e93\uff08\u6bd4\u5982MySQL\u3001Redis\u3001MongoDB\u7b49\uff09\u91cc\u6709\u4e00\u5f20\u201c\u8bbe\u5907\u8868\u201d\uff1a</li> </ul> device_id device_secret \u7528\u6237\u4fe1\u606f/\u6743\u9650\u7b49 123456ABC s0m3r4nd0mk3yabcdef... ... DEF789XYZ 9kdl3jf894dlsf... ... <ul> <li> <p>\u6bcf\u4e2a\u8bbe\u5907\u4e00\u6761\u8bb0\u5f55\u3002</p> </li> <li> <p>\u670d\u52a1\u5668\u6536\u5230<code>device_id</code>\u540e\uff0c\u76f4\u63a5\u7528\u7d22\u5f15\u67e5\u627e\u5bf9\u5e94\u7684\u5bc6\u94a5\uff08\u4e0d\u662f\u5168\u8868\u904d\u5386\uff0c\u6570\u636e\u5e93\u67e5\u7d22\u5f15\u5f88\u5feb\uff09\u3002</p> </li> </ul>"},{"location":"ai/2.Gemini%20%E4%B8%AD%E8%BD%AC%E6%9C%8D%E5%8A%A1%E5%99%A8%E4%BC%98%E5%8C%96%E6%80%9D%E8%B7%AF/#2_1","title":"2. \u8ba4\u8bc1\u6d41\u7a0b","text":"<ol> <li>\u8bbe\u5907POST\u8fc7\u6765\uff1a<code>device_id</code>, <code>ts</code>, <code>sign</code>, <code>data</code></li> <li>\u670d\u52a1\u5668<code>SELECT * FROM devices WHERE device_id='xxx'</code></li> <li>\u8bfb\u5230<code>device_secret</code>\uff0c\u7528\u540c\u6837\u7b97\u6cd5\u9a8c\u7b7e\u540d</li> <li>\u7b7e\u540d\u3001\u65f6\u95f4\u6233\u6821\u9a8c\u901a\u8fc7\u5c31\u653e\u884c\uff0c\u5426\u5219\u62d2\u7edd</li> </ol>"},{"location":"ai/2.Gemini%20%E4%B8%AD%E8%BD%AC%E6%9C%8D%E5%8A%A1%E5%99%A8%E4%BC%98%E5%8C%96%E6%80%9D%E8%B7%AF/#3","title":"3. \u4e3a\u4ec0\u4e48\u4e0d\u7528\u5168\u8868\u904d\u5386\uff1f","text":"<ul> <li>\u6570\u636e\u5e93\u901a\u8fc7\u4e3b\u952e\uff08device_id\uff09\u7d22\u5f15\uff0c\u67e5\u627e\u662fO(1) \u6216O(logN) \u7684\uff0c\u4e0d\u7ba1\u4f60\u6709\u4e00\u5343\u53f0\u8fd8\u662f\u4e00\u767e\u4e07\u53f0\u8bbe\u5907\u90fd\u5f88\u5feb\u3002</li> </ul>"},{"location":"ai/2.Gemini%20%E4%B8%AD%E8%BD%AC%E6%9C%8D%E5%8A%A1%E5%99%A8%E4%BC%98%E5%8C%96%E6%80%9D%E8%B7%AF/#4","title":"4. \u5176\u4ed6\u7ec6\u8282","text":"<ul> <li>\u5bc6\u94a5\u4e00\u5b9a\u4e0d\u8981\u4e0b\u53d1\u5230\u5ba2\u6237\u7aef\uff08\u53ea\u5728\u8bbe\u5907\u5de5\u5382/\u751f\u4ea7\u65f6\u4e00\u6b21\u6027\u70e7\u5f55\u597d\uff0c\u670d\u52a1\u5668\u5b58\u4e00\u4efd\uff09\u3002</li> <li>\u5982\u679c\u4f60\u6709\u591a\u5c42\u670d\u52a1\uff0c\u4e5f\u53ef\u4ee5\u901a\u8fc7\u5206\u5e03\u5f0f\u7f13\u5b58\uff08\u6bd4\u5982Redis\uff09\u505a\u66f4\u5feb\u7684\u67e5\u8be2\u3002</li> </ul>"},{"location":"ai/2.Gemini%20%E4%B8%AD%E8%BD%AC%E6%9C%8D%E5%8A%A1%E5%99%A8%E4%BC%98%E5%8C%96%E6%80%9D%E8%B7%AF/#_13","title":"\u603b\u7ed3","text":"<ul> <li>\u670d\u52a1\u5668\u4e00\u5b9a\u77e5\u9053\u6240\u6709\u8bbe\u5907\u7684\u5bc6\u94a5\u3002</li> <li>\u8ba4\u8bc1\u65f6\u662f\u901a\u8fc7\u8bbe\u5907\u53f7\u76f4\u63a5\u67e5\u627e\u5bc6\u94a5\uff0c\u4e0d\u4f1a\u201c\u904d\u5386\u201d\u5168\u90e8\u8bbe\u5907\u3002</li> <li>\u53ea\u8981\u7528\u552f\u4e00device_id\u505a\u6570\u636e\u5e93\u7d22\u5f15\uff0c\u67e5\u627e\u5bc6\u94a5\u7684\u901f\u5ea6\u53ef\u4ee5\u505a\u5230\u6781\u5feb\u3002</li> </ul>"},{"location":"ai/2.Gemini%20%E4%B8%AD%E8%BD%AC%E6%9C%8D%E5%8A%A1%E5%99%A8%E4%BC%98%E5%8C%96%E6%80%9D%E8%B7%AF/#_14","title":"\u4e00\u822c\u8bbe\u5907\u5e16\u7684\u4e8c\u7ef4\u7801\u5b9e\u9645\u4e0a\u662f\u4e0e\u786c\u4ef6\u7ed1\u5b9a\u7684\uff0c\u4e5f\u662f\u4e3a\u4e86\u5f55\u5165\u5230\u6570\u636e\u5e93\uff1f","text":"<p>\u8bbe\u5907\u4e0a\u7684\u4e8c\u7ef4\u7801\u51e0\u4e4e\u90fd\u662f\u548c\u786c\u4ef6\u552f\u4e00\u4fe1\u606f\uff08\u6bd4\u5982\u8bbe\u5907\u53f7\u3001MAC\u3001SN\u3001\u751f\u4ea7\u6279\u6b21\u7b49\uff09\u7ed1\u5b9a\u7684\uff0c\u6838\u5fc3\u76ee\u7684\u662f\u8ba9\u8bbe\u5907\u4fe1\u606f\u9ad8\u6548\u5f55\u5165\u6570\u636e\u5e93\u3001\u5b9e\u73b0\u552f\u4e00\u6807\u8bc6\u548c\u6eaf\u6e90\u3002</p>"},{"location":"ai/2.Gemini%20%E4%B8%AD%E8%BD%AC%E6%9C%8D%E5%8A%A1%E5%99%A8%E4%BC%98%E5%8C%96%E6%80%9D%E8%B7%AF/#_15","title":"\u8bbe\u5907\u4e8c\u7ef4\u7801\u7684\u672c\u8d28\u4f5c\u7528\u662f\u4ec0\u4e48\uff1f","text":"<ol> <li>\u552f\u4e00\u8eab\u4efd\u6807\u8bc6</li> <li>\u901a\u5e38\u4e8c\u7ef4\u7801\u5185\u5bb9\u662f<code>SN/DeviceID</code>\u6216URL\u643a\u5e26\u552f\u4e00ID\u3002</li> <li>\u7528\u6237/\u5de5\u7a0b\u5e08/\u5de5\u5382\u626b\u7801\uff0c\u5c31\u80fd\u552f\u4e00\u5b9a\u4f4d\u4e00\u53f0\u8bbe\u5907\u3002</li> <li>\u5165\u5e93/\u51fa\u5e93/\u6fc0\u6d3b\u767b\u8bb0</li> <li>\u5de5\u5382\u4ea7\u7ebf\u626b\u4e8c\u7ef4\u7801\u767b\u8bb0\u751f\u4ea7/\u6d4b\u8bd5\u3002</li> <li>\u7ecf\u9500\u5546\u626b\u7801\u5165\u5e93\u3001\u51fa\u5e93\u3002</li> <li>\u7528\u6237\u9996\u6b21\u4f7f\u7528/APP\u626b\u7801\u6fc0\u6d3b\u7ed1\u5b9a\u8bbe\u5907\u8d26\u53f7\uff0c\u540e\u53f0\u5efa\u7acb\u5173\u8054\u3002</li> <li>\u540e\u7eed\u8ffd\u6eaf\u4e0e\u552e\u540e</li> <li>\u6709\u95ee\u9898\u65f6\u626b\u7801\u5373\u53ef\u67e5\u5230\u8bbe\u5907\u6279\u6b21\u3001\u4fdd\u4fee\u72b6\u6001\u3001\u5386\u53f2\u7ef4\u4fee\u3002</li> <li>\u6eaf\u6e90\u4ea7\u54c1\u5168\u751f\u547d\u5468\u671f\u3002</li> <li>\u8f85\u52a9\u5b89\u5168\u8ba4\u8bc1</li> <li>\u6709\u7684\u8bbe\u5907\u8fd8\u4f1a\u628a\u4e8c\u7ef4\u7801\u52a0\u5bc6/\u5e26\u7b7e\u540d\uff0c\u9632\u6b62\u4f2a\u9020\u3002</li> <li>\u53ea\u6709\u5b98\u65b9App\u6216\u540e\u53f0\u80fd\u6b63\u786e\u89e3\u6790\uff0c\u786e\u4fdd\u771f\u54c1\u3002</li> </ol>"},{"location":"ai/2.Gemini%20%E4%B8%AD%E8%BD%AC%E6%9C%8D%E5%8A%A1%E5%99%A8%E4%BC%98%E5%8C%96%E6%80%9D%E8%B7%AF/#_16","title":"\u5e38\u89c1\u4e8c\u7ef4\u7801\u5185\u5bb9","text":"<ul> <li>\u7b80\u5355\uff1a<code>device_id</code>\u3001<code>SN</code></li> <li>\u590d\u6742\uff1a<code>https://myserver.com/bind?sn=xxxxxx</code></li> <li>\u5b89\u5168\uff1a<code>sn+\u7b7e\u540d</code>\uff08\u5982<code>sn=xxx&amp;sign=abcdef1234</code>\uff09</li> </ul>"},{"location":"ai/2.Gemini%20%E4%B8%AD%E8%BD%AC%E6%9C%8D%E5%8A%A1%E5%99%A8%E4%BC%98%E5%8C%96%E6%80%9D%E8%B7%AF/#_17","title":"\u4e3e\u4f8b","text":"<ul> <li>\u5c0f\u7c73/\u534e\u4e3a\u8def\u7531\u5668\u3001IoT\u8bbe\u5907\u51fa\u5382\u4e8c\u7ef4\u7801\uff0c\u662f\u552f\u4e00SN\u7f16\u7801\u3002</li> <li>\u4f60\u626b\u7801\u6ce8\u518c\uff0cApp\u4e0a\u4f20\u4e8c\u7ef4\u7801\u5185\u5bb9\u5230\u670d\u52a1\u5668\uff0c\u540e\u53f0\u5c31\u80fd\u67e5\u6570\u636e\u5e93\u5173\u8054\u8bbe\u5907\u8eab\u4efd\u3001\u6743\u9650\u548c\u7528\u6237\u3002</li> </ul>"},{"location":"ai/edg-tts%E6%B5%8B%E8%AF%95/","title":"Edg tts\u6d4b\u8bd5","text":""},{"location":"ai/edg-tts%E6%B5%8B%E8%AF%95/#edge_tts","title":"edge_tts\u6d4b\u8bd5","text":"<p>\u5b98\u65b9\u6587\u6863\uff1ahttps://github.com/rany2/edge-tts</p> <p>\u4f9d\u8d56\u5e93</p> <pre><code>pip install edge-tts sounddevice soundfile numpy\n</code></pre> <p>\u5feb\u901f\u6d4b\u8bd5</p> <pre><code>edge-playback --text \"Hello, world!\"\n</code></pre> <p>\u67e5\u627e\u4e2d\u6587\u97f3\u8272\uff0c\u5e76\u8bfb\u53d6\u6587\u5b57\u81ea\u52a8\u64ad\u653e</p> <pre><code>import edge_tts\nimport asyncio\nimport time\nimport io\nimport sys\nimport numpy as np\nimport sounddevice as sd\nimport soundfile as sf\n\nTEXT = \"\u4f60\u597d\uff0c\u8fd9\u662f\u4e00\u6bb5\u97f3\u8272\u8bd5\u542c\u793a\u4f8b\u3002\u652f\u6301\u591a\u79cd\u58f0\u97f3\u98ce\u683c\uff0c\u4f60\u53ef\u4ee5\u9009\u62e9\u559c\u6b22\u7684\u58f0\u97f3\u3002\"\n\nasync def list_zh_voices():\n    voices = await edge_tts.list_voices()\n    zh_voices = [v for v in voices if v[\"Locale\"].startswith(\"zh-\")]\n    return zh_voices\n\nasync def main():\n    voices = await list_zh_voices()\n    print(f\"\u5171\u627e\u5230 {len(voices)} \u4e2a\u4e2d\u6587\u97f3\u8272\\n\")\n    for idx, v in enumerate(voices):\n        name = v.get(\"ShortName\")\n        gender = v.get(\"Gender\", \"?\")\n        display_name = v.get(\"DisplayName\") or v.get(\"FriendlyName\") or v.get(\"ShortName\")\n        voice_type = v.get(\"VoiceType\", \"?\")\n        style_list = v.get(\"StyleList\", [])\n        locale = v.get(\"Locale\", \"?\")\n        # \u6253\u5370\u8be6\u7ec6\u97f3\u8272\u4fe1\u606f\n        print(f\"\\n[{idx+1}/{len(voices)}] \u8bd5\u542c\u4eba\u7269: {display_name}\")\n        print(f\"  - \u6280\u672f\u540d: {name}\")\n        print(f\"  - \u6027\u522b: {gender}\")\n        print(f\"  - \u7c7b\u578b: {voice_type}\")\n        print(f\"  - \u8bed\u8a00: {locale}\")\n        print(f\"  - \u98ce\u683c: {', '.join(style_list) if style_list else '\u65e0'}\")\n\n        try:\n            communicate = edge_tts.Communicate(TEXT, voice=name)\n            # \u83b7\u53d6\u751f\u6210\u7684\u97f3\u9891\u6d41\n            audio_bytes = b''\n            async for chunk in communicate.stream():\n                if chunk[\"type\"] == \"audio\":\n                    audio_bytes += chunk[\"data\"]\n\n            # \u4f7f\u7528 soundfile \u548c sounddevice \u64ad\u653e\u5185\u5b58\u4e2d\u7684 wav\n            audio_buffer = io.BytesIO(audio_bytes)\n            data, samplerate = sf.read(audio_buffer, dtype='float32')\n            print(\"\u5408\u6210\u5b8c\u6bd5\uff0c\u51c6\u5907\u64ad\u653e...\")\n            sd.play(data, samplerate)\n            sd.wait()\n            print(\"\u64ad\u653e\u5b8c\u6210\u3002\")\n        except Exception as e:\n            print(f\"\u97f3\u8272 {name} \u5408\u6210\u6216\u64ad\u653e\u5931\u8d25: {e}\")\n        time.sleep(1)  # \u6bcf\u6bb5\u4e4b\u95f4\u505c1\u79d2\n\nasyncio.run(main())\n</code></pre> <p></p>"},{"location":"arm%E6%9E%B6%E6%9E%84/1.%E4%BB%A5stm32f103c8t6%E4%B8%BA%E4%BE%8B%EF%BC%8C%E4%BA%86%E8%A7%A3%E4%BB%A3%E7%A0%81%E6%98%AF%E5%A6%82%E4%BD%95%E8%A2%AB%E7%BC%96%E8%AF%91%E5%87%BA%E6%9D%A5%E7%9A%84/","title":"1.\u4ee5stm32f103c8t6\u4e3a\u4f8b\uff0c\u4e86\u89e3\u4ee3\u7801\u662f\u5982\u4f55\u88ab\u7f16\u8bd1\u51fa\u6765\u7684","text":""},{"location":"arm%E6%9E%B6%E6%9E%84/1.%E4%BB%A5stm32f103c8t6%E4%B8%BA%E4%BE%8B%EF%BC%8C%E4%BA%86%E8%A7%A3%E4%BB%A3%E7%A0%81%E6%98%AF%E5%A6%82%E4%BD%95%E8%A2%AB%E7%BC%96%E8%AF%91%E5%87%BA%E6%9D%A5%E7%9A%84/#stm32f103c8t6","title":"\u4ee5stm32f103c8t6\u4e3a\u4f8b\uff0c\u4e86\u89e3\u4ee3\u7801\u662f\u5982\u4f55\u88ab\u7f16\u8bd1\u51fa\u6765\u7684","text":"<p>project download https://github.com/newbie-jiang/stm32c8t6-mini-start</p> <p></p>"},{"location":"arm%E6%9E%B6%E6%9E%84/1.%E4%BB%A5stm32f103c8t6%E4%B8%BA%E4%BE%8B%EF%BC%8C%E4%BA%86%E8%A7%A3%E4%BB%A3%E7%A0%81%E6%98%AF%E5%A6%82%E4%BD%95%E8%A2%AB%E7%BC%96%E8%AF%91%E5%87%BA%E6%9D%A5%E7%9A%84/#starts","title":"\u5176\u4e2d start.s\uff08\u6c47\u7f16\u6587\u4ef6\uff09\u7684\u9884\u5904\u7406\u4ea7\u7269","text":"<p>\u6709\u4e24\u79cd\u60c5\u51b5\u8981\u533a\u5206\uff1a</p> <p>\uff08A\uff09GNU \u98ce\u683c .S \u6587\u4ef6\uff08\u6ce8\u610f\u540e\u7f00\u5927\u5199\uff09</p> <ul> <li><code>.S</code>\uff08\u5927\u5199 S\uff09\uff1a\u662f\u9700\u8981\u9884\u5904\u7406\u7684\u6c47\u7f16\u6587\u4ef6</li> <li>\u53ef\u4ee5\u7528 C \u8bed\u8a00\u7684\u9884\u5904\u7406\u529f\u80fd\uff0c\u6bd4\u5982 <code>#define</code>\u3001<code>#include</code>\uff0c\u8fd9\u6837\u7f16\u8bd1\u5668\u4f1a\u5148\u8fdb\u884c\u9884\u5904\u7406\uff08\u6bd4\u5982\u5934\u6587\u4ef6\u5c55\u5f00\u3001\u5b8f\u66ff\u6362\uff09\uff0c\u8f93\u51fa\u4e3a\u7eaf\u6c47\u7f16\u4ee3\u7801\u6587\u4ef6\uff08\u4f8b\u5982 <code>start.s</code> \u7ecf\u8fc7\u9884\u5904\u7406\u540e\u751f\u6210 <code>start.s</code>/<code>start.i</code>/<code>start.spp</code> \u89c6\u5177\u4f53\u547d\u4ee4\u800c\u5b9a\uff09</li> </ul> <p>\uff08B\uff09.s\uff08\u5c0f\u5199 s\uff09\u6587\u4ef6</p> <ul> <li>\u7eaf\u6c47\u7f16\uff0c\u4e0d\u505a\u9884\u5904\u7406\uff0c\u76f4\u63a5\u4ea4\u7ed9\u6c47\u7f16\u5668</li> </ul> <p>\u8fd9\u91cc\u4ee5\u70b9\u706f\u4e3a\u4f8b,\u4f7f\u7528cubemx\u751f\u6210\u4e00\u4e2ahal\u5e93\u6700\u5c0f\u70b9\u706f keil\u5de5\u7a0b\uff0c\u518d\u5c06\u5de5\u7a0b\u88c1\u526a\uff0c\u4f7f\u5176\u4e0d\u4f9d\u8d56hal\u5e93\uff0c\u5f97\u5230\u6700\u7cbe\u7b80\u7684\u4ee3\u7801\uff0c\u8ba9led\u95ea\u70c1</p> <ul> <li>cubemx\u914d\u7f6eHSE\u5916\u90e8\u65f6\u949f\uff0c\u4f7f\u80fdLED\u65f6\u949f\u53ca\u5176\u914d\u7f6e</li> <li>\u9a8c\u8bc1led\u662f\u5426\u6b63\u5e38\u95ea\u70c1</li> <li>\u7cbe\u7b80\u4ee3\u7801\u4e0d\u4f9d\u8d56hal\u5e93,\u5168\u90e8\u4f7f\u7528\u5bc4\u5b58\u5668\u914d\u7f6e\u5e76\u9a8c\u8bc1</li> </ul>"},{"location":"arm%E6%9E%B6%E6%9E%84/1.%E4%BB%A5stm32f103c8t6%E4%B8%BA%E4%BE%8B%EF%BC%8C%E4%BA%86%E8%A7%A3%E4%BB%A3%E7%A0%81%E6%98%AF%E5%A6%82%E4%BD%95%E8%A2%AB%E7%BC%96%E8%AF%91%E5%87%BA%E6%9D%A5%E7%9A%84/#keil","title":"keil\u5de5\u7a0b","text":"<p>\u7cbe\u7b80\u540e\u6700\u7ec8\u5f97\u5230\u5982\u4e0b\u6587\u4ef6   \u89c1project:   2.minimum_program\\mini-stm32-f103c8t6</p> <pre><code>|-- core_cm3.h\n|-- main.c\n|-- startup_stm32f103xb.s\n|-- stm32f103xb.h\n</code></pre> <ul> <li>\u5176\u4e2dcore_cm3.h  \u4e0e stm32f103xb.h \u5b9a\u4e49\u4e86\u5bc4\u5b58\u5668\u7684\u7ed3\u6784\u4f53\u4ee5\u53ca\u914d\u7f6e\u5b8f,  \u5168\u5199main.c\u91cc\u592a\u591a\u4e86\uff0c\u8fd9\u91cc\u5206\u5f00</li> <li>\u5b9e\u9645\u4e0a\u53ea\u9700\u8981\u4e00\u4e2a.s\u542f\u52a8\u6587\u4ef6\u4e0e mian\u51fd\u6570\u6240\u5728\u7684\u6587\u4ef6.c  \u6b64\u5916\u8fd8\u6709\u4e00\u4e2a\u9690\u85cf\u7684\u6587\u4ef6\uff0c\u94fe\u63a5\u811a\u672c\uff0c\u5c31\u53ef\u4ee5\u8ba9\u4ee3\u7801\u8dd1\u8d77\u6765\u4e86(.s .c link_file)</li> <li>\u94fe\u63a5\u811a\u672c\u67e5\u770b\u5982\u4e0b</li> <li>keil\u7684\u94fe\u63a5\u811a\u672c\u4e5f\u53eb\u505a\u5206\u6563\u52a0\u8f7d\u6587\u4ef6\uff0c\u662f\u4ee5sct\u7ed3\u5c3e\u7684\u6587\u4ef6\uff0c\u8bed\u6cd5\u53c2\u8003\u94fe\u63a5 https://developer.arm.com/documentation/dui0474/m/scatter-file-syntax/syntax-of-a-scatter-file?lang=en</li> </ul> <p></p> <p></p> <p></p>"},{"location":"arm%E6%9E%B6%E6%9E%84/1.%E4%BB%A5stm32f103c8t6%E4%B8%BA%E4%BE%8B%EF%BC%8C%E4%BA%86%E8%A7%A3%E4%BB%A3%E7%A0%81%E6%98%AF%E5%A6%82%E4%BD%95%E8%A2%AB%E7%BC%96%E8%AF%91%E5%87%BA%E6%9D%A5%E7%9A%84/#arm-none-eabi-gcc","title":"arm-none-eabi-gcc\u7f16\u8bd1\u5de5\u5177\u94fe\u624b\u5de5\u7f16\u8bd1","text":"<p>\u51c6\u5907\u6587\u4ef6</p> <pre><code>|-- core_cm3.h\n|-- main.c\n|-- startup_stm32f103xb.s\n|-- stm32f103xb.h\n|-- STM32F103XX_FLASH.ld\n</code></pre> <ul> <li>\u5bf9\u4e8earm-none-eabi-gcc \u7f16\u8bd1\u5de5\u5177\u94fe\uff0c\u542f\u52a8\u6587\u4ef6.s\u7684\u8bed\u6cd5\u4e0d\u4e00\u6837\uff0c\u4ee5\u53ca\u94fe\u63a5\u811a\u672c\u7684\u8bed\u6cd5\u4e5f\u4e0d\u4e00\u6837\u4e3a \u540e\u7f00\u4e3a ld \u4e00\u822c\u79f0\u4e3a\u94fe\u63a5\u811a\u672c</li> <li>\u76f4\u63a5\u4f7f\u7528cubemx\u751f\u6210\u7684cmake \u5de5\u7a0b   startup_stm32f103xb.s \u548c STM32F103XX_FLASH.ld \u62ff\u8fc7\u6765\u76f4\u63a5\u7528</li> </ul> <p>\u51c6\u5907\u597d\u4e0a\u8ff0\u4e00\u5171\u4e94\u4e2a\u6587\u4ef6\uff0c\u5b89\u88c5\u597darm-none-eabi-gcc\u7f16\u8bd1\u5de5\u5177\u94fe</p>"},{"location":"arm%E6%9E%B6%E6%9E%84/1.%E4%BB%A5stm32f103c8t6%E4%B8%BA%E4%BE%8B%EF%BC%8C%E4%BA%86%E8%A7%A3%E4%BB%A3%E7%A0%81%E6%98%AF%E5%A6%82%E4%BD%95%E8%A2%AB%E7%BC%96%E8%AF%91%E5%87%BA%E6%9D%A5%E7%9A%84/#1-c-o","title":"1. \u7f16\u8bd1 C \u6587\u4ef6\u4e3a\u76ee\u6807\u6587\u4ef6\uff08.o\uff09","text":"<p>\u6b64\u5904\u76f4\u63a5\u7f16\u8bd1\u6210\u76ee\u6807\u6587\u4ef6\uff0c\uff08\u5b9e\u9645\u4e0a\u53ef\u4ee5\u4f53\u9a8c \u9884\u5904\u7406\uff0c\u7f16\u8bd1\uff0c\u6c47\u7f16\u7684\u8fc7\u7a0b\uff09</p> <pre><code>arm-none-eabi-gcc -mcpu=cortex-m3 -fdata-sections -ffunction-sections -O0 -g3 -std=gnu11 -c main.c -o main.c.o\n</code></pre> <ul> <li>\u4f5c\u7528\uff1a\u628a <code>main.c</code> \u7f16\u8bd1\u6210\u76ee\u6807\u6587\u4ef6 <code>main.c.o</code>\uff0c\u7528\u4e8e\u540e\u7eed\u94fe\u63a5\u3002</li> <li>\u5e38\u7528\u53c2\u6570\uff1a</li> <li><code>-mcpu=cortex-m3</code>\uff1a\u6307\u5b9a\u76ee\u6807 CPU \u67b6\u6784\u4e3a Cortex-M3\u3002</li> <li><code>-fdata-sections -ffunction-sections</code>\uff1a\u8ba9\u6bcf\u4e2a\u6570\u636e/\u51fd\u6570\u5355\u72ec\u6210\u6bb5\uff0c\u4fbf\u4e8e\u540e\u7eed\u53bb\u9664\u672a\u7528\u90e8\u5206\u3002</li> <li><code>-O0</code>\uff1a\u5173\u95ed\u4f18\u5316\uff0c\u4fbf\u4e8e\u8c03\u8bd5\u3002</li> <li><code>-g3</code>\uff1a\u751f\u6210\u5b8c\u6574\u7684\u8c03\u8bd5\u4fe1\u606f\u3002</li> <li><code>-std=gnu11</code>\uff1aC \u6807\u51c6\u9009\u62e9 GNU C11\u3002</li> <li><code>-c</code>\uff1a\u53ea\u7f16\u8bd1\uff0c\u4e0d\u94fe\u63a5\u3002</li> <li><code>-o main.c.o</code>\uff1a\u6307\u5b9a\u8f93\u51fa\u76ee\u6807\u6587\u4ef6\u3002</li> </ul>"},{"location":"arm%E6%9E%B6%E6%9E%84/1.%E4%BB%A5stm32f103c8t6%E4%B8%BA%E4%BE%8B%EF%BC%8C%E4%BA%86%E8%A7%A3%E4%BB%A3%E7%A0%81%E6%98%AF%E5%A6%82%E4%BD%95%E8%A2%AB%E7%BC%96%E8%AF%91%E5%87%BA%E6%9D%A5%E7%9A%84/#2-o","title":"2. \u6c47\u7f16\u542f\u52a8\u6587\u4ef6\u4e3a\u76ee\u6807\u6587\u4ef6\uff08.o\uff09","text":"<pre><code>arm-none-eabi-gcc -mcpu=cortex-m3 -x assembler-with-cpp -MMD -MP -g -c startup_stm32f103xb.s -o startup_stm32f103xb.s.o\n</code></pre> <ul> <li>\u4f5c\u7528\uff1a\u628a\u542f\u52a8\u6587\u4ef6 <code>startup_stm32f103xb.s</code> \u6c47\u7f16\u6210\u76ee\u6807\u6587\u4ef6 <code>startup_stm32f103xb.s.o</code>\u3002</li> <li>\u5e38\u7528\u53c2\u6570\uff1a</li> <li><code>-x assembler-with-cpp</code>\uff1a\u542f\u7528\u6c47\u7f16\u6587\u4ef6\u7684 C \u9884\u5904\u7406\u80fd\u529b\u3002</li> <li><code>-MMD -MP</code>\uff1a\u751f\u6210\u4f9d\u8d56\u6587\u4ef6\uff0c\u65b9\u4fbf\u589e\u91cf\u7f16\u8bd1\uff08Makefile \u7528\uff09\u3002</li> <li>\u5176\u4f59\u53c2\u6570\u540c\u4e0a\u3002</li> </ul>"},{"location":"arm%E6%9E%B6%E6%9E%84/1.%E4%BB%A5stm32f103c8t6%E4%B8%BA%E4%BE%8B%EF%BC%8C%E4%BA%86%E8%A7%A3%E4%BB%A3%E7%A0%81%E6%98%AF%E5%A6%82%E4%BD%95%E8%A2%AB%E7%BC%96%E8%AF%91%E5%87%BA%E6%9D%A5%E7%9A%84/#3-elf","title":"3. \u94fe\u63a5\u6240\u6709\u76ee\u6807\u6587\u4ef6\u4e3a\u53ef\u6267\u884c\u6587\u4ef6\uff08.elf\uff09","text":"<pre><code>arm-none-eabi-gcc -mcpu=cortex-m3 \\\n  -T STM32F103XX_FLASH.ld --specs=nano.specs \\\n  -Wl,-Map=103c8-cmake.map -Wl,--gc-sections \\\n  -Wl,--start-group main.c.o startup_stm32f103xb.s.o -lc -lm -Wl,--end-group \\\n  -Wl,--print-memory-usage -o 103c8-cmake.elf\n</code></pre> <ul> <li>\u4f5c\u7528\uff1a\u628a\u6240\u6709 <code>.o</code> \u6587\u4ef6\u94fe\u63a5\u6210 <code>103c8-cmake.elf</code>\uff0c\u5e26\u8c03\u8bd5\u4fe1\u606f\u7684\u53ef\u6267\u884c\u6587\u4ef6\u3002</li> <li>\u5173\u952e\u53c2\u6570\uff1a</li> <li><code>-T STM32F103XX_FLASH.ld</code>\uff1a\u6307\u5b9a\u94fe\u63a5\u811a\u672c\uff0c\u51b3\u5b9a\u4ee3\u7801/\u6570\u636e\u6bb5\u7684\u5b9e\u9645\u5185\u5b58\u5206\u5e03\u3002</li> <li><code>--specs=nano.specs</code>\uff1a\u4f7f\u7528\u7cbe\u7b80\u7684 newlib-nano C \u5e93\u3002</li> <li><code>-Wl,xxx</code>\uff1a\u4f20\u9012\u53c2\u6570\u7ed9\u94fe\u63a5\u5668\uff08ld\uff09\u3002<ul> <li><code>-Map=103c8-cmake.map</code>\uff1a\u751f\u6210\u6620\u5c04\u6587\u4ef6\u3002</li> <li><code>--gc-sections</code>\uff1a\u81ea\u52a8\u53bb\u9664\u672a\u5f15\u7528\u7684\u6bb5\uff08\u914d\u5408 <code>-fdata-sections</code>\uff09\u3002</li> <li><code>--start-group ... --end-group</code>\uff1a\u89e3\u51b3\u591a\u5e93\u4f9d\u8d56\u95ee\u9898\u3002</li> <li><code>-lc -lm</code>\uff1a\u94fe\u63a5 C \u6807\u51c6\u5e93\u548c\u6570\u5b66\u5e93\u3002</li> <li><code>--print-memory-usage</code>\uff1a\u94fe\u63a5\u540e\u6253\u5370 RAM/FLASH \u4f7f\u7528\u60c5\u51b5\u3002</li> </ul> </li> <li><code>-o 103c8-cmake.elf</code>\uff1a\u6307\u5b9a\u8f93\u51fa\u7684 ELF \u6587\u4ef6\u3002</li> </ul>"},{"location":"arm%E6%9E%B6%E6%9E%84/1.%E4%BB%A5stm32f103c8t6%E4%B8%BA%E4%BE%8B%EF%BC%8C%E4%BA%86%E8%A7%A3%E4%BB%A3%E7%A0%81%E6%98%AF%E5%A6%82%E4%BD%95%E8%A2%AB%E7%BC%96%E8%AF%91%E5%87%BA%E6%9D%A5%E7%9A%84/#4-hexbin","title":"4. \u683c\u5f0f\u8f6c\u6362\u4e3a HEX/BIN\uff08\u70e7\u5f55\u6587\u4ef6\uff09","text":"<pre><code>arm-none-eabi-objcopy -O ihex 103c8-cmake.elf 103c8-cmake.hex\narm-none-eabi-objcopy -O binary 103c8-cmake.elf 103c8-cmake.bin\n</code></pre> <ul> <li>\u4f5c\u7528\uff1a\u628a ELF \u6587\u4ef6\u8f6c\u6362\u4e3a\u66f4\u9002\u5408\u70e7\u5f55/\u4f20\u8f93\u7684\u955c\u50cf\u683c\u5f0f\u3002</li> <li><code>-O ihex</code>\uff1a\u751f\u6210 Intel HEX \u6587\u4ef6\uff08\u6587\u672c\uff0c\u5e7f\u6cdb\u517c\u5bb9\u4e8e\u70e7\u5f55\u5de5\u5177\uff09\u3002</li> <li><code>-O binary</code>\uff1a\u751f\u6210\u88f8\u4e8c\u8fdb\u5236 BIN \u6587\u4ef6\uff08\u76f4\u63a5\u70e7\u5f55\u5230 Flash\uff09\u3002</li> <li>\u7528\u9014\uff1a</li> <li><code>.hex</code> \u548c <code>.bin</code> \u90fd\u662f\u5b9e\u9645\u70e7\u5f55 MCU \u5e38\u7528\u7684\u683c\u5f0f\uff0c\u4f9d\u636e\u70e7\u5f55\u5de5\u5177\u548c\u5382\u5546\u4e0d\u540c\u9009\u7528\u3002</li> </ul>"},{"location":"arm%E6%9E%B6%E6%9E%84/1.%E4%BB%A5stm32f103c8t6%E4%B8%BA%E4%BE%8B%EF%BC%8C%E4%BA%86%E8%A7%A3%E4%BB%A3%E7%A0%81%E6%98%AF%E5%A6%82%E4%BD%95%E8%A2%AB%E7%BC%96%E8%AF%91%E5%87%BA%E6%9D%A5%E7%9A%84/#_1","title":"\u603b\u7ed3/\u6d41\u7a0b\u4e00\u89c8","text":"<ol> <li>\u7f16\u8bd1\uff1a.c \u2192 .o</li> <li>\u6c47\u7f16\uff1a.s \u2192 .o</li> <li>\u94fe\u63a5\uff1a\u6240\u6709 .o \u2192 .elf\uff08\u5f00\u53d1/\u8c03\u8bd5\u7528\uff0c\u5e26\u7b26\u53f7\uff09</li> <li>\u683c\u5f0f\u8f6c\u6362\uff1a.elf \u2192 .hex/.bin\uff08\u70e7\u5f55/\u91cf\u4ea7\u7528\uff09</li> </ol>"},{"location":"arm%E6%9E%B6%E6%9E%84/1.%E4%BB%A5stm32f103c8t6%E4%B8%BA%E4%BE%8B%EF%BC%8C%E4%BA%86%E8%A7%A3%E4%BB%A3%E7%A0%81%E6%98%AF%E5%A6%82%E4%BD%95%E8%A2%AB%E7%BC%96%E8%AF%91%E5%87%BA%E6%9D%A5%E7%9A%84/#_2","title":"\u5f53\u7136\u4e5f\u53ef\u4ee5\u4e00\u6761\u547d\u4ee4\u76f4\u63a5\u5f97\u5230\u5168\u90e8","text":"<pre><code>arm-none-eabi-gcc -mcpu=cortex-m3 -fdata-sections -ffunction-sections -O0 -g3 -std=gnu11 \\\n  -T STM32F103XX_FLASH.ld --specs=nano.specs \\\n  -Wl,-Map=103c8-cmake.map -Wl,--gc-sections \\\n  -Wl,--start-group main.c startup_stm32f103xb.s -lc -lm -Wl,--end-group \\\n  -Wl,--print-memory-usage -o 103c8-cmake.elf \\\n  &amp;&amp; arm-none-eabi-objcopy -O ihex 103c8-cmake.elf 103c8-cmake.hex \\\n  &amp;&amp; arm-none-eabi-objcopy -O binary 103c8-cmake.elf 103c8-cmake.bin\n</code></pre>"},{"location":"arm%E6%9E%B6%E6%9E%84/1.%E4%BB%A5stm32f103c8t6%E4%B8%BA%E4%BE%8B%EF%BC%8C%E4%BA%86%E8%A7%A3%E4%BB%A3%E7%A0%81%E6%98%AF%E5%A6%82%E4%BD%95%E8%A2%AB%E7%BC%96%E8%AF%91%E5%87%BA%E6%9D%A5%E7%9A%84/#cmake","title":"\u6b64\u5916\u8fd8\u66f4\u6539\u4e86cmake\u5de5\u7a0b","text":"<ul> <li>\u5176\u4e2dmini-stm32-f103c8t6-cmake \u5c06\u94fe\u63a5\u811a\u672c\u653e\u5728src\u76ee\u5f55\uff0c\u53ef\u4f53\u9a8c\u624b\u5de5\u7f16\u8bd1</li> </ul> <pre><code>|-- 1.original_program         \n|   |-- stm32-f103c8t6          //cubemx\u751f\u6210\u539f\u59cbkeil\u5de5\u7a0b\n|   `-- stm32-f103c8t6-cmake    //cubemx\u751f\u6210\u539f\u59cbcmake\u5de5\u7a0b\n|-- 2.minimum_program\n|   |-- mini-stm32-f103c8t6       //\u7cbe\u7b80\u540e\u7684keil\u5de5\u7a0b\n|   `-- mini-stm32-f103c8t6-cmake //\u7cbe\u7b80\u540e\u7684cmake\u5de5\u7a0b\n</code></pre> <p>\u4e2a\u4eba\u611f\u60f3\uff1a</p> <p>\u5927\u5b66\u65f6\u76f4\u63a5\u5b66stm32,\u4e00\u4e0a\u6765\u5c31\u4e00\u5927\u5806\u6587\u4ef6\uff0c\u65e0\u4ece\u4e0b\u624b\uff0c\u5bf9\u8fd9\u4e00\u90e8\u5206\u4e00\u77e5\u534a\u89e3\uff0c\u73b0\u5728\u6709\u7a7a\u68b3\u7406\u4e0b\u8fd9\u90e8\u5206\u77e5\u8bc6</p> <ul> <li>\u8fd9\u79cd\u5f00\u53d1\u65b9\u5f0f\u5e94\u8be5\u662f\u5f88\u591a\u5e74\u524d\u7684\u5f00\u53d1\u65b9\u5f0f\u5427\uff0c\u76f4\u63a5\u914d\u7f6e\u5bc4\u5b58\u5668\uff0c\u73b0\u5728\u5404\u4e2a\u5382\u5546\u90fd\u5c01\u88c5\u597d\u4e86\u5e93\u76f4\u63a5\u7528\uff0c\u4e0d\u7528\u770b\u5e95\u5c42\u7684\u5bc4\u5b58\u5668\uff0c\u8bfb\u5e93\u7684\u8bf4\u660e\u4e5f\u53ef\u4ee5\u5f00\u53d1\u4e86\uff0c\u53ef\u79fb\u690d\u6027\u63d0\u9ad8\u4e86\uff0c\u95e8\u69db\u4e5f\u964d\u4f4e\u4e86\uff0c</li> <li>\u5f53\u7136\u4e00\u4e9b\u4f4e\u7aef\u5c0f\u5185\u5b58\u82af\u7247\u8fd8\u662f\u7528\u539f\u59cb\u7684\u5bc4\u5b58\u5668\u5f00\u53d1\uff0c\u89c1\u8fc7\u53f0\u6e7e\u4e5d\u9f50OTP\u82af\u7247,ram\u5c31\u51e0\u4e2a\u5b57\u8282\uff0c\u6ca1\u542c\u9519\uff0c\u51e0\u4e2a\u5b57\u8282</li> <li>\u624b\u5de5\u7f16\u8bd1\uff0cmakefile,  cmake\uff0c\u5de5\u7a0b\u7ba1\u7406\u4e5f\u5728\u53d8\u5f97\u66f4\u52a0\u81ea\u52a8\u5316</li> </ul>"},{"location":"arm%E6%9E%B6%E6%9E%84/2.at32f437-surf%20keil%E5%B7%A5%E7%A8%8B%E6%94%B9%E9%80%A0arm%20gcc%2Bcmake/","title":"2.at32f437 surf keil\u5de5\u7a0b\u6539\u9020arm gcc+cmake","text":""},{"location":"arm%E6%9E%B6%E6%9E%84/2.at32f437-surf%20keil%E5%B7%A5%E7%A8%8B%E6%94%B9%E9%80%A0arm%20gcc%2Bcmake/#at-surf-f437-arm-gcccmake","title":"AT-SURF-F437 \u6539\u9020arm gcc\u5de5\u7a0b+cmake","text":"<p>project download https://github.com/newbie-jiang/at32-cmake</p> <p></p> <p>\u5b98\u65b9\u6709\u4e00\u4e2a\u6587\u4ef6\u5305\u7ed9\u51fa\u7684\u662f\u4e00\u4e2amakefile\u7684demo \u89c1\u6b64\u5e16:\u96c5\u7279\u529bAT32 MCU\u5728 VSCode\u73af\u5883\u4e0a\u8fdb\u884c\u5f00\u53d1</p> <ul> <li>\u6bcf\u4e00\u4e2a\u7cfb\u5217\u6709\u4e00\u4e2a\u6a21\u677f</li> </ul> <p></p> <p>\u6211\u5728AT-SURF-F437 \u7684Firmware LIbary\u4e0a\u8fdb\u884c\u4e86\u6539\u9020</p> <p></p> <p>\u8fc7\u7a0b</p> <ul> <li>\u53c2\u8003\u4e00\u4e2ademo\u7684keil\u5305\u542b\u4e86\u54ea\u4e9b\u6587\u4ef6\uff0ccmake\u6587\u4ef6\u628ademo\u7684\u6587\u4ef6\u653e\u8fdb\u53bb\u5c31\u884c\uff0c</li> <li>toolchain.cmake \u5355\u72ec\u5199\u4e00\u4e2a\u7f16\u8bd1\u7684\u5de5\u5177\u4f9d\u8d56\uff0c</li> </ul> <p>\u7f16\u8bd1\u547d\u4ee4</p> <pre><code>\u4e3b\u76ee\u5f55\u4e0b\n\nsudo cmake -S . -B build -DCMAKE_TOOLCHAIN_FILE=toolchain.cmake\nsudo cmake --build build\n\nsudo rm -rf build\n</code></pre> <p>\u4e0b\u8f7d\u5de5\u5177</p> <p>https://www.arterytek.com/cn/product/AT32F437.jsp#Resource</p> <p></p> <p>\u9700\u8981\u5b89\u88c5at-link</p> <p></p>"},{"location":"arm%E6%9E%B6%E6%9E%84/3.KeilARM%20%E5%B7%A5%E7%A8%8B%EF%BC%88%E4%BB%A5%20ARMCCARMCLANG%20%E5%B7%A5%E5%85%B7%E9%93%BE%E4%B8%BA%E4%BE%8B%EF%BC%89%E4%B8%8B%20BSS%20%E6%AE%B5%E6%B8%85%E9%9B%B6%20%E7%9A%84%E7%9C%9F%E5%AE%9E%E6%B5%81%E7%A8%8B/","title":"KEIL ARMCC\u5de5\u5177\u94fe\u4e0b\uff0cbss\u6bb5\u6e05\u96f6\u7684\u771f\u5b9e\u6d41\u7a0b","text":""},{"location":"arm%E6%9E%B6%E6%9E%84/3.KeilARM%20%E5%B7%A5%E7%A8%8B%EF%BC%88%E4%BB%A5%20ARMCCARMCLANG%20%E5%B7%A5%E5%85%B7%E9%93%BE%E4%B8%BA%E4%BE%8B%EF%BC%89%E4%B8%8B%20BSS%20%E6%AE%B5%E6%B8%85%E9%9B%B6%20%E7%9A%84%E7%9C%9F%E5%AE%9E%E6%B5%81%E7%A8%8B/#keil-armccbss","title":"KEIL ARMCC\u5de5\u5177\u94fe\u4e0b\uff0cbss\u6bb5\u6e05\u96f6\u7684\u771f\u5b9e\u6d41\u7a0b","text":""},{"location":"arm%E6%9E%B6%E6%9E%84/3.KeilARM%20%E5%B7%A5%E7%A8%8B%EF%BC%88%E4%BB%A5%20ARMCCARMCLANG%20%E5%B7%A5%E5%85%B7%E9%93%BE%E4%B8%BA%E4%BE%8B%EF%BC%89%E4%B8%8B%20BSS%20%E6%AE%B5%E6%B8%85%E9%9B%B6%20%E7%9A%84%E7%9C%9F%E5%AE%9E%E6%B5%81%E7%A8%8B/#1","title":"1. \u542f\u52a8\u6d41\u7a0b\u5927\u81f4\u5982\u4e0b","text":"<ol> <li>\u542f\u52a8\u6587\u4ef6\uff08startup_xxx.s / startup_xxx.sct\uff09</li> <li>\u901a\u5e38\u53ea\u505a\u6700\u57fa\u7840\u7684\u5806\u6808\u521d\u59cb\u5316\u3001\u5411\u91cf\u8868\u8bbe\u7f6e\u548c\u5f02\u5e38\u9ed8\u8ba4\u5904\u7406\u3002</li> <li>\u7edd\u5927\u90e8\u5206 ARM \u5b98\u65b9\u6a21\u677f\u4e0d\u4f1a\u5728\u6c47\u7f16\u542f\u52a8\u6587\u4ef6\u91cc\u4e3b\u52a8\u5199 BSS \u6e05\u96f6\u7684\u4ee3\u7801\u3002</li> <li>\u5165\u53e3\u51fd\u6570\uff1aReset_Handler</li> <li>\u8c03\u7528 <code>SystemInit</code>\uff08\u7cfb\u7edf\u65f6\u949f\u3001\u5916\u8bbe\u7b49\u521d\u59cb\u5316\uff09</li> <li>\u4e4b\u540e\u901a\u5e38\u4f1a\u8df3\u8f6c\u5230 <code>__main</code></li> <li>__main \u7684\u4f5c\u7528</li> <li><code>__main</code> \u5e76\u4e0d\u662f\u7528\u6237\u5199\u7684 main\uff0c\u800c\u662f\u7531 ARM \u7684 C \u8fd0\u884c\u5e93\uff08RTL/newlib/ARM C Library\uff09\u5b9e\u73b0\u7684\u4e00\u4e2a\u9690\u85cf\u51fd\u6570\u3002</li> <li>\u5b83\u4e3b\u8981\u8d1f\u8d23 C \u8fd0\u884c\u73af\u5883\u7684\u521d\u59cb\u5316\uff1a<ul> <li>\u521d\u59cb\u5316\u5806\u6808</li> <li>\u590d\u5236\u6570\u636e\u6bb5\uff08data\uff09\u5230 RAM</li> <li>\u6e05\u96f6 BSS \u6bb5</li> <li>\u6784\u5efa C++ \u5168\u5c40\u5bf9\u8c61\uff08\u5982\u7528 C++ \u65f6\uff09</li> </ul> </li> <li>\u6700\u7ec8\u624d\u8df3\u8f6c\u5230\u4f60\u7684 main\u3002</li> </ol>"},{"location":"arm%E6%9E%B6%E6%9E%84/3.KeilARM%20%E5%B7%A5%E7%A8%8B%EF%BC%88%E4%BB%A5%20ARMCCARMCLANG%20%E5%B7%A5%E5%85%B7%E9%93%BE%E4%B8%BA%E4%BE%8B%EF%BC%89%E4%B8%8B%20BSS%20%E6%AE%B5%E6%B8%85%E9%9B%B6%20%E7%9A%84%E7%9C%9F%E5%AE%9E%E6%B5%81%E7%A8%8B/#2-bss","title":"2. BSS \u6bb5\u6e05\u96f6\u7684\u4f4d\u7f6e","text":"<ul> <li>\u4e0d\u662f\u5728 startup_xxx.s \u91cc\u76f4\u63a5\u505a\u7684\uff08\u5f53\u7136\u4f60\u53ef\u4ee5\u624b\u5199\uff0c\u4f46\u901a\u5e38\u6ca1\u5fc5\u8981\uff09</li> <li>\u662f\u5728 <code>__main</code>\uff08\u4e5f\u53eb runtime entry, C runtime initialization\uff09\u91cc\u81ea\u52a8\u5b8c\u6210\u7684</li> <li>\u4f9d\u8d56\u4e8e\u4f60\u7528\u7684 C \u8fd0\u884c\u5e93\u5b9e\u73b0</li> <li>ARMCC/ARMCLANG\uff1a\u7528\u7684\u901a\u5e38\u662f ARM \u63d0\u4f9b\u7684 run-time library\uff08\u4e0d\u662f newlib\uff0c\u662f ARM \u81ea\u5df1\u7684 libc\uff09</li> <li>GCC\uff1a\u7528\u7684\u662f newlib \u6216 newlib-nano\uff0cBSS \u6e05\u96f6\u4ee3\u7801\u5728 <code>_start</code> \u6216 <code>__libc_init_array</code> \u76f8\u5173\u6d41\u7a0b</li> </ul> <p>\u5728 ARMCC/ARMCLANG \u5de5\u5177\u94fe\u4e0b\uff0cKeil \u5de5\u7a0b\u4f1a\u94fe\u63a5\u5230 ARM \u5b98\u65b9\u7684 <code>__main</code>\uff0c\u800c <code>__main</code> \u4f1a\u8c03\u7528\u4e00\u4e2a\u53eb <code>__rt_entry</code> \u7684\u6d41\u7a0b\uff08\u89c1 map \u6587\u4ef6\uff09\uff0c\u5728\u8fd9\u4e2a\u6d41\u7a0b\u91cc\u5c31\u4f1a\u5bf9 <code>.bss</code> \u6bb5\u8fdb\u884c\u6e05\u96f6\u3002</p>"},{"location":"arm%E6%9E%B6%E6%9E%84/3.KeilARM%20%E5%B7%A5%E7%A8%8B%EF%BC%88%E4%BB%A5%20ARMCCARMCLANG%20%E5%B7%A5%E5%85%B7%E9%93%BE%E4%B8%BA%E4%BE%8B%EF%BC%89%E4%B8%8B%20BSS%20%E6%AE%B5%E6%B8%85%E9%9B%B6%20%E7%9A%84%E7%9C%9F%E5%AE%9E%E6%B5%81%E7%A8%8B/#3-__main","title":"3. \u4f60\u770b\u5230\u7684 <code>__main</code> \u4e0e\u9759\u6001\u5e93","text":"<ul> <li><code>__main</code> \u662f\u5e93\u91cc\u7684\uff0c\u5b83\u7684\u5b9e\u73b0\u968f\u7f16\u8bd1\u5668/\u5e93\u4e00\u8d77\u5206\u53d1\uff0c\u4e0d\u9700\u8981\u4f60\u81ea\u5df1\u5199\u3002</li> <li>\u5177\u4f53 BSS \u6e05\u96f6\u4ee3\u7801\u5728\u5e93\u4e2d\uff0c\u6bd4\u5982 ARMCC \u53ef\u80fd\u5728 <code>__scatterload</code> \u6216\u76f8\u5173 C startup \u6587\u4ef6\u4e2d\u3002</li> </ul>"},{"location":"arm%E6%9E%B6%E6%9E%84/3.KeilARM%20%E5%B7%A5%E7%A8%8B%EF%BC%88%E4%BB%A5%20ARMCCARMCLANG%20%E5%B7%A5%E5%85%B7%E9%93%BE%E4%B8%BA%E4%BE%8B%EF%BC%89%E4%B8%8B%20BSS%20%E6%AE%B5%E6%B8%85%E9%9B%B6%20%E7%9A%84%E7%9C%9F%E5%AE%9E%E6%B5%81%E7%A8%8B/#4","title":"4. \u8bc1\u636e/\u9a8c\u8bc1\u65b9\u6cd5","text":"<ul> <li>\u4f60\u53ef\u4ee5\u7528 <code>arm-none-eabi-objdump -d your.elf</code> \u6216\u67e5\u770b map \u6587\u4ef6\uff0c\u770b BSS \u6bb5\u662f\u5728\u54ea\u6bb5\u4ee3\u7801\u88ab\u64cd\u4f5c\u7684\u3002</li> <li>\u4f60\u53ef\u4ee5\u8bbe\u7f6e\u65ad\u70b9\u5230 <code>__main</code>\u3001<code>__rt_entry</code> \u6216 <code>SystemInit</code> \u540e\u4e00\u6b65\u6b65\u8ddf\u8e2a\uff0c\u4e5f\u80fd\u770b\u5230 memset/loop \u6e05\u96f6\u3002</li> </ul>"},{"location":"arm%E6%9E%B6%E6%9E%84/3.KeilARM%20%E5%B7%A5%E7%A8%8B%EF%BC%88%E4%BB%A5%20ARMCCARMCLANG%20%E5%B7%A5%E5%85%B7%E9%93%BE%E4%B8%BA%E4%BE%8B%EF%BC%89%E4%B8%8B%20BSS%20%E6%AE%B5%E6%B8%85%E9%9B%B6%20%E7%9A%84%E7%9C%9F%E5%AE%9E%E6%B5%81%E7%A8%8B/#5","title":"5. \u603b\u7ed3\u4e00\u53e5\u8bdd","text":"<p>\u5728 Keil (ARMCC/ARMCLANG) \u5de5\u7a0b\u4e0b\uff0cBSS \u6bb5\u6e05\u96f6\u5e76\u4e0d\u662f\u5728\u542f\u52a8\u6587\u4ef6\uff08startup.s\uff09\u4e2d\u624b\u5199\u5b8c\u6210\u7684\uff0c\u800c\u662f\u5728\u94fe\u63a5\u5230\u7684 C \u8fd0\u884c\u5e93\uff08ARM\u5b98\u65b9C runtime\uff09\u4e2d\u7684 <code>__main</code> \u5165\u53e3\u51fd\u6570\u5b9e\u73b0\u7684\u3002</p> <p>\u5982\u679c\u4f60\u60f3\u770b ARM \u5b98\u65b9\u7684\u5b9e\u73b0\uff0c\u53ef\u4ee5\u641c\u7d22 ARMCC \u7684 <code>__rt_entry</code>\u3001<code>__scatterload</code>\uff0c\u6216\u8005 GCC \u7684 <code>crt0.S</code>\u3001<code>crt0.o</code>\u3002</p> <p>\u5982\u679c\u4f60\u8fd8\u6709 Keil \u5de5\u7a0b map \u6587\u4ef6\uff0c\u53ef\u4ee5\u76f4\u63a5\u641c\u7d22 <code>__main</code> \u548c <code>__rt_entry</code> \u770b\u8df3\u8f6c\u5173\u7cfb\uff01</p> <p>\u8865\u5145\uff1a</p> <ul> <li>\u4f60\u53ef\u4ee5\u901a\u8fc7\u300cuser code before main\u300d\u8fd9\u79cd\u673a\u5236\u63d2\u5165\u4ee3\u7801\uff0c\u5728 main \u4e4b\u524d\u6267\u884c\uff08Keil \u652f\u6301\uff09</li> <li>\u6709\u4e9b\u6781\u7b80\u88f8\u673a\u9879\u76ee\u624d\u4f1a\u628a data/bss \u521d\u59cb\u5316\u4e5f\u5199\u5230 startup \u6587\u4ef6\u91cc</li> </ul>"},{"location":"arm%E6%9E%B6%E6%9E%84/CMSIS%20%E6%96%87%E6%A1%A3/","title":"CMSIS \u6587\u6863","text":""},{"location":"arm%E6%9E%B6%E6%9E%84/CMSIS%20%E6%96%87%E6%A1%A3/#cmsis","title":"CMSIS \u6587\u6863","text":"<p>\u6807\u51c6\u7684 Cortex-M \u8f6f\u4ef6\u63a5\u53e3\u4e0e\u5185\u8054\u6307\u4ee4\uff0c\u6db5\u76d6 M7 \u7684 SIMD/FPU \u5185\u5efa\u51fd\u6570\uff0c\u5199\u88f8\u673a/RTOS \u90fd\u8981\u7528\u5230</p> <p>https://arm-software.github.io/CMSIS_6/latest/General/index.html</p> <p>\u76f4\u63a5\u8bbf\u95ee\u8be5\u4e0a\u8ff0\u67e5\u770b</p> <p></p> <p></p> <p></p> <p></p>"},{"location":"arm%E6%9E%B6%E6%9E%84/Cortex-M7/ARMv7-M%28cortexM7%29%E6%9E%B6%E6%9E%84%E6%89%8B%E5%86%8C%E8%A7%A3%E8%AF%BB/","title":"ARMv7-M(cortexM7)\u67b6\u6784\u624b\u518c","text":""},{"location":"arm%E6%9E%B6%E6%9E%84/Cortex-M7/ARMv7-M%28cortexM7%29%E6%9E%B6%E6%9E%84%E6%89%8B%E5%86%8C%E8%A7%A3%E8%AF%BB/#armv7-mcortexm7","title":"ARMv7-M(cortexM7)\u67b6\u6784\u624b\u518c","text":"<p>ARMv7-M Architecture Reference Manual\uff08\u67b6\u6784\u624b\u518c\uff09</p> <p>\u8bb2\u6e05\u5f02\u5e38/\u4e2d\u65ad\u6a21\u578b\u3001\u6307\u4ee4\u96c6\uff08Thumb-2\uff09\u3001\u5185\u5b58\u6a21\u578b\u3001\u8c03\u8bd5\u5bc4\u5b58\u5668\u7b49\u3002Cortex-M7 \u5c5e\u4e8e ARMv7E-M\uff08\u5728 v7-M \u57fa\u7840\u4e0a\u52a0\u5165 DSP/FPU \u6269\u5c55\uff09\uff0c\u8bfb\u8fd9\u672c\u662f\u5730\u57fa</p> <p>https://developer.arm.com/documentation/ddi0403/latest/?utm_source=chatgpt.com</p> <p></p>"},{"location":"arm%E6%9E%B6%E6%9E%84/Cortex-M7/ARM%E6%9E%B6%E6%9E%84%E5%A4%84%E7%90%86%E5%99%A8%E5%AF%B9%E7%85%A7%E8%A1%A8/","title":"ARM\u67b6\u6784\u5904\u7406\u5668\u5bf9\u7167\u8868","text":"<p>ARM\u67b6\u6784\u5904\u7406\u5668\u5bf9\u7167\u8868</p> <p>https://developer.arm.com/documentation/102787/0300/?lang=en</p> <p></p>"},{"location":"arm%E6%9E%B6%E6%9E%84/Cortex-M7/Cortex-M7%E9%80%9A%E7%94%A8%E7%94%A8%E6%88%B7%E6%89%8B%E5%86%8C/","title":"Cortex-M7\u901a\u7528\u7528\u6237\u624b\u518c","text":""},{"location":"arm%E6%9E%B6%E6%9E%84/Cortex-M7/Cortex-M7%E9%80%9A%E7%94%A8%E7%94%A8%E6%88%B7%E6%89%8B%E5%86%8C/#cortex-m7","title":"Cortex-M7\u901a\u7528\u7528\u6237\u624b\u518c","text":"<p>Cortex-M7 Devices Generic User Guide\uff08\u901a\u7528\u7528\u6237\u624b\u518c\uff09\uff1a\u4ece\u201c\u7a0b\u5e8f\u5458\u89c6\u89d2\u201d\u68b3\u7406\u5bc4\u5b58\u5668\u6a21\u578b\u3001\u542f\u52a8\u3001\u5f02\u5e38\u3001\u4f4e\u529f\u8017\u548c\u8c03\u8bd5\u7b49\uff0c\u914d\u5408 TRM \u4e00\u8d77\u770b</p> <p></p>"},{"location":"arm%E6%9E%B6%E6%9E%84/Cortex-M7/CortexM7%E5%86%85%E6%A0%B8%E6%8A%80%E6%9C%AF%E5%8F%82%E8%80%83/","title":"Cortex-M7 \u5185\u6838\u6280\u672f\u53c2\u8003","text":""},{"location":"arm%E6%9E%B6%E6%9E%84/Cortex-M7/CortexM7%E5%86%85%E6%A0%B8%E6%8A%80%E6%9C%AF%E5%8F%82%E8%80%83/#cortex-m7","title":"Cortex-M7 \u5185\u6838\u6280\u672f\u53c2\u8003","text":"<p>Cortex-M7 Technical Reference Manual (TRM)\uff08\u5185\u6838\u6280\u672f\u53c2\u8003\uff09\uff1a\u4e13\u8bb2 M7 \u7684\u5b9e\u73b0\u4e0e\u7279\u6027\uff1a6 \u7ea7\u8d85\u6807\u91cf\u6d41\u6c34\u3001I/D Cache\u3001TCM\u3001AXI \u63a5\u53e3\u3001MPU\u3001FPU\uff08FPv5 \u5355/\u53cc\u7cbe\u5ea6\u53ef\u9009\uff09\u3001DWT/ETM \u7b49</p> <p>https://developer.arm.com/documentation/ddi0489/latest/?utm_source=chatgpt.com</p> <p></p>"},{"location":"arm%E6%9E%B6%E6%9E%84/Cortex-M7/STM32F7%E5%92%8CH7%E4%B8%8A%E7%9A%84%E7%BC%93%E5%AD%98/","title":"STM32F7\u548cH7\u4e0a\u7684\u7f13\u5b58","text":""},{"location":"arm%E6%9E%B6%E6%9E%84/Cortex-M7/STM32F7%E5%92%8CH7%E4%B8%8A%E7%9A%84%E7%BC%93%E5%AD%98/#stm32f7h7","title":"STM32F7\u548cH7\u4e0a\u7684\u7f13\u5b58","text":"<p>https://www.st.com/resource/en/application_note/an4839-level-1-cache-on-stm32f7-series-and-stm32h7-series-stmicroelectronics.pdf</p> <p></p> <p></p> <p></p>"},{"location":"arm%E6%9E%B6%E6%9E%84/Cortex-M7/%E5%AD%A6%E4%B9%A0%E8%B7%AF%E7%BA%BF/","title":"\u5b66\u4e60\u8def\u7ebf","text":""},{"location":"arm%E6%9E%B6%E6%9E%84/Cortex-M7/%E5%AD%A6%E4%B9%A0%E8%B7%AF%E7%BA%BF/#_1","title":"\u7cbe\u7b80\u5b66\u4e60\u8def\u7ebf\uff08\u6309\u8fd9\u4e2a\u987a\u5e8f\uff09","text":"<ol> <li>\u67b6\u6784\u5730\u57fa\uff1a\u8bfb ARMv7-M ARM \u7684\u5f02\u5e38/\u6808\u5e27\u3001\u7279\u6743\u7ea7\u3001\u5185\u5b58\u6a21\u578b\u4e0e\u8c03\u8bd5\u6846\u67b6\u3002\u7406\u89e3 \u201cM7 = ARMv7E-M\uff08v7-M + DSP/FPU\uff09\u201d\u3002Arm \u5f00\u53d1\u8005+1</li> <li>M7 \u7279\u8272\uff1a\u5728 Cortex-M7 TRM \u805a\u7126\u8fd9\u51e0\u7ae0\uff1aProgrammer\u2019s model\u3001System control\u3001Caches/TCM\u3001MPU\u3001FPU/FPv5\u3001Debug\uff08DWT/ITM/ETM\uff09\u3002Arm \u5f00\u53d1\u8005</li> <li>\u843d\u5730\u5230\u4ee3\u7801\uff1a\u770b CMSIS\uff0c\u5e76\u7528\u6b63\u786e\u7684\u7f16\u8bd1\u9009\u9879\uff08GCC \u4f8b\u5b50\uff1a     <code>-mcpu=cortex-m7 -mthumb -mfpu=fpv5-sp-d16|fpv5-d16 -mfloat-abi=hard</code>\uff09\u3002\u53c2\u6570\u9009\u62e9\u4e0e\u8bf4\u660e\u89c1 GCC \u624b\u518c\u3002gcc.gnu.org+1</li> <li>\u8d34\u5408\u5177\u4f53\u82af\u7247\uff1a\u56de\u5230 \u5382\u5546 RM/Errata \u4e0e Cache/MPU \u5e94\u7528\u7b14\u8bb0\uff0c\u89e3\u51b3\u5916\u8bbe DMA \u4e0e Cache\u3001TCM/AXI \u5e03\u5c40\u3001\u95ea\u5b58\u52a0\u901f\u7b49\u5b9e\u9645\u95ee\u9898\u3002STMicroelectronics+1</li> </ol> <p>\u5165\u95e8\u6750\u6599\u52a0\u9910\uff1aJoseph Yiu \u7684\u300aCortex-M for Beginners\u300b\uff08\u767d\u76ae\u4e66\uff0c\u4e2d\u6587\u8bfb\u8005\u4e5f\u6613\u4e0a\u624b\uff09\uff0c\u5e2e\u52a9\u628a\u5b98\u65b9\u624b\u518c\u7684\u77e5\u8bc6\u4e32\u8d77\u6765\u3002community.arm.com</p>"},{"location":"blog/","title":"Blog","text":""},{"location":"blog/#blog","title":"Blog","text":""},{"location":"cmake/cmake-gui/","title":"cmake-gui \u63a7\u5236\u7f16\u8bd1","text":""},{"location":"cmake/cmake-gui/#cmake-gui","title":"cmake-gui \u63a7\u5236\u7f16\u8bd1","text":"<p>code https://github.com/newbie-jiang/cmake-study/tree/master/cmake-gui</p>"},{"location":"cmake/cmake-gui/#_1","title":"\u529f\u80fd\u5c55\u793a","text":"<ul> <li>cmake gui\u6765\u51b3\u5b9a\u7f16\u8bd1\u8fd0\u884c\u54ea\u4e00\u4e2a\u5e93</li> <li>\u4e3b\u51fd\u6570\u4e2d\u7684\u4f7f\u80fd\u540c\u6b65</li> </ul>"},{"location":"cmake/cmake-gui/#_2","title":"\u540c\u65f6\u4f7f\u80fd\u4e09\u4e2a\u5e93","text":""},{"location":"cmake/cmake-gui/#_3","title":"\u4f7f\u80fd\u4e24\u4e2a\u5e93","text":""},{"location":"cmake/cmake-gui/#_4","title":"\u521b\u5efa\u7684\u6587\u4ef6\u4ee5\u53ca\u76ee\u5f55","text":"<p>\u5728\u9879\u76ee\u4e2d\u7684\u5355\u5143\u6d4b\u8bd5\uff0c\u6211\u5e0c\u671b\u4e00\u79cd\u7b80\u5355\u7684\u65b9\u5f0f\u6765\u51b3\u5b9a\u7f16\u8bd1\u54ea\u4e9b\u6a21\u5757\uff0c\u4e0a\u8ff0\u7684\u505a\u4e86\u4e09\u4e2a\u5e93 alib  blib clib  \u6bcf\u4e00\u4e2a\u5e93\u90fd\u6709\u5355\u72ec\u7684CMakeLists.txt\u6765\u7ba1\u7406\u5e93\u6587\u4ef6\uff0c\u4e0e\u6240\u6709\u5e93\u6587\u4ef6\u540c\u76ee\u5f55\u7684CMakeLists.txt \u7528\u6765\u7ba1\u7406\u6240\u6709\u7684lib\u5e93 , \u4e3bCMakeLists.txt\u63a7\u5236\u6240\u6709\u7684\u7f16\u8bd1\u8fc7\u7a0b</p> <ul> <li>\u6b64\u79cd\u65b9\u5f0f\u9700\u8981\u518d\u4ee3\u7801\u4e2d\u52a0\u4e0acmake\u7684\u8bed\u6cd5\u89c4\u5219\u6765\u51b3\u5b9a\u7f16\u8bd1\u54ea\u4e00\u4e9b\u4ee3\u7801\uff0c\u53ef\u4ee5\u770b\u505a\u662fC\u8bed\u8a00\u7684#ifdef \u4e4b\u7c7b\u7684\uff0ccmake gui\u914d\u7f6e\u76f8\u5f53\u4e8e\u4e00\u4e2a\u53ef\u89c6\u5316\u7684\u5b8f\u5f00\u5173</li> </ul> <pre><code>$ tree -L 3\n.\n|-- CMakeLists.txt\n|-- main.c\n`-- test_lib\n    |-- CMakeLists.txt\n    |-- alib\n    |   |-- CMakeLists.txt\n    |   |-- alib.c\n    |   `-- alib.h\n    |-- blib\n    |   |-- CMakeLists.txt\n    |   |-- blib.c\n    |   `-- blib.h\n    |-- clib\n    |   |-- CMakeLists.txt\n    |   |-- clib.c\n    |   `-- clib.h\n\n\n4 directories, 12 files\n</code></pre>"},{"location":"cmake/cmake-gui/#_5","title":"\u4ee3\u7801\u5c55\u793a","text":""},{"location":"cmake/cmake-gui/#mainc","title":"main.c","text":"<pre><code>#include &lt;stdio.h&gt;\n#ifdef HAVE_ALIB\n#include \"alib.h\"\n#endif\n#ifdef HAVE_BLIB\n#include \"blib.h\"\n#endif\n#ifdef HAVE_CLIB\n#include \"clib.h\"\n#endif\n\nint main(void) {\n#ifdef HAVE_ALIB\n    alib_hello();\n#endif\n#ifdef HAVE_BLIB\n    blib_hello();\n#endif\n#ifdef HAVE_CLIB\n    clib_hello();\n#endif\n    return 0;\n}\n</code></pre>"},{"location":"cmake/cmake-gui/#cmakeliststxt","title":"\u4e3bCMakeLists.txt","text":"<pre><code>cmake_minimum_required(VERSION 3.14)\nproject(demo_cmake_libs)\n\nadd_executable(demo main.c)\n\n# \u6dfb\u52a0 test_lib \u76ee\u5f55\uff0c\u96c6\u4e2d\u7ba1\u7406\nadd_subdirectory(test_lib)\n\nif (TARGET alib)\n    target_link_libraries(demo PRIVATE alib)\n    target_compile_definitions(demo PRIVATE HAVE_ALIB)\nendif()\nif (TARGET blib)\n    target_link_libraries(demo PRIVATE blib)\n    target_compile_definitions(demo PRIVATE HAVE_BLIB)\nendif()\nif (TARGET clib)\n    target_link_libraries(demo PRIVATE clib)\n    target_compile_definitions(demo PRIVATE HAVE_CLIB)\nendif()\n</code></pre>"},{"location":"cmake/cmake-gui/#test_libcmakeliststxt","title":"test_lib\u76ee\u5f55\u4e0b\u7684CMakeLists.txt","text":"<pre><code>option(ENABLE_ALIB \"Build alib library\" ON)\noption(ENABLE_BLIB \"Build blib library\" ON)\noption(ENABLE_CLIB \"Build clib library\" ON)\n\nif (ENABLE_ALIB)\n    add_subdirectory(alib)\nendif()\nif (ENABLE_BLIB)\n    add_subdirectory(blib)\nendif()\nif (ENABLE_CLIB)\n    add_subdirectory(clib)\nendif()\n</code></pre>"},{"location":"cmake/cmake-gui/#test_libalib","title":"test_lib\\alib\u4e0b","text":"<ul> <li>alib.c</li> </ul> <pre><code>#include &lt;stdio.h&gt;\n\nvoid alib_hello(void) {\n    printf(\"Hello from alib!\\n\");\n}\n</code></pre> <ul> <li>alib.h</li> </ul> <pre><code>#ifndef ALIB_H\n#define ALIB_H\n\nvoid alib_hello(void);\n\n#endif\n</code></pre> <ul> <li>CMakeLists.txt</li> </ul> <pre><code>add_library(alib STATIC alib.c)\ntarget_include_directories(alib PUBLIC ${CMAKE_CURRENT_SOURCE_DIR})\n</code></pre>"},{"location":"cmake/cmake-gui/#test_libblib","title":"test_lib\\blib\u4e0b","text":"<ul> <li>blib.c</li> </ul> <pre><code>#include &lt;stdio.h&gt;\n\nvoid blib_hello(void) {\n    printf(\"Hello from blib!\\n\");\n}\n</code></pre> <ul> <li>blib.h</li> </ul> <pre><code>#ifndef BLIB_H\n#define BLIB_H\n\nvoid blib_hello(void);\n\n#endif\n</code></pre> <ul> <li>CMakeLists.txt</li> </ul> <pre><code>add_library(blib STATIC blib.c)\ntarget_include_directories(blib PUBLIC ${CMAKE_CURRENT_SOURCE_DIR})\n</code></pre>"},{"location":"cmake/cmake-gui/#test_libclib","title":"test_lib\\clib\u4e0b","text":"<ul> <li>clib.c</li> </ul> <pre><code>#include &lt;stdio.h&gt;\n\nvoid clib_hello(void) {\n    printf(\"Hello from clib!\\n\");\n}\n</code></pre> <ul> <li>clib.h</li> </ul> <pre><code>#ifndef CLIB_H\n#define CLIB_H\n\nvoid clib_hello(void);\n\n#endif\n</code></pre> <ul> <li>CMakeLists.txt</li> </ul> <pre><code>add_library(clib STATIC clib.c)\ntarget_include_directories(clib PUBLIC ${CMAKE_CURRENT_SOURCE_DIR})\n</code></pre>"},{"location":"cmake/cmake-gui/#_6","title":"\u7f16\u8bd1\u547d\u4ee4","text":"<pre><code>mkdir build &amp;&amp; cd build\ncmake-gui ..      (\u53ef\u89c6\u5316\u914d\u7f6e\u5e76\u751f\u6210makefile\u6587\u4ef6\u3010\u770b\u4e0b\u9762\u7684\u56fe\u3011)\nmake\n.\\demo.exe\n</code></pre>"},{"location":"cmake/cmake-gui%E4%BC%A0%E9%80%92%E5%8F%82%E6%95%B0/","title":"Cmake gui\u4f20\u9012\u53c2\u6570","text":"<p>https://cmake.org/getting-started/</p>"},{"location":"cmake/cmake-gui%E4%BC%A0%E9%80%92%E5%8F%82%E6%95%B0/#cmake","title":"cmake\u7684\u4e94\u79cd\u53c2\u6570\u7c7b\u578b","text":"<p>\u5b98\u65b9\u6587\u6863\u8bf4\u660e\u4e00\u5171\u662f\u4e94\u79cd\u53c2\u6570</p> TYPE cmake-gui\u8868\u73b0 \u8f93\u5165\u9650\u5236 \u5907\u6ce8 BOOL \u590d\u9009\u6846 \u53ea\u80fdON/OFF \u771f\u6b63\u9650\u5236\u7528\u6237 STRING \u6587\u672c\u6846 \u65e0 \u53ef\u914dSTRINGS\u505a\u4e0b\u62c9 INT \u6587\u672c\u6846 \u65e0 \u5b9e\u9645\u4e0a\u548cSTRING\u7c7b\u4f3c PATH \u6587\u672c\u6846+\u76ee\u5f55\u6309\u94ae \u65e0 \u63a8\u8350\u7528\u9009\u62e9\u6309\u94ae FILEPATH \u6587\u672c\u6846+\u6587\u4ef6\u6309\u94ae \u65e0 \u63a8\u8350\u7528\u9009\u62e9\u6309\u94ae <p>\u5199\u4e00\u4e2amain.c \u4e0ecmake\u6d4b\u8bd5</p>"},{"location":"cmake/cmake-gui%E4%BC%A0%E9%80%92%E5%8F%82%E6%95%B0/#mainc","title":"main.c","text":"<pre><code>#include &lt;stdio.h&gt;\n\n#ifndef MY_BOOL\n#define MY_BOOL 0\n#endif\n#ifndef MY_STRING\n#define MY_STRING \"none\"\n#endif\n#ifndef MY_INT\n#define MY_INT 0\n#endif\n#ifndef MY_PATH\n#define MY_PATH \"none\"\n#endif\n#ifndef MY_FILE\n#define MY_FILE \"none\"\n#endif\n#ifndef MY_MODE\n#define MY_MODE \"none\"\n#endif\n#ifndef MY_STATIC\n#define MY_STATIC \"none\"\n#endif\n#ifndef MY_INTERNAL\n#define MY_INTERNAL \"none\"\n#endif\n\nint main(void) {\n    printf(\"==== cmake-gui \u6570\u636e\u7c7b\u578b\u8f93\u5165\u6f14\u793a ====\\n\");\n    printf(\"MY_BOOL    = %d\\n\", MY_BOOL);\n    printf(\"MY_STRING  = %s\\n\", MY_STRING);\n    printf(\"MY_INT     = %d\\n\", MY_INT);\n    printf(\"MY_PATH    = %s\\n\", MY_PATH);\n    printf(\"MY_FILE    = %s\\n\", MY_FILE);\n    printf(\"MY_MODE    = %s\\n\", MY_MODE);\n    printf(\"MY_STATIC  = %s\\n\", MY_STATIC);\n    printf(\"MY_INTERNAL= %s\\n\", MY_INTERNAL);\n    return 0;\n}\n</code></pre>"},{"location":"cmake/cmake-gui%E4%BC%A0%E9%80%92%E5%8F%82%E6%95%B0/#cmakeliststxt","title":"CMakeLists.txt","text":"<pre><code>cmake_minimum_required(VERSION 3.16)\nproject(cmake_gui_types_demo C)\n\n# BOOL \u7c7b\u578b\uff08\u590d\u9009\u6846\uff09\nset(MY_BOOL ON CACHE BOOL \"\u4e00\u4e2a\u5e03\u5c14\u503c (ON/OFF)\")\n\n# STRING \u7c7b\u578b\uff08\u81ea\u7531\u6587\u672c\uff09\nset(MY_STRING \"abc\" CACHE STRING \"\u4efb\u610f\u5b57\u7b26\u4e32\")\n\n# INT \u7c7b\u578b\uff08\u6570\u503c\u8f93\u5165\uff0c\u8868\u73b0\u4e3a\u5b57\u7b26\u4e32\u8f93\u5165\u6846\uff09\nset(MY_INT \"123\" CACHE STRING \"\u6574\u6570\uff08\u6587\u672c\u6846\uff0c\u9700\u624b\u52a8\u586b\u6570\u5b57\uff09\")\n\n# PATH \u7c7b\u578b\uff08\u8def\u5f84\uff0c\u5e26\u76ee\u5f55\u9009\u62e9\u6309\u94ae\uff09\nset(MY_PATH \"${CMAKE_SOURCE_DIR}\" CACHE PATH \"\u8bf7\u9009\u62e9\u4e00\u4e2a\u6587\u4ef6\u5939\u8def\u5f84\")\n\n# FILEPATH \u7c7b\u578b\uff08\u6587\u4ef6\u8def\u5f84\uff0c\u5e26\u6587\u4ef6\u9009\u62e9\u6309\u94ae\uff09\nset(MY_FILE \"${CMAKE_SOURCE_DIR}/CMakeLists.txt\" CACHE FILEPATH \"\u8bf7\u9009\u62e9\u4e00\u4e2a\u6587\u4ef6\")\n\n# STRINGS \u4e0b\u62c9\u9009\u9879\nset(MY_MODE \"auto\" CACHE STRING \"\u6a21\u5f0f\u9009\u62e9\uff08\u4e0b\u62c9\u83dc\u5355\uff09\")\nset_property(CACHE MY_MODE PROPERTY STRINGS \"auto\" \"manual\" \"expert\")\n\n# INTERNAL \u7c7b\u578b\uff08\u4e0d\u53ef\u89c1\uff0c\u6d4b\u8bd5\u7528\uff09\nset(MY_INTERNAL \"secret\" CACHE INTERNAL \"\u5185\u90e8\u53d8\u91cf\uff0c\u4e0d\u4f1a\u663e\u793a\u5728 cmake-gui\")\n\n# STATIC \u7c7b\u578b\uff08\u53ea\u8bfb\uff0c\u663e\u793a\u4f46\u4e0d\u53ef\u7f16\u8f91\uff09\nset(MY_STATIC \"readonly\" CACHE STATIC \"\u53ea\u8bfb\u53d8\u91cf\uff0c\u53ea\u80fd\u67e5\u770b\")\n\n# \u4f20\u9012\u7ed9 main.c\nadd_compile_definitions(\n    MY_BOOL=$&lt;IF:$&lt;BOOL:${MY_BOOL}&gt;,1,0&gt;\n    MY_STRING=\"${MY_STRING}\"\n    MY_INT=${MY_INT}\n    MY_PATH=\"${MY_PATH}\"\n    MY_FILE=\"${MY_FILE}\"\n    MY_MODE=\"${MY_MODE}\"\n    MY_STATIC=\"${MY_STATIC}\"\n    MY_INTERNAL=\"${MY_INTERNAL}\"\n)\n\nadd_executable(main main.c)\n</code></pre>"},{"location":"cmake/cmake-gui%E6%94%AF%E6%8C%81%E5%8A%9F%E8%83%BD%E5%B1%95%E7%A4%BA/","title":"Cmake gui\u652f\u6301\u529f\u80fd\u5c55\u793a","text":"<p><code>cmake-gui</code> \u662f CMake \u63d0\u4f9b\u7684\u5b98\u65b9\u56fe\u5f62\u754c\u9762\u914d\u7f6e\u5de5\u5177\uff0c\u4e3b\u8981\u7528\u4e8e\u7b80\u5316 CMake \u9879\u76ee\u7684\u914d\u7f6e\u548c\u751f\u6210\u8fc7\u7a0b\uff0c\u7279\u522b\u9002\u5408\u8de8\u5e73\u53f0\u5de5\u7a0b\u3001\u590d\u6742\u5de5\u7a0b\u3001\u9700\u8981\u624b\u52a8\u8c03\u6574\u7f16\u8bd1\u53c2\u6570\u7684\u573a\u666f\u3002</p> <p>\u4e0b\u9762\u603b\u7ed3\u4e00\u4e0b cmake-gui \u7684\u4e3b\u8981\u529f\u80fd\u548c\u5178\u578b\u7528\u9014\uff1a</p>"},{"location":"cmake/cmake-gui%E6%94%AF%E6%8C%81%E5%8A%9F%E8%83%BD%E5%B1%95%E7%A4%BA/#1-cmakeliststxt","title":"1. CMakeLists.txt \u53ef\u89c6\u5316\u914d\u7f6e","text":"<ul> <li>\u52a0\u8f7d\u9879\u76ee\uff1a\u9009\u62e9\u542b\u6709 <code>CMakeLists.txt</code> \u7684\u6e90\u7801\u6839\u76ee\u5f55\u3002</li> <li>\u751f\u6210\u76ee\u5f55\uff1a\u6307\u5b9a\u4e00\u4e2a\u72ec\u7acb\u7684\u6784\u5efa\u76ee\u5f55\uff08\u63a8\u8350 out-of-source \u6784\u5efa\uff09\u3002</li> <li>\u89e3\u6790\u548c\u663e\u793a\u5168\u90e8 CMake \u53d8\u91cf\uff08\u5305\u62ec cache \u53d8\u91cf\u548c option\uff09\u3002</li> </ul>"},{"location":"cmake/cmake-gui%E6%94%AF%E6%8C%81%E5%8A%9F%E8%83%BD%E5%B1%95%E7%A4%BA/#2","title":"2. \u7f16\u8bd1\u9009\u9879\u7ba1\u7406","text":"<ul> <li>\u4e00\u952e\u67e5\u627e/\u6dfb\u52a0/\u4fee\u6539\u53d8\u91cf\uff1a</li> <li>\u5305\u62ec <code>CMAKE_BUILD_TYPE</code>\u3001<code>CMAKE_TOOLCHAIN_FILE</code>\u3001<code>CMAKE_C_COMPILER</code>\u3001<code>EXAMPLE_ENABLE_TESTS</code>\u3001\u5404\u79cd\u5e93\u8def\u5f84\u7b49\u3002</li> <li>\u652f\u6301\u5206\u7ec4\u663e\u793a\u548c\u5feb\u901f\u641c\u7d22\u53d8\u91cf\u3002</li> <li>\u652f\u6301\u7c7b\u578b\u68c0\u67e5\uff1a\u5982\u5e03\u5c14\u503c\u3001\u8def\u5f84\u3001\u5b57\u7b26\u4e32\u3001\u6574\u6570\u3002</li> </ul>"},{"location":"cmake/cmake-gui%E6%94%AF%E6%8C%81%E5%8A%9F%E8%83%BD%E5%B1%95%E7%A4%BA/#3-featureoption","title":"3. \u53ef\u9009\u7ec4\u4ef6\uff08Feature/Option\uff09\u52fe\u9009","text":"<ul> <li>\u53ef\u4ee5\u52fe\u9009 ON/OFF \u7c7b\u578b\u7684\u5f00\u5173\u9009\u9879\uff0c\u6bd4\u5982 <code>BUILD_SHARED_LIBS</code>\u3001<code>ENABLE_FOO</code> \u7b49\u3002</li> <li>\u9002\u5408\u6709\u591a\u4e2a\u6a21\u5757\u3001\u63d2\u4ef6\u3001\u9a71\u52a8\u3001\u529f\u80fd\u5305\u53ef\u9009\u542f\u7528/\u7981\u7528\u7684\u5de5\u7a0b\u3002</li> </ul>"},{"location":"cmake/cmake-gui%E6%94%AF%E6%8C%81%E5%8A%9F%E8%83%BD%E5%B1%95%E7%A4%BA/#4","title":"4. \u91cd\u65b0\u914d\u7f6e\u4e0e\u81ea\u52a8\u4f9d\u8d56\u89e3\u6790","text":"<ul> <li>Configure\uff1a\u8bfb\u53d6\u5e76\u89e3\u6790 CMakeLists.txt\uff0c\u6839\u636e\u5f53\u524d\u8bbe\u7f6e\u751f\u6210\uff08\u6216\u66f4\u65b0\uff09\u53ef\u914d\u7f6e\u9879\u3002</li> <li>Generate\uff1a\u751f\u6210\u6307\u5b9a\u5e73\u53f0/IDE/Makefile \u7684\u5de5\u7a0b\u6587\u4ef6\uff08\u5982 Visual Studio\u3001Ninja\u3001Unix Makefiles \u7b49\uff09\u3002</li> <li>\u53d8\u91cf\u53d8\u66f4\u540e\u81ea\u52a8\u91cd\u7b97\u4f9d\u8d56\u5173\u7cfb\u3002</li> </ul>"},{"location":"cmake/cmake-gui%E6%94%AF%E6%8C%81%E5%8A%9F%E8%83%BD%E5%B1%95%E7%A4%BA/#5","title":"5. \u5bfc\u5165\u548c\u5bfc\u51fa\u914d\u7f6e","text":"<ul> <li>\u652f\u6301\u76f4\u63a5\u7f16\u8f91\u548c\u4fdd\u5b58 <code>CMakeCache.txt</code>\uff08\u5de5\u7a0b\u7f16\u8bd1\u9009\u9879\u548c\u72b6\u6001\u90fd\u8bb0\u5f55\u5728\u8fd9\u91cc\uff09\u3002</li> <li>\u53ef\u5207\u6362/\u7ba1\u7406\u591a\u4e2a Preset\uff08\u5982 CMake 3.19+ \u7684 Presets \u529f\u80fd\uff09\u3002</li> </ul>"},{"location":"cmake/cmake-gui%E6%94%AF%E6%8C%81%E5%8A%9F%E8%83%BD%E5%B1%95%E7%A4%BA/#6","title":"6. \u8de8\u5e73\u53f0\u652f\u6301","text":"<ul> <li>\u53ef\u5728 Windows\u3001Linux\u3001macOS \u4e0a\u4f7f\u7528\u3002</li> <li>\u652f\u6301\u914d\u7f6e/\u751f\u6210 Visual Studio\u3001Makefile\u3001Xcode\u3001Ninja\u3001Eclipse CDT4 \u7b49\u591a\u79cd\u5de5\u7a0b\u3002</li> </ul>"},{"location":"cmake/cmake-gui%E6%94%AF%E6%8C%81%E5%8A%9F%E8%83%BD%E5%B1%95%E7%A4%BA/#7","title":"7. \u9519\u8bef\u548c\u63d0\u793a\u8f93\u51fa","text":"<ul> <li>\u663e\u793a CMake \u914d\u7f6e\u548c\u751f\u6210\u8fc7\u7a0b\u4e2d\u7684\u6240\u6709\u6d88\u606f\u3001\u8b66\u544a\u548c\u9519\u8bef\uff0c\u4fbf\u4e8e\u8c03\u8bd5 CMake \u811a\u672c\u95ee\u9898\u3002</li> </ul>"},{"location":"cmake/cmake-gui%E6%94%AF%E6%8C%81%E5%8A%9F%E8%83%BD%E5%B1%95%E7%A4%BA/#8","title":"8. \u8f85\u52a9\u67e5\u627e\u548c\u73af\u5883\u53d8\u91cf\u914d\u7f6e","text":"<ul> <li>\u652f\u6301\u8bbe\u7f6e <code>CMAKE_PREFIX_PATH</code>\u3001<code>CMAKE_MODULE_PATH</code>\uff0c\u65b9\u4fbf\u67e5\u627e\u5916\u90e8\u5e93\u548c\u81ea\u5b9a\u4e49 CMake \u6a21\u5757\u3002</li> <li>\u652f\u6301\u8bbe\u7f6e\u7f16\u8bd1\u5668\u8def\u5f84\u3001\u5de5\u5177\u94fe\u6587\u4ef6\uff0c\u5e38\u7528\u4e8e\u4ea4\u53c9\u7f16\u8bd1\u548c\u5d4c\u5165\u5f0f\u5de5\u7a0b\u3002</li> </ul>"},{"location":"cmake/cmake-gui%E6%94%AF%E6%8C%81%E5%8A%9F%E8%83%BD%E5%B1%95%E7%A4%BA/#_1","title":"\u5178\u578b\u7528\u6cd5\u603b\u7ed3","text":"<ul> <li>\u65e0\u9700\u624b\u5199 cmake \u547d\u4ee4\uff0c\u901a\u8fc7 GUI \u70b9\u9009/\u5207\u6362\u529f\u80fd\u3001\u81ea\u52a8\u5237\u65b0\u4f9d\u8d56\u3001\u8c03\u6574\u8def\u5f84\uff0c\u975e\u5e38\u9002\u5408\u521d\u5b66\u8005\u6216\u9700\u8981\u9891\u7e41\u8bd5\u9519\u7684\u5de5\u7a0b\u3002</li> <li>\u652f\u6301\u590d\u6742\u5de5\u7a0b\u7684\u591a\u914d\u7f6e\u7ba1\u7406\uff08\u5982 debug/release\u3001\u4e0d\u540c\u76ee\u6807\u5e73\u53f0\u3001\u4e0d\u540c\u529f\u80fd\u7ec4\u5408\u7b49\uff09\u3002</li> <li>\u662f\u5927\u578b/\u591a\u7ec4\u4ef6/\u5d4c\u5165\u5f0f\u9879\u76ee\uff08\u5982 Zephyr\u3001OpenCV\u3001Qt\u3001STM32CubeMX CMake \u5de5\u7a0b\u7b49\uff09\u5e38\u7528\u7684\u9879\u76ee\u7ba1\u7406\u5229\u5668\u3002</li> </ul> <p>\u7edd\u5927\u591a\u6570\u73b0\u4ee3\u8de8\u5e73\u53f0 C/C++ \u9879\u76ee\u90fd\u652f\u6301 CMake\uff0c\u800c\u4e14\u90fd\u53ef\u4ee5\u7528 <code>cmake-gui</code> \u6765\u914d\u7f6e\u548c\u7ba1\u7406\u3002\u4e0b\u9762\u5217\u4e3e\u4e00\u4e9b\u6700\u5177\u4ee3\u8868\u6027\u3001\u5f00\u6e90\u4e14\u793e\u533a\u6d3b\u8dc3\u7684\u9879\u76ee\uff0c\u5b83\u4eec\u7684\u6e90\u7801\u4f60\u53ef\u4ee5\u76f4\u63a5\u4e0b\u8f7d\u5e76\u7528 <code>cmake-gui</code> \u4f53\u9a8c\u3001\u5b66\u4e60 CMake \u7684\u5de5\u7a0b\u7ed3\u6784\u548c\u9009\u9879\u7ba1\u7406\uff1a</p>"},{"location":"cmake/cmake-gui%E6%94%AF%E6%8C%81%E5%8A%9F%E8%83%BD%E5%B1%95%E7%A4%BA/#1-opencv","title":"1. OpenCV","text":"<ul> <li>\u7b80\u4ecb\uff1a\u4e16\u754c\u8457\u540d\u7684\u8ba1\u7b97\u673a\u89c6\u89c9\u4e0e\u56fe\u50cf\u5904\u7406\u5e93\uff0cC++/Python \u652f\u6301\uff0c\u8de8\u5e73\u53f0\u3002</li> <li>CMake \u7279\u8272\uff1a\u9009\u9879\u4f17\u591a\uff08\u6a21\u5757\u542f\u7528/\u7981\u7528\u3001\u7b2c\u4e09\u65b9\u5e93\u96c6\u6210\u3001\u7f16\u8bd1\u4f18\u5316\u7b49\uff09\uff0c\u975e\u5e38\u9002\u5408\u5b66\u4e60\u590d\u6742 CMake \u5de5\u7a0b\u7ba1\u7406\u3002</li> <li>\u6e90\u7801\u5730\u5740\uff1ahttps://github.com/opencv/opencv</li> <li>\u5b66\u4e60\u5efa\u8bae\uff1a\u4e0b\u8f7d\u6e90\u7801\u540e\u7528 <code>cmake-gui</code> \u914d\u7f6e\uff0c\u53ef\u4ee5\u770b\u5230\u8bf8\u5982 <code>WITH_CUDA</code>\u3001<code>BUILD_EXAMPLES</code> \u7b49\u4e30\u5bcc\u9009\u9879\u3002</li> </ul>"},{"location":"cmake/cmake-gui%E6%94%AF%E6%8C%81%E5%8A%9F%E8%83%BD%E5%B1%95%E7%A4%BA/#2-llvmclang","title":"2. LLVM/Clang","text":"<ul> <li>\u7b80\u4ecb\uff1a\u5de5\u4e1a\u7ea7 C/C++/Rust/Swift \u7f16\u8bd1\u5668\u6846\u67b6\uff0cCMake \u9879\u76ee\u7684\u5178\u8303\u3002</li> <li>CMake \u7279\u8272\uff1a\u6781\u5ea6\u6a21\u5757\u5316\uff0c\u652f\u6301\u4ea4\u53c9\u7f16\u8bd1\uff0c\u5206\u6a21\u5757\u6784\u5efa\u3002</li> <li>\u6e90\u7801\u5730\u5740\uff1ahttps://github.com/llvm/llvm-project</li> <li>\u5b66\u4e60\u5efa\u8bae\uff1a\u53ef\u4ee5\u611f\u53d7\u5927\u89c4\u6a21 CMake \u5de5\u7a0b\u7684\u7ba1\u7406\u65b9\u5f0f\u3002</li> </ul>"},{"location":"cmake/cmake-gui%E6%94%AF%E6%8C%81%E5%8A%9F%E8%83%BD%E5%B1%95%E7%A4%BA/#3-qt-qt6","title":"3. Qt (Qt6 \u5f00\u6e90\u7248)","text":"<ul> <li>\u7b80\u4ecb\uff1a\u5168\u7403\u77e5\u540d\u7684 GUI \u5e94\u7528\u5f00\u53d1\u6846\u67b6\uff08Qt6 \u4ee5\u540e\u5168\u9762 CMake \u7ba1\u7406\uff09\u3002</li> <li>\u6e90\u7801\u5730\u5740\uff1ahttps://github.com/qt/qtbase</li> <li>\u5b66\u4e60\u5efa\u8bae\uff1a\u770b Qt \u9879\u76ee\u5982\u4f55\u7528 option \u5206\u6a21\u5757\u3001\u7ba1\u7406\u5e73\u53f0\u5dee\u5f02\u3002</li> </ul>"},{"location":"lib/1.crc%E6%A0%A1%E9%AA%8C%E5%BA%93%E4%BD%BF%E7%94%A8/","title":"crc-lib-c","text":""},{"location":"lib/1.crc%E6%A0%A1%E9%AA%8C%E5%BA%93%E4%BD%BF%E7%94%A8/#crc-lib-c","title":"crc-lib-c","text":"<p>\u57fa\u4e8eC\u8bed\u8a00\u7684CRC\u6821\u9a8c\u5e93\uff0c\u5305\u62ec\u5e38\u7528\u768421\u4e2aCRC\u53c2\u6570\u6a21\u578b\u5b9e\u73b0</p>"},{"location":"lib/1.crc%E6%A0%A1%E9%AA%8C%E5%BA%93%E4%BD%BF%E7%94%A8/#crc","title":"\u5e38\u7528\u7684CRC\u53c2\u6570\u6a21\u578b","text":"CRC\u7b97\u6cd5\u540d\u79f0 \u591a\u9879\u5f0f\u516c\u5f0f WIDTH POLY INIT XOROUT REFIN REFOUT CRC-4/ITU x4 +  x + 1 4 03 00 00 TRUE TRUE CRC-5/EPC x5 +  x3 + 1 5 09 09 00 FALSE FALSE CRC-5/ITU x5 +  x4 + x2 + 1 5 15 00 00 TRUE TRUE CRC-5/USB x5 +  x2 + 1 5 05 1F 1F TRUE TRUE CRC-6/ITU x6 +  x + 1 6 03 00 00 TRUE TRUE CRC-7/MMC x7 +  x3 + 1 7 09 00 00 FALSE FALSE CRC-8 x8 +  x2 + x + 1 8 07 00 00 FALSE FALSE CRC-8/ITU x8 +  x2 + x + 1 8 07 00 55 FALSE FALSE CRC-8/ROHC x8 +  x2 + x + 1 8 07 FF 00 TRUE TRUE CRC-8/MAXIM x8 +  x5 + x4 + 1 8 31 00 00 TRUE TRUE CRC-16/IBM x16 +  x15 + x2 + 1 16 8005 0000 0000 TRUE TRUE CRC-16/MAXIM x16 +  x15 + x2 + 1 16 8005 0000 FFFF TRUE TRUE CRC-16/USB x16 +  x15 + x2 + 1 16 8005 FFFF FFFF TRUE TRUE CRC-16/MODBUS x16 +  x15 + x2 + 1 16 8005 FFFF 0000 TRUE TRUE CRC-16/CCITT x16 +  x12 + x5 + 1 16 1021 0000 0000 TRUE TRUE CRC-16/CCITT-FALSE x16 +  x12 + x5 + 1 16 1021 FFFF 0000 FALSE FALSE CRC-16/X25 x16 +  x12 + x5 + 1 16 1021 FFFF FFFF TRUE TRUE CRC-16/XMODEM x16 +  x12 + x5 + 1 16 1021 0000 0000 FALSE FALSE CRC-16/DNP x16 +  x13 + x12 + x11 + x10 + x8 + x6 + x5 +  x2 + 1 16 3D65 0000 FFFF TRUE TRUE CRC-32 x32 +  x26 + x23 + x22 + x16 + x12 + x11 + x10 +  x8 + x7 + x5 + x4 + x2 + x + 1 32 04C11DB7 FFFFFFFF FFFFFFFF TRUE TRUE CRC-32/MPEG-2 x32 +  x26 + x23 + x22 + x16 + x12 + x11 + x10 +  x8 + x7 + x5 + x4 + x2 + x + 1 32 04C11DB7 FFFFFFFF 0 FALSE FALSE"},{"location":"lib/1.crc%E6%A0%A1%E9%AA%8C%E5%BA%93%E4%BD%BF%E7%94%A8/#crc_1","title":"CRC\u8ba1\u7b97\u5de5\u5177","text":"<p>\u5728\u7ebf\u8ba1\u7b97\u5de5\u5177\uff1awww.ip33.com/crc.html</p> <p>\u79bb\u7ebf\u8ba1\u7b97\u5de5\u5177\uff1a</p> <ul> <li>CRC_Calc v0.1\uff1ahttp://xz.w10a.com/Small/CRCJISUANQI.zip</li> <li>\u683c\u897fCRC\u8ba1\u7b97\u5668\uff1ahttp://www.geshe.com/home/products/GToolbox/bin/GCRC.exe</li> </ul>"},{"location":"lib/2.zlib%E5%8E%8B%E7%BC%A9%E8%A3%A4%E4%BD%BF%E7%94%A8/","title":"zlib \u4f7f\u7528","text":""},{"location":"lib/2.zlib%E5%8E%8B%E7%BC%A9%E8%A3%A4%E4%BD%BF%E7%94%A8/#zlib","title":"zlib \u4f7f\u7528","text":"<p>https://zlib.net/</p> <ul> <li>zlib\uff1a\u5386\u53f2\u6700\u60a0\u4e45\u3001\u5e94\u7528\u6700\u5e7f\u6cdb\u7684\u901a\u7528\u538b\u7f29\u5e93\uff08\u57fa\u4e8e DEFLATE \u7b97\u6cd5\uff09\u3002</li> <li>\u4f18\u70b9\uff1a\u6709\u5f88\u591a\u79fb\u690d\u7ecf\u9a8c\u3001\u517c\u5bb9\u6027\u597d\uff0c\u6210\u719f\u7a33\u5b9a\u3002</li> <li>\u7f3a\u70b9\uff1a\u6807\u51c6 zlib \u4ee3\u7801\u4f53\u79ef\u8f83\u5927\uff0c\u5728\u8d44\u6e90\u6781\u5176\u6709\u9650\u7684 MCU \u4e0a\u53ef\u80fd\u9700\u8981\u505a\u88c1\u526a\u3002</li> </ul>"},{"location":"lib/2.zlib%E5%8E%8B%E7%BC%A9%E8%A3%A4%E4%BD%BF%E7%94%A8/#_1","title":"\u7f16\u8bd1","text":"<p>\u4e0b\u8f7d\u4e0b\u6765\u53ef\u4ee5\u7528camke\u7f16\u8bd1\u6d4b\u8bd5</p> <pre><code>cd zlib-1.3.1\nmkdir build &amp;&amp; cd build\ncmake ..\nmake\n./example\n</code></pre> <pre><code>hdj@hdj-virtual-machine:~/stm32-cmake-for-vscode/lib/zlib-1.3.1/build$ ls\nCMakeCache.txt  CMakeFiles  cmake_install.cmake  CTestTestfile.cmake  example  example64  foo.gz  libz.a  libz.so  libz.so.1  libz.so.1.3.1  Makefile  minigzip  minigzip64  zconf.h  zlib.pc\nhdj@hdj-virtual-machine:~/stm32-cmake-for-vscode/lib/zlib-1.3.1/build$ tree -L 1\n.\n\u251c\u2500\u2500 CMakeCache.txt\n\u251c\u2500\u2500 CMakeFiles\n\u251c\u2500\u2500 cmake_install.cmake\n\u251c\u2500\u2500 CTestTestfile.cmake\n\u251c\u2500\u2500 example\n\u251c\u2500\u2500 example64\n\u251c\u2500\u2500 foo.gz\n\u251c\u2500\u2500 libz.a\n\u251c\u2500\u2500 libz.so -&gt; libz.so.1\n\u251c\u2500\u2500 libz.so.1 -&gt; libz.so.1.3.1\n\u251c\u2500\u2500 libz.so.1.3.1\n\u251c\u2500\u2500 Makefile\n\u251c\u2500\u2500 minigzip\n\u251c\u2500\u2500 minigzip64\n\u251c\u2500\u2500 zconf.h\n\u2514\u2500\u2500 zlib.pc\n\n1 directory, 15 files\n</code></pre>"},{"location":"lib/2.zlib%E5%8E%8B%E7%BC%A9%E8%A3%A4%E4%BD%BF%E7%94%A8/#_2","title":"\u5b98\u65b9\u81ea\u5e26\u6d4b\u8bd5\u7a0b\u5e8f","text":"<p>\u4f60\u7684 <code>build</code> \u76ee\u5f55\u4e0b\u6709\u4ee5\u4e0b\u53ef\u6267\u884c\u6587\u4ef6\uff1a</p> <ul> <li><code>example</code>\uff08zlib\u529f\u80fd\u81ea\u6d4bDemo\uff09</li> <li><code>minigzip</code>\uff08gzip\u517c\u5bb9\u6027\u6d4b\u8bd5Demo\uff09</li> <li><code>example64</code> \u548c <code>minigzip64</code>\uff0864\u4f4d\u6587\u4ef6\u652f\u6301\u6d4b\u8bd5\uff09</li> </ul>"},{"location":"lib/2.zlib%E5%8E%8B%E7%BC%A9%E8%A3%A4%E4%BD%BF%E7%94%A8/#1-zlib","title":"\uff081\uff09\u8fd0\u884c zlib \u5b98\u65b9\u4f8b\u7a0b","text":"<p>\u8fd0\u884c example\uff1a</p> <pre><code>./example\n</code></pre> <ul> <li>\u5982\u679c\u4e00\u5207\u6b63\u5e38\uff0c\u8f93\u51fa\u4f1a\u5305\u542b <code>zlib version x.x.x = 0xxxx, compile flags = ...</code></li> <li>\u5e76\u663e\u793a\u4e00\u7cfb\u5217 <code>test passed</code> \u5b57\u6837\u3002</li> </ul> <pre><code>hdj@hdj-virtual-machine:~/stm32-cmake-for-vscode/lib/zlib-1.3.1/build$ ./example\nzlib version 1.3.1 = 0x1310, compile flags = 0xa9\nuncompress(): hello, hello!\ngzread(): hello, hello!\ngzgets() after gzseek:  hello!\ninflate(): hello, hello!\nlarge_inflate(): OK\nafter inflateSync(): hello, hello!\ninflate with dictionary: hello, hello!\nhdj@hdj-virtual-machine:~/stm32-cmake-for-vscode/lib/zlib-1.3.1/build$ \n</code></pre> <p>\u8fd0\u884c example64\uff1a</p> <pre><code>./example64\n</code></pre> <ul> <li>\u8f93\u51fa\u5e94\u8be5\u4e0e\u4e0a\u9762\u7c7b\u4f3c\uff08\u6d4b\u8bd564\u4f4d\u6587\u4ef6\u652f\u6301\uff09\u3002</li> </ul> <pre><code>hdj@hdj-virtual-machine:~/stm32-cmake-for-vscode/lib/zlib-1.3.1/build$ ./example64\nzlib version 1.3.1 = 0x1310, compile flags = 0xa9\nuncompress(): hello, hello!\ngzread(): hello, hello!\ngzgets() after gzseek:  hello!\ninflate(): hello, hello!\nlarge_inflate(): OK\nafter inflateSync(): hello, hello!\ninflate with dictionary: hello, hello!\n</code></pre>"},{"location":"lib/2.zlib%E5%8E%8B%E7%BC%A9%E8%A3%A4%E4%BD%BF%E7%94%A8/#2-minigzip","title":"\uff082\uff09\u8fd0\u884c minigzip \u6d4b\u8bd5\u538b\u7f29/\u89e3\u538b","text":"<p>\u538b\u7f29\u4e00\u4e2a\u6587\u4ef6\uff1a</p> <ul> <li>\u538b\u7f29\u540e\u4f1a\u5220\u9664\u6e90\u6587\u4ef6</li> </ul> <pre><code>echo \"hello zlib\" &gt; test.txt\n./minigzip test.txt\n</code></pre> <ul> <li>\u5f97\u5230 <code>test.txt.gz</code></li> </ul> <p></p> <p>\u89e3\u538b\uff1a</p> <pre><code>./minigzip -d test.txt.gz\ncat test.txt\n</code></pre> <ul> <li>\u4f1a\u5f97\u5230 <code>test.txt</code>\uff08\u5185\u5bb9\u548c\u539f\u6765\u4e00\u6837\uff09</li> </ul> <pre><code>hdj@hdj-virtual-machine:~/stm32-cmake-for-vscode/lib/zlib-1.3.1/build$ ./minigzip -d test.txt.gz\nhdj@hdj-virtual-machine:~/stm32-cmake-for-vscode/lib/zlib-1.3.1/build$ ls\nCMakeCache.txt  CMakeFiles  cmake_install.cmake  CTestTestfile.cmake  example  example64  foo.gz  libz.a  libz.so  libz.so.1  libz.so.1.3.1  Makefile  minigzip  minigzip64  test.txt  zconf.h  zlib.pc\nhdj@hdj-virtual-machine:~/stm32-cmake-for-vscode/lib/zlib-1.3.1/build$ cat test.txt\nhello zlib\n</code></pre> <p>zlib \u9ed8\u8ba4\u53ea\u9700\u8981\u8fd0\u884c <code>example</code> \u548c <code>minigzip</code> \u5c31\u53ef\u4ee5\u9a8c\u8bc1\u57fa\u672c\u529f\u80fd\u3002</p>"},{"location":"lib/2.zlib%E5%8E%8B%E7%BC%A9%E8%A3%A4%E4%BD%BF%E7%94%A8/#_3","title":"\u6838\u5fc3\u6587\u4ef6\u4ecb\u7ecd","text":"<p>\u76f4\u63a5\u770bcamke\u6587\u4ef6\u4e2d\u90a3\u4e9b\u6587\u4ef6\u53c2\u4e0e\u4e86\u7f16\u8bd1</p> <pre><code>set(ZLIB_SRCS\n    adler32.c\n    compress.c\n    crc32.c\n    deflate.c\n    gzclose.c\n    gzlib.c\n    gzread.c\n    gzwrite.c\n    inflate.c\n    infback.c\n    inftrees.c\n    inffast.c\n    trees.c\n    uncompr.c\n    zutil.c\n)\n</code></pre>"},{"location":"lib/2.zlib%E5%8E%8B%E7%BC%A9%E8%A3%A4%E4%BD%BF%E7%94%A8/#1-adler32c","title":"1. adler32.c","text":"<ul> <li>\u529f\u80fd\uff1a\u5b9e\u73b0 Adler-32 \u6821\u9a8c\u7b97\u6cd5\uff08\u4e00\u4e2a\u5feb\u901f\u7684\u6d41\u5f0f\u6821\u9a8c\u7801\u7b97\u6cd5\uff09</li> <li>\u7528\u9014\uff1a\u4e3a\u538b\u7f29\u6d41\u548c\u6570\u636e\u5757\u751f\u6210\u6821\u9a8c\u503c\uff0c\u68c0\u6d4b\u6570\u636e\u5b8c\u6574\u6027</li> </ul>"},{"location":"lib/2.zlib%E5%8E%8B%E7%BC%A9%E8%A3%A4%E4%BD%BF%E7%94%A8/#2-compressc","title":"2. compress.c","text":"<ul> <li>\u529f\u80fd\uff1a\u63d0\u4f9b zlib \u9ad8\u5c42\u63a5\u53e3\u7684\u538b\u7f29\u51fd\u6570\uff08\u5982 <code>compress()</code>\uff09</li> <li>\u7528\u9014\uff1a\u5c01\u88c5\u5e95\u5c42 deflate \u7b97\u6cd5\uff0c\u4e3a\u7528\u6237\u63d0\u4f9b\u7b80\u5355\u7684\u538b\u7f29 API</li> </ul>"},{"location":"lib/2.zlib%E5%8E%8B%E7%BC%A9%E8%A3%A4%E4%BD%BF%E7%94%A8/#3-crc32c","title":"3. crc32.c","text":"<ul> <li>\u529f\u80fd\uff1a\u5b9e\u73b0 CRC32 \u6821\u9a8c\u7b97\u6cd5</li> <li>\u7528\u9014\uff1a\u751f\u6210\u66f4\u5f3a\u768432\u4f4d\u6570\u636e\u6821\u9a8c\u7801\uff0c\u5e38\u7528\u4e8e gzip\u3001zip\u3001png \u7b49\u683c\u5f0f\u7684\u6570\u636e\u5b8c\u6574\u6027\u6821\u9a8c</li> </ul>"},{"location":"lib/2.zlib%E5%8E%8B%E7%BC%A9%E8%A3%A4%E4%BD%BF%E7%94%A8/#4-deflatec","title":"4. deflate.c","text":"<ul> <li>\u529f\u80fd\uff1a\u6838\u5fc3\u538b\u7f29\u7b97\u6cd5\uff08deflate\uff09</li> <li>\u7528\u9014\uff1a\u5b9e\u73b0 LZ77 + Huffman \u7f16\u7801\u538b\u7f29\uff0czlib \u7684\u201c\u538b\u7f29\u5fc3\u810f\u201d\uff0c\u5927\u90e8\u5206\u6570\u636e\u538b\u7f29\u903b\u8f91\u90fd\u5728\u8fd9\u91cc</li> </ul>"},{"location":"lib/2.zlib%E5%8E%8B%E7%BC%A9%E8%A3%A4%E4%BD%BF%E7%94%A8/#5-gzclosec","title":"5. gzclose.c","text":"<ul> <li>\u529f\u80fd\uff1a<code>.gz</code> \u6587\u4ef6\u9ad8\u5c42\u63a5\u53e3\u7684\u5173\u95ed\u64cd\u4f5c</li> <li>\u7528\u9014\uff1a\u5b9e\u73b0 <code>gzclose()</code>\uff0c\u7528\u4e8e\u5173\u95ed\u538b\u7f29\u6587\u4ef6\u6d41\uff0c\u91ca\u653e\u76f8\u5173\u8d44\u6e90</li> </ul>"},{"location":"lib/2.zlib%E5%8E%8B%E7%BC%A9%E8%A3%A4%E4%BD%BF%E7%94%A8/#6-gzlibc","title":"6. gzlib.c","text":"<ul> <li>\u529f\u80fd\uff1a<code>.gz</code> \u6587\u4ef6\u8bfb\u5199\u7684\u4e3b\u5e93\u4ee3\u7801</li> <li>\u7528\u9014\uff1a\u5c01\u88c5\u5e95\u5c42\u538b\u7f29/\u89e3\u538b\uff0c\u5bf9\u5e94 <code>gzopen()</code>\u3001<code>gzread()</code>\u3001<code>gzwrite()</code> \u7b49 API\uff0c\u5b9e\u73b0 <code>.gz</code> \u6587\u4ef6\u7684\u64cd\u4f5c</li> </ul>"},{"location":"lib/2.zlib%E5%8E%8B%E7%BC%A9%E8%A3%A4%E4%BD%BF%E7%94%A8/#7-gzreadc","title":"7. gzread.c","text":"<ul> <li>\u529f\u80fd\uff1a<code>.gz</code> \u6587\u4ef6\u7684\u8bfb\u53d6\u5b9e\u73b0</li> <li>\u7528\u9014\uff1a\u5904\u7406 <code>.gz</code> \u6587\u4ef6\u6d41\u7684\u89e3\u538b\u548c\u6570\u636e\u8bfb\u53d6\uff0c\u89e3\u7801\u538b\u7f29\u6570\u636e</li> </ul>"},{"location":"lib/2.zlib%E5%8E%8B%E7%BC%A9%E8%A3%A4%E4%BD%BF%E7%94%A8/#8-gzwritec","title":"8. gzwrite.c","text":"<ul> <li>\u529f\u80fd\uff1a<code>.gz</code> \u6587\u4ef6\u7684\u5199\u5165\u5b9e\u73b0</li> <li>\u7528\u9014\uff1a\u5904\u7406 <code>.gz</code> \u6587\u4ef6\u6d41\u7684\u538b\u7f29\u548c\u6570\u636e\u5199\u5165\uff0c\u7f16\u7801\u5e76\u4fdd\u5b58\u6570\u636e</li> </ul>"},{"location":"lib/2.zlib%E5%8E%8B%E7%BC%A9%E8%A3%A4%E4%BD%BF%E7%94%A8/#9-inflatec","title":"9. inflate.c","text":"<ul> <li>\u529f\u80fd\uff1a\u6838\u5fc3\u89e3\u538b\u7f29\u7b97\u6cd5\uff08inflate\uff09</li> <li>\u7528\u9014\uff1a\u5b9e\u73b0 deflate \u683c\u5f0f\u7684\u89e3\u7801\u4e0e\u89e3\u538b\uff0c\u662f zlib \u7684\u201c\u89e3\u538b\u5fc3\u810f\u201d\uff0c\u5bf9\u5e94\u6d41\u5f0f\u89e3\u538b\u64cd\u4f5c</li> </ul>"},{"location":"lib/2.zlib%E5%8E%8B%E7%BC%A9%E8%A3%A4%E4%BD%BF%E7%94%A8/#10-infbackc","title":"10. infback.c","text":"<ul> <li>\u529f\u80fd\uff1a\u7279\u6b8a\u7684\u201c\u5411\u540e\u201d\u89e3\u538b\u7b97\u6cd5\uff08backwards inflate\uff09</li> <li>\u7528\u9014\uff1a\u4e3a\u9700\u8981\u81ea\u5b9a\u4e49\u8f93\u5165\u8f93\u51fa\uff08\u5982\u5d4c\u5165\u5f0f\u6d41\u5f0f\u89e3\u538b\uff09\u63d0\u4f9b\u66f4\u7075\u6d3b\u7684 inflate \u63a5\u53e3\uff08<code>inflateBack</code>\uff09</li> </ul>"},{"location":"lib/2.zlib%E5%8E%8B%E7%BC%A9%E8%A3%A4%E4%BD%BF%E7%94%A8/#11-inftreesc","title":"11. inftrees.c","text":"<ul> <li>\u529f\u80fd\uff1aHuffman \u6811\u7684\u6784\u5efa\u548c\u5904\u7406</li> <li>\u7528\u9014\uff1a\u652f\u6301 deflate/inflate \u7684 Huffman \u7f16\u7801/\u89e3\u7801\u6811\u7ba1\u7406\uff08\u538b\u7f29\u7387\u4f18\u5316\u548c\u89e3\u538b\u6548\u7387\u63d0\u5347\uff09</li> </ul>"},{"location":"lib/2.zlib%E5%8E%8B%E7%BC%A9%E8%A3%A4%E4%BD%BF%E7%94%A8/#12-inffastc","title":"12. inffast.c","text":"<ul> <li>\u529f\u80fd\uff1a\u52a0\u901f\u7248\u7684 inflate \u89e3\u7801\u5b9e\u73b0</li> <li>\u7528\u9014\uff1a\u4e3a inflate \u64cd\u4f5c\u63d0\u4f9b\u5feb\u901f\u8def\u5f84\uff0c\u63d0\u9ad8\u89e3\u538b\u901f\u5ea6</li> </ul>"},{"location":"lib/2.zlib%E5%8E%8B%E7%BC%A9%E8%A3%A4%E4%BD%BF%E7%94%A8/#13-treesc","title":"13. trees.c","text":"<ul> <li>\u529f\u80fd\uff1aHuffman \u6811\u7684\u751f\u6210\u3001\u7ba1\u7406\u548c\u4f18\u5316</li> <li>\u7528\u9014\uff1a\u652f\u6301\u538b\u7f29\u7b97\u6cd5\u4e2d\u7684\u52a8\u6001/\u9759\u6001\u6811\u6784\u5efa\uff0c\u51b3\u5b9a\u6570\u636e\u5982\u4f55\u7f16\u7801\u4ee5\u83b7\u5f97\u6700\u4f18\u538b\u7f29\u7387</li> </ul>"},{"location":"lib/2.zlib%E5%8E%8B%E7%BC%A9%E8%A3%A4%E4%BD%BF%E7%94%A8/#14-uncomprc","title":"14. uncompr.c","text":"<ul> <li>\u529f\u80fd\uff1a\u9ad8\u5c42\u201c\u89e3\u538b\u201d\u63a5\u53e3\uff08\u5982 <code>uncompress()</code>\uff09</li> <li>\u7528\u9014\uff1a\u4e3a\u7528\u6237\u63d0\u4f9b\u7b80\u5355\u7684\u89e3\u538b\u7f29\u51fd\u6570\uff0c\u76f4\u63a5\u8c03\u7528\u5e95\u5c42 inflate \u7b97\u6cd5</li> </ul>"},{"location":"lib/2.zlib%E5%8E%8B%E7%BC%A9%E8%A3%A4%E4%BD%BF%E7%94%A8/#15-zutilc","title":"15. zutil.c","text":"<ul> <li>\u529f\u80fd\uff1azlib \u5185\u90e8\u5de5\u5177\u51fd\u6570\uff08\u901a\u7528\u652f\u6301\uff09</li> <li>\u7528\u9014\uff1a\u5305\u542b\u5185\u5b58\u7ba1\u7406\u3001\u9519\u8bef\u5904\u7406\u3001\u5b57\u8282\u5e8f\u8f6c\u6362\u7b49 zlib \u516c\u7528\u8f85\u52a9\u51fd\u6570</li> </ul>"},{"location":"lib/2.zlib%E5%8E%8B%E7%BC%A9%E8%A3%A4%E4%BD%BF%E7%94%A8/#_4","title":"\u6838\u5fc3\u6587\u4ef6\u603b\u7ed3","text":"<ul> <li>deflate.c/inflate.c\uff1a\u538b\u7f29\u4e0e\u89e3\u538b\u6838\u5fc3</li> <li>crc32.c/adler32.c\uff1a\u6570\u636e\u6821\u9a8c\u6838\u5fc3</li> <li>gzlib.c/gzread.c/gzwrite.c/gzclose.c\uff1a<code>.gz</code> \u6587\u4ef6\u64cd\u4f5c\u63a5\u53e3</li> <li>compress.c/uncompr.c\uff1a\u7b80\u5355\u6613\u7528\u7684\u9ad8\u5c42\uff08\u5355\u6b21\uff09\u538b\u7f29\u89e3\u538bAPI</li> <li>inftrees.c/trees.c/inffast.c/infback.c\uff1aHuffman\u6811\u7b97\u6cd5\u548c\u5feb\u901f\u8def\u5f84\u3001\u7075\u6d3b\u7684\u6d41\u5f0f\u652f\u6301</li> <li>zutil.c\uff1a\u5185\u90e8\u901a\u7528\u5de5\u5177</li> </ul>"},{"location":"lib/2.zlib%E5%8E%8B%E7%BC%A9%E8%A3%A4%E4%BD%BF%E7%94%A8/#_5","title":"\u5b98\u65b9\u6d4b\u8bd5\u6587\u4ef6","text":"<ol> <li><code>infcover.c</code> \u2014\u2014 inflate \u8986\u76d6\u7387\u6d4b\u8bd5\u7a0b\u5e8f</li> </ol>"},{"location":"lib/2.zlib%E5%8E%8B%E7%BC%A9%E8%A3%A4%E4%BD%BF%E7%94%A8/#_6","title":"\u4f5c\u7528\uff1a","text":"<ul> <li>\u4e13\u95e8\u4e3a\u6d4b\u8bd5 zlib \u7684\u89e3\u538b\uff08inflate\uff09\u76f8\u5173\u4ee3\u7801\u7684\u8986\u76d6\u7387\u800c\u5199\u3002</li> <li>\u7528\u4e8e zlib \u5b98\u65b9 CI \u6216\u5f00\u53d1\u4eba\u5458\uff0c\u786e\u4fdd\u5404\u79cd\u4ee3\u7801\u8def\u5f84\u3001\u8fb9\u754c\u3001\u5f02\u5e38\u548c corner case \u90fd\u88ab\u6d4b\u8bd5\u5230\u3002</li> </ul>"},{"location":"lib/2.zlib%E5%8E%8B%E7%BC%A9%E8%A3%A4%E4%BD%BF%E7%94%A8/#_7","title":"\u4e3b\u8981\u5185\u5bb9\u4e0e\u7ed3\u6784\uff1a","text":"<ul> <li>\u81ea\u5b9a\u4e49\u5185\u5b58\u5206\u914d\u8ddf\u8e2a\uff08mem_setup/mem_limit/mem_used/mem_high/mem_done\uff09\uff1a</li> <li>\u68c0\u6d4b\u5185\u5b58\u5206\u914d/\u91ca\u653e\u7684\u6b63\u786e\u6027\uff0c\u67e5\u5185\u5b58\u6cc4\u6f0f\u3001\u975e\u6cd5\u91ca\u653e\u7b49\u3002</li> <li>\u4e00\u7cfb\u5217\u7279\u6b8a\u8f93\u5165\u6784\u9020\u548c\u89e3\u538b\u7528\u4f8b\uff08\u5982 bad header\u3001bad method\u3001\u9700\u8981\u5b57\u5178\u3001\u5185\u5b58\u9650\u5236\u7b49\uff09\u3002</li> <li>\u591a\u79cd inflate \u521d\u59cb\u5316\u53c2\u6570\uff0c\u8986\u76d6\u6240\u6709 inflate* \u7cfb\u5217\u51fd\u6570\u53ca\u4e0d\u540c\u7a97\u53e3\u5927\u5c0f\u3001header\u3001\u5b57\u5178\u76f8\u5173\u3001buffer \u884c\u4e3a\u7b49\u3002</li> <li>\u76f4\u63a5\u8c03\u7528 zlib \u5185\u90e8\u51fd\u6570\uff08\u5982 inflate_table\uff09\uff0c\u751a\u81f3\u5305\u62ec\u90e8\u5206\u672a\u5bfc\u51fa\u7684 API\u3002</li> <li>\u4e3b\u8981\u7528\u4e8e\u81ea\u52a8\u5316\u6d4b\u8bd5\u548c\u5f00\u53d1\u8005\u8c03\u8bd5\uff0c\u4e0d\u5efa\u8bae\u666e\u901a\u7528\u6237\u6216\u5d4c\u5165\u5f0f\u76f4\u63a5\u79fb\u690d\u3002</li> </ul>"},{"location":"lib/2.zlib%E5%8E%8B%E7%BC%A9%E8%A3%A4%E4%BD%BF%E7%94%A8/#_8","title":"\u5178\u578b\u573a\u666f\uff1a","text":"<ul> <li>\u60f3\u6539 zlib \u7684\u6e90\u7801\uff0c\u6216\u8005\u505a\u201c\u5168\u8def\u5f84\u5355\u5143\u6d4b\u8bd5\u201d\uff0c\u8fd9\u4e2a\u7a0b\u5e8f\u53ef\u4ee5\u5e2e\u52a9\u4f60\u53d1\u73b0\u89e3\u538b\u76f8\u5173\u7684\u6781\u7aef/\u9519\u8bef\u5904\u7406\u662f\u5426\u88ab\u8986\u76d6\u3002</li> </ul> <ol> <li><code>minigzip.c</code> \u2014\u2014 \u7b80\u5316\u7248 gzip \u538b\u7f29/\u89e3\u538b\u5de5\u5177</li> </ol> <p>\u4f5c\u7528\uff1a</p> <ul> <li>\u6700\u5c0f\u5b9e\u73b0\u7684 gzip \u547d\u4ee4\u884c\u5de5\u5177\uff0c\u57fa\u4e8e zlib\u3002</li> <li>\u65e2\u80fd\u538b\u7f29\uff08\u751f\u6210 .gz \u6587\u4ef6\uff09\uff0c\u4e5f\u80fd\u89e3\u538b .gz \u6587\u4ef6\u3002</li> <li>\u4e3b\u8981\u7528\u6765\u6f14\u793a zlib \u7684\u5b9e\u9645\u6587\u4ef6\u6d41\u538b\u7f29/\u89e3\u538b\u63a5\u53e3\uff08gz* \u7cfb\u5217\u51fd\u6570\uff09\u7528\u6cd5\u3002</li> <li>\u4e0d\u540c\u4e8e\u5b98\u65b9 gzip\uff0cminigzip \u662f\u4e2a\u6559\u5b66/\u6d4b\u8bd5\u5de5\u5177\uff0c\u4e0d\u542b\u590d\u6742\u53c2\u6570\u548c\u5e73\u53f0\u517c\u5bb9\u6027\uff0c\u4ec5\u4e3a\u793a\u4f8b\u7528\u9014\u3002</li> </ul> <p>\u4e3b\u8981\u5185\u5bb9\u4e0e\u7ed3\u6784\uff1a</p> <ul> <li>\u538b\u7f29/\u89e3\u538b\u6838\u5fc3\u6d41\u7a0b\uff1a</li> <li><code>gz_compress()</code>\uff1a\u5c06\u6587\u4ef6/\u6d41\u538b\u7f29\u6210 .gz\u3002</li> <li><code>gz_uncompress()</code>\uff1a\u5c06 .gz \u6587\u4ef6\u89e3\u538b\u6210\u666e\u901a\u6587\u4ef6/\u6d41\u3002</li> <li>\u4e3b\u51fd\u6570\u652f\u6301 gzip/gunzip/zcat/minigzip \u591a\u79cd\u884c\u4e3a\uff1a</li> <li>\u652f\u6301\u5e38\u7528\u53c2\u6570\uff08\u5982 -c\u3001-d\u3001-1...-9 \u538b\u7f29\u7ea7\u522b\uff09\u3002</li> <li>\u652f\u6301 MMAP \u4f18\u5316\uff08\u53ef\u9009\uff0c\u7528\u4e8e\u4e00\u6b21 mmap \u8bfb\u53d6\u6574\u4e2a\u6587\u4ef6\uff0c\u9002\u5408\u5927\u6587\u4ef6\uff09\u3002</li> <li>\u6587\u4ef6\u548c\u7ba1\u9053\u6a21\u5f0f\u517c\u5bb9\uff1a\u53ef\u7528\u4e8e\u666e\u901a\u6587\u4ef6\u548c\u6807\u51c6\u8f93\u5165/\u8f93\u51fa\u6d41\u538b\u7f29\u3002</li> <li>\u79fb\u690d\u6027\u597d\uff0c\u4ee3\u7801\u98ce\u683c\u63a5\u8fd1 POSIX\u3002</li> </ul> <p>\u5178\u578b\u573a\u666f\uff1a</p> <ul> <li>\u60f3\u7528 zlib \u4f5c\u4e3a\u540e\u7aef\u5199\u81ea\u5df1\u7684\u538b\u7f29/\u89e3\u538b\u5de5\u5177\uff0c\u53ef\u4ee5\u7167\u7740 minigzip \u5b66\u4e60\u3002</li> <li>\u60f3\u4e86\u89e3 gz* API \u7684\u5b9e\u9645\u7528\u6cd5\u3002</li> </ul> <ol> <li><code>example.c</code> \u2014\u2014 zlib API \u7efc\u5408\u529f\u80fd\u6f14\u793a\u6837\u4f8b</li> </ol> <p>\u4f5c\u7528\uff1a</p> <ul> <li>zlib \u5b98\u65b9\u6700\u5168\u529f\u80fd\u6f14\u793a\u4ee3\u7801\uff0c\u5305\u542b\u5185\u5b58\u538b\u7f29/\u89e3\u538b\u3001\u6587\u4ef6\u538b\u7f29/\u89e3\u538b\u3001\u6d41\u6a21\u5f0f\u3001\u5e26\u5b57\u5178\u3001flush/sync\u3001\u5404\u79cd buffer \u7b56\u7565\u7b49\u5168\u90e8\u4e3b\u6d41 API \u7528\u6cd5\u3002</li> <li>\u9002\u5408\u4f5c\u4e3a\u201czlib \u7f16\u7a0b\u5165\u95e8\u6559\u6750\u201d\u6216\u6700\u5c0f\u53ef\u8fd0\u884c\u6837\u4f8b\u3002</li> </ul> <p>\u4e3b\u8981\u5185\u5bb9\u4e0e\u7ed3\u6784\uff1a</p> <ul> <li>compress()/uncompress()\uff1a\u4e00\u6b65\u5230\u4f4d\u7684\u5185\u5b58\u538b\u7f29/\u89e3\u538b\u3002</li> <li>deflate/inflate \u6d41\u6a21\u5f0f\uff1a\u624b\u52a8\u7ba1\u7406\u8f93\u5165/\u8f93\u51fa buffer\uff0c\u63a7\u5236 flush/sync \u884c\u4e3a\uff0c\u517c\u5bb9\u9ad8\u7ea7\u7528\u6cd5\u3002</li> <li>.gz \u6587\u4ef6\u8bfb\u5199\uff1a\u7528 gzopen/gzread/gzwrite/gzseek/gzgetc/gzputs/gzprintf/gzgets \u7b49 API \u64cd\u4f5c gzip \u6587\u4ef6\u3002</li> <li>\u5e26\u5b57\u5178\u538b\u7f29/\u89e3\u538b\uff1a\u5c55\u793a deflateSetDictionary/inflateSetDictionary \u7684\u7528\u6cd5\u3002</li> <li>main() \u6309\u987a\u5e8f\u6d4b\u8bd5\u4e0a\u8ff0\u6240\u6709\u529f\u80fd\u70b9\uff0c\u5e76\u8f93\u51fa\u7ed3\u679c\u3002</li> <li>\u4ee3\u7801\u6ce8\u91ca\u6e05\u6670\uff0c\u975e\u5e38\u9002\u5408\u5d4c\u5165\u5f0f\u6216\u65b0\u624b\u79fb\u690d\u53c2\u8003\u3002</li> </ul> <p>\u5178\u578b\u573a\u666f\uff1a</p> <ul> <li>\u5d4c\u5165\u5f0f\u5f00\u53d1\u9700\u8981\u5185\u5b58\u538b\u7f29/\u89e3\u538b\u529f\u80fd\uff0c\u53ef\u4ee5\u6458\u53d6\u76f8\u5e94\u90e8\u5206\u76f4\u63a5\u590d\u7528\u3002</li> <li>\u5b66\u4e60 zlib API \u4e4b\u95f4\u7684\u5173\u7cfb\u3001\u8c03\u7528\u6d41\u7a0b\uff0c\u8c03\u8bd5 zlib \u5e93\u3002</li> <li>\u9a8c\u8bc1\u81ea\u5df1\u7f16\u8bd1\u7684 zlib \u5e93\u57fa\u672c\u529f\u80fd\u662f\u5426\u6b63\u5e38\u3002</li> </ul> <p>\u5b98\u65b9\u6d4b\u8bd5\u6587\u4ef6\u603b\u7ed3\u4e0e\u9002\u7528\u5efa\u8bae</p> <ul> <li>infcover.c\uff1a\u9762\u5411 zlib \u5185\u90e8\u5f00\u53d1/\u6d4b\u8bd5\uff0c\u81ea\u52a8\u5316\u5168\u8986\u76d6\u89e3\u538b\u4ee3\u7801\u8def\u5f84\uff0c\u4e0d\u7528\u4e8e\u5b9e\u9645\u6570\u636e\u538b\u7f29\u4efb\u52a1\u3002</li> <li>minigzip.c\uff1a\u529f\u80fd\u7b80\u660e\u7684 gzip \u547d\u4ee4\u884c\u5de5\u5177 demo\uff0c\u9002\u5408\u5b66\u4e60\u6587\u4ef6\u7ea7\u6d41\u538b\u7f29/\u89e3\u538b\u548c gz* API\u3002</li> <li>example.c\uff1azlib \u5404\u79cd\u5178\u578b\u7528\u6cd5\u7684\u5b8c\u6574\u5c55\u793a\uff0c\u6700\u9002\u5408\u505a\u5165\u95e8\u6837\u4f8b\u3001\u5d4c\u5165\u5f0f\u79fb\u690d\u53c2\u8003\u3001\u529f\u80fd\u9a8c\u8bc1\u3002</li> </ul>"},{"location":"lib/3.miniz%E5%8E%8B%E7%BC%A9%E5%BA%93%E4%BD%BF%E7%94%A8/","title":"3.miniz\u538b\u7f29\u5e93\u4f7f\u7528","text":"<p>miniz\uff1azlib \u7684\u6781\u7b80\u5b9e\u73b0\uff0c\u5355\u6587\u4ef6\u3001\u9002\u5408 MCU\u3002</p> <ul> <li>\u4f18\u70b9\uff1a\u53ea\u9700\u4e00\u4e2a\u6e90\u6587\u4ef6\u5373\u53ef\u96c6\u6210\uff0c\u5185\u5b58\u5360\u7528\u4f4e\u3002</li> </ul> <p>https://github.com/richgel999/miniz</p>"},{"location":"lib/3.miniz%E5%8E%8B%E7%BC%A9%E5%BA%93%E4%BD%BF%E7%94%A8/#_1","title":"\u6587\u4ef6\u7ed3\u6784","text":"<p>\u6587\u4ef6\u7ed3\u6784\u770b\u7740\u975e\u5e38\u7b80\u5355\uff0c\u63d0\u4f9b\u4e866\u4e2a\u6d4b\u8bd5\u6587\u4ef6</p> <pre><code>hdj@hdj-virtual-machine:~/stm32-cmake-for-vscode/lib/miniz-3.0.2$ tree -L 2\n.\n\u251c\u2500\u2500 ChangeLog.md\n\u251c\u2500\u2500 examples\n\u2502   \u251c\u2500\u2500 example1.c\n\u2502   \u251c\u2500\u2500 example2.c\n\u2502   \u251c\u2500\u2500 example3.c\n\u2502   \u251c\u2500\u2500 example4.c\n\u2502   \u251c\u2500\u2500 example5.c\n\u2502   \u2514\u2500\u2500 example6.c\n\u251c\u2500\u2500 miniz.c\n\u251c\u2500\u2500 miniz.h\n\u2514\u2500\u2500 readme.md\n\n1 directory, 10 files\n</code></pre> <p>\u6587\u4ef6\u8f83\u5c11\u5c31\u4e0d\u5199cmake\u6587\u4ef6\u4e86\uff0c\u76f4\u63a5\u6d4b\u8bd5, \u6211\u5148\u6539\u4e86\u4e00\u4e0b\u6587\u4ef6\u7ed3\u6784\uff0c\u5982\u4e0b</p> <pre><code>hdj@hdj-virtual-machine:~/stm32-cmake-for-vscode/lib/miniz-3.0.2$ tree -L 2\n.\n\u251c\u2500\u2500 ChangeLog.md\n\u251c\u2500\u2500 examples_src\n\u2502   \u251c\u2500\u2500 example1.c\n\u2502   \u251c\u2500\u2500 example2.c\n\u2502   \u251c\u2500\u2500 example3.c\n\u2502   \u251c\u2500\u2500 example4.c\n\u2502   \u251c\u2500\u2500 example5.c\n\u2502   \u2514\u2500\u2500 example6.c\n\u251c\u2500\u2500 readme.md\n\u2514\u2500\u2500 src\n    \u251c\u2500\u2500 miniz.c\n    \u2514\u2500\u2500 miniz.h\n</code></pre> <p>\u5728miniz-3.0.2\u76ee\u5f55\u4e0b\u76f4\u63a5\u7f16\u8bd1</p> <pre><code>gcc examples_src/example1.c src/miniz.c -I./src -o example1\n</code></pre> <pre><code>hdj@hdj-virtual-machine:~/stm32-cmake-for-vscode/lib/miniz-3.0.2$ gcc examples_src/example1.c src/miniz.c -I./src -o example1\nsrc/miniz.c:3185:9: note: \u2018#pragma message: Using fopen, ftello, fseeko, stat() etc. path for file I/O - this path may not support large files.\u2019\n 3185 | #pragma message(\"Using fopen, ftello, fseeko, stat() etc. path for file I/O - this path may not support large files.\")\n      |         ^~~~~~~\nhdj@hdj-virtual-machine:~/stm32-cmake-for-vscode/lib/miniz-3.0.2$ ls\nChangeLog.md  example1  examples_src  miniz_test.c  readme.md  src\nhdj@hdj-virtual-machine:~/stm32-cmake-for-vscode/lib/miniz-3.0.2$ ./example1\nminiz.c version: 11.0.2\nCompressed from 490 to 81 bytes\nDecompressed from 81 to 490 bytes\nSuccess.\n</code></pre>"},{"location":"lib/3.miniz%E5%8E%8B%E7%BC%A9%E5%BA%93%E4%BD%BF%E7%94%A8/#_2","title":"\u516d\u4e2a\u6d4b\u8bd5\u6587\u4ef6\u89e3\u6790","text":""},{"location":"lib/3.miniz%E5%8E%8B%E7%BC%A9%E5%BA%93%E4%BD%BF%E7%94%A8/#example1c","title":"example1.c","text":"<ul> <li>\u6f14\u793a\u5185\u5bb9\uff1a    \u6700\u7b80\u5355\u7684\u5b57\u7b26\u4e32\u5185\u5b58\u538b\u7f29\u4e0e\u89e3\u538b\u3002    \u4e3b\u8981\u7528 miniz \u7684 <code>compress()</code> \u548c <code>uncompress()</code>\uff08zlib \u517c\u5bb9\u63a5\u53e3\uff09</li> <li>\u6d4b\u8bd5\u91cd\u70b9\uff1a</li> <li>\u5b57\u7b26\u4e32\u538b\u7f29\u540e\u957f\u5ea6/\u89e3\u538b\u540e\u6570\u636e\u6b63\u786e\u6027</li> <li>\u652f\u6301\u7b80\u5355\u6a21\u7cca\u6d4b\u8bd5\uff08\u6545\u610f\u7be1\u6539\u538b\u7f29\u6570\u636e\uff09</li> <li>\u9002\u5408\uff1a\u5feb\u901f\u9a8c\u8bc1 miniz/zlib API \u5728 MCU\u3001\u5d4c\u5165\u5f0f\u73af\u5883\u80fd\u5426\u8dd1\u901a</li> </ul>"},{"location":"lib/3.miniz%E5%8E%8B%E7%BC%A9%E5%BA%93%E4%BD%BF%E7%94%A8/#example2c","title":"example2.c","text":"<ul> <li>\u6f14\u793a\u5185\u5bb9\uff1a    ZIP \u6587\u4ef6\u5f52\u6863\uff08\u538b\u7f29/\u89e3\u538b ZIP \u6587\u4ef6\uff09API \u7528\u6cd5</li> <li>\u6d4b\u8bd5\u91cd\u70b9\uff1a</li> <li>\u6279\u91cf\u5c06\u5185\u5b58\u5b57\u7b26\u4e32\u4f5c\u4e3a\u6587\u4ef6\u52a0\u5165 ZIP \u5305</li> <li>\u6253\u5f00 ZIP \u6587\u4ef6\u904d\u5386\u5185\u5bb9\uff0c\u6309\u6587\u4ef6\u540d\u89e3\u538b\u9a8c\u8bc1\u6570\u636e</li> <li>\u652f\u6301\u76ee\u5f55\u3001\u6587\u4ef6\u6ce8\u91ca</li> <li>\u9002\u5408\uff1a\u6d4b\u8bd5 miniz \u7684 ZIP \u5f52\u6863\u529f\u80fd\u3001ZIP \u6587\u4ef6\u4e92\u64cd\u4f5c\u517c\u5bb9\u6027</li> </ul>"},{"location":"lib/3.miniz%E5%8E%8B%E7%BC%A9%E5%BA%93%E4%BD%BF%E7%94%A8/#example3c","title":"example3.c","text":"<ul> <li>\u6f14\u793a\u5185\u5bb9\uff1a    \u4f7f\u7528 <code>deflate()</code>/<code>inflate()</code> \u5b9e\u73b0\u6587\u4ef6\u538b\u7f29/\u89e3\u538b</li> <li>\u6d4b\u8bd5\u91cd\u70b9\uff1a</li> <li>\u547d\u4ee4\u884c\u5de5\u5177\u6a21\u5f0f\uff1a<code>c</code> \u538b\u7f29\u6587\u4ef6\u3001<code>d</code> \u89e3\u538b\u6587\u4ef6</li> <li>\u652f\u6301\u8c03\u6574\u538b\u7f29\u7b49\u7ea7</li> <li>\u9002\u5408\uff1a\u6a21\u62df\u5b9e\u9645\u6587\u4ef6\u7684\u538b\u7f29/\u89e3\u538b\uff0c\u9a8c\u8bc1\u6d41\u5f0f\u63a5\u53e3\u4e0e\u5927\u6570\u636e\u517c\u5bb9\u6027</li> </ul>"},{"location":"lib/3.miniz%E5%8E%8B%E7%BC%A9%E5%BA%93%E4%BD%BF%E7%94%A8/#example4c","title":"example4.c","text":"<ul> <li>\u6f14\u793a\u5185\u5bb9\uff1a    \u4f7f\u7528\u5e95\u5c42 <code>tinfl_decompress_mem_to_callback()</code> \u63a5\u53e3\uff0c\u5c06\u5185\u5b58\u4e2d\u7684 zlib \u538b\u7f29\u6d41\u89e3\u538b\u5230\u6587\u4ef6</li> <li>\u6d4b\u8bd5\u91cd\u70b9\uff1a</li> <li>\u8bfb\u5165\u6574\u4e2a\u538b\u7f29\u6d41\u5230\u5185\u5b58</li> <li>\u89e3\u538b\u5230\u56de\u8c03\u8f93\u51fa\uff08\u672c\u4f8b\u8f93\u51fa\u5230\u6587\u4ef6\uff09</li> <li>\u9002\u5408\uff1a\u6d4b\u8bd5\u5e95\u5c42 tinfl \u89e3\u538b\u6027\u80fd\u4e0e\u81ea\u5b9a\u4e49\u6570\u636e\u6d41\u89e3\u5305\u80fd\u529b</li> </ul>"},{"location":"lib/3.miniz%E5%8E%8B%E7%BC%A9%E5%BA%93%E4%BD%BF%E7%94%A8/#example5c","title":"example5.c","text":"<ul> <li>\u6f14\u793a\u5185\u5bb9\uff1a    \u6f14\u793a miniz \u6700\u5e95\u5c42\u7684 tdefl_compress()\uff08\u65e0\u52a8\u6001\u5206\u914d\uff0c\u65e0 zlib API/\u65e0 malloc/\u65e0 stdio/\u65e0 archive API\uff09\u548c tinfl_inflate()</li> <li>\u6d4b\u8bd5\u91cd\u70b9\uff1a</li> <li>\u8d85\u4f4e\u4f9d\u8d56\u3001\u9002\u5408\u6700\u6781\u9650\u5d4c\u5165\u5f0f\u73af\u5883</li> <li>\u6587\u4ef6\u538b\u7f29/\u89e3\u538b\u6d41\u5904\u7406\uff0c\u96f6\u52a8\u6001\u5206\u914d</li> <li>\u7528\u6cd5\u975e\u5e38\u7075\u6d3b\u3001\u6548\u7387\u6700\u9ad8</li> <li>\u9002\u5408\uff1a\u8d44\u6e90\u6781\u5ea6\u6709\u9650\u3001\u9700\u8981\u6781\u5c0f\u79fb\u690d\u4f53\u79ef\u7684\u573a\u666f\u6216\u505a\u5e93\u6700\u5e95\u5c42\u6d4b\u8bd5</li> </ul>"},{"location":"lib/3.miniz%E5%8E%8B%E7%BC%A9%E5%BA%93%E4%BD%BF%E7%94%A8/#example6c","title":"example6.c","text":"<ul> <li>\u6f14\u793a\u5185\u5bb9\uff1a    \u6f14\u793a miniz PNG \u5199\u5165\u5668 API\uff0c\u751f\u6210\u66fc\u5fb7\u52c3\u7f57\u7279\u5206\u5f62\u56fe\u7247\u5e76\u4fdd\u5b58\u4e3a PNG \u6587\u4ef6</li> <li>\u6d4b\u8bd5\u91cd\u70b9\uff1a</li> <li>\u56fe\u50cf\u751f\u6210\uff08\u65e0\u5916\u90e8\u4f9d\u8d56\uff09\uff0c\u8272\u5f69\u8f6c\u6362</li> <li>\u8c03\u7528 miniz \u7684 PNG \u5185\u5b58\u5199\u63a5\u53e3\u751f\u6210\u9ad8\u5206\u8fa8\u7387 PNG</li> <li>\u9002\u5408\uff1a\u9a8c\u8bc1 miniz \u7684\u56fe\u7247\u7f16\u7801\u80fd\u529b\u548c\u5185\u5b58/\u8f93\u51fa\u6d41\u63a5\u53e3\uff08\u9700\u8981\u94fe\u63a5 libm\uff09</li> </ul>"},{"location":"lib/3.miniz%E5%8E%8B%E7%BC%A9%E5%BA%93%E4%BD%BF%E7%94%A8/#_3","title":"\u603b\u7ed3\u8868","text":"\u793a\u4f8b \u529f\u80fd/\u6d4b\u8bd5\u70b9 \u7528\u9014/\u573a\u666f example1.c compress/uncompress \u5185\u5b58\u538b\u7f29 \u57fa\u672c\u538b\u7f29\u89e3\u538bAPI\u6d4b\u8bd5\u3001\u5feb\u901f\u9a8c\u8bc1 example2.c ZIP\u5f52\u6863API\uff0c\u6279\u91cf\u52a0\u6587\u4ef6\u3001\u89e3\u5305 \u6587\u4ef6\u5f52\u6863/\u89e3\u5305\u3001\u517c\u5bb9\u6027\u9a8c\u8bc1 example3.c deflate/inflate \u6d41\u5f0f\u6587\u4ef6\u538b\u7f29/\u89e3\u538b \u6587\u4ef6\u538b\u7f29\u89e3\u538b\u547d\u4ee4\u884c\u6a21\u62df\u3001\u6d41API\u6d4b\u8bd5 example4.c tinfl\u5e95\u5c42\u89e3\u538b\uff0c\u5185\u5b58\u6d41\u5230\u6587\u4ef6\u8f93\u51fa \u5e95\u5c42\u6d41\u89e3\u538b/\u81ea\u5b9a\u4e49\u8f93\u51fa\u56de\u8c03 example5.c tdefl/tinfl\u5e95\u5c42\u65e0\u4f9d\u8d56\u538b\u7f29/\u89e3\u538b \u6781\u7b80\u5d4c\u5165\u5f0f\u79fb\u690d\u3001\u96f6\u52a8\u6001\u5206\u914d\u573a\u666f example6.c PNG\u5199\u5165\u5668API+\u5206\u5f62\u56fe\u751f\u6210 \u56fe\u50cf\u7f16\u7801\u80fd\u529b\u3001\u590d\u6742\u6570\u636e\u6d41\u6d4b\u8bd5"},{"location":"linux%E5%90%AF%E5%8A%A8%E6%B5%81%E7%A8%8B/buildroot%E6%A0%B9%E6%96%87%E4%BB%B6%E7%B3%BB%E7%BB%9F%E5%88%B6%E4%BD%9C/","title":"buildroot\u6839\u6587\u4ef6\u7cfb\u7edf\u5236\u4f5c","text":""},{"location":"linux%E5%90%AF%E5%8A%A8%E6%B5%81%E7%A8%8B/buildroot%E6%A0%B9%E6%96%87%E4%BB%B6%E7%B3%BB%E7%BB%9F%E5%88%B6%E4%BD%9C/#buildroot","title":"buildroot\u6839\u6587\u4ef6\u7cfb\u7edf\u5236\u4f5c","text":""},{"location":"linux%E5%90%AF%E5%8A%A8%E6%B5%81%E7%A8%8B/buildroot%E6%A0%B9%E6%96%87%E4%BB%B6%E7%B3%BB%E7%BB%9F%E5%88%B6%E4%BD%9C/#_1","title":"\u524d\u8a00","text":"<p>\u4e00\u822c\u6765\u8bf4\u90fd\u662f\u4f7f\u7528\u52a8\u6001\u5e93\u6765\u505a\uff0c\u4f46\u662f\u4f7f\u7528busybox\u9700\u8981\u624b\u5de5\u53bb\u627e\u52a8\u6001\u5e93\u7684\u4f9d\u8d56\uff0c\u5f88\u96be\u641e\uff0c\u6240\u4ee5\u5c31\u6709\u5176\u4ed6\u6839\u6587\u4ef6\u7cfb\u7edf\u5236\u4f5c\u5de5\u5177\uff0c\u6bd4\u5982Buildroot</p> <ol> <li> <p>BusyBox \u201c\u52a8\u6001\u5e93\u4f9d\u8d56\u201d \u7684\u95ee\u9898</p> </li> <li> <p>\u624b\u52a8\u5236\u4f5c rootfs \u65f6\uff0c\u5982\u679c\u4f60\u7528\u52a8\u6001\u94fe\u63a5\u7f16\u8bd1 BusyBox\uff0c\u5fc5\u987b\u81ea\u5df1\u628a BusyBox \u8fd0\u884c\u65f6\u6240\u9700\u7684\u6240\u6709\u52a8\u6001\u5e93\uff08\u5982 <code>libc.so.6</code>\u3001<code>ld-linux.so.*</code> \u7b49\uff09\u90fd\u627e\u5230\uff0c\u5e76\u62f7\u8d1d\u5230\u6839\u6587\u4ef6\u7cfb\u7edf\u5408\u9002\u76ee\u5f55\uff08\u901a\u5e38 <code>/lib</code> \u6216 <code>/lib64</code>\uff09\u3002</p> </li> <li>\u8fd9\u5c31\u9700\u8981\u4f60\uff1a</li> <li>\u786e\u8ba4 BusyBox \u9700\u8981\u54ea\u4e9b\u5e93\uff08\u53ef\u4ee5\u7528 <code>ldd busybox</code> \u67e5\u770b\uff09\u3002</li> <li>\u786e\u8ba4\u5e93\u7684\u5177\u4f53\u7248\u672c\u548c\u8f6f\u94fe\u63a5\u662f\u5426\u6b63\u786e\u3002</li> <li>\u8fd8\u8981\u8003\u8651\u4f9d\u8d56\u94fe\uff08glibc\u3001libm\u3001ld-linux\u7b49\uff09\uff0c\u7f3a\u4e00\u4e2a\u5c31\u62a5\u9519\u3002</li> <li>\u8fd9\u79cd\u201c\u624b\u5de5\u627e\u5e93\u62f7\u8d1d\u201d\u662f\u521d\u5b66\u8005\u5e38\u89c1\u7684\u9ebb\u70e6\u4e8b\u3002</li> </ol> <ol> <li> <p>Buildroot \u7684\u4f18\u52bf</p> </li> <li> <p>Buildroot \u4e4b\u6240\u4ee5\u66f4\u7b80\u5355\uff0c\u5c31\u5728\u4e8e\u5b83\u662f\u5168\u81ea\u52a8\u6784\u5efa\u73af\u5883\uff1a</p> </li> <li>\u4f60\u5728\u914d\u7f6e Buildroot \u83dc\u5355\u65f6\uff0c\u9009\u4e0a BusyBox\uff08\u9ed8\u8ba4\u5c31\u662f\u52a8\u6001\u5e93\u6a21\u5f0f\uff09\u3001\u9009\u62e9\u5de5\u5177\u94fe\uff0c\u5b83\u81ea\u52a8\u5206\u6790\u4f9d\u8d56\uff0c\u628a\u6240\u9700\u7684\u5e93\u90fd\u81ea\u52a8\u653e\u8fdb\u4f60\u7684 rootfs\u3002</li> <li>\u4f60\u65e0\u9700\u624b\u5de5\u627e\u5e93\u3002</li> <li>Buildroot \u4f1a\u81ea\u52a8\u641e\u5b9a\uff1a<ul> <li>libc\u3001libm\u3001ld-linux \u7b49\u6240\u6709\u4f9d\u8d56\u5e93</li> <li>\u5fc5\u8981\u7684\u5e93\u6587\u4ef6\u8f6f\u94fe\u63a5</li> <li>\u76ee\u5f55\u7ed3\u6784</li> <li>\u751a\u81f3\u52a8\u6001\u5e93\u4f9d\u8d56\u7684\u540e\u7eed\u4f9d\u8d56\uff08\u9012\u5f52\u5904\u7406\uff09</li> </ul> </li> <li>\u53ea\u8981\u4f60\u7684 buildroot \u914d\u7f6e\u6ca1\u95ee\u9898\uff0c\u7f16\u8bd1\u5b8c\u7684 rootfs \u7528\u4e8e\u76ee\u6807\u677f\uff08\u67b6\u6784\u4e00\u81f4\uff09\uff0c\u901a\u5e38\u4e0d\u4f1a\u9047\u5230\u201c\u627e\u4e0d\u5230\u5e93\u201d\u7684\u9519\u8bef\u3002</li> </ol> <ol> <li> <p>\u4e3a\u4ec0\u4e48 Buildroot \u80fd\u81ea\u52a8\u641e\u5b9a\uff1f</p> </li> <li> <p>Buildroot \u61c2\u5f97\u4f60\u7684\u5de5\u5177\u94fe\u7528\u7684\u662f\u54ea\u79cd C \u5e93\uff08\u5982 glibc\u3001musl\u3001uClibc\uff09\uff0c\u5e76\u77e5\u9053\u5b83\u4eec\u8981\u590d\u5236\u54ea\u4e9b\u5e93\u6587\u4ef6\u5230 rootfs\u3002</p> </li> <li>\u540c\u65f6\uff0cBuildroot \u7528\u201c\u5305\u63cf\u8ff0+\u4f9d\u8d56\u81ea\u52a8\u89e3\u6790\u201d\u673a\u5236\uff0c\u786e\u4fdd\u6240\u9009 BusyBox \u7684\u4f9d\u8d56\u4e00\u5e76\u5904\u7406\u3002</li> <li>\u6240\u4ee5\u6700\u7ec8\u751f\u6210\u7684\u6587\u4ef6\u7cfb\u7edf\uff0c\u5df2\u7ecf\u81ea\u5e26\u5b8c\u6574\u52a8\u6001\u5e93\u94fe\u3002</li> </ol> <ol> <li>\u603b\u7ed3\uff1a\u624b\u5de5 vs Buildroot</li> </ol> \u65b9\u5f0f \u4f9d\u8d56\u5e93\u5904\u7406 \u5bb9\u6613\u51fa\u9519 \u63a8\u8350\u7528\u9014 \u624b\u5de5\u5236\u4f5c rootfs \u9700\u81ea\u5df1\u67e5\u627e\u3001\u590d\u5236\u6240\u6709\u4f9d\u8d56\u5e93 \u5bb9\u6613 \u6559\u5b66/\u6781\u7b80\u5b9e\u9a8c Buildroot \u81ea\u52a8\u5206\u6790\u3001\u590d\u5236\u6240\u6709\u4f9d\u8d56\u5e93 \u5f88\u5c11 \u5de5\u7a0b/\u91cf\u4ea7/\u5f00\u53d1 <ol> <li> <p>\u8865\u5145</p> </li> <li> <p>Yocto \u4e5f\u6709\u7c7b\u4f3c\u673a\u5236\uff0c\u4f46\u6bd4 Buildroot \u66f4\u7075\u6d3b\u3001\u590d\u6742\u3001\u53ef\u81ea\u5b9a\u4e49\u3002</p> </li> <li>\u5982\u679c\u672a\u6765\u60f3\u8f7b\u677e\u52a0\u5305\u6216\u5347\u7ea7\uff0cBuildroot \u7684\u81ea\u52a8\u5316\u5e26\u6765\u7684\u7b80\u6d01\u3001\u53ef\u9760\u4f53\u9a8c\uff0c\u662f\u624b\u52a8\u65b9\u5f0f\u5f88\u96be\u6bd4\u7684\u3002</li> </ol> <p>\u7ed3\u8bba</p> <p>Buildroot \u6781\u5927\u7b80\u5316\u4e86\u52a8\u6001\u5e93\u4f9d\u8d56\u5904\u7406\u6d41\u7a0b\uff0c\u751f\u6210\u7684 rootfs \u76f4\u63a5\u53ef\u7528\uff0c\u7701\u53bb\u624b\u5de5\u67e5\u627e\u548c\u590d\u5236\u52a8\u6001\u5e93\u7684\u9ebb\u70e6\uff0c\u975e\u5e38\u9002\u5408\u5d4c\u5165\u5f0fLinux\u5b9e\u9645\u9879\u76ee\u3002</p>"},{"location":"linux%E5%90%AF%E5%8A%A8%E6%B5%81%E7%A8%8B/buildroot%E6%A0%B9%E6%96%87%E4%BB%B6%E7%B3%BB%E7%BB%9F%E5%88%B6%E4%BD%9C/#buildroot_1","title":"Buildroot\u4f7f\u7528\u65b9\u6cd5","text":""},{"location":"linux%E5%90%AF%E5%8A%A8%E6%B5%81%E7%A8%8B/buildroot%E6%A0%B9%E6%96%87%E4%BB%B6%E7%B3%BB%E7%BB%9F%E5%88%B6%E4%BD%9C/#1-buildroot","title":"1. \u83b7\u53d6 Buildroot \u6e90\u7801","text":"<p>\u5b98\u7f51\u4e0b\u8f7d\u7a33\u5b9a\u7248\u6216\u4f7f\u7528 git\uff1a</p> <pre><code>sh\u590d\u5236\u7f16\u8f91git clone https://git.busybox.net/buildroot\ncd buildroot\n# \u6216\u4e0b\u8f7d\u6307\u5b9a\u7248\u672c\n# wget https://buildroot.org/downloads/buildroot-2024.02.tar.gz\n# tar xzf buildroot-2024.02.tar.gz\n</code></pre>"},{"location":"linux%E5%90%AF%E5%8A%A8%E6%B5%81%E7%A8%8B/buildroot%E6%A0%B9%E6%96%87%E4%BB%B6%E7%B3%BB%E7%BB%9F%E5%88%B6%E4%BD%9C/#2","title":"2. \u9009\u62e9\u76ee\u6807\u5e73\u53f0\uff08\u67b6\u6784\u548c\u5904\u7406\u5668\uff09","text":"<p>Buildroot \u652f\u6301 ARM\u3001MIPS\u3001RISC-V\u3001x86\u3001PowerPC \u7b49\u3002\u53ef\u9009\u9884\u7f6e\u677f\u5361\uff0c\u4e5f\u53ef\u81ea\u5b9a\u4e49\u3002</p>"},{"location":"linux%E5%90%AF%E5%8A%A8%E6%B5%81%E7%A8%8B/buildroot%E6%A0%B9%E6%96%87%E4%BB%B6%E7%B3%BB%E7%BB%9F%E5%88%B6%E4%BD%9C/#3-buildroot","title":"3. \u914d\u7f6e Buildroot","text":"<pre><code>make menuconfig\n</code></pre> <p>\u4f1a\u5f39\u51fa\u56fe\u5f62\u754c\u9762\uff08ncurses\uff09\uff0c\u4f60\u53ef\u4ee5\u5b8c\u6210\u4ee5\u4e0b\u8bbe\u7f6e\uff1a</p> <ul> <li>Target Architecture\uff1a\u9009\u62e9\u76ee\u6807\u67b6\u6784\uff08\u5982 ARM Cortex-A7\u3001A53\u7b49\uff09</li> <li>Toolchain\uff1a\u9009\u62e9\u81ea\u5e26\u5de5\u5177\u94fe\uff08\u63a8\u8350\u521d\u5b66\u8005\u7528 Buildroot \u81ea\u52a8\u4e0b\u8f7d\u5de5\u5177\u94fe\uff09</li> <li>Target packages\uff1a\u9009\u62e9\u9700\u8981\u7684\u7ec4\u4ef6\uff08\u5982 BusyBox\u3001Dropbear\u3001OpenSSH\u3001Python \u7b49\uff09</li> <li>Filesystem images\uff1a\u9009\u62e9\u6587\u4ef6\u7cfb\u7edf\u7c7b\u578b\uff08\u5982 ext4\u3001squashfs\u3001cpio\u3001tar\uff09</li> <li>Kernel\uff1a\u53ef\u9009\u96c6\u6210 Linux \u5185\u6838\uff0c\u6307\u5b9a\u6e90\u7801\u3001\u914d\u7f6e\u3001\u8865\u4e01</li> <li>Bootloader\uff1a\u53ef\u9009\u96c6\u6210 u-boot \u7b49</li> </ul> <p>Tips\uff1a</p> <ul> <li>\u83dc\u5355\u5185\u6bcf\u4e00\u9879\u90fd\u53ef\u8be6\u7ec6\u914d\u7f6e\u3002</li> <li>\u53ef\u4fdd\u5b58\u5f53\u524d\u914d\u7f6e\u4e3a <code>.config</code> \u6587\u4ef6\uff0c\u65b9\u4fbf\u540e\u7eed\u590d\u7528\u3002</li> </ul>"},{"location":"linux%E5%90%AF%E5%8A%A8%E6%B5%81%E7%A8%8B/buildroot%E6%A0%B9%E6%96%87%E4%BB%B6%E7%B3%BB%E7%BB%9F%E5%88%B6%E4%BD%9C/#4","title":"4. \u5f00\u59cb\u6784\u5efa","text":"<pre><code>make -j$(nproc)\n</code></pre> <ul> <li>\u9996\u6b21\u6784\u5efa\u4f1a\u4e0b\u8f7d/\u7f16\u8bd1\u5de5\u5177\u94fe\u3001\u6240\u6709\u6e90\u7801\u548c\u4f9d\u8d56\uff0c\u8010\u5fc3\u7b49\u5f85\u3002</li> <li>\u4e2d\u9014\u65ad\u7f51\u53ef\u80fd\u5bfc\u81f4\u5931\u8d25\uff0c\u5efa\u8bae\u7528\u56fd\u5185\u955c\u50cf\u6e90\uff08\u53ef\u914d\u7f6e\uff09\u3002</li> </ul>"},{"location":"linux%E5%90%AF%E5%8A%A8%E6%B5%81%E7%A8%8B/buildroot%E6%A0%B9%E6%96%87%E4%BB%B6%E7%B3%BB%E7%BB%9F%E5%88%B6%E4%BD%9C/#5","title":"5. \u7f16\u8bd1\u7ed3\u679c\u5728\u54ea\u91cc\uff1f","text":"<p>\u7f16\u8bd1\u5b8c\u6210\u540e\uff0c\u4e3b\u8981\u8f93\u51fa\u6587\u4ef6\u5728 <code>output/images/</code> \u76ee\u5f55\uff1a</p> <ul> <li><code>rootfs.ext4</code>\u3001<code>rootfs.squashfs</code> \u7b49\uff1a\u6839\u6587\u4ef6\u7cfb\u7edf\u955c\u50cf</li> <li><code>zImage</code>\u3001<code>uImage</code>\u3001<code>Image</code>\uff1a\u5185\u6838\u955c\u50cf\uff08\u5982\u679c\u914d\u7f6e\u4e86\u5185\u6838\uff09</li> <li><code>bootloader</code>\u76f8\u5173\u6587\u4ef6\uff08\u5982\u6709\uff09</li> <li><code>rootfs.cpio</code>\uff1a\u7528\u4e8einitramfs\u542f\u52a8</li> <li>\u4e5f\u53ef\u80fd\u6709 dtb\u3001u-boot\u7b49</li> </ul>"},{"location":"linux%E5%90%AF%E5%8A%A8%E6%B5%81%E7%A8%8B/buildroot%E6%A0%B9%E6%96%87%E4%BB%B6%E7%B3%BB%E7%BB%9F%E5%88%B6%E4%BD%9C/#6","title":"6. \u70e7\u5f55/\u6d4b\u8bd5","text":"<ul> <li> <p>\u53ef\u4ee5\u628a <code>rootfs.ext4</code> \u70e7\u5230 SD \u5361/EMMC\uff08\u9002\u5408\u5f00\u53d1\u677f\u542f\u52a8\uff09</p> </li> <li> <p>\u53ef\u5c06 <code>rootfs.cpio</code> \u4f5c\u4e3a initramfs \u7528\u4e8e QEMU \u6216\u5f00\u53d1\u677f</p> </li> <li> <p>\u53ef\u7528 QEMU \u865a\u62df\u673a\u76f4\u63a5\u6d4b\u8bd5\u955c\u50cf    \u793a\u4f8b\uff08ARM QEMU\uff09\uff1a</p> </li> </ul> <pre><code>qemu-system-arm -M vexpress-a9 -kernel output/images/zImage \\\n  -dtb output/images/vexpress-v2p-ca9.dtb \\\n  -initrd output/images/rootfs.cpio \\\n  -append \"console=ttyAMA0\" -serial stdio -nographic\n</code></pre>"},{"location":"linux%E5%90%AF%E5%8A%A8%E6%B5%81%E7%A8%8B/buildroot%E6%A0%B9%E6%96%87%E4%BB%B6%E7%B3%BB%E7%BB%9F%E5%88%B6%E4%BD%9C/#7","title":"7. \u5e38\u7528\u9ad8\u7ea7\u6280\u5de7","text":"<ul> <li><code>make clean</code>\uff1a\u6e05\u7406\u76ee\u6807\u4ea7\u7269</li> <li><code>make menuconfig</code>\uff1a\u968f\u65f6\u4fee\u6539\u914d\u7f6e</li> <li><code>make savedefconfig</code>\uff1a\u4fdd\u5b58\u81ea\u5b9a\u4e49\u914d\u7f6e\uff08<code>defconfig</code> \u6587\u4ef6\uff09</li> <li><code>make &lt;package&gt;-menuconfig</code>\uff1a\u5b9a\u5236\u67d0\u4e2a\u5305\u7684\u914d\u7f6e\uff08\u5982 <code>make busybox-menuconfig</code>\uff09</li> <li><code>output/target/</code>\uff1a\u5b9e\u9645\u7684\u6839\u6587\u4ef6\u7cfb\u7edf\u76ee\u5f55\uff0c\u53ef\u4ee5\u624b\u52a8\u52a0\u6587\u4ef6</li> </ul>"},{"location":"linux%E5%90%AF%E5%8A%A8%E6%B5%81%E7%A8%8B/buildroot%E6%A0%B9%E6%96%87%E4%BB%B6%E7%B3%BB%E7%BB%9F%E5%88%B6%E4%BD%9C/#8","title":"8. \u914d\u7f6e\u4fdd\u5b58\u4e0e\u590d\u7528","text":"<ul> <li>\u4fdd\u5b58\u914d\u7f6e\uff1a</li> </ul> <pre><code>sh\u590d\u5236\u7f16\u8f91make savedefconfig\n# \u5f97\u5230 defconfig \u6587\u4ef6\n</code></pre> <ul> <li>\u52a0\u8f7d\u914d\u7f6e\uff1a</li> </ul> <pre><code>sh\u590d\u5236\u7f16\u8f91make defconfig\n# \u4f1a\u6062\u590d defconfig \u4e3a .config\n</code></pre>"},{"location":"linux%E5%90%AF%E5%8A%A8%E6%B5%81%E7%A8%8B/buildroot%E6%A0%B9%E6%96%87%E4%BB%B6%E7%B3%BB%E7%BB%9F%E5%88%B6%E4%BD%9C/#9","title":"9. \u5176\u5b83\u8bf4\u660e","text":"<ul> <li>Buildroot \u4e0d\u80fd\u52a8\u6001\u7ba1\u7406\u5305\uff08\u4e0d\u50cf Ubuntu apt/yum\uff09\uff0c\u6240\u6709\u5305\u9700\u7f16\u8bd1\u671f\u9009\u5b9a\u3002</li> <li>\u5982\u9700\u6dfb\u52a0\u81ea\u5b9a\u4e49\u5305\uff0c\u53ef\u4ee5\u5199\u81ea\u5b9a\u4e49\u5305\u63cf\u8ff0\u6587\u4ef6\uff08package \u76ee\u5f55\uff09\u3002</li> <li>\u9002\u5408\u7528\u4e8e\u201c\u56fa\u4ef6\u751f\u6210\u201d\u3001\u201c\u751f\u4ea7\u73af\u5883rootfs\u6253\u5305\u201d\uff0c\u4e0d\u9002\u5408\u5f00\u53d1\u677f\u672c\u5730\u8f6f\u4ef6\u8c03\u8bd5\u3002</li> </ul>"},{"location":"linux%E5%90%AF%E5%8A%A8%E6%B5%81%E7%A8%8B/buildroot%E6%A0%B9%E6%96%87%E4%BB%B6%E7%B3%BB%E7%BB%9F%E5%88%B6%E4%BD%9C/#_2","title":"\u603b\u7ed3","text":"\u6b65\u9aa4 \u547d\u4ee4/\u8981\u70b9 \u83b7\u53d6\u6e90\u7801 <code>git clone</code>/\u89e3\u538btar\u5305 \u9009\u62e9\u67b6\u6784\u548c\u914d\u7f6e <code>make menuconfig</code> \u5f00\u59cb\u7f16\u8bd1 <code>make -j$(nproc)</code> \u67e5\u627e\u4ea7\u7269 <code>output/images/</code> \u70e7\u5f55/\u6d4b\u8bd5 \u70e7\u5361/QEMU/\u5f00\u53d1\u677f\u542f\u52a8"},{"location":"linux%E5%90%AF%E5%8A%A8%E6%B5%81%E7%A8%8B/buildroot%E6%A0%B9%E6%96%87%E4%BB%B6%E7%B3%BB%E7%BB%9F%E5%88%B6%E4%BD%9C/#_3","title":"\u5b9e\u8df5","text":"<p>\u4e0b\u8f7d\u94fe\u63a5   https://git.busybox.net/buildroot  </p> <ul> <li>\u9009\u4e00\u4e2a\u7a33\u5b9a\u7248</li> </ul> <p></p> <p>\u89e3\u538b\u5230buildroot\u76ee\u5f55</p> <pre><code>mkdir buildroot\ntar --strip-components=1 -xjf buildroot-2025.05.tar.bz2 -C buildroot\n</code></pre> <p>\u67e5\u770b</p> <pre><code>hdj@hdj-virtual-machine:~/buildroot$ tree -L 1\n.\n\u251c\u2500\u2500 arch\n\u251c\u2500\u2500 board\n\u251c\u2500\u2500 boot\n\u251c\u2500\u2500 CHANGES\n\u251c\u2500\u2500 Config.in\n\u251c\u2500\u2500 Config.in.legacy\n\u251c\u2500\u2500 configs\n\u251c\u2500\u2500 COPYING\n\u251c\u2500\u2500 DEVELOPERS\n\u251c\u2500\u2500 docs\n\u251c\u2500\u2500 fs\n\u251c\u2500\u2500 linux\n\u251c\u2500\u2500 Makefile\n\u251c\u2500\u2500 Makefile.legacy\n\u251c\u2500\u2500 package\n\u251c\u2500\u2500 README\n\u251c\u2500\u2500 support\n\u251c\u2500\u2500 system\n\u251c\u2500\u2500 toolchain\n\u2514\u2500\u2500 utils\n\n12 directories, 8 files\n</code></pre> <pre><code>make menuconfig\n</code></pre> <p></p> <p>imx6ull\u4e3a\u4f8b\u5b50\u914d\u7f6e</p>"},{"location":"linux%E5%90%AF%E5%8A%A8%E6%B5%81%E7%A8%8B/buildroot%E6%A0%B9%E6%96%87%E4%BB%B6%E7%B3%BB%E7%BB%9F%E5%88%B6%E4%BD%9C/#target-options","title":"Target options","text":""},{"location":"linux%E5%90%AF%E5%8A%A8%E6%B5%81%E7%A8%8B/buildroot%E6%A0%B9%E6%96%87%E4%BB%B6%E7%B3%BB%E7%BB%9F%E5%88%B6%E4%BD%9C/#toolchain","title":"Toolchain","text":"<ol> <li> <p>Toolchain type</p> </li> <li> <p><code>(Buildroot toolchain)</code>\uff1a\u4fdd\u7559\u9ed8\u8ba4\u5373\u53ef\uff08Buildroot \u81ea\u52a8\u6784\u5efa\u4ea4\u53c9\u5de5\u5177\u94fe\uff09\uff0c\u65b0\u624b\u63a8\u8350\u8fd9\u79cd\u3002</p> </li> </ol> <ol> <li> <p>C library (glibc/uClibc/musl)</p> </li> <li> <p>\u63a8\u8350 <code>glibc</code> \u6216 <code>musl</code></p> </li> <li><code>glibc</code>\uff1a\u517c\u5bb9\u6027\u6700\u597d\uff0c\u548c\u4e3b\u6d41Linux\u684c\u9762\u7cfb\u7edf\u4e00\u81f4\uff0c\u4f53\u79ef\u8f83\u5927\u3002</li> <li><code>musl</code>\uff1a\u6781\u7b80\uff0c\u4f53\u79ef\u5c0f\uff0c\u73b0\u4ee3\u5d4c\u5165\u5f0f\u4e5f\u5f88\u5e38\u7528\uff0c\u517c\u5bb9\u6027\u7a0d\u5dee\uff0c\u4f46\u975e\u5e38\u9002\u5408\u6781\u7b80\u7cfb\u7edf\u3002</li> <li>\u5982\u679c\u4f60\u5bf9C\u5e93\u6ca1\u6709\u7279\u6b8a\u9700\u6c42\uff0c\u5f00\u53d1\u677f\u6027\u80fd\u5145\u88d5\u5c31\u9009 glibc\uff0c\u8ffd\u6c42\u5c0f\u4f53\u79ef\u9009 musl\u3002</li> </ol> <ol> <li> <p>Kernel Headers</p> </li> <li> <p><code>(Linux 6.14.x kernel headers)</code>\uff1a\u9ed8\u8ba4\u5373\u53ef\u3002\u8fd9\u4e2a\u53ea\u662f\u7528\u6765\u7f16\u8bd1\u5e93\u548c\u5e94\u7528\uff0c\u4e0d\u5f71\u54cd\u4f60\u5b9e\u9645\u70e7\u5f55\u7684\u5185\u6838\u7248\u672c\u3002</p> </li> </ol> <ol> <li> <p>Binutils / GCC \u7248\u672c</p> </li> <li> <p>\u9ed8\u8ba4\u6700\u65b0\u7248\u901a\u5e38\u90fd\u53ef\u7528\u3002</p> </li> <li>\u53ef\u4ee5\u6307\u5b9a\u7a33\u5b9a\u8001\u7248\u672c\uff0c\u4f46 Cortex-A7 \u7528\u65b0\u7248\u672c\u6ca1\u95ee\u9898\u3002</li> </ol> <ol> <li> <p>Enable C++/Fortran/OpenMP/Graphite support</p> </li> <li> <p>\u4e00\u822c\u53ea\u52fe <code>Enable C++ support</code>\uff08\u5982\u679c\u4f60\u6709C++\u5e94\u7528\uff09\u3002</p> </li> <li>\u5176\u4f59\u5982\u4e0d\u9700\u8981 Fortran/OpenMP/Graphite \u90fd\u53ef\u4ee5\u4e0d\u52fe\u3002</li> </ol> <ol> <li> <p>Host GDB / gconv libraries / Extra toolchain libraries</p> </li> <li> <p>\u4e00\u822c\u5f00\u53d1\u53ef\u4e0d\u52fe\u9009 GDB\uff08\u9664\u975e\u4f60\u8981\u8c03\u8bd5\uff09\u3002</p> </li> <li><code>gconv libraries</code> \u53ea\u5bf9\u56fd\u9645\u5316\u6709\u9700\u6c42\u65f6\u624d\u9700\u62f7\u8d1d\u3002</li> </ol> <ol> <li> <p>Target Optimizations</p> </li> <li> <p>\u53ef\u4ee5\u4e3a\u7a7a\uff0c\u9ed8\u8ba4\u5c31\u597d\u3002</p> </li> <li>\u8fdb\u9636\u73a9\u5bb6\u53ef\u586b\u4f18\u5316\u9009\u9879\u5982\uff1a<code>-O2 -mcpu=cortex-a7 -mfpu=vfpv4-d16 -mfloat-abi=hard -mthumb</code></li> </ol> <ol> <li> <p>Bare metal toolchain</p> </li> <li> <p>\u4e0d\u8981\u52fe\u9009\uff08\u4f60\u505a\u7684\u662fLinux\uff0c\u4e0d\u662f\u88f8\u673a\u5e94\u7528\uff09\u3002</p> </li> </ol> <p>\u6700\u5173\u952e\u7684\u5efa\u8bae\uff1a</p> <p>\u524d\u9762\u4f60\u95ee\u8fc7 ABI/floating point/vfp/thumb2 \u8fd9\u4e9b\u95ee\u9898\uff0c\u8fd9\u4e9b\u9ad8\u7ea7\u8bbe\u7f6e\u5728 Buildroot \u201cToolchain\u201d \u83dc\u5355\u7684\u540e\u7eed\u9009\u9879\uff08\u5982 Target ABI, Floating Point, Instruction Set\uff09\u4e2d\u4f1a\u6709\u8be6\u7ec6\u9009\u62e9\u3002\u4f60\u5e94\u8be5\u91cd\u70b9\u5173\u6ce8\u8fd9\u4e9b\uff0c\u5982\u679c\u6ca1\u627e\u5230\uff0c\u53ef\u4ee5\u5728 Toolchain \u4e0b\u7ea7\u83dc\u5355\u9010\u9879\u67e5\u627e\uff0c  \u5e38\u89c1\u8bbe\u7f6e\u5982\u4e0b\uff1a</p> <ul> <li>Target ABI\uff1a\u9009 <code>EABIHF</code></li> <li>Floating Point Strategy\uff1a\u9009 <code>hardware (VFP)</code></li> <li>FPU type\uff1a\u9009 <code>vfpv4-d16</code></li> <li>Instruction Set\uff1a\u7528\u6237\u7a7a\u95f4\u63a8\u8350 <code>Thumb2</code></li> </ul>"},{"location":"linux%E5%90%AF%E5%8A%A8%E6%B5%81%E7%A8%8B/buildroot%E6%A0%B9%E6%96%87%E4%BB%B6%E7%B3%BB%E7%BB%9F%E5%88%B6%E4%BD%9C/#_4","title":"\u7ed3\u8bba\uff1a","text":"<ul> <li>\u4fdd\u7559\u9ed8\u8ba4 <code>Buildroot toolchain</code></li> <li>C\u5e93\u9009 glibc\uff08\u6216 musl\uff09</li> <li>\u5176\u4f59\u9009\u9879\u6309\u9ed8\u8ba4\u6216\u6839\u636e\u5b9e\u9645\u9700\u6c42\u52fe\u9009</li> <li>\u7f16\u8bd1\u4f18\u5316\u3001\u9ad8\u7ea7ABI/FPU/\u6307\u4ee4\u96c6\u9009\u9879\u540e\u9762\u7ee7\u7eed\u8865\u5145/\u5fae\u8c03</li> </ul>"},{"location":"linux%E5%90%AF%E5%8A%A8%E6%B5%81%E7%A8%8B/busybox%E5%88%B6%E4%BD%9C%E6%A0%B9%E6%96%87%E4%BB%B6%E7%B3%BB%E7%BB%9F/","title":"busybox\u6839\u6587\u4ef6\u7cfb\u7edf\u5236\u4f5c","text":""},{"location":"linux%E5%90%AF%E5%8A%A8%E6%B5%81%E7%A8%8B/busybox%E5%88%B6%E4%BD%9C%E6%A0%B9%E6%96%87%E4%BB%B6%E7%B3%BB%E7%BB%9F/#busybox","title":"busybox\u6839\u6587\u4ef6\u7cfb\u7edf\u5236\u4f5c","text":"<p>\uff08\u4e0d\u63a8\u8350\uff0c\u53ef\u4ee5\u7b80\u5355\u4e86\u89e3\u4e00\u4e0b\uff0c\u4f7f\u7528\u624b\u5de5\u89e3\u51b3\u4f9d\u8d56\u95ee\u9898\uff0c\u9ebb\u70e6\uff0c\u63a8\u8350buildroot\uff09</p>"},{"location":"linux%E5%90%AF%E5%8A%A8%E6%B5%81%E7%A8%8B/busybox%E5%88%B6%E4%BD%9C%E6%A0%B9%E6%96%87%E4%BB%B6%E7%B3%BB%E7%BB%9F/#1","title":"1. \u4ea4\u53c9\u7f16\u8bd1\u5de5\u5177\u94fe\u51c6\u5907","text":"<ul> <li>\u83b7\u53d6\u4ea4\u53c9\u7f16\u8bd1\u5de5\u5177\u94fe\uff08\u5982<code>arm-linux-gnueabihf-gcc</code>\u7b49\uff09\uff0c\u786e\u4fdd\u5728\u5f00\u53d1\u673a\u4e0a\u53ef\u7528\uff0c\u4e14<code>$PATH</code>\u5df2\u5305\u542b\u5176bin\u76ee\u5f55\u3002</li> </ul> <pre><code>export CROSS_COMPILE=arm-linux-gnueabihf-\nexport ARCH=arm\n</code></pre>"},{"location":"linux%E5%90%AF%E5%8A%A8%E6%B5%81%E7%A8%8B/busybox%E5%88%B6%E4%BD%9C%E6%A0%B9%E6%96%87%E4%BB%B6%E7%B3%BB%E7%BB%9F/#2-busybox","title":"2. \u7f16\u8bd1BusyBox","text":"<ol> <li>\u4e0b\u8f7d\u6e90\u7801</li> </ol> <pre><code>wget https://busybox.net/downloads/busybox-1.36.1.tar.bz2\ntar xjf busybox-1.36.1.tar.bz2\ncd busybox-1.36.1\n</code></pre> <ol> <li>\u914d\u7f6eBusyBox     \u63a8\u8350\u7528<code>make menuconfig</code>\uff0c\u53ef\u4ee5\u81ea\u5b9a\u4e49\u529f\u80fd\uff1a</li> </ol> <pre><code>make ARCH=arm CROSS_COMPILE=arm-linux-gnueabihf- menuconfig\n# \u9009\u62e9\"Build static binary\"\uff08\u9759\u6001\u7f16\u8bd1\u66f4\u65b9\u4fbf\u88f8\u673a\u79fb\u690d\uff09\n</code></pre> <ol> <li>\u7f16\u8bd1\u5e76\u5b89\u88c5</li> </ol> <pre><code>make ARCH=arm CROSS_COMPILE=arm-linux-gnueabihf- -j$(nproc)\nmake ARCH=arm CROSS_COMPILE=arm-linux-gnueabihf- install\n</code></pre> <p>\u5b89\u88c5\u540e\u751f\u6210<code>_install/</code>\u76ee\u5f55\uff0c\u91cc\u9762\u662f\u5df2\u7f16\u8bd1\u597d\u7684BusyBox\u5e94\u7528\u8f6f\u94fe\u63a5\u3002</p>"},{"location":"linux%E5%90%AF%E5%8A%A8%E6%B5%81%E7%A8%8B/busybox%E5%88%B6%E4%BD%9C%E6%A0%B9%E6%96%87%E4%BB%B6%E7%B3%BB%E7%BB%9F/#3","title":"3. \u6839\u6587\u4ef6\u7cfb\u7edf\u76ee\u5f55\u7ed3\u6784\u642d\u5efa","text":"<ul> <li>\u6309\u7167Linux Filesystem Hierarchy Standard(FHS)\u521b\u5efa\u57fa\u672c\u76ee\u5f55\u7ed3\u6784\u3002\u4f8b\u5982\uff1a</li> </ul> <pre><code>mkdir -p rootfs/{bin,sbin,etc,proc,sys,usr/{bin,sbin},dev,tmp,var,lib,mnt,home}\n</code></pre> <ul> <li>\u5c06BusyBox\u7684\u8f93\u51fa\u5185\u5bb9\u590d\u5236\u5230\u6839\u6587\u4ef6\u7cfb\u7edf\uff1a</li> </ul> <pre><code>cp -a busybox-1.36.1/_install/* rootfs/\n</code></pre>"},{"location":"linux%E5%90%AF%E5%8A%A8%E6%B5%81%E7%A8%8B/busybox%E5%88%B6%E4%BD%9C%E6%A0%B9%E6%96%87%E4%BB%B6%E7%B3%BB%E7%BB%9F/#4","title":"4. \u8bbe\u5907\u8282\u70b9\u521b\u5efa","text":"<ul> <li>\u5fc5\u987b\u6709\u57fa\u672c\u8bbe\u5907\u8282\u70b9\uff0c\u5982<code>/dev/console</code>\u548c<code>/dev/null</code>\uff0c\u53ef\u7528<code>sudo mknod</code>\u5728PC\u4e0b\u521b\u5efa\uff1a</li> </ul> <pre><code>sudo mknod -m 600 rootfs/dev/console c 5 1\nsudo mknod -m 666 rootfs/dev/null c 1 3\n</code></pre>"},{"location":"linux%E5%90%AF%E5%8A%A8%E6%B5%81%E7%A8%8B/busybox%E5%88%B6%E4%BD%9C%E6%A0%B9%E6%96%87%E4%BB%B6%E7%B3%BB%E7%BB%9F/#5","title":"5. \u57fa\u672c\u914d\u7f6e\u6587\u4ef6\u51c6\u5907","text":"<ul> <li>/etc/inittab\uff08BusyBox init\u7684\u542f\u52a8\u914d\u7f6e\uff09\uff1a</li> </ul> <pre><code>cat &gt; rootfs/etc/inittab &lt;&lt;EOF\n::sysinit:/etc/init.d/rcS\n::askfirst:-/bin/sh\n::ctrlaltdel:/sbin/reboot\n::shutdown:/sbin/swapoff -a\n::shutdown:/bin/umount -a -r\n::shutdown:/sbin/reboot\nEOF\n</code></pre> <ul> <li>/etc/init.d/rcS\uff08\u542f\u52a8\u811a\u672c\uff0c\u52a1\u5fc5\u52a0\u6267\u884c\u6743\u9650\uff09\uff1a</li> </ul> <pre><code>mkdir -p rootfs/etc/init.d\ncat &gt; rootfs/etc/init.d/rcS &lt;&lt;EOF\n#!/bin/sh\nmount -t proc none /proc\nmount -t sysfs none /sys\n# \u53ef\u9009\uff1amount -t tmpfs none /tmp\nEOF\nchmod +x rootfs/etc/init.d/rcS\n</code></pre> <ul> <li>\u5176\u4ed6\u5982<code>/etc/passwd</code>, <code>/etc/group</code>\u53ef\u4ee5\u7b80\u5355\u521b\u5efa\uff0c\u907f\u514d\u542f\u52a8\u62a5\u9519\u3002</li> </ul>"},{"location":"linux%E5%90%AF%E5%8A%A8%E6%B5%81%E7%A8%8B/busybox%E5%88%B6%E4%BD%9C%E6%A0%B9%E6%96%87%E4%BB%B6%E7%B3%BB%E7%BB%9F/#6","title":"6. \u5e93\u6587\u4ef6\u51c6\u5907\uff08\u4ec5\u52a8\u6001\u7f16\u8bd1\u9700\u505a\uff09","text":"<ul> <li>\u5982\u679cBusyBox\u4e3a\u9759\u6001\u7f16\u8bd1\uff0c\u53ef\u8df3\u8fc7\u6b64\u6b65\u3002</li> <li>\u52a8\u6001\u7f16\u8bd1\u9700\u5c06\u4ea4\u53c9\u5de5\u5177\u94fe\u4e0b\u7684\u5bf9\u5e94<code>lib/ld-linux*.so*</code>, <code>lib/libc.so*</code>\u7b49\u5e93\u590d\u5236\u5230<code>rootfs/lib</code>\u6216<code>rootfs/lib64</code>\u3002</li> </ul>"},{"location":"linux%E5%90%AF%E5%8A%A8%E6%B5%81%E7%A8%8B/busybox%E5%88%B6%E4%BD%9C%E6%A0%B9%E6%96%87%E4%BB%B6%E7%B3%BB%E7%BB%9F/#7","title":"7. \u5176\u5b83\uff08\u53ef\u9009\uff09","text":"<ul> <li>\u53ef\u6dfb\u52a0\u81ea\u5df1\u7684\u5e94\u7528\u7a0b\u5e8f\u6216\u811a\u672c\u5230<code>rootfs/bin</code>\u3001<code>rootfs/sbin</code>\u7b49\u76ee\u5f55\u3002</li> <li>\u53ef\u914d\u7f6e<code>/etc/fstab</code>\u3001<code>/etc/profile</code>\u7b49\u4ee5\u4fbf\u4e8e\u6302\u8f7d\u548c\u73af\u5883\u53d8\u91cf\u8bbe\u7f6e\u3002</li> </ul>"},{"location":"linux%E5%90%AF%E5%8A%A8%E6%B5%81%E7%A8%8B/busybox%E5%88%B6%E4%BD%9C%E6%A0%B9%E6%96%87%E4%BB%B6%E7%B3%BB%E7%BB%9F/#8","title":"8. \u6253\u5305\u6210\u6587\u4ef6\u7cfb\u7edf\u6620\u50cf","text":"<ul> <li>\u5236\u4f5ccpio/initramfs\u955c\u50cf</li> </ul> <pre><code>cd rootfs\nfind . | cpio -o -H newc &gt; ../rootfs.cpio\n</code></pre> <ul> <li>\u5236\u4f5csquashfs/ext4\u955c\u50cf</li> </ul> <pre><code># ext4\uff08\u9002\u5408SD/EMMC/flash\uff0c\u6302\u8f7d\u4e3arootfs\uff09\ndd if=/dev/zero of=../rootfs.ext4 bs=1M count=32\nmkfs.ext4 ../rootfs.ext4\nsudo mount -o loop ../rootfs.ext4 /mnt\nsudo cp -a * /mnt\nsudo umount /mnt\n</code></pre>"},{"location":"linux%E5%90%AF%E5%8A%A8%E6%B5%81%E7%A8%8B/busybox%E5%88%B6%E4%BD%9C%E6%A0%B9%E6%96%87%E4%BB%B6%E7%B3%BB%E7%BB%9F/#9","title":"9. \u6302\u8f7d/\u6d4b\u8bd5","text":"<ul> <li>\u7528QEMU\u6216\u5f00\u53d1\u677f\u6302\u8f7d\u6839\u6587\u4ef6\u7cfb\u7edf\uff08initramfs, NFS, SD/EMMC/flash\u7b49\uff09\uff0c\u542f\u52a8\u6d4b\u8bd5\u3002</li> <li>\u53ef\u4ee5\u901a\u8fc7\u4e32\u53e3\u6216\u63a7\u5236\u53f0\u89c2\u5bdf<code>init</code>\u6d41\u7a0b\u3002</li> </ul>"},{"location":"linux%E5%90%AF%E5%8A%A8%E6%B5%81%E7%A8%8B/busybox%E5%88%B6%E4%BD%9C%E6%A0%B9%E6%96%87%E4%BB%B6%E7%B3%BB%E7%BB%9F/#_1","title":"\u603b\u7ed3\u8868\u683c","text":"\u6b65\u9aa4 \u8bf4\u660e \u5de5\u5177\u94fe\u51c6\u5907 \u4ea4\u53c9\u7f16\u8bd1\u5668\u3001PATH\u8bbe\u7f6e \u7f16\u8bd1BusyBox \u914d\u7f6e\u3001\u9759\u6001/\u52a8\u6001\u7f16\u8bd1\u3001\u5b89\u88c5 \u6784\u5efarootfs\u7ed3\u6784 \u521b\u5efa\u6807\u51c6\u76ee\u5f55\u3001\u590d\u5236\u5e94\u7528 \u521b\u5efa\u8bbe\u5907\u8282\u70b9 mknod\u751f\u6210console/null\u7b49 \u7f16\u8f91\u914d\u7f6e\u6587\u4ef6 inittab\u3001rcS\u7b49\u542f\u52a8\u811a\u672c \u51c6\u5907\u5e93\u6587\u4ef6 \u52a8\u6001\u5e93\u590d\u5236\uff08\u52a8\u6001\u7f16\u8bd1\u9700\u505a\uff09 \u53ef\u9009\u6dfb\u52a0 \u81ea\u5b9a\u4e49\u7a0b\u5e8f\u3001\u811a\u672c\u3001\u914d\u7f6e \u6253\u5305\u6210\u6620\u50cf cpio\u3001ext4\u3001squashfs\u7b49 \u6302\u8f7d\u6d4b\u8bd5 QEMU/\u5f00\u53d1\u677f\u542f\u52a8\u6d4b\u8bd5"},{"location":"linux%E5%90%AF%E5%8A%A8%E6%B5%81%E7%A8%8B/busybox%E5%88%B6%E4%BD%9C%E6%A0%B9%E6%96%87%E4%BB%B6%E7%B3%BB%E7%BB%9F/#busybox_1","title":"BusyBox \u5236\u4f5c\u6839\u6587\u4ef6\u7cfb\u7edf\uff0c\u4f7f\u7528\u52a8\u6001\u5e93\u4e0e\u4f7f\u7528\u9759\u6001\u5e93\u6709\u4ec0\u4e48\u4f18\u7f3a\u70b9\uff1f","text":""},{"location":"linux%E5%90%AF%E5%8A%A8%E6%B5%81%E7%A8%8B/busybox%E5%88%B6%E4%BD%9C%E6%A0%B9%E6%96%87%E4%BB%B6%E7%B3%BB%E7%BB%9F/#1-vs","title":"1. \u52a8\u6001\u5e93 vs \u9759\u6001\u5e93\u6982\u5ff5","text":"<ul> <li>\u9759\u6001\u5e93\uff08Static linking\uff09    BusyBox\u53ca\u5176\u4ed6\u7a0b\u5e8f\u5728\u7f16\u8bd1\u65f6\uff0c\u6240\u6709\u4f9d\u8d56\u7684\u5e93\u4ee3\u7801\u90fd\u88ab\u6253\u5305\u8fdb\u53ef\u6267\u884c\u6587\u4ef6\uff0c\u8fd0\u884c\u65f6\u4e0d\u518d\u4f9d\u8d56\u5916\u90e8\u5e93\u6587\u4ef6\u3002</li> <li>\u52a8\u6001\u5e93\uff08Dynamic linking\uff09    \u53ef\u6267\u884c\u6587\u4ef6\u672c\u8eab\u53ea\u5305\u542b\u4e3b\u7a0b\u5e8f\uff0c\u4f9d\u8d56\u7684\u5e93\uff08\u5982libc.so\u3001ld-linux.so\u7b49\uff09\u5728\u8fd0\u884c\u65f6\u7531\u7cfb\u7edf\u52a8\u6001\u52a0\u8f7d\uff0c\u9700\u8981\u6839\u6587\u4ef6\u7cfb\u7edf\u4e2d\u6709\u8fd9\u4e9b\u5e93\u3002</li> </ul>"},{"location":"linux%E5%90%AF%E5%8A%A8%E6%B5%81%E7%A8%8B/busybox%E5%88%B6%E4%BD%9C%E6%A0%B9%E6%96%87%E4%BB%B6%E7%B3%BB%E7%BB%9F/#2","title":"2. \u5bf9\u6bd4\u8868","text":"\u5bf9\u6bd4\u9879 \u9759\u6001\u5e93 BusyBox \u52a8\u6001\u5e93 BusyBox \u4f53\u79ef \u5355\u4e2a\u53ef\u6267\u884c\u6587\u4ef6\u8f83\u5927 \u53ef\u6267\u884c\u6587\u4ef6\u5c0f\uff0c\u4f46\u9700\u989d\u5916\u7684\u5e93 \u4f9d\u8d56 \u65e0\u9700libc\u7b49\u5916\u90e8\u5e93\uff0c\u79fb\u690d\u7b80\u5355 \u9700\u63d0\u4f9bglibc/musl\u7b49\u52a8\u6001\u5e93 \u517c\u5bb9\u6027 \u66f4\u6613\u8de8\u5e73\u53f0\u3001\u88f8\u673a\u9002\u7528 \u4f9d\u8d56\u5e93\u7248\u672c\u3001\u67b6\u6784\u7b49\u5339\u914d RAM\u6d88\u8017 \u591a\u4e2a\u9759\u6001\u7f16\u8bd1\u7a0b\u5e8f\u5404\u81ea\u5e26\u4e00\u4efd\u5e93\uff0cRAM\u5360\u7528\u591a \u591a\u4e2a\u7a0b\u5e8f\u5171\u4eab\u5185\u5b58\u7684\u5e93\uff0c\u5360\u7528\u5c11 \u5347\u7ea7\u7ef4\u62a4 \u5347\u7ea7\u9700\u6574\u4f53\u91cd\u7f16\u8bd1\u66ff\u6362\u7a0b\u5e8f \u53ef\u5355\u72ec\u5347\u7ea7\u5e93\u6216\u5e94\u7528 \u8c03\u8bd5\u5b9a\u4f4d \u95ee\u9898\u5b9a\u4f4d\u66f4\u7b80\u5355 \u9700\u8003\u8651\u5e93\u517c\u5bb9\u6027\u4e0e\u52a0\u8f7d\u95ee\u9898 \u5b89\u5168\u6027 \u6f0f\u6d1e\u9700\u91cd\u7f16\u6240\u6709\u7a0b\u5e8f \u5347\u7ea7\u5e93\u5373\u53ef\u5168\u5c40\u4fee\u590d \u542f\u52a8\u901f\u5ea6 \u7a0d\u5feb\uff08\u65e0\u9700\u52a0\u8f7d\u5e93\uff09 \u7565\u6162\uff08\u8981\u52a0\u8f7d\u5e93\uff09"},{"location":"linux%E5%90%AF%E5%8A%A8%E6%B5%81%E7%A8%8B/busybox%E5%88%B6%E4%BD%9C%E6%A0%B9%E6%96%87%E4%BB%B6%E7%B3%BB%E7%BB%9F/#3_1","title":"3. \u4f18\u7f3a\u70b9\u8be6\u7ec6\u8bf4\u660e","text":""},{"location":"linux%E5%90%AF%E5%8A%A8%E6%B5%81%E7%A8%8B/busybox%E5%88%B6%E4%BD%9C%E6%A0%B9%E6%96%87%E4%BB%B6%E7%B3%BB%E7%BB%9F/#_2","title":"\u9759\u6001\u5e93\u4f18\u7f3a\u70b9","text":"<p>\u4f18\u70b9\uff1a</p> <ul> <li>\u6574\u4e2a\u53ef\u6267\u884c\u6587\u4ef6\u81ea\u8db3\uff08\u53ea\u6709BusyBox\u4e00\u4e2a\u6587\u4ef6\uff09\uff0c\u9002\u5408\u521d\u5b66\u548c\u6781\u7b80/\u53ea\u8bfb/ROM\u578b\u7cfb\u7edf\u3002</li> <li>\u79fb\u690d\u6781\u5176\u7b80\u5355\uff0c\u53ea\u8981\u6709/bin/busybox\u5373\u53ef\u8dd1\u8d77\u6765\uff0c\u51fa\u9519\u70b9\u5c11\u3002</li> <li>\u907f\u514d\u201c\u52a8\u6001\u5e93\u627e\u4e0d\u5230/\u7248\u672c\u4e0d\u7b26\u201d\u7b49\u95ee\u9898\u3002</li> </ul> <p>\u7f3a\u70b9\uff1a</p> <ul> <li>\u6587\u4ef6\u4f53\u79ef\u6bd4\u52a8\u6001\u7248\u5927\uff08\u4e00\u822c600~1000KB\uff0c\u52a8\u6001\u7248\u53ef&lt;300KB\uff09\u3002</li> <li>RAM\u5229\u7528\u7387\u4f4e\uff08\u5982\u591a\u4e2a\u7a0b\u5e8f\u7528\u540c\u6837\u7684\u5e93\uff0c\u90fd\u5404\u81ea\u72ec\u7acb\u5360\u5185\u5b58\uff09\u3002</li> <li>\u66f4\u65b0\u6216\u4fee\u590d\u67d0\u4e00\u5e93\u6f0f\u6d1e\uff0c\u8981\u91cd\u7f16\u6574\u4e2a\u53ef\u6267\u884c\u7a0b\u5e8f\u3002</li> </ul>"},{"location":"linux%E5%90%AF%E5%8A%A8%E6%B5%81%E7%A8%8B/busybox%E5%88%B6%E4%BD%9C%E6%A0%B9%E6%96%87%E4%BB%B6%E7%B3%BB%E7%BB%9F/#_3","title":"\u52a8\u6001\u5e93\u4f18\u7f3a\u70b9","text":"<p>\u4f18\u70b9\uff1a</p> <ul> <li>\u53ef\u6267\u884c\u6587\u4ef6\u4f53\u79ef\u5c0f\u3002</li> <li>RAM\u6548\u7387\u9ad8\uff0c\u591a\u4e2a\u7a0b\u5e8f\u5171\u4eablibc\u7b49\u5e93\u3002</li> <li>\u7ef4\u62a4\u7b80\u5355\uff1a\u5347\u7ea7glibc\u6216musl\u7b49\u5e93\u5373\u53ef\u5168\u7cfb\u7edf\u751f\u6548\uff0c\u65e0\u9700\u91cd\u7f16\u6240\u6709\u5e94\u7528\u3002</li> <li>\u66f4\u63a5\u8fd1\u6807\u51c6Linux\u53d1\u884c\u7248\u505a\u6cd5\uff0c\u4fbf\u4e8e\u65e5\u540e\u589e\u52a0\u81ea\u5b9a\u4e49\u7a0b\u5e8f\u3002</li> </ul> <p>\u7f3a\u70b9\uff1a</p> <ul> <li>\u6839\u6587\u4ef6\u7cfb\u7edf\u5fc5\u987b\u5305\u542b\u6240\u6709\u4f9d\u8d56\u7684\u52a8\u6001\u5e93\uff08glibc\u3001ld-linux\u7b49\uff09\uff0c\u5426\u5219\u542f\u52a8\u62a5\u9519\u3002</li> <li>\u9700\u8981\u5904\u7406\u5e93\u7248\u672c\u3001\u8def\u5f84\u3001\u8f6f\u94fe\u63a5\u7b49\u7ec6\u8282\uff08\u5bf9\u65b0\u624b\u4e0d\u53cb\u597d\uff09\u3002</li> <li>\u521d\u6b21\u79fb\u690d\u65f6\u6613\u56e0\u5e93\u6587\u4ef6\u7f3a\u5931\u6216\u4e0d\u5339\u914d\u5bfc\u81f4\u201c\u627e\u4e0d\u5230libc.so.6\u201d\u7b49\u9519\u8bef\u3002</li> </ul>"},{"location":"linux%E5%90%AF%E5%8A%A8%E6%B5%81%E7%A8%8B/busybox%E5%88%B6%E4%BD%9C%E6%A0%B9%E6%96%87%E4%BB%B6%E7%B3%BB%E7%BB%9F/#4_1","title":"4. \u5b9e\u8df5\u5efa\u8bae","text":"<ul> <li>\u6781\u7b80\u73af\u5883/\u521d\u5b66\u5b9e\u9a8c/\u5355\u4e00BusyBox\u573a\u666f\uff1a\u4f18\u5148\u7528\u9759\u6001\u5e93\u3002</li> <li>\u591a\u5e94\u7528/\u7ef4\u62a4\u5347\u7ea7/\u6b63\u5f0f\u53d1\u884c\uff1a\u4f18\u5148\u7528\u52a8\u6001\u5e93\u3002</li> <li>\u5b58\u50a8\u6781\u5ea6\u6709\u9650/\u88f8\u673a/\u65e0libc\uff1a\u53ea\u80fd\u7528\u9759\u6001\u5e93\u3002</li> <li>\u5982\u9700\u5c06busybox\u548c\u81ea\u7f16\u5c0f\u5de5\u5177\u90fd\u9759\u6001\u7f16\u8bd1\uff0c\u79fb\u690d\u6700\u65b9\u4fbf\uff0c\u4f46\u6574\u4f53\u6587\u4ef6\u5927\u3002</li> </ul>"},{"location":"linux%E5%90%AF%E5%8A%A8%E6%B5%81%E7%A8%8B/busybox%E5%88%B6%E4%BD%9C%E6%A0%B9%E6%96%87%E4%BB%B6%E7%B3%BB%E7%BB%9F/#5_1","title":"5. \u603b\u7ed3","text":"<p>\u9759\u6001\u5e93\u66f4\u7b80\u5355\uff0c\u52a8\u6001\u5e93\u66f4\u7075\u6d3b\u9ad8\u6548\u3002\u5d4c\u5165\u5f0f\u9996\u63a8\u9759\u6001\u5e93\uff0c\u5c0f\u578bLinux\u53d1\u884c/\u540e\u7eed\u6269\u5c55\u4f18\u9009\u52a8\u6001\u5e93\u3002</p> <p>\u5982\u679c\u4f60\u8981\u79fb\u690d\u5230\u8d44\u6e90\u5f88\u6709\u9650\uff08\u6bd4\u5982SDRAM\u5f88\u5c0f\u3001flash\u5f88\u5c0f\u3001\u53ea\u8981\u4e00\u4e2ashell\uff09\u7684\u7cfb\u7edf\uff0c\u9759\u6001BusyBox\u662f\u9996\u9009\uff1b\u5982\u679c\u4f60\u8981\u540e\u7eed\u88c5\u66f4\u591a\u7a0b\u5e8f\u6216\u5347\u7ea7\u7ef4\u62a4\uff0c\u5efa\u8bae\u641e\u52a8\u6001\u5e93rootfs\uff0c\u628a\u5e38\u7528\u5e93\u4e00\u6b21\u62f7\u5168\uff0c\u540e\u7eed\u53ef\u7ef4\u62a4\u6027\u597d\u3002</p>"},{"location":"linux%E5%90%AF%E5%8A%A8%E6%B5%81%E7%A8%8B/kernel%E5%90%AF%E5%8A%A8/","title":"Kernel\u542f\u52a8","text":"<p>Linux\u5185\u6838\u5728\u542f\u52a8\u540e\uff0c\u53ea\u4f1a\u542f\u52a8\u4e00\u4e2a\u201c\u7b2c\u4e00\u4e2a\u7528\u6237\u7a7a\u95f4\u8fdb\u7a0b\u201d\u2014\u2014\u4e5f\u5c31\u662f<code>init</code>\uff08\u901a\u5e38\u662f <code>/sbin/init</code> \u6216 <code>/init</code>\uff09\uff0c \u540e\u9762\u6240\u6709\u7684\u5e94\u7528\u7a0b\u5e8f\u3001\u670d\u52a1\u3001shell\u3001\u540e\u53f0\u5b88\u62a4\u8fdb\u7a0b\uff0c\u90fd\u662f\u7531<code>init</code>\u8fdb\u7a0b\uff08\u6216systemd\u3001busybox init\u7b49\uff09\u6765\u8d1f\u8d23\u542f\u52a8\u548c\u7ba1\u7406\u7684\u3002</p>"},{"location":"linux%E5%90%AF%E5%8A%A8%E6%B5%81%E7%A8%8B/kernel%E5%90%AF%E5%8A%A8/#_1","title":"Kernel\u542f\u52a8","text":"<ol> <li> <p>\u5185\u6838\u542f\u52a8\u540e\u53d1\u751f\u4e86\u4ec0\u4e48\uff1f</p> </li> <li> <p>\u5185\u6838\u521d\u59cb\u5316\u786c\u4ef6\u3001\u6302\u8f7d\u6839\u6587\u4ef6\u7cfb\u7edf\u540e\uff0c</p> </li> <li>\u4f1a\u5bfb\u627e\u4e00\u4e2a\u53ef\u6267\u884c\u6587\u4ef6\u4f5c\u4e3a\u7b2c\u4e00\u4e2a\u7528\u6237\u7a7a\u95f4\u8fdb\u7a0b\u3002\u8fd9\u4e2a\u8fdb\u7a0b\u5fc5\u987b\u662f\uff1a</li> <li><code>/sbin/init</code></li> <li><code>/etc/init</code></li> <li><code>/bin/init</code></li> <li><code>/bin/sh</code></li> <li> <p>\u6216\u8005\u901a\u8fc7\u542f\u52a8\u53c2\u6570<code>init=/xxx</code>\u6307\u5b9a      \u53ea\u8981\u6709\u4e00\u4e2a\u80fd\u627e\u5230\u5e76\u8fd0\u884c\uff0c\u5c31\u5f53\u4f5c\u7b2c1\u53f7\u8fdb\u7a0b\uff08PID 1\uff09\u3002</p> </li> <li> <p>init\u8fdb\u7a0b\u7684\u4f5c\u7528\u662f\u4ec0\u4e48\uff1f</p> </li> <li> <p>\u8fd9\u4e2a<code>init</code>\u8fdb\u7a0b\uff0c\u662f\u6240\u6709\u5176\u5b83\u7528\u6237\u7a7a\u95f4\u8fdb\u7a0b\u7684\u7956\u5148\u3001\u7236\u4eb2\u3001\u63a7\u5236\u8005\u3002</p> </li> <li>\u5b83\u6309\u7167\u914d\u7f6e\uff08\u6bd4\u5982<code>/etc/inittab</code>\u3001<code>/etc/init.d/</code>\u3001systemd\u7684unit\u6587\u4ef6\u7b49\uff09\uff0c\u51b3\u5b9a\u542f\u52a8\u54ea\u4e9b\u5e94\u7528\u7a0b\u5e8f\u3001\u540e\u53f0\u670d\u52a1\u3001\u767b\u5f55shell\u7b49\u3002</li> <li> <p>\u5b83\u53ef\u4ee5\u542f\u52a8\u548c\u7ba1\u7406\u4efb\u610f\u591a\u4e2a\u5e94\u7528\u7a0b\u5e8f\uff08\u8fdb\u7a0b\uff09\uff0c\u5e76\u53ef\u4ee5\u5bf9\u5b83\u4eec\u8fdb\u884c\u76d1\u63a7\u3001\u91cd\u542f\u7b49\u7ba1\u7406\u3002</p> </li> <li> <p>\u5b9e\u9645\u8868\u73b0</p> </li> <li> <p>\u5185\u6838\uff1a\u53ea\u8d1f\u8d23\u201c\u62c9\u8d77\u7b2c\u4e00\u4e2a\u8fdb\u7a0b\u201d\u3002</p> </li> <li><code>init</code>\uff1a\u6839\u636e\u914d\u7f6e\u6279\u91cf\u542f\u52a8shell\u3001web\u670d\u52a1\u5668\u3001\u540e\u53f0\u5b88\u62a4\u8fdb\u7a0b\u3001\u4f60\u7684App\u7b49\uff0c\u7cfb\u7edf\u91cc\u5c31\u4f1a\u6709\u5f88\u591a\u8fdb\u7a0b\u548c\u670d\u52a1\u3002</li> </ol> <p>\u4e3e\u4f8b\u8bf4\u660e</p> <p>\u5d4c\u5165\u5f0f\u6781\u7b80\u7cfb\u7edf\uff08init\u5c31\u662f\u4f60\u81ea\u5df1\u7684\u7a0b\u5e8f\uff09</p> <ul> <li>\u4f60\u628a\u81ea\u5df1\u7684\u5e94\u7528\u7f16\u8bd1\u6210<code>/init</code>\uff0c\u5176\u4ed6\u4ec0\u4e48\u90fd\u6ca1\u6709\u3002</li> <li>\u7cfb\u7edf\u542f\u52a8\u540e\uff0c\u53ea\u8fd0\u884c\u4f60\u7684\u7a0b\u5e8f\u3002</li> </ul> <p>\u6b63\u5e38Linux\u7cfb\u7edf</p> <ul> <li><code>init</code>\u4f1a\u6309\u7167\u914d\u7f6e\u81ea\u52a8\u542f\u52a8\uff1a</li> <li><code>getty</code>\uff08\u4e32\u53e3/\u7ec8\u7aef\u767b\u5f55shell\uff09</li> <li><code>sshd</code>\uff08\u8fdc\u7a0b\u767b\u5f55\u670d\u52a1\uff09</li> <li><code>cron</code>\uff08\u5b9a\u65f6\u4efb\u52a1\uff09</li> <li><code>dbus</code>\u3001<code>networkd</code>\u3001<code>udevd</code>\u7b49</li> <li>\u4f60\u81ea\u5df1\u7684app</li> </ul> <p>\u5c0f\u7ed3</p> <ul> <li>\u5185\u6838\u672c\u8eab\u4e0d\u4f1a\u4e3b\u52a8\u542f\u52a8\u591a\u4e2a\u5e94\u7528\u3002\u5b83\u201c\u542f\u52a8\u7b2c\u4e00\u4e2a\u8fdb\u7a0binit\u201d\uff0c\u4e4b\u540e\u6240\u6709\u8fdb\u7a0b\u7684\u542f\u52a8\u548c\u7ba1\u7406\u5168\u4ea4\u7ed9init\u3002</li> <li>init\u624d\u662f\u7528\u6237\u7a7a\u95f4\u6240\u6709\u8fdb\u7a0b\u7684\u201c\u7956\u5b97\u201d\uff0c\u51b3\u5b9a\u4e86\u6574\u4e2a\u7cfb\u7edf\u201c\u8dd1\u4ec0\u4e48\u7a0b\u5e8f\u201d\u3002</li> </ul>"},{"location":"linux%E5%90%AF%E5%8A%A8%E6%B5%81%E7%A8%8B/kernel%E5%90%AF%E5%8A%A8/#ubuntu","title":"\u5728\u6211\u81ea\u5df1\u7684ubuntu\u4e0a\u5982\u4f55\u627e\u5230\u7b2c\u4e00\u4e2a\u8fdb\u7a0b\uff0c\u4ee5\u53ca\u5982\u4f55\u77e5\u9053\u7b2c\u4e00\u4e2a\u8fdb\u7a0b\u4e4b\u540e\u542f\u52a8\u9ed8\u8ba4\u4f1a\u542f\u52a8\u4ec0\u4e48\uff1f","text":"<ol> <li> <p>\u5982\u4f55\u627e\u5230\u7b2c\u4e00\u4e2a\u8fdb\u7a0b\uff1f</p> </li> <li> <p>\u7b2c\u4e00\u4e2a\u8fdb\u7a0b\u7684\u7279\u70b9\u662f\uff1aPID\uff08\u8fdb\u7a0b\u53f7\uff09\u4e3a1\u3002</p> </li> <li>\u5728\u73b0\u4ee3Ubuntu\uff08\u6bd4\u598218.04/20.04/22.04/24.04\uff09\uff0cPID 1 \u901a\u5e38\u662f <code>systemd</code> \u8fdb\u7a0b\uff08\u66f4\u65e9\u4ee5\u524d\u662f <code>/sbin/init</code>\uff09\u3002</li> </ol> <p>\u4f60\u53ef\u4ee5\u76f4\u63a5\u5728\u7ec8\u7aef\u6267\u884c\uff1a</p> <pre><code>ps -p 1 -o pid,ppid,user,comm,args\n</code></pre> <pre><code>hdj@hdj-virtual-machine:~$ ps -p 1 -o pid,ppid,user,comm,args\n    PID    PPID USER     COMMAND         COMMAND\n      1       0 root     systemd         /sbin/init auto noprompt splash\n</code></pre> <p>\u8bf4\u660ePID 1\u662fsystemd\uff08\u5373<code>/sbin/init</code>\u7684\u8f6f\u94fe\u63a5\uff09\uff0c\u7528\u6237\u662froot\uff0c\u7236\u8fdb\u7a0b\u662f0\uff08\u5185\u6838\uff09\u3002</p> <ol> <li> <p>\u5982\u4f55\u77e5\u9053init\uff08\u7b2c\u4e00\u4e2a\u8fdb\u7a0b\uff09\u4e4b\u540e\u4f1a\u9ed8\u8ba4\u542f\u52a8\u4ec0\u4e48\uff1f</p> </li> <li> <p>\u5728Ubuntu\u3001Debian\u7b49\u73b0\u4ee3Linux\uff0cinit\u5176\u5b9e\u5c31\u662fsystemd\uff0c\u5b83\u901a\u8fc7\u4e00\u5806\u201cunit\u6587\u4ef6\u201d\u51b3\u5b9a\u7cfb\u7edf\u670d\u52a1\u7684\u542f\u52a8\u987a\u5e8f\u548c\u5185\u5bb9\u3002</p> </li> <li>systemd\u7684\u914d\u7f6e\u548c\u670d\u52a1\u7ba1\u7406\u90fd\u96c6\u4e2d\u5728 <code>/etc/systemd/</code> \u4ee5\u53ca <code>/lib/systemd/</code> \u4e0b\u9762\u3002</li> </ol> <p>2.1 \u67e5\u770b\u6240\u6709\u81ea\u542f\u52a8\u7684\u670d\u52a1\uff08\u663e\u793a\u6240\u6709\u670d\u52a1\u7684\u5f00\u673a\u542f\u52a8\u72b6\u6001\uff09</p> <pre><code>systemctl list-unit-files --type=service\n</code></pre> <pre><code>hdj@hdj-virtual-machine:~$ systemctl list-unit-files --type=service\nUNIT FILE                                  STATE           VENDOR PRESET\naccounts-daemon.service                    enabled         enabled      \nacpid.service                              disabled        enabled      \nalsa-restore.service                       static          -            \nalsa-state.service                         static          -            \nalsa-utils.service                         masked          enabled      \nanacron.service                            enabled         enabled      \napp.service                                enabled         enabled      \napparmor.service                           enabled         enabled      \napport-autoreport.service                  static          -            \napport-forward@.service                    static          -            \napport.service                             generated       -            \napt-daily-upgrade.service                  static          -            \napt-daily.service                          static          -            \napt-news.service                           static          -            \nautovt@.service                            alias           -            \navahi-daemon.service                       enabled         enabled      \nbinfmt-support.service                     enabled         enabled      \nbluetooth.service                          enabled         enabled      \nbolt.service                               static          -            \nbrltty-udev.service                        static          -            \nbrltty.service                             disabled        enabled      \nbt.service                                 generated       -            \ncolord.service                             static          -            \nconfigure-printer@.service                 static          -            \nconsole-getty.service                      disabled        disabled     \nconsole-setup.service                      enabled         enabled      \ncontainer-getty@.service                   static          -            \ncron.service                               enabled         enabled      \ncryptdisks-early.service                   masked          enabled      \ncryptdisks.service                         masked          enabled      \ncups-browsed.service                       enabled         enabled      \ncups.service                               enabled         enabled      \ndbus-fi.w1.wpa_supplicant1.service         alias           -            \ndbus-org.bluez.service                     alias           -            \ndbus-org.freedesktop.Avahi.service         alias           -            \ndbus-org.freedesktop.hostname1.service     alias           -            \ndbus-org.freedesktop.locale1.service       alias           -            \ndbus-org.freedesktop.login1.service        alias           -            \n</code></pre> <p>2.2 \u67e5\u770b\u5f53\u524d\u6b63\u5728\u8fd0\u884c\u7684\u6240\u6709\u670d\u52a1</p> <pre><code>systemctl\n</code></pre> <p>\u6216\u8005</p> <pre><code>systemctl list-units --type=service\n</code></pre> <p>2.3 \u67e5\u770b\u9ed8\u8ba4\u4f1a\u542f\u52a8\u4ec0\u4e48\uff08\u5f00\u673a\u65f6\u81ea\u52a8\u542f\u52a8\u7684\u670d\u52a1/\u76ee\u6807\uff09</p> <pre><code>systemctl get-default\n</code></pre> <p>\u8f93\u51fa\u4e00\u822c\u662f <code>graphical.target</code>\uff08\u684c\u9762\uff09 \u6216 <code>multi-user.target</code>\uff08\u547d\u4ee4\u884c\u591a\u7528\u6237\uff09\u3002</p> <p>\u53ef\u4ee5\u7528\u4e0b\u9762\u547d\u4ee4\u67e5\u770b\u8fd9\u4e2atarget\u4f1a\u542f\u52a8\u54ea\u4e9b\u670d\u52a1\uff1a</p> <pre><code>systemctl list-dependencies default.target\n</code></pre> <p>\u6216\u8005</p> <pre><code>systemctl list-dependencies multi-user.target\n</code></pre> <ol> <li> <p>systemd\u914d\u7f6e\u6587\u4ef6\u5728\u54ea\uff1f</p> </li> <li> <p>\u7cfb\u7edf\u81ea\u5e26\u670d\u52a1\u914d\u7f6e\uff1a<code>/lib/systemd/system/</code></p> </li> <li>\u7528\u6237\u6216\u81ea\u5b9a\u4e49\u670d\u52a1\u914d\u7f6e\uff1a<code>/etc/systemd/system/</code></li> <li>\u4f60\u53ef\u4ee5\u7528 <code>cat</code> \u6216 <code>less</code> \u67e5\u770b\u8fd9\u4e9b\u76ee\u5f55\u4e0b\u7684 <code>.service</code> \u6587\u4ef6\u5185\u5bb9\uff0c\u4e86\u89e3\u6bcf\u4e2a\u670d\u52a1\u5982\u4f55\u542f\u52a8\u7684\u3002</li> </ol> <ol> <li> <p>\u9a8c\u8bc1init\u8fdb\u7a0b\u4e4b\u540e\u542f\u52a8\u4e86\u4ec0\u4e48\uff1f</p> </li> <li> <p>\u4f60\u53ef\u4ee5\u67e5\u770b\u7cfb\u7edf\u7684\u542f\u52a8\u65e5\u5fd7\uff1a</p> </li> </ol> <pre><code>journalctl -b\n</code></pre> <ul> <li>\u8fd9\u4e2a\u547d\u4ee4\u4f1a\u663e\u793a\u81ea\u4e0a\u6b21\u542f\u52a8\u4ee5\u6765systemd\u7ba1\u7406\u7684\u6240\u6709\u670d\u52a1\u542f\u52a8\u8fc7\u7a0b\u3002</li> </ul> <p>\u603b\u7ed3</p> <ul> <li>Ubuntu\u4e0b\uff0c\u7b2c\u4e00\u4e2a\u8fdb\u7a0b\uff08PID 1\uff09\u51e0\u4e4e\u603b\u662f <code>systemd</code>\u3002</li> <li>systemd\u8bfb\u53d6\u914d\u7f6e\uff08unit\u6587\u4ef6\uff09\uff0c\u81ea\u52a8\u542f\u52a8\u5404\u79cd\u670d\u52a1\u548c\u76ee\u6807\uff08target\uff09\uff0c\u8fd9\u4e9b\u51b3\u5b9a\u4e86\u7cfb\u7edf\u542f\u52a8\u540e\u6709\u54ea\u4e9b\u8fdb\u7a0b\u548c\u670d\u52a1\u3002</li> <li>\u4f60\u53ef\u4ee5\u7528 <code>ps -p 1</code>\u3001<code>systemctl</code>\u3001<code>journalctl -b</code> \u7b49\u547d\u4ee4\u89c2\u5bdf\u548c\u5206\u6790\u7cfb\u7edf\u542f\u52a8\u6d41\u7a0b\u3002</li> </ul>"},{"location":"linux%E5%90%AF%E5%8A%A8%E6%B5%81%E7%A8%8B/kernel%E5%90%AF%E5%8A%A8/#init","title":"\u5982\u4f55\u67e5\u770b\u81ea\u5df1\u5f00\u53d1\u677f\u7684 init \u7cfb\u7edf","text":"<p>\uff0c\u5d4c\u5165\u5f0f\u5f00\u53d1\u677f\u7684\u201c\u521d\u59cb\u5316\u7cfb\u7edf\u201d\u548c\u542f\u52a8\u914d\u7f6e\u65b9\u5f0f\u6709\u591a\u79cd\uff0c\u5e76\u4e0d\u662f\u6240\u6709\u7684\u5d4c\u5165\u5f0fLinux\u90fd\u8fd8\u7528 <code>/etc/inittab</code>\u3002\u80fd\u4e0d\u80fd\u7528\u3001\u7528\u4e0d\u7528\uff0c\u53d6\u51b3\u4e8e\u7528\u7684\u662f\u4ec0\u4e48 init \u7cfb\u7edf\u3002\u4e0b\u9762\u8be6\u7ec6\u5206\u60c5\u51b5\u89e3\u91ca\uff1a</p> <ol> <li>\u5d4c\u5165\u5f0f\u5f00\u53d1\u677f\u5e38\u89c1\u7684 init \u7cfb\u7edf</li> </ol> <p>A. busybox init\uff08\u5e38\u7528\u5728\u6781\u7b80\u5d4c\u5165\u5f0f\u7cfb\u7edf\uff09</p> <ul> <li>busybox \u63d0\u4f9b\u4e86\u6781\u7b80\u7684 <code>init</code> \u5b9e\u73b0\uff0c\u4f9d\u7136\u652f\u6301 <code>/etc/inittab</code> \u914d\u7f6e\u6587\u4ef6\u3002</li> <li>\u5728\u5f88\u591a\u57fa\u4e8e busybox \u7684\u7cfb\u7edf\uff08\u5982 OpenWRT\u3001buildroot \u9ed8\u8ba4\u914d\u7f6e\u3001\u8001\u7684Yocto\u955c\u50cf\uff09\u4e0a\uff0c\u4f60\u4f1a\u770b\u5230 <code>/etc/inittab</code> \u51b3\u5b9a\u4e86\u7cfb\u7edf\u542f\u52a8\u6d41\u7a0b\u548c\u540e\u53f0\u8fdb\u7a0b\u3002</li> <li>\u9002\u5408\u8d44\u6e90\u6709\u9650\u3001\u529f\u80fd\u7b80\u5355\u7684\u5d4c\u5165\u5f0f\u4ea7\u54c1\u548c\u5f00\u53d1\u677f\u3002</li> </ul> <p>B. sysvinit\uff08\u65e9\u671fLinux\u5e38\u7528\uff09</p> <ul> <li>\u6bd4\u8f83\u91cd\u578b\u7684\u5d4c\u5165\u5f0fLinux\uff0c\u4e5f\u53ef\u80fd\u7528\u4f20\u7edf SysV init\uff0c\u8fd9\u65f6\u4e5f\u4f1a\u7528 <code>/etc/inittab</code>\uff0c\u4f46\u8fd9\u79cd\u5df2\u7ecf\u5728\u4e3b\u6d41\u684c\u9762/\u670d\u52a1\u5668\u88ab\u6dd8\u6c70\u3002</li> </ul> <p>C. systemd/upstart\uff08\u73b0\u4ee3\u590d\u6742\u7cfb\u7edf\u3001\u6027\u80fd\u5145\u88d5\u7684\u5f00\u53d1\u677f\uff09</p> <ul> <li>\u8bb8\u591a\u8f83\u65b0\u7684\u5f00\u53d1\u677f\uff08\u6bd4\u5982\u57fa\u4e8e Ubuntu/Debian/Yocto \u7684 ARM \u5f00\u53d1\u677f\uff0c\u6216\u6811\u8393\u6d3e\u7b49\uff09\u5df2\u7ecf\u7528\u4e0a\u4e86 systemd\uff0c\u6b64\u65f6 <code>/etc/inittab</code> \u4e0d\u518d\u8d77\u4f5c\u7528\u3002</li> <li>\u7cfb\u7edf\u542f\u52a8\u6d41\u7a0b\u548c\u670d\u52a1\u81ea\u542f\u90fd\u901a\u8fc7 systemd \u7684 unit \u6587\u4ef6\u63a7\u5236\u3002</li> </ul> <ol> <li> <p>\u600e\u4e48\u5224\u65ad\u4f60\u7684\u5f00\u53d1\u677f/\u56fa\u4ef6\u7528\u7684\u662f\u54ea\u79cd init\uff1f</p> </li> <li> <p>\u67e5\u770b <code>/sbin/init</code> \u6216 <code>/init</code> \u662f\u8c01\uff1a</p> </li> </ol> <pre><code>ls -l /sbin/init\nps -p 1 -o comm,args\n</code></pre> <ul> <li>\u5982\u679c\u663e\u793a <code>init [busybox]</code> \u6216 <code>init [sysv]</code>\uff0c\u4e00\u822c\u652f\u6301 <code>/etc/inittab</code></li> <li> <p>\u5982\u679c\u662f <code>systemd</code>\uff0c\u90a3\u4e00\u5b9a\u6ca1\u6709 <code>/etc/inittab</code> \u7684\u7528\u6b66\u4e4b\u5730\u3002</p> </li> <li> <p>\u67e5\u770b\u6587\u4ef6\u662f\u5426\u5b58\u5728\uff1a</p> </li> </ul> <pre><code>ls /etc/inittab\n</code></pre> <ul> <li>\u6709\u5e76\u4e14\u5185\u5bb9\u4e30\u5bcc\uff0c\u5341\u6709\u516b\u4e5d\u5728\u7528\u3002</li> <li> <p>\u6ca1\u6709\uff0c\u57fa\u672c\u5c31\u662f systemd \u6216\u522b\u7684init\u7cfb\u7edf\u3002</p> </li> <li> <p>\u67e5\u770b\u53d1\u884c\u7248\u6587\u6863/\u6784\u5efa\u811a\u672c/Yocto/Buildroot\u914d\u7f6e\uff1a</p> </li> <li> <p>busybox \u9ed8\u8ba4\u7528 <code>/etc/inittab</code>\uff0c\u9664\u975e\u4f60\u914d\u7f6e\u4e86\u522b\u7684 init\u3002</p> </li> </ul> <ol> <li>\u5b9e\u9645\u4e3e\u4f8b\uff1a</li> </ol> <p>OpenWRT\u3001Buildroot\u3001\u6781\u7b80Busybox\u6839\u6587\u4ef6\u7cfb\u7edf</p> <ul> <li>\u9ed8\u8ba4\u90fd\u7528 busybox init + /etc/inittab\u3002</li> <li>\u4f60\u53ef\u4ee5\u901a\u8fc7\u4fee\u6539 <code>/etc/inittab</code>\uff0c\u8ba9\u7cfb\u7edf\u81ea\u52a8\u8fd0\u884c\u4f60\u7684\u7a0b\u5e8f\u3001\u7ba1\u7406\u4e32\u53e3shell\u3001\u5b88\u62a4\u8fdb\u7a0b\u7b49\u3002</li> </ul> <p>\u6811\u8393\u6d3e\u5b98\u65b9Debian/Ubuntu\u3001NXP\u5b98\u65b9Yocto\u3001\u5168\u5fd7/\u745e\u82af\u5fae\u6700\u65b0SDK</p> <ul> <li>\u5927\u591a\u5df2\u7ecf\u9ed8\u8ba4 systemd\uff0c\u7528 unit \u6587\u4ef6\u542f\u52a8\u670d\u52a1\uff0c\u548c\u684c\u9762Linux\u4e00\u81f4\u3002</li> <li><code>/etc/inittab</code> \u53ef\u80fd\u6839\u672c\u4e0d\u5b58\u5728\u3002</li> </ul> <ol> <li> <p>\u7ed3\u8bba\uff1a</p> </li> <li> <p>\u5728\u201c\u7cbe\u7b80\u5d4c\u5165\u5f0f\u7cfb\u7edf\u201d\u4e2d\uff0cbusybox init + <code>/etc/inittab</code> \u4ecd\u7136\u5f88\u5e38\u89c1\uff0c\u662f\u914d\u7f6e\u542f\u52a8\u6d41\u7a0b\u548c\u540e\u53f0\u8fdb\u7a0b\u7684\u6838\u5fc3\u65b9\u5f0f\u3002</p> </li> <li>\u4f46\u5728\u8d8a\u6765\u8d8a\u591a\u7684\u201c\u9ad8\u6027\u80fd/\u65b0\u578b\u5d4c\u5165\u5f0f\u7cfb\u7edf\u201d\u91cc\uff0c\u5df2\u7ecf\u7528 systemd/upstart \u7b49\u73b0\u4ee3init\u66ff\u4ee3\u4e86inittab\u3002</li> <li>\u662f\u5426\u7528 <code>/etc/inittab</code>\uff0c\u5173\u952e\u770b\u7528\u7684\u662f\u4ec0\u4e48 init \u7cfb\u7edf\u3002</li> </ol>"},{"location":"linux%E5%90%AF%E5%8A%A8%E6%B5%81%E7%A8%8B/linux%E5%90%AF%E5%8A%A8%E6%B5%81%E7%A8%8B/","title":"Linux\u542f\u52a8\u6d41\u7a0b","text":"<p>1.\u5728\u82af\u7247\u4e0a\u6709\u4e00\u4e2abootrom\u5206\u533a\uff0cbootrom\u5206\u533a\u91cc\u653e\u7684\u5382\u5bb6\u7684\u4ee3\u7801\uff0c\u652f\u6301iap\uff0c\u4e00\u822cbootrom\u652f\u6301\u54ea\u4e9b\u542f\u52a8\u65b9\u5f0f\u90fd\u4f1a\u6709\u4e00\u4e2a\u8bf4\u660e\uff0c\u6bd4\u5982\u7ed9\u51e0\u4e2aio\uff0c\u7cfb\u7edf\u4e0a\u7535\u7684\u65f6\u5019\u8bfb\u53d6io\u7684\u9ad8\u4f4e\u7535\u5e73\u51b3\u5b9a\u4ecesd\u5361\u542f\u52a8\u6216\u8005\u662femmc\u542f\u52a8\u6216\u8005\u662fnor flash\u542f\u52a8</p> <p>2.\u6211\u4eec\u5c06uboot\u70e7\u5f55\u5230\u67d0\u4e2aflash\uff0c\u7cfb\u7edf\u542f\u52a8\u65f6\uff0c\u7b2c\u4e00\u4e2a\u7a0b\u5e8fuboot\u4e5f\u5c31\u542f\u52a8\u4e86\uff0c\u63a5\u7740\u8981\u5c06\u5185\u6838\u52a0\u8f7d\u5230ram</p> <p>\u8003\u8651\u95ee\u9898</p> <ul> <li>\u65e2\u7136\u662f\u8981\u5c06\u5185\u6838\u52a0\u8f7d\u5230ram\uff0c\u90a3\u4e48\u8fd9\u4e2a\u8fc7\u7a0b\u5fc5\u5b9a\u662f\u8981\u521d\u59cb\u5316ram\u7684\uff0c\u662fbootrom\u533a\u57df\u7684\u56fa\u5316\u7a0b\u5e8f\u521d\u59cb\u5316ram\u8fd8\u662fbootloader\u7684\u7a0b\u5e8f\u521d\u59cb\u5316ram?</li> <li>\u5176\u6b21\uff0c\u8981\u77e5\u9053\u5185\u6838\u4ee5\u53ca\u6839\u6587\u4ef6\u7cfb\u7edf\u5728\u54ea\u4e00\u4e2a\u4f4d\u7f6e\u6211\u8981\u53bb\u5bf9\u5e94\u7684\u4f4d\u7f6e\u8bfb\u53d6</li> <li>\u7136\u540e\u8981\u5c06\u5185\u6838\u4ee5\u53ca\u6839\u6587\u4ef6\u7cfb\u7edf\u52a0\u8f7d\u5230\u5185\u5b58\u7684\u4ec0\u4e48\u4f4d\u7f6e</li> <li>\u6587\u4ef6\u7cfb\u7edf\u662f\u7531\u5185\u6838\u52a0\u8f7d\u5230ram\u8fd8\u662fuboot\u52a0\u8f7d\u5230ram?</li> </ul>"},{"location":"linux%E5%90%AF%E5%8A%A8%E6%B5%81%E7%A8%8B/linux%E5%90%AF%E5%8A%A8%E6%B5%81%E7%A8%8B/#1-rambootromuboot","title":"\u95ee\u98981. ram\u662f\u7531bootrom\u533a\u57df\u7684\u4ee3\u7801\u521d\u59cb\u5316\u8fd8\u662fuboot\u521d\u59cb\u5316","text":"<p>RAM\uff08DRAM/SRAM\uff09\u7684\u521d\u59cb\u5316\u5206\u9636\u6bb5\uff1a</p> <ol> <li> <p>BootROM \u9636\u6bb5\uff1a</p> </li> <li> <p>BootROM \u662f\u82af\u7247\u5185\u90e8\u56fa\u5316\u7684\u201c\u7b2c\u4e00\u9636\u6bb5\u542f\u52a8\u7a0b\u5e8f\u201d\uff0c\u5b58\u653e\u5728\u82af\u7247\u5185\u90e8\uff0c\u53ea\u80fd\u8bfb\u4e0d\u80fd\u6539\u3002</p> </li> <li>BootROM \u7684\u4e3b\u8981\u4efb\u52a1\uff1a\u5b8c\u6210\u6781\u5176\u7b80\u5355\u7684\u786c\u4ef6\u521d\u59cb\u5316\uff08\u6bd4\u5982\u8bbe\u7f6e\u65f6\u949f\u3001\u68c0\u67e5\u5f15\u811a\u72b6\u6001\u3001\u9009\u62e9\u542f\u52a8\u8bbe\u5907\uff0c\u5982NAND\u3001eMMC\u3001SD\u3001QSPI\u7b49\uff09\uff0c</li> <li>\u5927\u591a\u6570\u60c5\u51b5\u4e0b\uff0cBootROM\u8fd8\u65e0\u6cd5\u64cd\u4f5c\u5916\u90e8RAM\uff08\u6bd4\u5982DRAM\uff09\uff0c</li> <li> <p>\u5b83\u4ece\u542f\u52a8\u8bbe\u5907\u52a0\u8f7dU-Boot\u7684\u524d\u4e00\u5c0f\u90e8\u5206\uff08SPL/TPL\uff09\u5230\u82af\u7247\u5185\u90e8\u7684SRAM\uff08\u5f88\u5c0f\uff0c\u4e00\u822c\u51e0\u5341K\u6216\u51e0\u767eK\uff09\u3002</p> </li> <li> <p>SPL/TPL \u9636\u6bb5\uff08\u6709\u7684SoC\u6709\uff0c\u6709\u7684\u6ca1\u6709\uff09\uff1a</p> </li> <li> <p>SPL\uff08Secondary Program Loader\uff09\u6216TPL\uff08Third Program Loader\uff09\uff0c\u662fU-Boot\u7684\u7cbe\u7b80\u7248\u672c\uff0c</p> </li> <li>\u4e3b\u8981\u4efb\u52a1\u5c31\u662f\u521d\u59cb\u5316\u5916\u90e8RAM\uff08\u6bd4\u5982DDR/LPDDR\uff09\uff0c\u56e0\u4e3a\u6b63\u5f0f\u7684U-Boot\u5f88\u5927\uff0c\u5fc5\u987b\u5148\u628aDRAM\u521d\u59cb\u5316\u597d\uff0c\u624d\u80fd\u52a0\u8f7dU-Boot\u5230DRAM\u4e2d\u6267\u884c\u3002</li> <li>SPL\u5728\u7247\u5185SRAM\u4e2d\u8fd0\u884c\uff0c\u5b8c\u6210\u5916\u90e8RAM\u521d\u59cb\u5316\uff08\u901a\u8fc7\u914d\u7f6eDDR\u63a7\u5236\u5668\u3001\u6267\u884cDDR\u521d\u59cb\u5316\u5e8f\u5217\uff09\u3002</li> <li> <p>\u6709\u4e9b\u7b80\u5355MCU/SoC\uff0cBootROM\u76f4\u63a5\u521d\u59cb\u5316\u4e86RAM\uff0c\u90a3\u5c31\u4e0d\u9700\u8981SPL\u9636\u6bb5\u3002</p> </li> <li> <p>U-Boot\u9636\u6bb5\uff08main U-Boot\uff09\uff1a</p> </li> <li> <p>\u7b49\u5916\u90e8RAM\u521d\u59cb\u5316\u597d\u540e\uff0cSPL\u628a\u5b8c\u6574\u7684U-Boot\u52a0\u8f7d\u5230RAM\uff08DRAM\uff09\u91cc\uff0c\u8df3\u8f6c\u8fc7\u53bb\u7ee7\u7eed\u6267\u884c\u3002</p> </li> <li>U-Boot\u5c31\u53ef\u4ee5\u5728\u66f4\u5927\u66f4\u5feb\u7684\u5185\u5b58\u7a7a\u95f4\u91cc\u8fd0\u884c\uff0c\u52a0\u8f7d\u5185\u6838\u3001dtb\u7b49\u3002</li> </ol> <p>\u6574\u4f53\u6d41\u7a0b\uff08\u4e3e\u4f8b\u8bf4\u660e\uff09</p> <p>\u4ee5\u5e38\u89c1ARM Cortex-A\u82af\u7247\u4e3a\u4f8b\uff1a</p> <ol> <li>BootROM     \u2192\uff08\u5728\u82af\u7247\u5185\u90e8ROM\uff0c\u521d\u59cb\u5316\u7247\u5185\u8d44\u6e90\uff0c\u52a0\u8f7dSPL\u5230SRAM\uff09</li> <li>SPL     \u2192\uff08\u5728SRAM\u91cc\u8dd1\uff0c\u521d\u59cb\u5316\u5916\u90e8RAM/DRAM\uff09</li> <li> <p>main U-Boot     \u2192\uff08\u52a0\u8f7d\u5230DRAM\u91cc\uff0c\u7ee7\u7eed\u6267\u884c\uff0c\u505a\u540e\u7eed\u5de5\u4f5c\uff09</p> </li> <li> <p>\u53ea\u6709\u5f53DRAM\u521d\u59cb\u5316\u597d\u4ee5\u540e\uff0c\u7cfb\u7edf\u624d\u80fd\u7528\u5927\u5bb9\u91cf\u5185\u5b58\u505a\u540e\u7eed\u64cd\u4f5c\u3002</p> </li> <li>\u5916\u90e8RAM\u7684\u521d\u59cb\u5316\u901a\u5e38\u662f\u5728SPL\u5b8c\u6210\u7684\uff01</li> </ol> <p>\u7279\u6b8a\u60c5\u51b5</p> <ul> <li>\u6709\u7684\u5355\u7247\u673a/SoC\u6709\u201c\u5f15\u5bfcRAM\u201d\u6216\u201con-chip RAM\u201d\u8db3\u591f\u5927\uff0cBootROM\u9636\u6bb5\u53ef\u4ee5\u76f4\u63a5\u521d\u59cb\u5316\u5916\u90e8RAM\uff0c\u8fd9\u79cd\u60c5\u51b5\u4e0b\u5c31\u6ca1\u6709SPL/TPL\u3002</li> <li>\u6781\u7b80\u7cfb\u7edf\uff08\u65e0DDR/\u53ea\u6709SRAM\uff09\u76f4\u63a5BootROM\u540e\u8fdbU-Boot\u3002</li> </ul> <p>\u603b\u7ed3</p> <ul> <li>RAM\uff08\u5916\u90e8DRAM\uff09\u901a\u5e38\u662f\u7531U-Boot\u7684SPL\u9636\u6bb5\u521d\u59cb\u5316\u7684\u3002</li> <li>BootROM \u53ea\u505a\u6700\u57fa\u672c\u7684\u4e8b\u60c5\uff0c\u628aSPL\u62c9\u5230SRAM\u91cc\u6267\u884c\u3002</li> <li>SPL\u521d\u59cb\u5316\u5916\u90e8RAM\uff0c\u52a0\u8f7dmain U-Boot\u3002</li> <li>main U-Boot \u4e4b\u540e\u5c31\u80fd\u4efb\u610f\u7528\u5927RAM\u4e86\u3002</li> <li>\u53ea\u6709\u90e8\u5206\u7b80\u5355\u82af\u7247\uff0cBootROM\u5c31\u80fd\u521d\u59cb\u5316\u5916\u90e8RAM\u3002\u7edd\u5927\u90e8\u5206SoC\uff0c\u90fd\u4f9d\u8d56SPL\u6765\u5b8c\u6210DRAM\u521d\u59cb\u5316\u3002</li> </ul>"},{"location":"linux%E5%90%AF%E5%8A%A8%E6%B5%81%E7%A8%8B/linux%E5%90%AF%E5%8A%A8%E6%B5%81%E7%A8%8B/#2-ubootram","title":"\u95ee\u98982 .uboot\u53ea\u662f\u52a0\u8f7d\u5185\u6838\u6587\u4ef6\u5230ram\u4e48\uff0c\u6587\u4ef6\u7cfb\u7edf\u5462\uff1f","text":"<p>\u6587\u4ef6\u7cfb\u7edf\uff08rootfs\uff09\u662f\u7531\u5185\u6838\u6302\u8f7d\u7684\uff0c\u800c\u4e0d\u662f\u7531U-Boot\u52a0\u8f7d\u5230RAM\u7684\u3002</p> <ol> <li> <p>U-Boot\u53ea\u8d1f\u8d23\u52a0\u8f7d\u5185\u6838\uff08zImage/Image\uff09\u3001\u8bbe\u5907\u6811\uff08.dtb\uff09\u3001\u6709\u65f6\u8fd8\u4f1a\u52a0\u8f7dinitrd/initramfs\u5230RAM\u3002</p> </li> <li> <p>U-Boot\u7684\u4efb\u52a1\u662f\uff1a\u628a\u5185\u6838\u955c\u50cf\u3001\u8bbe\u5907\u6811\u3001\uff08\u53ef\u9009\uff09initrd \u8fd9\u4e9b\u6587\u4ef6\u4eceFlash/SD\u5361/\u5b58\u50a8\u4ecb\u8d28\u52a0\u8f7d\u5230RAM\u7684\u6307\u5b9a\u5730\u5740\uff0c\u7136\u540e\u8df3\u8f6c\u5230\u5185\u6838\u5165\u53e3\uff0c\u542f\u52a8\u5185\u6838\u3002</p> </li> <li> <p>\u771f\u6b63\u7684\u201c\u6302\u8f7d\u6587\u4ef6\u7cfb\u7edf\u201d\u52a8\u4f5c\u53d1\u751f\u5728Linux\u5185\u6838\u542f\u52a8\u4e4b\u540e</p> </li> <li> <p>\u5185\u6838\u542f\u52a8\u540e\uff0c\u4f1a\u6839\u636e\u542f\u52a8\u53c2\u6570\uff08bootargs\uff0c\u901a\u5e38\u662f<code>root=/dev/mmcblk0p2</code>\u8fd9\u6837\u7684\u53c2\u6570\uff09\u53bb\u6302\u8f7d\u4f60\u6307\u5b9a\u7684\u6839\u6587\u4ef6\u7cfb\u7edf\uff0c\u6bd4\u5982eMMC/SD\u5361/NAND\u7b49\u5b58\u50a8\u4ecb\u8d28\u7684\u67d0\u4e2a\u5206\u533a\u4e0a\u7684ext4\u3001squashfs\u3001jffs2\u7b49\u6587\u4ef6\u7cfb\u7edf\u3002</p> </li> <li> <p>\u8fd9\u79cd\u60c5\u51b5\u4e0b\uff0c\u6587\u4ef6\u7cfb\u7edf\uff08rootfs\uff09\u4f9d\u7136\u5728\u5b58\u50a8\u4ecb\u8d28\u4e0a\uff0c\u53ea\u6709\u4f60\u8bbf\u95ee\u6587\u4ef6\u65f6\uff0c\u6570\u636e\u624d\u88ab\u6309\u9700\u8bfb\u5165RAM\uff08\u901a\u8fc7\u7f13\u5b58\uff09\uff0c\u4e0d\u662f\u4e00\u5f00\u673a\u5c31\u6574\u4f53\u52a0\u8f7d\u5230RAM\u3002</p> </li> <li> <p>initramfs/initrd\u662f\u4f8b\u5916\uff0c\u5b83\u786e\u5b9e\u4f1a\u5148\u52a0\u8f7d\u5230RAM\uff0c\u7136\u540e\u88ab\u5185\u6838\u6302\u8f7d\u4e3a\u4e34\u65f6\u6839\u6587\u4ef6\u7cfb\u7edf\u3002</p> </li> <li> <p>\u6709\u4e9b\u5d4c\u5165\u5f0f/\u684c\u9762Linux\u4f1a\u7528initramfs/initrd\uff08\u6bd4\u5982\u89e3\u538b\u56fa\u4ef6\u3001\u505a\u542f\u52a8\u89e3\u9501\u7b49\uff09\uff0c</p> </li> <li>\u8fd9\u65f6U-Boot\u4f1a\u628ainitramfs/initrd\u955c\u50cf\u4e00\u5757\u52a0\u8f7d\u5230RAM\uff0c\u5185\u6838\u542f\u52a8\u65f6\u4ee5RAM\u91cc\u7684initramfs\u5f53\u4f5c\u4e34\u65f6\u6839\u6587\u4ef6\u7cfb\u7edf\uff0c</li> <li> <p>\u4f46\u662f\u6700\u7ec8\u6839\u6587\u4ef6\u7cfb\u7edf\uff08rootfs\uff09\u8fd8\u662f\u5185\u6838\u6765\u6302\u8f7d\uff0c\u5e76\u4e14\u901a\u5e38\u662f\u6302\u8f7d\u5728flash/eMMC/SD\u5361\u7b49\u4ecb\u8d28\u4e0a\u3002</p> </li> <li> <p>\u5e38\u89c1\u6d41\u7a0b\u7b80\u8ff0</p> </li> <li> <p>U-Boot\uff1a</p> </li> <li>\u52a0\u8f7d\u5185\u6838\u3001\u8bbe\u5907\u6811\u3001\uff08\u53ef\u9009\uff09initramfs\u5230RAM\u3002</li> <li>\u8df3\u8f6c\u5230\u5185\u6838\u5165\u53e3\u3002</li> <li>\u5185\u6838\uff1a</li> <li>\u542f\u52a8\uff0c\u89e3\u6790\u8bbe\u5907\u6811\uff0c\u521d\u59cb\u5316\u9a71\u52a8\u3002</li> <li>\u6839\u636ebootargs\uff0c\u6302\u8f7d\u6839\u6587\u4ef6\u7cfb\u7edf\uff08rootfs\uff09\uff0c\u6bd4\u5982<code>/dev/mmcblk0p2</code>\u3002</li> <li>rootfs\u5f00\u59cb\u751f\u6548\uff0c\u8fdb\u5165\u7528\u6237\u7a7a\u95f4\uff08init\u8fdb\u7a0b\uff09\u3002</li> </ol> <p>\u603b\u7ed3\u4e00\u53e5\u8bdd</p> <ul> <li>\u6839\u6587\u4ef6\u7cfb\u7edf\uff08rootfs\uff09\u662f\u5185\u6838\u6302\u8f7d\u7684\uff0c\u4e0d\u662fU-Boot\u52a0\u8f7d\u5230RAM\u7684\u3002</li> <li>U-Boot\u53ea\u8d1f\u8d23\u628a\u5185\u6838\u3001dtb\u3001initramfs\u7b49\u6587\u4ef6\u52a0\u8f7d\u5230RAM\u3002\u6839\u6587\u4ef6\u7cfb\u7edf\u901a\u5e38\u4ecd\u7136\u5728\u5b58\u50a8\u8bbe\u5907\uff08flash\u3001SD\u3001eMMC\u7b49\uff09\u7684\u5206\u533a\u91cc\uff0c\u5185\u6838\u6302\u8f7d\u65f6\u624d\u8bbf\u95ee\u3002</li> </ul>"},{"location":"linux%E5%90%AF%E5%8A%A8%E6%B5%81%E7%A8%8B/linux%E5%90%AF%E5%8A%A8%E6%B5%81%E7%A8%8B/#3-bootloaderu-bootram","title":"\u95ee\u98983 \u201cbootloader\uff08\u5982U-Boot\uff09\u4ece\u54ea\u91cc\u627e\u5230\u5185\u6838\u3001\u52a0\u8f7d\u5230RAM\u54ea\u91cc\u3001\u8fd9\u4e9b\u4fe1\u606f\u54ea\u91cc\u914d\u7f6e\u7684\uff1f\u201d","text":"<ol> <li>U-Boot \u5982\u4f55\u201c\u627e\u5230\u201d\u5185\u6838\u6620\u50cf\u7684\u4f4d\u7f6e\uff1f</li> </ol> <p>\uff081\uff09\u201c\u627e\u5185\u6838\u201d\u4e3b\u8981\u6709\u4e24\u79cd\u65b9\u5f0f\uff1a</p> <ul> <li> <p>A. \u901a\u8fc7\u6587\u4ef6\u7cfb\u7edf\uff08FAT/ext4\u7b49\uff09\u67e5\u627e\u5185\u6838\u6587\u4ef6</p> </li> <li> <p>\u6bd4\u5982 SD\u5361\u3001eMMC \u6709 FAT/ext4 \u6587\u4ef6\u7cfb\u7edf\uff0cU-Boot \u652f\u6301\u547d\u4ee4\uff1a</p> <pre><code>fatload mmc 0:1 0x80000000 zImage\n</code></pre> <p>\u542b\u4e49\uff1a</p> <ul> <li><code>fatload</code>\uff1a\u7528FAT\u6587\u4ef6\u7cfb\u7edf\u8bfb\u6587\u4ef6</li> <li><code>mmc 0:1</code>\uff1a\u8bbe\u59070\u7684\u5206\u533a1</li> <li><code>0x80000000</code>\uff1a\u52a0\u8f7d\u5230RAM\u76840x80000000\u5730\u5740</li> <li><code>zImage</code>\uff1a\u6587\u4ef6\u540d</li> </ul> </li> <li> <p>\u8fd9\u79cd\u65b9\u5f0f\u4e0b\uff0c\u201c\u627e\u6587\u4ef6\u201d\u9760\u73af\u5883\u53d8\u91cf/\u811a\u672c/\u547d\u4ee4\u884c\uff0c\u6587\u4ef6\u540d\u548c\u8def\u5f84\u7075\u6d3b\u3002</p> </li> <li> <p>B. \u6309\u201c\u56fa\u5b9a\u7269\u7406\u504f\u79fb\u201d\u76f4\u63a5\u4eceFlash\u7b49\u5757\u8bbe\u5907\u8bfb</p> </li> <li> <p>\u6709\u7684\u7cfb\u7edf\uff08\u65e0\u6587\u4ef6\u7cfb\u7edf\uff09\u4f1a\u5728\u5b58\u50a8\u4ecb\u8d28\u67d0\u4e2a\u56fa\u5b9a\u5730\u5740\u70e7\u5165\u5185\u6838\u6620\u50cf\uff0c\u6bd4\u5982 SPI-NOR flash \u504f\u79fb0x200000\u5f00\u59cb\u5c31\u662fkernel\u3002</p> </li> <li> <p>\u7528\u547d\u4ee4\u5982\uff1a</p> <pre><code>nand read 0x80000000 0x200000 0x800000\n</code></pre> <ul> <li><code>nand read</code>\uff1a\u4eceNAND flash\u8bfb</li> <li><code>0x80000000</code>\uff1a\u52a0\u8f7d\u5230RAM\u76840x80000000\u5730\u5740</li> <li><code>0x200000</code>\uff1aflash\u5185\u504f\u79fb</li> <li><code>0x800000</code>\uff1a\u5927\u5c0f</li> </ul> </li> <li> <p>\u8fd9\u79cd\u662f\u201c\u88f8\u6570\u636e\u5206\u533a\u201d\uff0c\u65e0\u6587\u4ef6\u540d\u3002</p> </li> </ul> <ol> <li> <p>U-Boot \u5982\u4f55\u51b3\u5b9a\u201c\u52a0\u8f7d\u5230RAM\u54ea\u91cc\u201d\uff1f</p> </li> <li> <p>RAM\u52a0\u8f7d\u5730\u5740\u901a\u5e38\u7531U-Boot\u811a\u672c\u3001\u73af\u5883\u53d8\u91cf\u3001\u677f\u7ea7\u914d\u7f6e\u6216\u8005Makefile\u8bbe\u5b9a\u3002</p> </li> <li> <p>\u5e38\u89c1\u7684\u73af\u5883\u53d8\u91cf\uff1a</p> </li> <li> <p><code>kernel_addr_r</code>\uff08\u5982 <code>0x80000000</code>\uff09</p> </li> <li><code>fdt_addr_r</code>\uff08\u8bbe\u5907\u6811\u52a0\u8f7d\u5730\u5740\uff09</li> <li> <p><code>ramdisk_addr_r</code></p> </li> <li> <p>\u5728 U-Boot \u547d\u4ee4\u884c/\u811a\u672c\u91cc\u5f15\u7528\u8fd9\u4e9b\u53d8\u91cf\uff1a</p> </li> </ol> <pre><code>fatload mmc 0:1 ${kernel_addr_r} zImage\n</code></pre> <ul> <li>\u8fd9\u4e9b\u53d8\u91cf\u53ef\u4ee5\u5728 U-Boot \u7f16\u8bd1\u914d\u7f6e\u6587\u4ef6\uff08\u5982 board-specific defconfig\u3001include/configs/xxx.h\uff09\uff0c\u4e5f\u53ef\u4ee5\u5728 runtime \u901a\u8fc7\u73af\u5883\u53d8\u91cf\u8bbe\u7f6e\u3002</li> </ul> <ol> <li>\u8fd9\u4e9b\u4fe1\u606f\u5728U-Boot\u6e90\u7801\u54ea\u91cc\u914d\u7f6e\uff1f</li> </ol> <p>\uff081\uff09\u677f\u7ea7\u5934\u6587\u4ef6</p> <ul> <li>\u8bb8\u591a\u5e38\u7528\u5730\u5740\u5728 <code>include/configs/\u4f60\u7684\u677f\u5b50\u540d.h</code> \u6587\u4ef6\u4e2d\u5b9a\u4e49\uff0c\u4f8b\u5982\uff1a</li> </ul> <pre><code>#define CONFIG_SYS_LOAD_ADDR        0x80000000\n#define CONFIG_KERNEL_ADDR_R        0x80000000\n#define CONFIG_FDT_ADDR_R           0x83000000\n#define CONFIG_RAMDISK_ADDR_R       0x88000000\n</code></pre> <ul> <li>\u8fd9\u4e9b\u5b8f\u5728\u7f16\u8bd1\u65f6\u751f\u6548\uff0c\u5f71\u54cd\u9ed8\u8ba4\u73af\u5883\u53d8\u91cf\u3002</li> </ul> <p>\uff082\uff09\u73af\u5883\u53d8\u91cf/\u542f\u52a8\u811a\u672c\uff08uEnv.txt / boot.cmd / boot.scr\uff09</p> <ul> <li>\u53ef\u4ee5\u5728 SD \u5361\u3001NAND \u5206\u533a\u4e2d\u5b58\u653e\u73af\u5883\u53d8\u91cf\u811a\u672c\uff08\u5982<code>bootcmd</code>\uff09\uff0c\u5982\uff1a</li> </ul> <pre><code>setenv bootcmd 'fatload mmc 0:1 ${kernel_addr_r} zImage; bootz ${kernel_addr_r} - ${fdt_addr_r}'\n</code></pre> <ul> <li>\u8fd9\u4e9b\u811a\u672c\u5e38\u5728\u91cf\u4ea7\u955c\u50cf\u91cc\u81ea\u52a8\u914d\u7f6e\u3002</li> </ul> <p>\uff083\uff09U-Boot\u547d\u4ee4\u884c\u4e34\u65f6\u624b\u52a8\u6307\u5b9a</p> <ul> <li>\u53ef\u4ee5\u76f4\u63a5\u5728U-Boot\u547d\u4ee4\u884c\u624b\u52a8\u8fd0\u884c\u547d\u4ee4\uff1a</li> </ul> <pre><code>fatload mmc 0:1 0x80000000 zImage\n</code></pre> <ol> <li> <p>\u4f60\u53ef\u4ee5\u901a\u8fc7 U-Boot \u547d\u4ee4 <code>printenv</code> \u67e5\u770b\u5f53\u524d\u73af\u5883\u53d8\u91cf</p> </li> <li> <p>\u6bd4\u5982\uff1a</p> </li> </ol> <pre><code>=&gt; printenv kernel_addr_r\nkernel_addr_r=0x80000000\n</code></pre> <ol> <li> <p>\u603b\u7ed3\u5f52\u7eb3</p> </li> <li> <p>\u5185\u6838\u5728\u54ea\u91cc\u627e\uff0c\u600e\u4e48\u52a0\u8f7d\u5230RAM\uff0c\u52a0\u8f7d\u5230\u54ea\uff0c\u5168\u7531U-Boot\u914d\u7f6e\u51b3\u5b9a\u3002</p> </li> <li>\u4e00\u822c\u6765\u8bf4\uff1a</li> <li>\u627e\u7684\u65b9\u5f0f\uff1a\u6587\u4ef6\u540d\uff08\u9700\u6709\u6587\u4ef6\u7cfb\u7edf\uff09 \u6216 \u56fa\u5b9a\u504f\u79fb\uff08\u539f\u59cb\u5206\u533a\uff09\u3002</li> <li>\u52a0\u8f7d\u5730\u5740\uff1a\u901a\u8fc7\u73af\u5883\u53d8\u91cf/\u5934\u6587\u4ef6/\u547d\u4ee4\u884c\u6307\u5b9a\u3002</li> <li>U-Boot\u542f\u52a8\u811a\u672c \u51b3\u5b9a\u6574\u4e2a\u542f\u52a8\u6d41\u7a0b\u3002</li> <li>\u4f60\u677f\u5b50\u7684U-Boot\u6e90\u7801\u76ee\u5f55\u4e0b configs\u3001include/configs/ \u4e0b\u7684\u5934\u6587\u4ef6\uff0c\u4ee5\u53ca\u5206\u533a\u91cc\u7684uEnv.txt\u3001boot.cmd\uff0c\u5c31\u662f\u8fd9\u4e9b\u201c\u5165\u53e3\u201d\u3002</li> </ol>"},{"location":"linux%E5%90%AF%E5%8A%A8%E6%B5%81%E7%A8%8B/linux%E5%90%AF%E5%8A%A8%E6%B5%81%E7%A8%8B/#4-flashram","title":"\u95ee\u98984  \u65e2\u7136\u662f\u5185\u6838\u5c06\u6587\u4ef6\u7cfb\u7edf\u4eceflash\u6302\u8f7d\u5230ram\u4e0a\uff0c\u90a3\u4e48\u5982\u4f55\u914d\u7f6e\uff0c\u4ece\u54ea\u91cc\u627e\u4ee5\u53ca\u52a0\u8f7d\u5230\u54ea\u91cc\uff1f","text":"<p>\u5185\u6838\u901a\u8fc7\u9a71\u52a8\u8bbf\u95eeflash\u4e0a\u7684\u6587\u4ef6\u7cfb\u7edf\uff0c\u7528\u6237\u64cd\u4f5c\u6587\u4ef6\u65f6\u6309\u9700\u8bfb\u53d6\u4e00\u90e8\u5206\u5230ram\u4e2d\uff08\u5229\u7528\u9875\u7f13\u5b58\u7b49\u673a\u5236\uff09</p> <p>\u5e38\u89c1\u7684 rootfs\uff08\u5982 ext4\uff0csquashfs\uff0cjffs2 \u7b49\uff09\u52a0\u8f7d\u65b9\u5f0f</p> <p>\u52a0\u8f7d\u6d41\u7a0b\u4e0e\u914d\u7f6e</p> <p>A. \u5185\u6838\u600e\u4e48\u77e5\u9053\u201c\u4ece\u54ea\u91cc\u52a0\u8f7drootfs\u201d\uff1f</p> <ul> <li> <p>\u542f\u52a8\u53c2\u6570\uff08bootargs\uff09\u4e2d\u7684<code>root=</code>\u6307\u5b9a\u4e86\u6839\u6587\u4ef6\u7cfb\u7edf\u7684\u4f4d\u7f6e\u3002</p> </li> <li> <p>\u4f8b\u5982\uff1a</p> <pre><code>root=/dev/mmcblk0p2         # SD\u5361\u7b2c\u4e8c\u5206\u533a\nroot=/dev/nandc             # NAND\u7684\u67d0\u4e2a\u5206\u533a\nroot=/dev/mtdblock4         # MTD\u5757\u8bbe\u5907\nroot=LABEL=rootfs           # \u6309\u6807\u7b7e\u6302\u8f7d\nroot=PARTUUID=xxxx-xxxx     # \u6309UUID\u6302\u8f7d\n</code></pre> </li> <li> <p>\u8fd9\u4e9b\u53c2\u6570\u7531U-Boot\u5728\u542f\u52a8\u65f6\u4f20\u9012\uff0c\u901a\u8fc7\u73af\u5883\u53d8\u91cf\u914d\u7f6e\u3002\u4f8b\u5982\uff1a</p> </li> </ul> <pre><code>setenv bootargs \"console=ttyS0,115200 root=/dev/mmcblk0p2 rootfstype=ext4 rw\"\nbootz ${kernel_addr_r} - ${fdt_addr_r}\n</code></pre> <p>B. \u5185\u6838\u600e\u4e48\u201c\u52a0\u8f7d\u201d\u6587\u4ef6\u7cfb\u7edf\uff1f</p> <ul> <li>\u5185\u6838\u542f\u52a8\u540e\u4f1a\u521d\u59cb\u5316\u5757\u8bbe\u5907\u9a71\u52a8\u3001MTD\u9a71\u52a8\u7b49\uff0c\u901a\u8fc7<code>root=</code>\u53c2\u6570\u53bb\u6302\u8f7d\u6307\u5b9a\u7684\u8bbe\u5907\u4e3a<code>/</code>\u6839\u6587\u4ef6\u7cfb\u7edf\u3002</li> <li>\u8fd9\u4e0d\u662f\u201c\u6574\u4f53\u52a0\u8f7d\u5230RAM\u201d\uff0c\u800c\u662f\uff1a\u5185\u6838\u8bbf\u95eeflash\u7684\u67d0\u4e2a\u5206\u533a\uff0c\u5c06\u5176\u4f5c\u4e3a\u6839\u6587\u4ef6\u7cfb\u7edf\uff0c\u6bcf\u6b21\u4f60\u64cd\u4f5c\u6587\u4ef6\u624d\u628a\u4e00\u5c0f\u90e8\u5206\u8bfb\u5165RAM\uff08\u6bd4\u5982\u7528ext4\u3001squashfs\u3001jffs2\u3001ubifs\u7b49\uff09\u3002</li> <li>\u5185\u6838\u4e2d\u7684\u9875\u7f13\u5b58\uff08page cache\uff09\u4f1a\u81ea\u52a8\u7ba1\u7406\u54ea\u4e9b\u5185\u5bb9\u5e38\u9a7bRAM\uff0c\u52a0\u901f\u8bbf\u95ee\u3002</li> </ul> <p>C. \u6302\u8f7d\u70b9\u5728\u54ea\u91cc\uff1f</p> <ul> <li>\u603b\u662f\u6302\u8f7d\u4e3a <code>/</code> \u6839\u76ee\u5f55\u3002</li> <li>\u7528\u6237\u7a7a\u95f4\u8fdb\u7a0b\u770b\u5230\u7684 <code>/etc /bin /usr</code> \u7b49\uff0c\u5176\u5b9e\u90fd\u5728flash\u7684\u8fd9\u4e2a\u5206\u533a\u4e0a\uff0c\u53ea\u662f\u901a\u8fc7\u5185\u6838\u9a71\u52a8\u201c\u865a\u62df\u6210\u201d\u5185\u5b58\u91cc\u7684\u6837\u5b50\uff0c\u5b9e\u9645\u4e0a\u6570\u636e\u8fd8\u662f\u5728flash\u4e2d\u3002</li> </ul> <p>\u603b\u7ed3\uff1a\u914d\u7f6e\u65b9\u6cd5\u548c\u6d41\u7a0b</p> <p>\u6700\u5e38\u89c1\u7684\u914d\u7f6e\u6d41\u7a0b\u5982\u4e0b\uff1a</p> <p>\uff081\uff09\u5236\u4f5crootfs\u955c\u50cf</p> <ul> <li>\u7528ext4\u3001squashfs\u3001jffs2\u7b49\u5de5\u5177\u5236\u4f5c\u4e00\u4e2a\u5b8c\u6574\u7684\u6839\u6587\u4ef6\u7cfb\u7edf\u955c\u50cf\uff0c\u70e7\u5f55\u5230\u6307\u5b9a\u5206\u533a\u3002</li> </ul> <p>\uff082\uff09U-Boot\u8bbe\u7f6e\u542f\u52a8\u53c2\u6570</p> <ul> <li>\u901a\u8fc7bootargs\uff08\u901a\u5e38\u662fsetenv\u547d\u4ee4\uff09\u914d\u7f6erootfs\u7684\u6302\u8f7d\u4f4d\u7f6e\uff0c\u6bd4\u5982</li> </ul> <pre><code>setenv bootargs \"root=/dev/mmcblk0p2 rootfstype=ext4 rw\"\n</code></pre> <ul> <li>\u4e5f\u53ef\u4ee5\u5199\u5230\u73af\u5883\u53d8\u91cf\u811a\u672c\u6216uEnv.txt\u3001boot.cmd\u7b49\u6587\u4ef6\u3002</li> </ul> <p>\uff083\uff09\u5185\u6838\u6302\u8f7d\u8fc7\u7a0b</p> <ul> <li>\u542f\u52a8\u65f6\u81ea\u52a8\u6302\u8f7d\u4e3a<code>/</code>\uff0c\u4e0d\u662f\u6574\u4f53\u52a0\u8f7d\uff0c\u53ea\u662f\u8bbf\u95ee\u6587\u4ef6\u65f6\u4eceflash\u8bfb\u53d6\u6570\u636e\u5230RAM\u3002</li> </ul> <p>\u4e3e\u4e2a\u5b8c\u6574\u4f8b\u5b50\uff1aSD\u5361\u542f\u52a8\u7684\u5d4c\u5165\u5f0fLinux</p> <ul> <li>\u5206\u533a\u8868\uff1a</li> </ul> <pre><code>mmcblk0p1   FAT32    /boot       \uff08\u5185\u6838zImage, dtb\u7b49\uff09\nmmcblk0p2   ext4     /           \uff08rootfs\uff09\n</code></pre> <ul> <li>U-Boot\u547d\u4ee4/\u811a\u672c:</li> </ul> <pre><code>setenv bootargs \"console=ttyS0,115200 root=/dev/mmcblk0p2 rootfstype=ext4 rw\"\nfatload mmc 0:1 ${kernel_addr_r} zImage\nfatload mmc 0:1 ${fdt_addr_r} xxx.dtb\nbootz ${kernel_addr_r} - ${fdt_addr_r}\n</code></pre> <ul> <li>\u542f\u52a8\u540e <code>/</code> \u5c31\u662f\u4f60\u70e7\u5f55\u8fdb mmcblk0p2 \u91cc\u7684ext4 rootfs\u5185\u5bb9\uff0c\u6587\u4ef6\u6309\u9700\u8bfb\u5165RAM\u3002</li> </ul>"},{"location":"linux%E5%90%AF%E5%8A%A8%E6%B5%81%E7%A8%8B/linux%E5%90%AF%E5%8A%A8%E6%B5%81%E7%A8%8B/#5","title":"\u95ee\u98985\uff1a\u5185\u6838\u548c\u6587\u4ef6\u7cfb\u7edf\u662f\u5426\u53ef\u4ee5\u5b58\u5728\u540c\u4e00\u4e2a\u5206\u533a\uff1f","text":"<ol> <li> <p>\u5d4c\u5165\u5f0fLinux\u4e3b\u6d41\u505a\u6cd5\uff08\u901a\u5e38\u662f\u5206\u5f00\u5206\u533a\uff09</p> </li> <li> <p>\u7edd\u5927\u591a\u6570\u5d4c\u5165\u5f0f\u677f\u5361\u3001\u91cf\u4ea7\u56fa\u4ef6\uff0c\u5185\u6838\uff08zImage/Image\uff09\u548c\u6839\u6587\u4ef6\u7cfb\u7edf\uff08rootfs\uff09\u90fd\u5b58\u5728\u4e0d\u540c\u7684\u5206\u533a\uff1a</p> </li> <li> <p>\u8fd9\u6837\u6709\u5229\u4e8e\u5347\u7ea7\u3001\u5206\u533a\u7ba1\u7406\u548c\u5bb9\u9519\u3002</p> </li> <li> <p>\u4f8b\u5982\uff1a</p> <pre><code>mmcblk0p1  FAT32    /boot      (\u5185\u6838\u3001\u8bbe\u5907\u6811\u3001\u53ef\u80fd\u8fd8\u6709U-Boot\u3001ramdisk)\nmmcblk0p2  ext4     /          (\u6839\u6587\u4ef6\u7cfb\u7edf)\n</code></pre> <p>\u542f\u52a8\u65f6U-Boot\u4ecep1\u52a0\u8f7dzImage\u3001dtb\u5230RAM\uff0c\u7136\u540e\u5185\u6838\u6302\u8f7dp2\u4e3a/\u3002</p> </li> </ol> <ol> <li> <p>PC/\u670d\u52a1\u5668\u901a\u7528Linux\uff08\u5e38\u5728\u540c\u4e00\u5206\u533a\uff09</p> </li> <li> <p>x86/\u684c\u9762/\u670d\u52a1\u5668Linux\uff08\u6bd4\u5982Ubuntu\u3001Debian\uff09\u901a\u5e38\u53ea\u6709\u4e00\u4e2a\u5206\u533a\uff0c\u5185\u6838\u548crootfs\u540c\u5728\u6b64\u5206\u533a\uff1a</p> </li> <li><code>/boot</code> \u76ee\u5f55\u4e0b\u5b58\u653e\u5185\u6838\uff08vmlinuz\u3001initrd\u3001dtb\u7b49\uff09\uff0c\u6839\u6587\u4ef6\u7cfb\u7edf\u540c\u5206\u533a\u4e0b\u7684\u5176\u4ed6\u76ee\u5f55\u5982 <code>/etc /usr /lib</code>\u3002</li> <li>\u6587\u4ef6\u7cfb\u7edf\u7c7b\u578b\u901a\u5e38\u662fext4\u3001xfs\u7b49\u3002</li> </ol> <ol> <li> <p>\u4e3a\u4ec0\u4e48\u5d4c\u5165\u5f0f\u5e38\u5e38\u5206\u5f00\uff1f</p> </li> <li> <p>\u5206\u533a\u66f4\u7075\u6d3b\u3001\u66f4\u5b89\u5168\u3002\u5347\u7ea7rootfs\u4e0d\u4f1a\u5f71\u54cd\u5185\u6838\uff0c\u5347\u7ea7\u5185\u6838\u4e0d\u5f71\u54cd\u7528\u6237\u6570\u636e\u3002</p> </li> <li>\u652f\u6301\u591a\u7cfb\u7edf/\u5907\u4efd\u5206\u533a/\u6545\u969c\u6062\u590d\uff08A/B\u5206\u533a\u65b9\u6848\uff09\u3002</li> </ol> <ol> <li> <p>\u4e5f\u6709\u7279\u6b8a\u60c5\u51b5\uff0c\u5185\u6838\u548crootfs\u5728\u540c\u4e00\u5206\u533a</p> </li> <li> <p>\u6709\u4e9b\u7cbe\u7b80\u7cfb\u7edf\u3001\u5f00\u53d1\u9636\u6bb5\u3001\u6d4b\u8bd5\u955c\u50cf\uff0c\u4e3a\u4e86\u7b80\u5355\uff0c\u628a\u5185\u6838\u548c\u6587\u4ef6\u7cfb\u7edf\u90fd\u653e\u5728\u540c\u4e00\u5206\u533a\uff08\u6bd4\u5982\u5355\u5206\u533aimg\u955c\u50cf\uff0c\u6240\u6709\u5185\u5bb9\u90fd\u5728\u4e00\u8d77\uff09\u3002</p> </li> <li>\u6216\u8005\u53ea\u6709\u4e00\u4e2a\u5927\u5206\u533a\uff0c/boot\u3001/ \u90fd\u5728\u4e00\u8d77\uff0cU-Boot/extlinux\u90fd\u80fd\u8bfb\u3002</li> </ol> <ol> <li> <p>\u5b9e\u9645\u4f7f\u7528\u65f6\u5982\u4f55\u51b3\u5b9a\uff1f</p> </li> <li> <p>\u5d4c\u5165\u5f0f\u6b63\u5f0f\u4ea7\u54c1/\u91cf\u4ea7\u7cfb\u7edf\uff1a\u4e00\u822c\u90fd\u4f1a\u5206\u533a\u5206\u5f00\uff0c\u65b9\u4fbf\u7ef4\u62a4\u548c\u5347\u7ea7\u3002</p> </li> <li>\u5f00\u53d1\u677f/\u684c\u9762\u7cfb\u7edf\uff1a\u53ef\u4ee5\u5728\u4e00\u4e2a\u5206\u533a\u91cc\uff0c\u65b9\u4fbf\u90e8\u7f72\u3002</li> </ol> <p>\u603b\u7ed3\u8868\u683c\uff1a</p> \u573a\u666f \u5206\u533a\u7ed3\u6784 \u5185\u6838\u4e0e\u6587\u4ef6\u7cfb\u7edf\u4f4d\u7f6e \u5d4c\u5165\u5f0f\u5e38\u89c4 \u5206\u533a\u5206\u5f00 /boot \u5206\u533a\u5b58\u5185\u6838\uff0c/\u5206\u533a\u5b58rootfs \u684c\u9762/\u670d\u52a1\u5668 \u5355\u5206\u533a/\u53ef\u5206\u533a /boot\u76ee\u5f55\u4e0erootfs\u5728\u540c\u4e00\u5206\u533a \u7cbe\u7b80\u7cfb\u7edf \u5355\u5206\u533a \u5168\u90e8\u5185\u5bb9\u90fd\u5728\u540c\u4e00\u4e2a\u5206\u533a"},{"location":"linux%E5%90%AF%E5%8A%A8%E6%B5%81%E7%A8%8B/linux%E5%90%AF%E5%8A%A8%E6%B5%81%E7%A8%8B/#6","title":"\u95ee\u98986\uff1a\u5206\u533a\u8868\u7684\u6982\u5ff5","text":"<ol> <li> <p>\u5206\u533a\u8868\u662f\u4ec0\u4e48\uff1f</p> </li> <li> <p>\u5206\u533a\u8868\uff08Partition Table\uff09\u5c31\u662f\u4e00\u5f20\u201c\u5b58\u50a8\u7a7a\u95f4\u5730\u56fe\u201d\uff0c\u63cf\u8ff0\u4e86\u4e00\u4e2a\u5b58\u50a8\u8bbe\u5907\uff08\u6bd4\u5982SD\u5361\u3001eMMC\u3001\u786c\u76d8\uff09\u88ab\u5206\u6210\u4e86\u54ea\u4e9b\u533a\u57df\uff08\u5206\u533a\uff09\u3001\u6bcf\u4e2a\u5206\u533a\u7684\u8d77\u6b62\u4f4d\u7f6e\u548c\u7528\u9014\u3002</p> </li> <li>\u6709\u4e86\u5206\u533a\u8868\uff0c\u64cd\u4f5c\u7cfb\u7edf\u3001bootloader\u7b49\u624d\u80fd\u77e5\u9053\u6bcf\u4e2a\u5206\u533a\u5b58\u653e\u7684\u662f\u4ec0\u4e48\u5185\u5bb9\uff08\u6bd4\u5982 bootloader\u3001\u5185\u6838\u3001rootfs\u3001\u6570\u636e\u533a\u7b49\uff09\uff0c\u5e76\u6b63\u786e\u5730\u8bbf\u95ee\u548c\u7ba1\u7406\u5b83\u4eec\u3002</li> </ol> <ol> <li> <p>\u5206\u533a\u8868\u7684\u4f5c\u7528</p> </li> <li> <p>\u628a\u4e00\u4e2a\u5927\u7684\u7269\u7406\u5b58\u50a8\uff08\u6bd4\u598216GB\u7684SD\u5361\uff09\uff0c\u5207\u5206\u6210\u82e5\u5e72\u201c\u5206\u533a\u201d\uff0c\u6bcf\u4e2a\u5206\u533a\u53ef\u4ee5\u6709\u4e0d\u540c\u7684\u6587\u4ef6\u7cfb\u7edf\u3001\u7528\u9014\u548c\u6743\u9650\u3002</p> </li> <li>\u64cd\u4f5c\u7cfb\u7edf\u548cbootloader\u6839\u636e\u5206\u533a\u8868\u201c\u627e\u5206\u533a\u3001\u627e\u6587\u4ef6\u201d\uff0c\u5b9e\u73b0\u5347\u7ea7\u3001\u5907\u4efd\u3001\u5b89\u5168\u3001\u6743\u9650\u9694\u79bb\u7b49\u529f\u80fd\u3002</li> </ol> <ol> <li>\u5e38\u89c1\u7684\u5206\u533a\u8868\u7c7b\u578b</li> </ol> <p>\uff081\uff09MBR\uff08Master Boot Record\uff0c\u4e3b\u5f15\u5bfc\u8bb0\u5f55\uff09</p> <ul> <li>\u6700\u53e4\u8001\u3001\u6700\u5e7f\u6cdb\u7684\u5206\u533a\u8868\u7c7b\u578b\uff0c\u9002\u5408\u4e0d\u8d85\u8fc72TB\u7684\u5b58\u50a8\u8bbe\u5907\u3002</li> <li>MBR\u4f4d\u4e8e\u5b58\u50a8\u8bbe\u5907\u7684\u7b2c\u4e00\u4e2a\u6247\u533a\uff08LBA0\uff09\uff0c\u524d446\u5b57\u8282\u662f\u5f15\u5bfc\u4ee3\u7801\uff0c\u63a5\u774064\u5b57\u8282\u63cf\u8ff0\u6700\u591a4\u4e2a\u4e3b\u5206\u533a\u3002</li> <li>\u5c40\u9650\uff1a\u6bcf\u4e2a\u5206\u533a\u6700\u59272TB\uff0c\u6700\u591a4\u4e2a\u4e3b\u5206\u533a\uff08\u62163\u4e3b\u5206\u533a+1\u6269\u5c55\u5206\u533a\uff09\u3002</li> </ul> <p>\uff082\uff09GPT\uff08GUID Partition Table\uff0c\u5168\u7403\u552f\u4e00\u5206\u533a\u8868\uff09</p> <ul> <li>\u65b0\u4e00\u4ee3\u5206\u533a\u8868\u6807\u51c6\uff08UEFI\uff09\uff0c\u7a81\u7834MBR\u9650\u5236\uff0c\u652f\u6301\u66f4\u5927\u5bb9\u91cf\u3001\u66f4\u591a\u5206\u533a\u3002</li> <li>GPT\u5206\u533a\u8868\u5b58\u653e\u5728\u78c1\u76d8\u524d\u540e\uff0c\u5141\u8bb8128\u4e2a\u5206\u533a\uff08\u6216\u66f4\u591a\uff09\uff0c\u6bcf\u4e2a\u5206\u533a\u90fd\u7528GUID\u552f\u4e00\u6807\u8bc6\u3002</li> <li>\u66f4\u5b89\u5168\uff08\u6709\u5907\u4efd\u8868\u3001CRC\u6821\u9a8c\uff09\uff0c\u5927\u5bb9\u91cf\u8bbe\u5907\u9996\u9009\u3002</li> </ul> <p>\uff083\uff09\u81ea\u5b9a\u4e49\u5206\u533a\uff08\u5d4c\u5165\u5f0f\u4e13\u7528\uff09</p> <ul> <li> <p>\u6709\u4e9b\u5d4c\u5165\u5f0f\u5e73\u53f0\uff08\u5982MTD/UBI\u5206\u533a\u3001\u88f8flash\uff09\u4e0d\u7528\u6807\u51c6MBR/GPT\u5206\u533a\u8868\uff0c\u800c\u662f\u901a\u8fc7\u5206\u533a\u914d\u7f6e\uff08\u5982<code>mtdparts</code>\u5b57\u7b26\u4e32\u3001\u5206\u533a\u8868\u6587\u4ef6\uff09\u544a\u8bc9\u5185\u6838/bootloader\u5404\u5206\u533a\u7684\u8d77\u6b62\u4f4d\u7f6e\u548c\u7c7b\u578b\u3002</p> </li> <li> <p>\u4e3e\u4f8b\u8bf4\u660e</p> </li> </ul> <p>\u4e00\u4e2a\u6807\u51c6SD\u5361\uff08\u7528MBR\u5206\u533a\uff09\u5206\u533a\u8868\uff1a</p> <pre><code>sql\u590d\u5236\u7f16\u8f91|--------|---------------------|--------------------|--------------------|\n| \u5206\u533a\u53f7 | \u8d77\u59cb\u6247\u533a            | \u5206\u533a\u5927\u5c0f           | \u7528\u9014               |\n|--------|---------------------|--------------------|--------------------|\n|   1    | 2048 (1MB)          | 256MB              | boot (FAT32)       |\n|   2    | 526336              | 15GB               | rootfs (ext4)      |\n|   3    | ...                 | ...                | data/user (ext4)   |\n|--------|---------------------|--------------------|--------------------|\n</code></pre> <ul> <li>\u7b2c\u4e00\u4e2a\u5206\u533a\uff1a\u653e\u5185\u6838\u3001dtb\u3001u-boot\u7b49\u542f\u52a8\u6587\u4ef6\u3002</li> <li>\u7b2c\u4e8c\u4e2a\u5206\u533a\uff1a\u653e\u6839\u6587\u4ef6\u7cfb\u7edf\u3002</li> <li>\u7b2c\u4e09\u4e2a\u5206\u533a\uff1a\u6570\u636e\u5b58\u50a8\u533a\u3002</li> </ul> <p>\u5d4c\u5165\u5f0fMTD\u5206\u533a\u8868\u793a\u4f8b</p> <ul> <li>\u6709\u4e9bNAND/NOR flash\u6ca1\u6709\u6807\u51c6\u5206\u533a\u8868\uff0c\u7528<code>mtdparts</code>\u53c2\u6570\u914d\u7f6e\uff1a</li> </ul> <pre><code>mtdparts=nand0:1M(bootloader),5M(kernel),16M(rootfs),-(data)\n</code></pre> <ul> <li>\u5404\u5206\u533a\u6309\u504f\u79fb\u3001\u5927\u5c0f\u5212\u5206\uff0c\u5185\u6838\u3001bootloader\u3001\u5e94\u7528\u5404\u7528\u4e00\u5757\u3002</li> </ul> <ol> <li> <p>\u600e\u4e48\u67e5\u770b\u548c\u7f16\u8f91\u5206\u533a\u8868\uff1f</p> </li> <li> <p>Linux\u4e0b\u53ef\u4ee5\u7528 <code>fdisk -l</code>\u3001<code>lsblk</code>\u3001<code>parted</code>\u3001<code>gdisk</code> \u67e5\u770b\u5206\u533a\u8868\u548c\u5206\u533a\u4fe1\u606f\u3002</p> </li> <li>\u5d4c\u5165\u5f0f\u5f00\u53d1\u65f6\uff0c\u7ecf\u5e38\u7528\u5382\u5546\u5de5\u5177\u3001\u547d\u4ee4\u884c\u811a\u672c\u3001\u70e7\u5f55\u955c\u50cf\u914d\u7f6e\u5206\u533a\u8868\u3002</li> </ol> <ol> <li> <p>\u5206\u533a\u8868\u7684\u7269\u7406\u7ed3\u6784</p> </li> <li> <p>MBR\uff1a\u7b2c\u4e00\u4e2a\u6247\u533a\uff08512\u5b57\u8282\uff09\uff0c\u524d\u9762\u662f\u542f\u52a8\u4ee3\u7801\uff0c\u540e\u97624\u4e2a\u4e3b\u5206\u533a\u63cf\u8ff0\u3002</p> </li> <li>GPT\uff1a\u7b2c\u4e00\u4e2a\u6247\u533a\u662f\u4fdd\u62a4MBR\uff0c\u540e\u9762\u591a\u4e2a\u6247\u533a\u662f\u5206\u533a\u5934\u548c\u5206\u533a\u9879\u3002</li> </ol> <p>\u603b\u7ed3</p> <ul> <li>\u5206\u533a\u8868\u5c31\u662f\u544a\u8bc9\u7cfb\u7edf/bootloader\uff1a\u201c\u54ea\u4e9b\u533a\u57df\u5206\u522b\u505a\u4ec0\u4e48\u7528\uff0c\u8d77\u59cb\u548c\u5927\u5c0f\u662f\u591a\u5c11\u201d</li> <li>\u6ca1\u6709\u5206\u533a\u8868\uff0c\u5b58\u50a8\u7a7a\u95f4\u5c31\u662f\u201c\u4e00\u7247\u5927\u7a7a\u5730\u201d\uff0c\u7cfb\u7edf\u65e0\u6cd5\u5b9a\u4f4d\u201c\u5730\u5757\u201d\u5b58\u653e\u4e86\u4ec0\u4e48\u5185\u5bb9\uff01</li> </ul>"},{"location":"linux%E9%A9%B1%E5%8A%A8/1.ATK-6ull%E7%8E%AF%E5%A2%83%E9%85%8D%E7%BD%AE/1.%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E9%85%8D%E7%BD%AE/","title":"finshell+ftp+RaiDrive","text":""},{"location":"linux%E9%A9%B1%E5%8A%A8/1.ATK-6ull%E7%8E%AF%E5%A2%83%E9%85%8D%E7%BD%AE/1.%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E9%85%8D%E7%BD%AE/#finshellftpraidrive","title":"finshell+ftp+RaiDrive","text":""},{"location":"linux%E9%A9%B1%E5%8A%A8/1.ATK-6ull%E7%8E%AF%E5%A2%83%E9%85%8D%E7%BD%AE/1.%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E9%85%8D%E7%BD%AE/#ubuntu16","title":"\u5b89\u88c5ubuntu16","text":""},{"location":"linux%E9%A9%B1%E5%8A%A8/1.ATK-6ull%E7%8E%AF%E5%A2%83%E9%85%8D%E7%BD%AE/1.%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E9%85%8D%E7%BD%AE/#ssh-server-finshell","title":"\u5b89\u88c5ssh server \uff08\u53ef\u7528finshell\u8fde\u63a5\uff09","text":"<pre><code>sudo apt install openssh-server\n</code></pre>"},{"location":"linux%E9%A9%B1%E5%8A%A8/1.ATK-6ull%E7%8E%AF%E5%A2%83%E9%85%8D%E7%BD%AE/1.%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E9%85%8D%E7%BD%AE/#ubuntu-ftp","title":"Ubuntu \u670d\u52a1\u5668\u7aef\u642d\u5efa FTP \u670d\u52a1","text":""},{"location":"linux%E9%A9%B1%E5%8A%A8/1.ATK-6ull%E7%8E%AF%E5%A2%83%E9%85%8D%E7%BD%AE/1.%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E9%85%8D%E7%BD%AE/#1-vsftpdftp","title":"1. \u5b89\u88c5 vsftpd\uff08\u6700\u5e38\u7528\u7684FTP\u670d\u52a1\u7aef\uff09","text":"<pre><code>sudo apt update\nsudo apt install vsftpd\n</code></pre>"},{"location":"linux%E9%A9%B1%E5%8A%A8/1.ATK-6ull%E7%8E%AF%E5%A2%83%E9%85%8D%E7%BD%AE/1.%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E9%85%8D%E7%BD%AE/#2","title":"2. \u542f\u52a8\u4e0e\u8bbe\u7f6e\u5f00\u673a\u81ea\u542f\u52a8","text":"<pre><code>sudo systemctl enable vsftpd\nsudo systemctl start vsftpd\n</code></pre>"},{"location":"linux%E9%A9%B1%E5%8A%A8/1.ATK-6ull%E7%8E%AF%E5%A2%83%E9%85%8D%E7%BD%AE/1.%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E9%85%8D%E7%BD%AE/#3-ftp","title":"3. \u68c0\u67e5 FTP \u670d\u52a1\u662f\u5426\u8fd0\u884c","text":"<pre><code>sudo systemctl status vsftpd\n</code></pre> <p>4.\u7ed9\u8bfb\u5199\u6743\u9650</p> <pre><code>/etc/vsftpd.conf  \u6587\u4ef6  \u5f00\u542f\u5199\u4f7f\u80fd write_enable=YES  local_enable=YES\n</code></pre> <p>5.\u91cd\u542f</p> <pre><code>sudo systemctl restart vsftpd\n</code></pre> <p>6.\u7ed9\u7528\u6237\u6743\u9650</p> <pre><code>hdj@ubuntu:/home$ ls\nhdj\nhdj@ubuntu:/home$ chmod 775 -R hdj\n</code></pre>"},{"location":"linux%E9%A9%B1%E5%8A%A8/1.ATK-6ull%E7%8E%AF%E5%A2%83%E9%85%8D%E7%BD%AE/1.%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E9%85%8D%E7%BD%AE/#windows-raidrive","title":"windows\u4e0a\u5b89\u88c5 RaiDrive","text":"<p>\u4f7f\u7528ftp\u534f\u8bae\u8fde\u63a5\u4e0a</p> <p></p> <p></p> <p>\u521b\u5efa\u4e00\u4e2awork\u5de5\u4f5c\u76ee\u5f55\uff0c\u8fd9\u6837\u5c31\u53ef\u4ee5\u76f4\u63a5\u5728windows\u4e0a\u7f16\u8f91\u6587\u4ef6\u4e86\uff0c\u4f7f\u7528finshell\u6765\u7f16\u8bd1\u6587\u4ef6</p>"},{"location":"linux%E9%A9%B1%E5%8A%A8/1.ATK-6ull%E7%8E%AF%E5%A2%83%E9%85%8D%E7%BD%AE/2.%E7%BC%96%E8%AF%91%E5%B7%A5%E5%85%B7%E9%93%BE%E5%AE%89%E8%A3%85/","title":"2.\u7f16\u8bd1\u5de5\u5177\u94fe\u5b89\u88c5","text":"<p>\u5b89\u88c5\u4ea4\u53c9\u7f16\u8bd1\u5de5\u5177\u94fe\uff0c\u4e3a\u4e86\u4fdd\u8bc1\u4e0d\u51fa\u73b0\u5404\u79cd\u5947\u8469\u7684\u9519\u8bef\uff0c\u8fd8\u662f\u7528\u6b63\u70b9\u539f\u5b50\u63d0\u4f9b\u7684\u5427\uff0c\u540c\u65f6\u8d34\u51fa\u76f4\u63a5\u5b89\u88c5\u6b65\u9aa4</p> <p>\u521b\u5efa\u6587\u4ef6\u5939\uff0c\u5c06\u4ea4\u53c9\u7f16\u8bd1\u5de5\u5177\u653e\u5728\u8be5\u76ee\u5f55</p> <p>https://newbie-typora.oss-cn-shenzhen.aliyuncs.com/tools/gcc-linaro-4.9.4-2017.01-x86_64_arm-linux-gnueabihf.tar.xz</p> <pre><code>sudo mkdir /usr/local/arm\n</code></pre> <p>\u5e76\u89e3\u538b</p> <pre><code>sudo tar -vxf gcc-linaro-4.9.4-2017.01-x86_64_arm-linux-gnueabihf.tar.xz\n</code></pre> <p></p> <p>\u4fee\u6539\u73af\u5883\u53d8\u91cf\uff0c\u4f7f\u7528 vim \u6253\u5f00/etc/profile \u6587\u4ef6\uff0c\u547d\u4ee4\u5982\u4e0b\uff1a</p> <pre><code>sudo vim /etc/profile\n</code></pre> <p>\u6253\u5f00/etc/profile \u4ee5\u540e\uff0c\u5728\u6700\u540e\u9762\u8f93\u5165\u5982\u4e0b\u6240\u793a\u5185\u5bb9\uff1a</p> <pre><code>export PATH=$PATH:/usr/local/arm/gcc-linaro-4.9.4-2017.01-x86_64_arm-linux-gnueabihf/bin\n</code></pre> <p></p> <p>\u4fee\u6539\u597d\u4ee5\u540e\u5c31\u4fdd\u5b58\u9000\u51fa\uff0c\u91cd\u542f Ubuntu \u7cfb\u7edf</p> <pre><code>sudo reboot\n</code></pre> <p>\u5b89\u88c5\u76f8\u5173\u5e93</p> <pre><code>sudo apt-get install lsb-core lib32stdc++6\n</code></pre> <p>\u4ea4\u53c9\u7f16\u8bd1\u5de5\u5177\u9a8c\u8bc1</p> <pre><code>arm-linux-gnueabihf-gcc -v\n</code></pre>"},{"location":"linux%E9%A9%B1%E5%8A%A8/1.ATK-6ull%E7%8E%AF%E5%A2%83%E9%85%8D%E7%BD%AE/3.uboot%E7%BC%96%E8%AF%91/","title":"3.uboot\u7f16\u8bd1","text":""},{"location":"linux%E9%A9%B1%E5%8A%A8/1.ATK-6ull%E7%8E%AF%E5%A2%83%E9%85%8D%E7%BD%AE/3.uboot%E7%BC%96%E8%AF%91/#linux-uboot","title":"Linux\u9a71\u52a8\u5b66\u4e60\u4e4b---uboot\u7f16\u8bd1","text":"<p>\u524d\u8a00\uff1a\u4e3a\u4ec0\u4e48\u4e0d\u81ea\u5df1\u6784\u5efauboot \uff1f</p> <ul> <li>\u592a\u6d6a\u8d39\u65f6\u95f4\u4e86\uff0c\u867d\u7136\u53ef\u4ee5\u5b66\u4e60\u5f88\u591a\u77e5\u8bc6\uff0c\u4f46\u5de5\u4f5c\u4e2d\u5b9e\u9645\u53bb\u6784\u5efa\u5e94\u8be5\u662f\u6bd4\u8f83\u5c11\u7684\uff0c\u539f\u5382\u4f1a\u63d0\u4f9bdemo,\u5728\u8fd9\u4e2a\u57fa\u7840\u4e0a\u53bb\u66f4\u6539</li> <li>\u60f3\u5feb\u901f\u642d\u5efa\u597d\u73af\u5883\u5b66\u4e60linux\u9a71\u52a8\uff0c\u5b66\u4e60uboot\u4f1a\u6d6e\u8e81\uff0c\u6253\u51fb\u5b66\u4e60\u79ef\u6781\u6027\uff0c\u628auboot\u653e\u5728\u540e\u9762\u5b66\u4e60\u6bd4\u8f83\u597d</li> </ul>"},{"location":"linux%E9%A9%B1%E5%8A%A8/1.ATK-6ull%E7%8E%AF%E5%A2%83%E9%85%8D%E7%BD%AE/3.uboot%E7%BC%96%E8%AF%91/#bootloader","title":"bootloader\u7b80\u4ecb","text":"<p>Linux \u7cfb\u7edf\u8981\u542f\u52a8\u5c31\u5fc5\u987b\u9700\u8981\u4e00\u4e2a bootloader \u7a0b\u5e8f\uff0c\u4e5f\u5c31\u8bf4\u82af\u7247\u4e0a\u7535\u4ee5\u540e\u5148\u8fd0\u884c\u4e00\u6bb5</p> <p>bootloader \u7a0b\u5e8f\u3002\u8fd9\u6bb5bootloader\u7a0b\u5e8f\u4f1a\u5148\u521d\u59cb\u5316DDR\u7b49\u5916\u8bbe\uff0c\u7136\u540e\u5c06Linux\u5185\u6838\u4eceflash(NAND\uff0c</p> <p>NOR FLASH\uff0cSD\uff0cMMC \u7b49)\u62f7\u8d1d\u5230 DDR \u4e2d\uff0c\u6700\u540e\u542f\u52a8 Linux \u5185\u6838\u3002\u5f53\u7136\u4e86\uff0cbootloader \u7684\u5b9e</p> <p>\u9645\u5de5\u4f5c\u8981\u590d\u6742\u7684\u591a\uff0c\u4f46\u662f\u5b83\u6700\u4e3b\u8981\u7684\u5de5\u4f5c\u5c31\u662f\u542f\u52a8 Linux \u5185\u6838\uff0cbootloader \u548c Linux \u5185\u6838\u7684\u5173\u7cfb</p> <p>\u5c31\u8ddf PC \u4e0a\u7684 BIOS \u548c Windows \u7684\u5173\u7cfb\u4e00\u6837\uff0cbootloader \u5c31\u76f8\u5f53\u4e8e BIOS\u3002</p> <p></p> <p>bootloader\u5206\u4e3a\u5f88\u591a\u79cd\uff0c\u5e38\u7528\u7684\u5e94\u8be5\u662fuboot\u4e86</p> <p>U-Boot \u521d\u6b21\u7f16\u8bd1</p> <p>\u9996\u5148\u5728 Ubuntu \u4e2d\u5b89\u88c5 ncurses \u5e93\uff0c\u5426\u5219\u7f16\u8bd1\u4f1a\u62a5\u9519\uff0c</p> <p>\u5728 U-Boot\uff08\u4e00\u4e2a\u5e38\u7528\u7684\u5f15\u5bfc\u52a0\u8f7d\u7a0b\u5e8f\uff09\u7684\u7f16\u8bd1\u8fc7\u7a0b\u4e2d\uff0c<code>ncurses</code> \u5e93\u53ef\u80fd\u4f1a\u88ab\u7528\u5230\uff0c\u7279\u522b\u662f\u5f53\u60a8\u914d\u7f6e U-Boot \u65f6\uff08\u4f8b\u5982\u8fd0\u884c <code>make menuconfig</code> \u547d\u4ee4\uff09\u3002<code>menuconfig</code> \u4f1a\u63d0\u4f9b\u4e00\u4e2a\u57fa\u4e8e\u6587\u672c\u7684\u83dc\u5355\uff0c\u8ba9\u60a8\u53ef\u4ee5\u9009\u62e9\u548c\u914d\u7f6e U-Boot \u7684\u5404\u79cd\u9009\u9879\uff0c\u800c\u8fd9\u6b63\u662f\u901a\u8fc7 <code>ncurses</code> \u5e93\u5b9e\u73b0\u7684\u3002</p> <p>\u5b89\u88c5\u547d\u4ee4\u5982\u4e0b\uff1a</p> <pre><code>sudo apt-get install libncurses5-dev\n</code></pre> <p>\u5c06uboot\u6e90\u7801\u62f7\u8d1d\u5230\u76ee\u5f55\u4e0b\uff0c\u6211\u7684\u76ee\u5f55 \uff1a/root/uboot</p> <p>\u8fd9\u91cc\u6211\u4f7f\u7528\u6b63\u70b9\u539f\u5b50\u63d0\u4f9b\u597d\u7684\uff0c\u56e0\u4e3a\u5df2\u7ecf\u505a\u597d\u4e86\u5185\u5b58\u5916\u5b58\u7684\u9002\u914d</p> <p></p> <p>\u89e3\u538b</p> <pre><code>tar -vxjf uboot-imx-2016.03-2.1.0-g0ae7e33-v1.7.tar.bz2\n</code></pre> <p>\u89e3\u538b\u5b8c\u6210\u4e4b\u540e\u5220\u9664\u538b\u7f29\u5305</p> <pre><code>rm -rf uboot-imx-2016.03-2.1.0-g0ae7e33-v1.7.tar.bz2\n</code></pre> <p></p> <p>\u5b89\u88c5\u4ea4\u53c9\u7f16\u8bd1\u5de5\u5177\u94fe\uff0c\u4e3a\u4e86\u4fdd\u8bc1\u4e0d\u51fa\u73b0\u5404\u79cd\u5947\u8469\u7684\u9519\u8bef\uff0c\u8fd8\u662f\u7528\u6b63\u70b9\u539f\u5b50\u63d0\u4f9b\u7684\u5427\uff0c\u540c\u65f6\u8d34\u51fa\u76f4\u63a5\u5b89\u88c5\u6b65\u9aa4</p> <p>\u521b\u5efa\u6587\u4ef6\u5939\uff0c\u5c06\u4ea4\u53c9\u7f16\u8bd1\u5de5\u5177\u653e\u5728\u8be5\u76ee\u5f55</p> <p>https://newbie-typora.oss-cn-shenzhen.aliyuncs.com/tools/gcc-linaro-4.9.4-2017.01-x86_64_arm-linux-gnueabihf.tar.xz</p> <pre><code>sudo mkdir /usr/local/arm\n</code></pre> <p>\u5e76\u89e3\u538b</p> <pre><code>sudo tar -vxf gcc-linaro-4.9.4-2017.01-x86_64_arm-linux-gnueabihf.tar.xz\n</code></pre> <p></p> <p>\u4fee\u6539\u73af\u5883\u53d8\u91cf\uff0c\u4f7f\u7528 vim \u6253\u5f00/etc/profile \u6587\u4ef6\uff0c\u547d\u4ee4\u5982\u4e0b\uff1a</p> <pre><code>sudo vim /etc/profile\n</code></pre> <p>\u6253\u5f00/etc/profile \u4ee5\u540e\uff0c\u5728\u6700\u540e\u9762\u8f93\u5165\u5982\u4e0b\u6240\u793a\u5185\u5bb9\uff1a</p> <pre><code>export PATH=$PATH:/usr/local/arm/gcc-linaro-4.9.4-2017.01-x86_64_arm-linux-gnueabihf/bin\n</code></pre> <p></p> <p>\u4fee\u6539\u597d\u4ee5\u540e\u5c31\u4fdd\u5b58\u9000\u51fa\uff0c\u91cd\u542f Ubuntu \u7cfb\u7edf</p> <pre><code>sudo reboot\n</code></pre> <p>\u5b89\u88c5\u76f8\u5173\u5e93</p> <pre><code>sudo apt-get install lsb-core lib32stdc++6\n</code></pre> <p>\u4ea4\u53c9\u7f16\u8bd1\u5de5\u5177\u9a8c\u8bc1</p> <pre><code>arm-linux-gnueabihf-gcc -v\n</code></pre> <p>\u6216\u8005</p> <p>\u76f4\u63a5\u5305\u7ba1\u7406\u5668\u5b89\u88c5\u4ea4\u53c9\u7f16\u8bd1\u5de5\u5177\u94fe</p> <p>\u901a\u5e38\u5de5\u5177\u94fe\u7684\u4e8c\u8fdb\u5236\u6587\u4ef6\u4f1a\u88ab\u5b89\u88c5\u5230\u7cfb\u7edf\u7684\u6807\u51c6\u8def\u5f84\u4e2d\uff0c\u4f8b\u5982 <code>/usr/bin</code>\uff0c\u8fd9\u610f\u5473\u7740\u901a\u5e38\u4e0d\u9700\u8981\u4fee\u6539 <code>PATH</code> \u73af\u5883\u53d8\u91cf\uff0c\u56e0\u4e3a\u8fd9\u4e9b\u8def\u5f84\u901a\u5e38\u5df2\u7ecf\u5305\u542b\u5728 <code>PATH</code> \u4e2d\u3002\uff08\u8fd9\u4e2a\u6211\u6ca1\u6709\u88c5\uff0c\u6ca1\u6709\u9a8c\u8bc1\uff0c\u7406\u8bba\u5e94\u8be5\u662f\u8fd9\u6837\u7684\uff09</p> <pre><code>sudo apt-get install gcc-arm-linux-gnueabihf\n</code></pre> <p>\u5f00\u59cb\u7f16\u8bd1</p> <pre><code>make ARCH=arm CROSS_COMPILE=arm-linux-gnueabihf- distclean\nmake ARCH=arm CROSS_COMPILE=arm-linux-gnueabihf- mx6ull_14x14_ddr512_emmc_defconfig\nmake V=1 ARCH=arm CROSS_COMPILE=arm-linux-gnueabihf- -j12\n</code></pre> <p>\u5f53 <code>V</code> \u8bbe\u7f6e\u4e3a <code>1</code> \u65f6\uff0c<code>make</code> \u4f1a\u663e\u793a\u66f4\u591a\u7684\u8f93\u51fa\uff0c\u8fd9\u5bf9\u4e8e\u8c03\u8bd5\u7f16\u8bd1\u95ee\u9898\u5f88\u6709\u5e2e\u52a9\u3002</p> <p><code>-j12</code> \u662f\u4e00\u4e2a\u9009\u9879\uff0c\u7528\u4e8e\u6307\u5b9a <code>make</code> \u5e94\u8be5\u540c\u65f6\u8fd0\u884c\u591a\u5c11\u4e2a\u4efb\u52a1\u3002<code>12</code> \u8868\u793a <code>make</code> \u53ef\u4ee5\u540c\u65f6\u8fd0\u884c\u6700\u591a 12 \u4e2a\u4efb\u52a1\u3002\u8fd9\u53ef\u4ee5\u52a0\u5feb\u7f16\u8bd1\u901f\u5ea6\uff0c\u7279\u522b\u662f\u5728\u591a\u6838\u5fc3\u7684\u8ba1\u7b97\u673a\u4e0a\u3002</p> <p>\u5982\u679c\u60a8\u4e0d\u6307\u5b9a <code>-j</code> \u540e\u9762\u7684\u6570\u5b57\uff0c<code>make</code> \u5c06\u4f1a\u5c3d\u53ef\u80fd\u5730\u8fd0\u884c\u65e0\u9650\u591a\u7684\u4efb\u52a1\uff0c\u8fd9\u53ef\u80fd\u4f1a\u5bfc\u81f4\u7cfb\u7edf\u8d44\u6e90\u7684\u8017\u5c3d\u3002\u901a\u5e38\uff0c\u4e3a\u4e86\u907f\u514d\u8fc7\u5ea6\u4f7f\u7528\u7cfb\u7edf\u8d44\u6e90\uff0c\u5efa\u8bae\u603b\u662f\u4e3a <code>-j</code> \u9009\u9879\u6307\u5b9a\u4e00\u4e2a\u5408\u9002\u7684\u6570\u5b57</p> <p>\u6267\u884c\u6700\u540e\u4e00\u6b65\u65f6\u7f16\u8bd1\u9519\u8bef</p> <p></p> <p><code>arm-linux-gnueabihf-gcc</code> \u4e0d\u8bc6\u522b <code>-march=armv5</code> \u4f5c\u4e3a\u4e00\u4e2a\u6709\u6548\u7684\u76ee\u6807\u67b6\u6784\u3002\u9519\u8bef\u4fe1\u606f\u4e5f\u5217\u51fa\u4e86\u6240\u6709\u6709\u6548\u7684 <code>-march</code> \u76ee\u6807\u53c2\u6570\uff0c<code>armv5</code> \u4e0d\u5728\u5176\u4e2d\uff0c\u4f46\u6709 <code>armv5t</code>\u3001<code>armv5te</code> \u548c <code>armv5tej</code>\u3002</p> <p>\u66f4\u6539makefile</p> <pre><code>cd ./arch/armpwd\nvim Makefile\n</code></pre> <p>\u5c06\u6700\u540e\u7684armv5 \u66f4\u6539\u4e3aarmv5te</p> <p></p> <ol> <li>\u4fdd\u5b58\u6587\u4ef6\u5e76\u9000\u51fa\u7f16\u8f91\u5668\u3002</li> <li>\u6e05\u7406\u5e76\u91cd\u65b0\u7f16\u8bd1\u9879\u76ee\uff1a</li> </ol> <pre><code>make clean\nmake V=1 ARCH=arm CROSS_COMPILE=arm-linux-gnueabihf- -j12\n</code></pre> <p>\u7f16\u8bd1\u5b8c\u6210</p> <p></p> <p></p> <p>\u7f16\u8bd1\u5b8c\u6210\u4ee5\u540euboot\u6e90\u7801\u591a\u4e86\u4e00\u4e9b\u6587\u4ef6\uff0c\u5176\u4e2du-boot.bin\u5c31\u662f\u7f16\u8bd1\u51fa\u6765\u7684uboot\u4e8c\u8fdb\u5236\u6587\u4ef6\u3002uboot\u662f\u4e2a\u88f8\u673a\u7a0b\u5e8f\uff0c\u56e0\u6b64\u9700\u8981\u5728\u5176\u524d\u9762\u52a0\u4e0a\u5934\u90e8(IVT\u3001DCD\u7b49\u6570\u636e)\u624d\u80fd\u5728I.MX6U\u4e0a\u6267\u884c\uff0c\u56fe\u4e2d\u7684u-boot.imx\u6587\u4ef6\u5c31\u662f\u6dfb\u52a0\u5934\u90e8\u4ee5\u540e\u7684u-boot.bin\uff0cu-boot.imx\u5c31\u662f\u6211\u4eec\u6700\u7ec8\u8981\u70e7\u5199\u5230\u5f00\u53d1\u677fEMMC\u4e2d\u7684uboot \u955c\u50cf\u6587\u4ef6\u3002</p>"},{"location":"linux%E9%A9%B1%E5%8A%A8/1.ATK-6ull%E7%8E%AF%E5%A2%83%E9%85%8D%E7%BD%AE/3.uboot%E7%BC%96%E8%AF%91/#uboot","title":"\u70e7\u5199uboot\u542f\u52a8","text":""},{"location":"linux%E9%A9%B1%E5%8A%A8/1.ATK-6ull%E7%8E%AF%E5%A2%83%E9%85%8D%E7%BD%AE/3.uboot%E7%BC%96%E8%AF%91/#sd","title":"\u6302\u8f7dSD\u5361","text":"<p>\u5728ubuntu\u4e0a\u63d2\u5165sd\u5361</p> <p><code>lsblk</code> \u547d\u4ee4\u4f1a\u5217\u51fa\u6240\u6709\u53ef\u7528\u7684\u5757\u8bbe\u5907\uff0c\u4ee5\u53ca\u5b83\u4eec\u7684\u6302\u8f7d\u70b9\uff08\u5982\u679c\u5df2\u6302\u8f7d\u7684\u8bdd\uff09\u3002</p> <pre><code>lsblk\n</code></pre> <p></p> <p>\u4ee5\u4e0a\u662f\u6211\u7684SD\u5361\uff0c\u6709\u4e00\u4e2a\u5206\u533a\uff08<code>sda1</code>\uff09\u3002\u7136\u800c\uff0c\u8fd9\u4e2a\u5206\u533a\u6ca1\u6709\u6302\u8f7d\u70b9\u5217\u51fa\uff0c\u8fd9\u610f\u5473\u7740\u5b83\u5f53\u524d\u6ca1\u6709\u88ab\u6302\uff0c\u6211\u4eec\u9700\u8981\u6302\u8f7dsd\u5361</p>"},{"location":"linux%E9%A9%B1%E5%8A%A8/1.ATK-6ull%E7%8E%AF%E5%A2%83%E9%85%8D%E7%BD%AE/3.uboot%E7%BC%96%E8%AF%91/#_1","title":"\u5e38\u89c1\u7684\u6302\u8f7d\u70b9\uff1a","text":"<ol> <li>/mnt\uff1a \u8fd9\u4e2a\u76ee\u5f55\u901a\u5e38\u7528\u4f5c\u4e34\u65f6\u6302\u8f7d\u70b9\uff0c\u4f8b\u5982\u624b\u52a8\u6302\u8f7d\u7684\u8bbe\u5907\u3002</li> <li>/media\uff1a \u5927\u591a\u6570\u73b0\u4ee3Linux\u53d1\u884c\u7248\u4f1a\u4f7f\u7528\u8fd9\u4e2a\u76ee\u5f55\u4f5c\u4e3a\u81ea\u52a8\u6302\u8f7d\u7684\u53ef\u79fb\u52a8\u8bbe\u5907\u7684\u6302\u8f7d\u70b9\uff0c\u4f8b\u5982USB\u9a71\u52a8\u5668\u3001CD-ROM\u9a71\u52a8\u5668\u3001SD\u5361\u7b49\u3002</li> <li>/home\uff1a \u7528\u6237\u7684\u4e2a\u4eba\u76ee\u5f55\u901a\u5e38\u4f1a\u6302\u8f7d\u5728\u8fd9\u91cc\uff0c\u5c24\u5176\u662f\u5728<code>/home</code>\u76ee\u5f55\u4f4d\u4e8e\u4e0d\u540c\u7684\u5206\u533a\u6216\u78c1\u76d8\u65f6\u3002</li> <li>/boot\uff1a \u5728\u67d0\u4e9b\u7cfb\u7edf\u4e2d\uff0c\u5f15\u5bfc\u5206\u533a\u4f1a\u88ab\u6302\u8f7d\u5230\u8fd9\u4e2a\u76ee\u5f55\u3002</li> </ol> <p>\u521b\u5efa\u6302\u8f7d\u70b9</p> <pre><code>sudo mkdir /media/sdcard\n</code></pre> <p>\u5c06sd\u5361\u8bbe\u5907\u6302\u8f7d\u4e0a\u53bb</p> <pre><code>sudo mount /dev/sda1 /media/sdcard\n</code></pre> <p>\u518d\u6b21\u67e5\u770b\u662f\u5426\u6302\u8f7d\uff0c\u53ef\u4ee5\u770b\u5230\u5df2\u7ecf\u6709\u6302\u8f7d\u70b9\u4e86</p> <p></p>"},{"location":"linux%E9%A9%B1%E5%8A%A8/1.ATK-6ull%E7%8E%AF%E5%A2%83%E9%85%8D%E7%BD%AE/3.uboot%E7%BC%96%E8%AF%91/#sd_1","title":"\u683c\u5f0f\u5316SD\u5361","text":"<p>\u8fd9\u5f20\u5361\u5df2\u7ecf\u683c\u5f0f\u5316\u8fc7\u4e86\uff0c\u4e0d\u8fc7\u4e86\u89e3\u4e0blinux\u4e0bSD\u5361\u7684\u683c\u5f0f\u5316\u8fd8\u662f\u6709\u5fc5\u8981\u7684</p>"},{"location":"linux%E9%A9%B1%E5%8A%A8/1.ATK-6ull%E7%8E%AF%E5%A2%83%E9%85%8D%E7%BD%AE/3.uboot%E7%BC%96%E8%AF%91/#sd_2","title":"\u786e\u5b9aSD\u5361\u7684\u8bbe\u5907\u8def\u5f84","text":"<p>\u6211\u7684SD\u5361\u7684\u8bbe\u5907\u8def\u5f84\u662f <code>/dev/sda</code>\u3002\u8bf7\u518d\u6b21\u786e\u8ba4\u8fd9\u4e00\u70b9\uff0c\u4ee5\u907f\u514d\u8bef\u64cd\u4f5c\u5176\u4ed6\u8bbe\u5907\u3002\u4f7f\u7528 <code>lsblk</code></p>"},{"location":"linux%E9%A9%B1%E5%8A%A8/1.ATK-6ull%E7%8E%AF%E5%A2%83%E9%85%8D%E7%BD%AE/3.uboot%E7%BC%96%E8%AF%91/#sd_3","title":"\u5378\u8f7dSD\u5361","text":"<p>\u5982\u679cSD\u5361\u5df2\u7ecf\u6302\u8f7d\uff0c\u9700\u8981\u5148\u5378\u8f7d\u5b83\u3002\u60a8\u53ef\u4ee5\u4f7f\u7528 <code>umount</code> \u547d\u4ee4\u6765\u5378\u8f7d\u6240\u6709\u4e0eSD\u5361\u76f8\u5173\u7684\u5206\u533a\u3002\u4f8b\u5982\uff1a</p> <pre><code>sudo umount /dev/sda1\n</code></pre> <p>\u683c\u5f0f\u5316SD\u5361</p> <p>\u4f7f\u7528 <code>mkfs</code> \u547d\u4ee4\u6765\u683c\u5f0f\u5316SD\u5361\u3002<code>mkfs.vfat</code> \u547d\u4ee4\u7528\u4e8e\u521b\u5efa\u4e00\u4e2aFAT\u6587\u4ef6\u7cfb\u7edf\uff0c\u8fd9\u901a\u5e38\u662fFAT32\u6587\u4ef6\u7cfb\u7edf\u3002</p> <pre><code>sudo mkfs.vfat /dev/sda1\n</code></pre> <p>\u6302\u8f7dSD\u5361</p> <p>\u8fd9\u91cc\u8fd8\u662f\u6302\u8f7d\u5230\u521a\u624d\u7684\u76ee\u5f55\u4e0b</p> <pre><code>sudo mount /dev/sda1 /media/sdcard\n</code></pre>"},{"location":"linux%E9%A9%B1%E5%8A%A8/1.ATK-6ull%E7%8E%AF%E5%A2%83%E9%85%8D%E7%BD%AE/3.uboot%E7%BC%96%E8%AF%91/#ubootsd","title":"\u70e7\u5f55uboot\u5230sd\u5361","text":"<p>\u4e24\u79cd\u65b9\u5f0f\uff0c\u4f7f\u7528nxp\u5b98\u65b9\u4e0b\u8f7d\u5de5\u5177\u6216\u8005dd\u5de5\u5177</p> <p><code>imxdownload</code> \u662f NXP \u63d0\u4f9b\u7684\u4e00\u4e2a\u7279\u5b9a\u4e8e i.MX \u5904\u7406\u5668\u7cfb\u5217\u7684\u70e7\u5f55\u5de5\u5177\u3002\u8fd9\u4e2a\u5de5\u5177\u662f\u4e3a\u4e86\u70e7\u5f55 i.MX \u5904\u7406\u5668\u7684 boot ROM \u800c\u8bbe\u8ba1\u7684\uff0c\u901a\u5e38\u7528\u4e8e\u70e7\u5f55 U-Boot bootloader \u5230\u8bbe\u5907\u4e0a\u3002\u8fd9\u4e2a\u5de5\u5177\u901a\u5e38\u4f1a\u4e0e i.MX \u5904\u7406\u5668\u7684\u7279\u5b9a\u786c\u4ef6\u63a5\u53e3\u4e00\u8d77\u4f7f\u7528\uff0c\u4f8b\u5982 USB \u6216 UART\uff0c\u6765\u8fdb\u884c\u70e7\u5f55\u3002</p>"},{"location":"linux%E9%A9%B1%E5%8A%A8/1.ATK-6ull%E7%8E%AF%E5%A2%83%E9%85%8D%E7%BD%AE/3.uboot%E7%BC%96%E8%AF%91/#imxdownload-dd","title":"<code>imxdownload</code> \u4e0e <code>dd</code> \u7684\u533a\u522b\uff1a","text":"<ol> <li>\u7279\u5b9a\u6027\uff1a</li> <li><code>imxdownload</code> \u662f\u9488\u5bf9 NXP \u7684 i.MX \u7cfb\u5217\u5904\u7406\u5668\u8bbe\u8ba1\u7684\uff0c\u800c <code>dd</code> \u662f\u4e00\u4e2a\u901a\u7528\u7684 UNIX \u5de5\u5177\uff0c\u53ef\u7528\u4e8e\u4efb\u4f55 UNIX \u7cfb\u7edf\u4e0a\uff0c\u7528\u4e8e\u590d\u5236\u548c\u8f6c\u6362\u6587\u4ef6\u3002</li> <li>\u63a5\u53e3\uff1a</li> <li><code>imxdownload</code> \u901a\u5e38\u4f7f\u7528\u7279\u5b9a\u7684\u786c\u4ef6\u63a5\u53e3\uff08\u4f8b\u5982 USB \u6216 UART\uff09\u6765\u70e7\u5f55 i.MX \u5904\u7406\u5668\uff0c\u800c <code>dd</code> \u5219\u76f4\u63a5\u64cd\u4f5c\u5757\u8bbe\u5907\uff0c\u4f8b\u5982 SD \u5361\u3002</li> <li>\u7528\u9014\uff1a</li> <li><code>imxdownload</code> \u4e3b\u8981\u7528\u4e8e\u70e7\u5f55 bootloader \u5230 i.MX \u5904\u7406\u5668\u7684\u5185\u90e8\u5b58\u50a8\u6216\u5916\u90e8\u5b58\u50a8\u4e2d\uff0c\u800c <code>dd</code> \u53ef\u4ee5\u7528\u4e8e\u590d\u5236\u4efb\u4f55\u6587\u4ef6\u548c\u8bbe\u5907\u5185\u5bb9\uff0c\u5305\u62ec\u5236\u4f5c\u548c\u6062\u590d\u78c1\u76d8\u6620\u50cf\u3002</li> <li>\u64cd\u4f5c\u5c42\u7ea7\uff1a</li> <li><code>imxdownload</code> \u64cd\u4f5c\u7684\u662f\u5904\u7406\u5668\u7ea7\u522b\uff0c\u76f4\u63a5\u4e0e\u5904\u7406\u5668\u7684 boot ROM \u4ea4\u4e92\uff0c\u800c <code>dd</code> \u64cd\u4f5c\u7684\u662f\u6587\u4ef6\u7cfb\u7edf\u7ea7\u522b\uff0c\u4e0e\u5757\u8bbe\u5907\u4ea4\u4e92\u3002</li> </ol>"},{"location":"linux%E9%A9%B1%E5%8A%A8/1.ATK-6ull%E7%8E%AF%E5%A2%83%E9%85%8D%E7%BD%AE/3.uboot%E7%BC%96%E8%AF%91/#_2","title":"\u9009\u62e9\u5de5\u5177\uff1a","text":"<ul> <li>\u5982\u679c\u60a8\u6b63\u5728\u4f7f\u7528 NXP \u7684 i.MX \u7cfb\u5217\u5904\u7406\u5668\uff0c\u5e76\u4e14\u9700\u8981\u901a\u8fc7\u7279\u5b9a\u7684\u786c\u4ef6\u63a5\u53e3\u70e7\u5f55 bootloader\uff0c\u90a3\u4e48 <code>imxdownload</code> \u53ef\u80fd\u662f\u66f4\u5408\u9002\u7684\u9009\u62e9\u3002</li> <li>\u5982\u679c\u60a8\u53ea\u662f\u9700\u8981\u5c06 bootloader \u70e7\u5f55\u5230\u4e00\u4e2a\u5757\u8bbe\u5907\uff08\u4f8b\u5982 SD \u5361\uff09\u4e0a\uff0c\u5e76\u4e14\u4e0d\u9700\u8981\u7279\u5b9a\u7684\u786c\u4ef6\u63a5\u53e3\uff0c\u90a3\u4e48 <code>dd</code> \u5e94\u8be5\u8db3\u591f\u4e86\u3002</li> </ul>"},{"location":"linux%E9%A9%B1%E5%8A%A8/1.ATK-6ull%E7%8E%AF%E5%A2%83%E9%85%8D%E7%BD%AE/3.uboot%E7%BC%96%E8%AF%91/#_3","title":"\u4e3e\u4f8b\u8bf4\u660e\uff1a","text":"<ol> <li>\u4f7f\u7528\u7279\u5b9a\u786c\u4ef6\u63a5\u53e3\uff1a</li> <li>\u5982\u679c\u60a8\u4f7f\u7528\u7684\u662f i.MX \u5904\u7406\u5668\uff0c\u5e76\u4e14\u9700\u8981\u901a\u8fc7 USB \u63a5\u53e3\u6765\u70e7\u5f55 bootloader \u5230\u5904\u7406\u5668\u7684\u5185\u90e8\u5b58\u50a8\u4e2d\uff0c\u90a3\u4e48\u60a8\u53ef\u80fd\u9700\u8981\u4f7f\u7528 <code>imxdownload</code> \u8fd9\u6837\u7684\u7279\u5b9a\u5de5\u5177\u3002</li> <li>\u4e0d\u9700\u8981\u7279\u5b9a\u786c\u4ef6\u63a5\u53e3\uff1a</li> <li>\u5982\u679c\u60a8\u53ea\u662f\u9700\u8981\u5c06 bootloader \u70e7\u5f55\u5230\u4e00\u4e2a SD \u5361\u4e0a\uff0c\u8fd9\u4e2a SD \u5361\u53ef\u4ee5\u76f4\u63a5\u901a\u8fc7\u8ba1\u7b97\u673a\u7684 SD \u5361\u8bfb\u5361\u5668\u8bbf\u95ee\uff0c\u90a3\u4e48\u60a8\u53ef\u4ee5\u4f7f\u7528 <code>dd</code> \u547d\u4ee4\uff0c\u56e0\u4e3a\u8fd9\u79cd\u60c5\u51b5\u4e0b\u4e0d\u9700\u8981\u4e0e\u7279\u5b9a\u7684\u5904\u7406\u5668\u6216\u786c\u4ef6\u63a5\u53e3\u8fdb\u884c\u76f4\u63a5\u901a\u4fe1\u3002</li> </ol> <p>\u7b80\u800c\u8a00\u4e4b\uff0c\u5982\u679c\u60a8\u7684\u70e7\u5f55\u8fc7\u7a0b\u53ea\u6d89\u53ca\u5230\u6807\u51c6\u7684\u3001\u901a\u7528\u7684\u5757\u8bbe\u5907\u63a5\u53e3\uff0c\u4f8b\u5982 SD \u5361\u8bfb\u5361\u5668\uff0c\u90a3\u4e48 <code>dd</code> \u547d\u4ee4\u5e94\u8be5\u662f\u8db3\u591f\u7684\u3002\u5982\u679c\u70e7\u5f55\u8fc7\u7a0b\u9700\u8981\u4e0e\u7279\u5b9a\u7684\u5904\u7406\u5668\u6216\u786c\u4ef6\u5e73\u53f0\u7684\u7279\u5b9a\u63a5\u53e3\u8fdb\u884c\u901a\u4fe1\uff0c\u90a3\u4e48\u60a8\u53ef\u80fd\u9700\u8981\u4f7f\u7528\u7279\u5b9a\u4e8e\u8be5\u786c\u4ef6\u5e73\u53f0\u7684\u70e7\u5f55\u5de5\u5177\u3002</p>"},{"location":"linux%E9%A9%B1%E5%8A%A8/1.ATK-6ull%E7%8E%AF%E5%A2%83%E9%85%8D%E7%BD%AE/3.uboot%E7%BC%96%E8%AF%91/#dd","title":"dd\u5de5\u5177\u70e7\u5f55","text":"<p>\u6211\u4eec\u4f7f\u7528dd\u5de5\u5177\u6765\u70e7\u5f55\u5427\uff0c\u6bd5\u7adf\u5177\u6709\u901a\u7528\u6027</p> <p>\u8981\u5c06U-Boot\u70e7\u5199\u5230SD\u5361\uff0c\u60a8\u901a\u5e38\u4f1a\u4f7f\u7528<code>dd</code>\u547d\u4ee4\u3002<code>dd</code>\u547d\u4ee4\u53ef\u4ee5\u7528\u4e8e\u590d\u5236\u6587\u4ef6\u6216\u8bbe\u5907\u5185\u5bb9\uff0c\u901a\u5e38\u7528\u4e8e\u5236\u4f5c\u6216\u590d\u5236\u78c1\u76d8\u6620\u50cf\u3002\u5728\u8fd9\u79cd\u60c5\u51b5\u4e0b\uff0c\u60a8\u5c06\u4f7f\u7528<code>dd</code>\u547d\u4ee4\u5c06\u7f16\u8bd1\u597d\u7684U-Boot\u4e8c\u8fdb\u5236\u6587\u4ef6\uff08\u901a\u5e38\u662f<code>u-boot.bin</code>\u6216<code>u-boot.imx</code>\uff09\u590d\u5236\u5230SD\u5361\u3002</p>"},{"location":"linux%E9%A9%B1%E5%8A%A8/1.ATK-6ull%E7%8E%AF%E5%A2%83%E9%85%8D%E7%BD%AE/3.uboot%E7%BC%96%E8%AF%91/#_4","title":"\u6b65\u9aa4\uff1a","text":"<ol> <li> <p>\u627e\u5230U-Boot\u4e8c\u8fdb\u5236\u6587\u4ef6</p> </li> <li> <p>\u786e\u5b9aU-Boot\u4e8c\u8fdb\u5236\u6587\u4ef6\u7684\u4f4d\u7f6e\u3002\u8fd9\u901a\u5e38\u662f<code>u-boot.bin</code>\u6216<code>u-boot.imx</code>\u3002</p> </li> <li> <p>\u5378\u8f7dSD\u5361</p> </li> <li> <p>\u5728\u5199\u5165\u4e4b\u524d\uff0c\u786e\u4fddSD\u5361\u662f\u5378\u8f7d\u7684\u3002</p> </li> </ol> <pre><code>sudo umount /dev/sda1\n</code></pre> <ol> <li> <p>\u4f7f\u7528dd\u547d\u4ee4\u70e7\u5199U-Boot</p> </li> <li> <p>\u4f7f\u7528<code>dd</code>\u547d\u4ee4\u5c06U-Boot\u70e7\u5199\u5230SD\u5361\u3002\u8bf7\u66ff\u6362<code>&lt;u-boot-file&gt;</code>\u4e3a\u60a8\u7684U-Boot\u4e8c\u8fdb\u5236\u6587\u4ef6\u7684\u8def\u5f84\u3002</p> </li> </ol> <pre><code>sudo dd iflag=dsync oflag=dsync if=&lt;u-boot-file&gt; of=/dev/sda seek=2\n</code></pre> <ul> <li> <p>\u8fd9\u91cc\uff0c<code>if</code>\u662f\u8f93\u5165\u6587\u4ef6\uff0c<code>of</code>\u662f\u8f93\u51fa\u6587\u4ef6\uff08\u60a8\u7684SD\u5361\uff09\uff0c<code>bs</code>\u662f\u5757\u5927\u5c0f\uff0c<code>seek</code>\u662f\u8df3\u8fc7\u7684\u5757\u6570\u3002<code>seek=2</code>\u901a\u5e38\u7528\u4e8e\u8df3\u8fc7SD\u5361\u7684\u5206\u533a\u8868\u3002</p> </li> <li> <p>\u540c\u6b65</p> </li> </ul> <p><code>iflag=dsync</code> \u548c <code>oflag=dsync</code>\uff0c\u8fd9\u4e24\u4e2a\u9009\u9879\u4f1a\u786e\u4fdd\u6bcf\u6b21\u8bfb\u53d6\u548c\u5199\u5165\u90fd\u662f\u540c\u6b65\u7684\uff0c\u8fd9\u610f\u5473\u7740\u6bcf\u6b21\u8bfb\u53d6\u6216 \u5199\u5165\u64cd\u4f5c\u90fd\u4f1a\u7b49\u5f85\u7269\u7406 I/O \u64cd\u4f5c\u5b8c\u6210\u3002\u8fd9\u53ef\u4ee5\u786e\u4fdd\u6570\u636e\u7684\u5b8c\u6574\u6027</p>"},{"location":"linux%E9%A9%B1%E5%8A%A8/1.ATK-6ull%E7%8E%AF%E5%A2%83%E9%85%8D%E7%BD%AE/3.uboot%E7%BC%96%E8%AF%91/#_5","title":"\u6ce8\u610f\uff1a","text":"<ul> <li>\u8bf7\u5c0f\u5fc3\u4f7f\u7528<code>dd</code>\u547d\u4ee4\uff0c\u56e0\u4e3a\u5b83\u4f1a\u8986\u76d6\u76ee\u6807\u8bbe\u5907\uff08\u5728\u8fd9\u79cd\u60c5\u51b5\u4e0b\u662fSD\u5361\uff09\u7684\u5185\u5bb9\u3002\u786e\u4fdd<code>of</code>\u53c2\u6570\u662f\u6b63\u786e\u7684\uff0c\u4ee5\u907f\u514d\u8986\u76d6\u7cfb\u7edf\u7684\u5176\u4ed6\u90e8\u5206\u3002</li> <li>\u5728\u6267\u884c<code>dd</code>\u547d\u4ee4\u4e4b\u524d\uff0c\u786e\u4fdd\u6ca1\u6709\u6302\u8f7dSD\u5361\u7684\u4efb\u4f55\u5206\u533a\u3002</li> <li>\u8bf7\u6839\u636e\u60a8\u7684U-Boot\u7248\u672c\u548c\u76ee\u6807\u786c\u4ef6\uff0c\u68c0\u67e5\u76f8\u5173\u7684\u6587\u6863\u4ee5\u786e\u5b9a\u6b63\u786e\u7684<code>dd</code>\u547d\u4ee4\u53c2\u6570\uff0c\u7279\u522b\u662f<code>bs</code>\u548c<code>seek</code>\u53c2\u6570\u3002</li> </ul> <p>\u4e86\u89e3\u4ee5\u4e0a\u5185\u5bb9\u4ee5\u540e\uff0c\u6211\u7684uboot \u8def\u5f84\uff1a/root/uboot</p> <p></p> <p>\u67e5\u770b\u6302\u5728\u8bbe\u5907\u5e76\u5378\u8f7d</p> <pre><code>lsblk\nsudo umount /dev/sda1\n</code></pre> <p></p> <p>\u70e7\u5199U-Boot</p> <p>\u6ce8\u610f\uff1a\u662fsda,\u4e0d\u662fsda1\u5206\u533a</p> <p>\u6211\u5f53\u524d\u662f\u5728uboot\u76ee\u5f55\u4e0b</p> <pre><code>sudo dd iflag=dsync oflag=dsync if=u-boot.imx of=/dev/sda seek=2\n</code></pre> <p></p> <p>0.07S\uff0c\u4e00\u4e2a\u5b57--&gt;\u5feb, \u4e0d\u8fc7\u770b\u5230\u8fd9\u79cd\u4e00\u822c\u662f\u6ca1\u70e7\u5199\u4e0a\u53bb</p> <p>\u67e5\u770b\u6240\u6709sd</p> <pre><code> ls /dev/sd*\n</code></pre> <p></p> <p>\u8fd9\u91cc\u6709\u4e00\u4e2a\u865a\u62df\u7684sdb \uff0c\u5220\u6389</p> <pre><code>sudo rm -rf /dev/sdb\n</code></pre> <p>\u518d\u6b21\u67e5\u770b</p> <p></p> <p>\u518d\u6b21\u70e7\u5199\uff0c\u70e7\u5199\u6210\u529f\u4e00\u822c\u662f\u8fd9\u6837</p> <p></p> <p>BOOT \u8bbe\u7f6e\u4ece SD \u5361\u542f</p> <p>\u52a8\uff0c\u4f7f\u7528 USB \u7ebf\u5c06 USB_TTL \u548c\u7535\u8111\u8fde\u63a5\uff0c\u4e5f\u5c31\u662f\u5c06\u5f00\u53d1\u677f\u7684\u4e32\u53e3 1 \u8fde\u63a5\u5230\u7535\u8111\u4e0a\u3002\u6253\u5f00</p> <p>MobaXterm\uff0c\u8bbe\u7f6e\u597d\u4e32\u53e3\u53c2\u6570\u5e76\u6253\u5f00\uff0c\u6700\u540e\u590d\u4f4d\u5f00\u53d1\u677f\u3002\u5728 MobaXterm \u4e0a\u51fa\u73b0\u201cHit any key to</p> <p>stop autoboot: \u201d\u5012\u8ba1\u65f6\u7684\u65f6\u5019\u6309\u4e0b\u952e\u76d8\u4e0a\u7684\u56de\u8f66\u952e\uff0c\u9ed8\u8ba4\u662f 3 \u79d2\u5012\u8ba1\u65f6\uff0c\u5728 3 \u79d2\u5012\u8ba1\u65f6\u7ed3\u675f\u4ee5</p> <p>\u540e\u5982\u679c\u6ca1\u6709\u6309\u4e0b\u56de\u8f66\u952e\u7684\u8bdd uboot \u5c31\u4f1a\u4f7f\u7528\u9ed8\u8ba4\u53c2\u6570\u6765\u542f\u52a8 Linux \u5185\u6838\u4e86\u3002\u5982\u679c\u5728 3 \u79d2\u5012\u8ba1\u65f6</p> <p>\u7ed3\u675f\u4e4b\u524d\u6309\u4e0b\u56de\u8f66\u952e\uff0c\u90a3\u4e48\u5c31\u4f1a\u8fdb\u5165 uboot \u7684\u547d\u4ee4\u884c\u6a21\u5f0f\uff0c\u5426\u5219\u4f1a\u5f15\u5bfc\u8fdb\u5165linux\u5185\u6838</p> <p>\u53ef\u4ee5\u7406\u89e3\u4e3awindows\u5f00\u673a\u65f6\u7684bios\uff0c\u5f00\u673a\u72c2\u6309\u67d0\u4e2a\u6309\u952e\u4f1a\u8fdb\u5165bios\uff0c\u4e0d\u6309\u6b63\u5e38\u542f\u52a8\u7cfb\u7edf</p> <p></p>"},{"location":"linux%E9%A9%B1%E5%8A%A8/1.ATK-6ull%E7%8E%AF%E5%A2%83%E9%85%8D%E7%BD%AE/3.uboot%E7%BC%96%E8%AF%91/#nxpimxdownload","title":"NXP\u5b98\u65b9\u5de5\u5177imxdownload\u70e7\u5f55","text":"<p>https://newbie-typora.oss-cn-shenzhen.aliyuncs.com/tools/imxdownload</p> <p>\u5c06\u8be5\u5de5\u5177\u653e\u5728uboot\u76ee\u5f55\u4e0b\uff0c\u7ed9\u4e88\u6267\u884c\u6743\u9650</p> <p></p> <pre><code>chmod 777 imxdownload\n</code></pre> <p>\u70e7\u5199\u547d\u4ee4 //\u70e7\u5199\u5230SD\u5361\u4e2d</p> <pre><code>./imxdownload u-boot.bin /dev/sda \n</code></pre> <p></p> <p>\u518d\u6b21\u5c06SD\u63d2\u5165\u5f00\u53d1\u677f\u542f\u52a8\u770b\u4e00\u4e0b\u6ca1\u95ee\u9898\u7684\uff08115200\uff09</p> <p></p>"},{"location":"linux%E9%A9%B1%E5%8A%A8/1.ATK-6ull%E7%8E%AF%E5%A2%83%E9%85%8D%E7%BD%AE/3.uboot%E7%BC%96%E8%AF%91/#_6","title":"\u603b\u7ed3\uff1a","text":"<p>\u7f16\u8bd1uboot \u4f9d\u8d56\u4e8e\u4ea4\u53c9\u7f16\u8bd1\u5de5\u5177\u94fe\u4ee5\u53ca\u4e00\u4e9b\u5fc5\u987b\u5e93\uff0c\u70e7\u5199uboot\u5230SD\u5361\u65f6\u5019\u4f7f\u7528dd\u5de5\u5177\uff0c\u5177\u6709\u901a\u7528\u6027\u3002</p>"},{"location":"linux%E9%A9%B1%E5%8A%A8/1.ATK-6ull%E7%8E%AF%E5%A2%83%E9%85%8D%E7%BD%AE/4.kernel%E7%BC%96%E8%AF%91/","title":"4.kernel\u7f16\u8bd1","text":"<p>\u5b89\u88c5\u5e93</p> <pre><code>sudo apt-get install lzop\n</code></pre> <p>\u4f7f\u7528\u6559\u7a0b\u7684kernel\uff0c\u6ca1\u6709\u9a71\u52a8\u9002\u914d linux-imx-rel_imx_4.1.15_2.1.1_ga_alientek_v2.2.tar.bz2</p> <p>\u89e3\u538b</p> <pre><code>tar -vxjf linux-imx-rel_imx_4.1.15_2.1.1_ga_alientek_v2.2.tar.bz2\n</code></pre> <ul> <li>\u6b63\u70b9\u539f\u5b50\u5199\u4e86\u4e00\u4e2a\u7f16\u8bd1\u811a\u672c\uff0c\u76f4\u63a5\u8fd0\u884c\u5373\u53ef</li> </ul> <pre><code>./mx6ull_alientek_emmc.sh\n</code></pre> <p></p>"},{"location":"linux%E9%A9%B1%E5%8A%A8/1.ATK-6ull%E7%8E%AF%E5%A2%83%E9%85%8D%E7%BD%AE/5.%E7%83%A7%E5%BD%95uboot%E5%88%B0sd%E5%8D%A1/","title":"5.\u70e7\u5f55uboot\u5230sd\u5361","text":""},{"location":"linux%E9%A9%B1%E5%8A%A8/1.ATK-6ull%E7%8E%AF%E5%A2%83%E9%85%8D%E7%BD%AE/5.%E7%83%A7%E5%BD%95uboot%E5%88%B0sd%E5%8D%A1/#ubootsd","title":"\u70e7\u5f55uboot\u5230sd\u5361","text":"<p>\u4e24\u79cd\u65b9\u5f0f\uff0c\u4f7f\u7528nxp\u5b98\u65b9\u4e0b\u8f7d\u5de5\u5177\u6216\u8005dd\u5de5\u5177</p> <p><code>imxdownload</code> \u662f NXP \u63d0\u4f9b\u7684\u4e00\u4e2a\u7279\u5b9a\u4e8e i.MX \u5904\u7406\u5668\u7cfb\u5217\u7684\u70e7\u5f55\u5de5\u5177\u3002\u8fd9\u4e2a\u5de5\u5177\u662f\u4e3a\u4e86\u70e7\u5f55 i.MX \u5904\u7406\u5668\u7684 boot ROM \u800c\u8bbe\u8ba1\u7684\uff0c\u901a\u5e38\u7528\u4e8e\u70e7\u5f55 U-Boot bootloader \u5230\u8bbe\u5907\u4e0a\u3002\u8fd9\u4e2a\u5de5\u5177\u901a\u5e38\u4f1a\u4e0e i.MX \u5904\u7406\u5668\u7684\u7279\u5b9a\u786c\u4ef6\u63a5\u53e3\u4e00\u8d77\u4f7f\u7528\uff0c\u4f8b\u5982 USB \u6216 UART\uff0c\u6765\u8fdb\u884c\u70e7\u5f55\u3002</p>"},{"location":"linux%E9%A9%B1%E5%8A%A8/1.ATK-6ull%E7%8E%AF%E5%A2%83%E9%85%8D%E7%BD%AE/5.%E7%83%A7%E5%BD%95uboot%E5%88%B0sd%E5%8D%A1/#imxdownload-dd","title":"<code>imxdownload</code> \u4e0e <code>dd</code> \u7684\u533a\u522b\uff1a","text":"<ol> <li>\u7279\u5b9a\u6027\uff1a</li> <li><code>imxdownload</code> \u662f\u9488\u5bf9 NXP \u7684 i.MX \u7cfb\u5217\u5904\u7406\u5668\u8bbe\u8ba1\u7684\uff0c\u800c <code>dd</code> \u662f\u4e00\u4e2a\u901a\u7528\u7684 UNIX \u5de5\u5177\uff0c\u53ef\u7528\u4e8e\u4efb\u4f55 UNIX \u7cfb\u7edf\u4e0a\uff0c\u7528\u4e8e\u590d\u5236\u548c\u8f6c\u6362\u6587\u4ef6\u3002</li> <li>\u63a5\u53e3\uff1a</li> <li><code>imxdownload</code> \u901a\u5e38\u4f7f\u7528\u7279\u5b9a\u7684\u786c\u4ef6\u63a5\u53e3\uff08\u4f8b\u5982 USB \u6216 UART\uff09\u6765\u70e7\u5f55 i.MX \u5904\u7406\u5668\uff0c\u800c <code>dd</code> \u5219\u76f4\u63a5\u64cd\u4f5c\u5757\u8bbe\u5907\uff0c\u4f8b\u5982 SD \u5361\u3002</li> <li>\u7528\u9014\uff1a</li> <li><code>imxdownload</code> \u4e3b\u8981\u7528\u4e8e\u70e7\u5f55 bootloader \u5230 i.MX \u5904\u7406\u5668\u7684\u5185\u90e8\u5b58\u50a8\u6216\u5916\u90e8\u5b58\u50a8\u4e2d\uff0c\u800c <code>dd</code> \u53ef\u4ee5\u7528\u4e8e\u590d\u5236\u4efb\u4f55\u6587\u4ef6\u548c\u8bbe\u5907\u5185\u5bb9\uff0c\u5305\u62ec\u5236\u4f5c\u548c\u6062\u590d\u78c1\u76d8\u6620\u50cf\u3002</li> <li>\u64cd\u4f5c\u5c42\u7ea7\uff1a</li> <li><code>imxdownload</code> \u64cd\u4f5c\u7684\u662f\u5904\u7406\u5668\u7ea7\u522b\uff0c\u76f4\u63a5\u4e0e\u5904\u7406\u5668\u7684 boot ROM \u4ea4\u4e92\uff0c\u800c <code>dd</code> \u64cd\u4f5c\u7684\u662f\u6587\u4ef6\u7cfb\u7edf\u7ea7\u522b\uff0c\u4e0e\u5757\u8bbe\u5907\u4ea4\u4e92\u3002</li> </ol>"},{"location":"linux%E9%A9%B1%E5%8A%A8/1.ATK-6ull%E7%8E%AF%E5%A2%83%E9%85%8D%E7%BD%AE/5.%E7%83%A7%E5%BD%95uboot%E5%88%B0sd%E5%8D%A1/#_1","title":"\u9009\u62e9\u5de5\u5177\uff1a","text":"<ul> <li>\u5982\u679c\u60a8\u6b63\u5728\u4f7f\u7528 NXP \u7684 i.MX \u7cfb\u5217\u5904\u7406\u5668\uff0c\u5e76\u4e14\u9700\u8981\u901a\u8fc7\u7279\u5b9a\u7684\u786c\u4ef6\u63a5\u53e3\u70e7\u5f55 bootloader\uff0c\u90a3\u4e48 <code>imxdownload</code> \u53ef\u80fd\u662f\u66f4\u5408\u9002\u7684\u9009\u62e9\u3002</li> <li>\u5982\u679c\u60a8\u53ea\u662f\u9700\u8981\u5c06 bootloader \u70e7\u5f55\u5230\u4e00\u4e2a\u5757\u8bbe\u5907\uff08\u4f8b\u5982 SD \u5361\uff09\u4e0a\uff0c\u5e76\u4e14\u4e0d\u9700\u8981\u7279\u5b9a\u7684\u786c\u4ef6\u63a5\u53e3\uff0c\u90a3\u4e48 <code>dd</code> \u5e94\u8be5\u8db3\u591f\u4e86\u3002</li> </ul>"},{"location":"linux%E9%A9%B1%E5%8A%A8/1.ATK-6ull%E7%8E%AF%E5%A2%83%E9%85%8D%E7%BD%AE/5.%E7%83%A7%E5%BD%95uboot%E5%88%B0sd%E5%8D%A1/#_2","title":"\u4e3e\u4f8b\u8bf4\u660e\uff1a","text":"<ol> <li>\u4f7f\u7528\u7279\u5b9a\u786c\u4ef6\u63a5\u53e3\uff1a</li> <li>\u5982\u679c\u60a8\u4f7f\u7528\u7684\u662f i.MX \u5904\u7406\u5668\uff0c\u5e76\u4e14\u9700\u8981\u901a\u8fc7 USB \u63a5\u53e3\u6765\u70e7\u5f55 bootloader \u5230\u5904\u7406\u5668\u7684\u5185\u90e8\u5b58\u50a8\u4e2d\uff0c\u90a3\u4e48\u60a8\u53ef\u80fd\u9700\u8981\u4f7f\u7528 <code>imxdownload</code> \u8fd9\u6837\u7684\u7279\u5b9a\u5de5\u5177\u3002</li> <li>\u4e0d\u9700\u8981\u7279\u5b9a\u786c\u4ef6\u63a5\u53e3\uff1a</li> <li>\u5982\u679c\u60a8\u53ea\u662f\u9700\u8981\u5c06 bootloader \u70e7\u5f55\u5230\u4e00\u4e2a SD \u5361\u4e0a\uff0c\u8fd9\u4e2a SD \u5361\u53ef\u4ee5\u76f4\u63a5\u901a\u8fc7\u8ba1\u7b97\u673a\u7684 SD \u5361\u8bfb\u5361\u5668\u8bbf\u95ee\uff0c\u90a3\u4e48\u60a8\u53ef\u4ee5\u4f7f\u7528 <code>dd</code> \u547d\u4ee4\uff0c\u56e0\u4e3a\u8fd9\u79cd\u60c5\u51b5\u4e0b\u4e0d\u9700\u8981\u4e0e\u7279\u5b9a\u7684\u5904\u7406\u5668\u6216\u786c\u4ef6\u63a5\u53e3\u8fdb\u884c\u76f4\u63a5\u901a\u4fe1\u3002</li> </ol> <p>\u7b80\u800c\u8a00\u4e4b\uff0c\u5982\u679c\u60a8\u7684\u70e7\u5f55\u8fc7\u7a0b\u53ea\u6d89\u53ca\u5230\u6807\u51c6\u7684\u3001\u901a\u7528\u7684\u5757\u8bbe\u5907\u63a5\u53e3\uff0c\u4f8b\u5982 SD \u5361\u8bfb\u5361\u5668\uff0c\u90a3\u4e48 <code>dd</code> \u547d\u4ee4\u5e94\u8be5\u662f\u8db3\u591f\u7684\u3002\u5982\u679c\u70e7\u5f55\u8fc7\u7a0b\u9700\u8981\u4e0e\u7279\u5b9a\u7684\u5904\u7406\u5668\u6216\u786c\u4ef6\u5e73\u53f0\u7684\u7279\u5b9a\u63a5\u53e3\u8fdb\u884c\u901a\u4fe1\uff0c\u90a3\u4e48\u60a8\u53ef\u80fd\u9700\u8981\u4f7f\u7528\u7279\u5b9a\u4e8e\u8be5\u786c\u4ef6\u5e73\u53f0\u7684\u70e7\u5f55\u5de5\u5177\u3002</p>"},{"location":"linux%E9%A9%B1%E5%8A%A8/1.ATK-6ull%E7%8E%AF%E5%A2%83%E9%85%8D%E7%BD%AE/5.%E7%83%A7%E5%BD%95uboot%E5%88%B0sd%E5%8D%A1/#dd","title":"dd\u5de5\u5177\u70e7\u5f55","text":"<p>\u6211\u4eec\u4f7f\u7528dd\u5de5\u5177\u6765\u70e7\u5f55\u5427\uff0c\u6bd5\u7adf\u5177\u6709\u901a\u7528\u6027</p> <p>\u8981\u5c06U-Boot\u70e7\u5199\u5230SD\u5361\uff0c\u60a8\u901a\u5e38\u4f1a\u4f7f\u7528<code>dd</code>\u547d\u4ee4\u3002<code>dd</code>\u547d\u4ee4\u53ef\u4ee5\u7528\u4e8e\u590d\u5236\u6587\u4ef6\u6216\u8bbe\u5907\u5185\u5bb9\uff0c\u901a\u5e38\u7528\u4e8e\u5236\u4f5c\u6216\u590d\u5236\u78c1\u76d8\u6620\u50cf\u3002\u5728\u8fd9\u79cd\u60c5\u51b5\u4e0b\uff0c\u60a8\u5c06\u4f7f\u7528<code>dd</code>\u547d\u4ee4\u5c06\u7f16\u8bd1\u597d\u7684U-Boot\u4e8c\u8fdb\u5236\u6587\u4ef6\uff08\u901a\u5e38\u662f<code>u-boot.bin</code>\u6216<code>u-boot.imx</code>\uff09\u590d\u5236\u5230SD\u5361\u3002</p>"},{"location":"linux%E9%A9%B1%E5%8A%A8/1.ATK-6ull%E7%8E%AF%E5%A2%83%E9%85%8D%E7%BD%AE/5.%E7%83%A7%E5%BD%95uboot%E5%88%B0sd%E5%8D%A1/#_3","title":"\u6b65\u9aa4\uff1a","text":"<ol> <li> <p>\u627e\u5230U-Boot\u4e8c\u8fdb\u5236\u6587\u4ef6</p> </li> <li> <p>\u786e\u5b9aU-Boot\u4e8c\u8fdb\u5236\u6587\u4ef6\u7684\u4f4d\u7f6e\u3002\u8fd9\u901a\u5e38\u662f<code>u-boot.bin</code>\u6216<code>u-boot.imx</code>\u3002</p> </li> <li> <p>\u5378\u8f7dSD\u5361</p> </li> <li> <p>\u5728\u5199\u5165\u4e4b\u524d\uff0c\u786e\u4fddSD\u5361\u662f\u5378\u8f7d\u7684\u3002</p> </li> </ol> <pre><code>sudo umount /dev/sda1\n</code></pre> <ol> <li> <p>\u4f7f\u7528dd\u547d\u4ee4\u70e7\u5199U-Boot</p> </li> <li> <p>\u4f7f\u7528<code>dd</code>\u547d\u4ee4\u5c06U-Boot\u70e7\u5199\u5230SD\u5361\u3002\u8bf7\u66ff\u6362<code>&lt;u-boot-file&gt;</code>\u4e3a\u60a8\u7684U-Boot\u4e8c\u8fdb\u5236\u6587\u4ef6\u7684\u8def\u5f84\u3002</p> </li> </ol> <pre><code>sudo dd iflag=dsync oflag=dsync if=&lt;u-boot-file&gt; of=/dev/sda seek=2\n</code></pre> <ul> <li> <p>\u8fd9\u91cc\uff0c<code>if</code>\u662f\u8f93\u5165\u6587\u4ef6\uff0c<code>of</code>\u662f\u8f93\u51fa\u6587\u4ef6\uff08\u60a8\u7684SD\u5361\uff09\uff0c<code>bs</code>\u662f\u5757\u5927\u5c0f\uff0c<code>seek</code>\u662f\u8df3\u8fc7\u7684\u5757\u6570\u3002<code>seek=2</code>\u901a\u5e38\u7528\u4e8e\u8df3\u8fc7SD\u5361\u7684\u5206\u533a\u8868\u3002</p> </li> <li> <p>\u540c\u6b65</p> </li> </ul> <p><code>iflag=dsync</code> \u548c <code>oflag=dsync</code>\uff0c\u8fd9\u4e24\u4e2a\u9009\u9879\u4f1a\u786e\u4fdd\u6bcf\u6b21\u8bfb\u53d6\u548c\u5199\u5165\u90fd\u662f\u540c\u6b65\u7684\uff0c\u8fd9\u610f\u5473\u7740\u6bcf\u6b21\u8bfb\u53d6\u6216 \u5199\u5165\u64cd\u4f5c\u90fd\u4f1a\u7b49\u5f85\u7269\u7406 I/O \u64cd\u4f5c\u5b8c\u6210\u3002\u8fd9\u53ef\u4ee5\u786e\u4fdd\u6570\u636e\u7684\u5b8c\u6574\u6027</p>"},{"location":"linux%E9%A9%B1%E5%8A%A8/1.ATK-6ull%E7%8E%AF%E5%A2%83%E9%85%8D%E7%BD%AE/5.%E7%83%A7%E5%BD%95uboot%E5%88%B0sd%E5%8D%A1/#_4","title":"\u6ce8\u610f\uff1a","text":"<ul> <li>\u8bf7\u5c0f\u5fc3\u4f7f\u7528<code>dd</code>\u547d\u4ee4\uff0c\u56e0\u4e3a\u5b83\u4f1a\u8986\u76d6\u76ee\u6807\u8bbe\u5907\uff08\u5728\u8fd9\u79cd\u60c5\u51b5\u4e0b\u662fSD\u5361\uff09\u7684\u5185\u5bb9\u3002\u786e\u4fdd<code>of</code>\u53c2\u6570\u662f\u6b63\u786e\u7684\uff0c\u4ee5\u907f\u514d\u8986\u76d6\u7cfb\u7edf\u7684\u5176\u4ed6\u90e8\u5206\u3002</li> <li>\u5728\u6267\u884c<code>dd</code>\u547d\u4ee4\u4e4b\u524d\uff0c\u786e\u4fdd\u6ca1\u6709\u6302\u8f7dSD\u5361\u7684\u4efb\u4f55\u5206\u533a\u3002</li> <li>\u8bf7\u6839\u636e\u60a8\u7684U-Boot\u7248\u672c\u548c\u76ee\u6807\u786c\u4ef6\uff0c\u68c0\u67e5\u76f8\u5173\u7684\u6587\u6863\u4ee5\u786e\u5b9a\u6b63\u786e\u7684<code>dd</code>\u547d\u4ee4\u53c2\u6570\uff0c\u7279\u522b\u662f<code>bs</code>\u548c<code>seek</code>\u53c2\u6570\u3002</li> </ul> <p>\u4e86\u89e3\u4ee5\u4e0a\u5185\u5bb9\u4ee5\u540e\uff0c\u6211\u7684uboot \u8def\u5f84\uff1a/root/uboot</p> <p></p> <p>\u67e5\u770b\u6302\u5728\u8bbe\u5907\u5e76\u5378\u8f7d</p> <pre><code>lsblk\nsudo umount /dev/sda1\n</code></pre> <p></p> <p>\u70e7\u5199U-Boot</p> <p>\u6ce8\u610f\uff1a\u662fsda,\u4e0d\u662fsda1\u5206\u533a</p> <p>\u6211\u5f53\u524d\u662f\u5728uboot\u76ee\u5f55\u4e0b</p> <pre><code>sudo dd iflag=dsync oflag=dsync if=u-boot.imx of=/dev/sda seek=2\n</code></pre> <p></p> <p>0.07S\uff0c\u4e00\u4e2a\u5b57--&gt;\u5feb, \u4e0d\u8fc7\u770b\u5230\u8fd9\u79cd\u4e00\u822c\u662f\u6ca1\u70e7\u5199\u4e0a\u53bb</p> <p>\u67e5\u770b\u6240\u6709sd</p> <pre><code> ls /dev/sd*\n</code></pre> <p></p> <p>\u8fd9\u91cc\u6709\u4e00\u4e2a\u865a\u62df\u7684sdb \uff0c\u5220\u6389</p> <pre><code>sudo rm -rf /dev/sdb\n</code></pre> <p>\u518d\u6b21\u67e5\u770b</p> <p></p> <p>\u518d\u6b21\u70e7\u5199\uff0c\u70e7\u5199\u6210\u529f\u4e00\u822c\u662f\u8fd9\u6837</p> <p></p> <p>\u786c\u4ef6\u4e0a BOOT \u8bbe\u7f6e\u4ece SD \u5361\u542f\u52a8\uff0c\u4f7f\u7528 USB \u7ebf\u5c06 USB_TTL \u548c\u7535\u8111\u8fde\u63a5\uff0c\u4e5f\u5c31\u662f\u5c06\u5f00\u53d1\u677f\u7684\u4e32\u53e3 1 \u8fde\u63a5\u5230\u7535\u8111\u4e0a\u3002\u6253\u5f00MobaXterm\uff0c\u8bbe\u7f6e\u597d\u4e32\u53e3\u53c2\u6570\u5e76\u6253\u5f00\uff0c\u6700\u540e\u590d\u4f4d\u5f00\u53d1\u677f\u3002\u5728 MobaXterm \u4e0a\u51fa\u73b0\u201cHit any key to stop autoboot: \u201d\u5012\u8ba1\u65f6\u7684\u65f6\u5019\u6309\u4e0b\u952e\u76d8\u4e0a\u7684\u56de\u8f66\u952e\uff0c\u9ed8\u8ba4\u662f 3 \u79d2\u5012\u8ba1\u65f6\uff0c\u5728 3 \u79d2\u5012\u8ba1\u65f6\u7ed3\u675f\u4ee5\u540e\u5982\u679c\u6ca1\u6709\u6309\u4e0b\u56de\u8f66\u952e\u7684\u8bdd uboot \u5c31\u4f1a\u4f7f\u7528\u9ed8\u8ba4\u53c2\u6570\u6765\u542f\u52a8 Linux \u5185\u6838\u4e86\u3002\u5982\u679c\u5728 3 \u79d2\u5012\u8ba1\u65f6\u7ed3\u675f\u4e4b\u524d\u6309\u4e0b\u56de\u8f66\u952e\uff0c\u90a3\u4e48\u5c31\u4f1a\u8fdb\u5165 uboot \u7684\u547d\u4ee4\u884c\u6a21\u5f0f\uff0c\u5426\u5219\u4f1a\u5f15\u5bfc\u8fdb\u5165linux\u5185\u6838\u53ef\u4ee5\u7406\u89e3\u4e3awindows\u5f00\u673a\u65f6\u7684bios\uff0c\u5f00\u673a\u72c2\u6309\u67d0\u4e2a\u6309\u952e\u4f1a\u8fdb\u5165bios\uff0c\u4e0d\u6309\u6b63\u5e38\u542f\u52a8\u7cfb\u7edf</p> <p></p>"},{"location":"linux%E9%A9%B1%E5%8A%A8/1.ATK-6ull%E7%8E%AF%E5%A2%83%E9%85%8D%E7%BD%AE/5.%E7%83%A7%E5%BD%95uboot%E5%88%B0sd%E5%8D%A1/#nxpimxdownload","title":"NXP\u5b98\u65b9\u5de5\u5177imxdownload\u70e7\u5f55","text":"<p>https://newbie-typora.oss-cn-shenzhen.aliyuncs.com/tools/imxdownload</p> <p>\u5c06\u8be5\u5de5\u5177\u653e\u5728uboot\u76ee\u5f55\u4e0b\uff0c\u7ed9\u4e88\u6267\u884c\u6743\u9650</p> <p></p> <pre><code>chmod 777 imxdownload\n</code></pre> <p>\u70e7\u5199\u547d\u4ee4 //\u70e7\u5199\u5230SD\u5361\u4e2d</p> <pre><code>./imxdownload u-boot.bin /dev/sda \n</code></pre> <p></p> <p>\u518d\u6b21\u5c06SD\u63d2\u5165\u5f00\u53d1\u677f\u542f\u52a8\u770b\u4e00\u4e0b\u6ca1\u95ee\u9898\u7684\uff08115200\uff09</p> <p></p>"},{"location":"linux%E9%A9%B1%E5%8A%A8/1.ATK-6ull%E7%8E%AF%E5%A2%83%E9%85%8D%E7%BD%AE/5.%E7%83%A7%E5%BD%95uboot%E5%88%B0sd%E5%8D%A1/#_5","title":"\u603b\u7ed3\uff1a","text":"<p>\u70e7\u5199uboot\u5230SD\u5361\u65f6\u5019\u4f7f\u7528dd\u5de5\u5177\uff0c\u5177\u6709\u901a\u7528\u6027\u3002</p>"},{"location":"linux%E9%A9%B1%E5%8A%A8/1.ATK-6ull%E7%8E%AF%E5%A2%83%E9%85%8D%E7%BD%AE/6.uboot%E7%BD%91%E7%BB%9C%E9%85%8D%E7%BD%AE/","title":"6.uboot\u7f51\u7edc\u914d\u7f6e","text":"<p>ATK 30.4.4 \u7f51\u7edc\u64cd\u4f5c\u547d\u4ee4</p>"},{"location":"linux%E9%A9%B1%E5%8A%A8/1.ATK-6ull%E7%8E%AF%E5%A2%83%E9%85%8D%E7%BD%AE/6.uboot%E7%BD%91%E7%BB%9C%E9%85%8D%E7%BD%AE/#uboot","title":"\u4ecb\u7ecd\u51e0\u4e2auboot\u7684\u547d\u4ee4","text":""},{"location":"linux%E9%A9%B1%E5%8A%A8/1.ATK-6ull%E7%8E%AF%E5%A2%83%E9%85%8D%E7%BD%AE/6.uboot%E7%BD%91%E7%BB%9C%E9%85%8D%E7%BD%AE/#printenv","title":"printenv \u6253\u5370\u73af\u5883\u53d8\u91cf","text":"<p>printenv \u67e5\u770b\u6240\u6709\u73af\u5883\u53d8\u91cf\uff0c\u8fd9\u4f1a\u628a\u6240\u6709\u5f53\u524d U-Boot \u73af\u5883\u53d8\u91cf\u548c\u5b83\u4eec\u7684\u5185\u5bb9\u4e00\u884c\u884c\u6253\u5370\u51fa\u6765</p> <p>setenv  \u8bbe\u7f6e\uff08\u6216\u4fee\u6539\uff09U-Boot \u7684\u73af\u5883\u53d8\u91cf</p> <pre><code>=&gt; printenv\nbaudrate=115200\nboard_name=EVK\nboard_rev=14X14\nboot_fdt=try\nbootcmd=run findfdt;mmc dev ${mmcdev};mmc dev ${mmcdev}; if mmc rescan; then if run loadbootscript; then run bootscript; else if run loadimage; then run mmcboot; else run netboot; fi; fi; else run netboot; fi\nbootcmd_mfg=run mfgtool_args;bootz ${loadaddr} ${initrd_addr} ${fdt_addr};\nbootdelay=3\nbootscript=echo Running bootscript from mmc ...; source\nconsole=ttymxc0\nethact=FEC1\nethaddr=b8:ae:1d:01:00:00\nethprime=FEC\nfdt_addr=0x83000000\nfdt_file=undefined\nfdt_high=0xffffffff\nfindfdt=if test $fdt_file = undefined; then setenv fdt_file imx6ull-alientek-emmc.dtb; fi;\ngatewayip=192.168.0.1\nimage=zImage\ninitrd_addr=0x83800000\ninitrd_high=0xffffffff\nip_dyn=yes\nipaddr=192.168.0.99\nloadaddr=0x80800000\nloadbootscript=fatload mmc ${mmcdev}:${mmcpart} ${loadaddr} ${script};\nloadfdt=fatload mmc ${mmcdev}:${mmcpart} ${fdt_addr} ${fdt_file}\nloadimage=fatload mmc ${mmcdev}:${mmcpart} ${loadaddr} ${image}\nmfgtool_args=setenv bootargs console=${console},${baudrate} rdinit=/linuxrc g_mass_storage.stall=0 g_mass_storage.removable=1 g_mass_storage.file=/fat g_mass_storage.ro=1 g_mass_storage.idVendor=0x066F g_mass_storage.idProduct=0x37FF g_mass_storage.iSerialNumber=\"\" clk_ignore_unused\nmmcargs=setenv bootargs console=${console},${baudrate} root=${mmcroot}\nmmcautodetect=yes\nmmcboot=echo Booting from mmc ...; run mmcargs; if test ${boot_fdt} = yes || test ${boot_fdt} = try; then if run loadfdt; then bootz ${loadaddr} - ${fdt_addr}; else if test ${boot_fdt} = try; then bootz; else echo WARN: Cannot load the DT; fi; fi; else bootz; fi;\nmmcdev=0\nmmcpart=1\nmmcroot=/dev/mmcblk0p2 rootwait rw\nnetargs=setenv bootargs console=${console},${baudrate} root=/dev/nfs ip=dhcp nfsroot=${serverip}:${nfsroot},v3,tcp\nnetboot=echo Booting from net ...; run netargs; if test ${ip_dyn} = yes; then setenv get_cmd dhcp; else setenv get_cmd tftp; fi; ${get_cmd} ${image}; if test ${boot_fdt} = yes || test ${boot_fdt} = try; then if ${get_cmd} ${fdt_addr} ${fdt_file}; then bootz ${loadaddr} - ${fdt_addr}; else if test ${boot_fdt} = try; then bootz; else echo WARN: Cannot load the DT; fi; fi; else bootz; fi;\nnetmask=255.255.255.0\npanel=TFT7016\nscript=boot.scr\nserverip=192.168.0.38\n\nEnvironment size: 2310/8188 bytes\n</code></pre>"},{"location":"linux%E9%A9%B1%E5%8A%A8/1.ATK-6ull%E7%8E%AF%E5%A2%83%E9%85%8D%E7%BD%AE/6.uboot%E7%BD%91%E7%BB%9C%E9%85%8D%E7%BD%AE/#setenv","title":"setenv  \u8bbe\u7f6e/\u4fee\u6539 \u73af\u5883\u53d8\u91cf","text":"<p>setenv \u53d8\u91cf\u540d \u503c     </p> <p>\u6bd4\u5982</p> <pre><code>setenv ipaddr 192.168.0.99\nsetenv serverip 192.168.0.38\nsetenv bootargs \"console=ttymxc0,115200 root=/dev/nfs ...\"\n</code></pre> <p>\u6ca1\u6709\u7684\u73af\u5883\u53d8\u91cf\u4f1a\u81ea\u5df1\u521b\u5efa</p>"},{"location":"linux%E9%A9%B1%E5%8A%A8/1.ATK-6ull%E7%8E%AF%E5%A2%83%E9%85%8D%E7%BD%AE/6.uboot%E7%BD%91%E7%BB%9C%E9%85%8D%E7%BD%AE/#saveenv","title":"saveenv \u4fdd\u5b58\u73af\u5883\u53d8\u91cf","text":"<p>\u8be5\u547d\u4ee4\u6267\u884c\u540e\uff0c\u73af\u5883\u53d8\u91cf\u4f1a\u6c38\u4e45\u4fdd\u5b58\uff0c\u76f8\u5f53\u4e8e\u5199\u5230\u975e\u6613\u5931\u6027\u5b58\u50a8\u5668\uff0c\u8bbe\u7f6e\u4e86\u73af\u5883\u53d8\u91cf\uff0c\u5982\u679c\u4e0d\u4f7f\u7528\u8be5\u547d\u4ee4\uff0c\u65ad\u7535\u540e\u4f1a\u5931\u6548</p> <p>\u5728\u4f7f\u7528 uboot \u7684\u7f51\u7edc\u529f\u80fd\u4e4b\u524d\u5148\u7528\u7f51\u7ebf\u5c06\u5f00\u53d1\u677f\u7684 ENET2 \u63a5\u53e3\u548c\u7535\u8111\u6216\u8005\u8def\u7531\u5668\u8fde\u63a5\u8d77</p> <p>\u6765\uff0cI.MX6U-ALPHA \u5f00\u53d1\u677f\u6709\u4e24\u4e2a\u7f51\u53e3\uff1aENET1 \u548c ENET2\uff0c\u4e00\u5b9a\u8981\u8fde\u63a5 ENET2</p> <p>\u70e7\u5f55\u597duboot\u540e\u9700\u8981\u914d\u7f6e\u7f51\u7edc\u8fde\u63a5\uff0c\u9ed8\u8ba4\u4e0d\u4f1a\u81ea\u52a8\u8fde\u63a5\uff0c\u9700\u8981\u5148\u8bbe\u7f6e\u73af\u5883\u53d8\u91cf</p> <p></p> <pre><code>setenv ipaddr 192.168.0.99\nsetenv ethaddr b8:ae:1d:01:00:00\nsetenv gatewayip 192.168.0.1\nsetenv netmask 255.255.255.0\nsetenv serverip 192.168.0.38\nsaveenv\n</code></pre> <pre><code>ping 192.168.0.38\n</code></pre> <p></p> <p></p> <p>\u8fd9\u65f6\u5019\u5c31\u5c06\u7f51\u7edc\u914d\u7f6e\u597d\u4e86\uff0c\u518d\u6b21\u542f\u52a8\u4e5f\u4e0d\u7528\u91cd\u65b0\u914d\u7f6e\u4e86</p>"},{"location":"linux%E9%A9%B1%E5%8A%A8/1.ATK-6ull%E7%8E%AF%E5%A2%83%E9%85%8D%E7%BD%AE/7.nfs%E8%AE%BE%E7%BD%AE%E4%BB%A5%E5%8F%8A%E6%8C%82%E8%BD%BDkernel%E4%BB%A5%E5%8F%8Adts/","title":"7.nfs\u8bbe\u7f6e\u4ee5\u53ca\u6302\u8f7dkernel\u4ee5\u53cadts","text":"<p>NFS \u6302\u8f7d\u539f\u7406  \u5f00\u53d1\u677f\u4e0a\u8fd0\u884c\u7684 Linux\uff08\u6bd4\u5982\u5d4c\u5165\u5f0f ARM \u5e73\u53f0\uff09\u901a\u5e38\u6ca1\u6709\u672c\u5730\u5b58\u50a8\uff0c\u6216\u8005\u662f\u8c03\u8bd5\u65f6\u4e0d\u65b9\u4fbf\u9891\u7e41\u66f4\u6362\u955c\u50cf\u3002\u8fd9\u65f6\u5e38\u7528\u7684\u505a\u6cd5\u662f\uff1a</p> <ul> <li>\u5185\u6838\uff08zImage\u3001Image\uff09\u548c\u8bbe\u5907\u6811\uff08.dtb \u6587\u4ef6\uff09\u901a\u8fc7 TFTP \u65b9\u5f0f\u4ece Ubuntu \u4e3b\u673a\u4e0b\u8f7d\u5230\u5f00\u53d1\u677f\u5185\u5b58\uff0c\u7136\u540e\u542f\u52a8\u3002</li> <li>\u6839\u6587\u4ef6\u7cfb\u7edf\u901a\u8fc7 NFS \u6302\u8f7d\uff0c\u8fd9\u6837\u4f60\u5728 Ubuntu \u4e3b\u673a\uff08\u5f00\u53d1\u673a\uff09\u4e0a\u7ef4\u62a4\u4e00\u4e2a\u76ee\u5f55\uff0c\u5f00\u53d1\u677f\u6bcf\u6b21\u542f\u52a8\u65f6\u90fd\u628a\u8fd9\u4e2a\u76ee\u5f55\u4f5c\u4e3a\u6839\u6587\u4ef6\u7cfb\u7edf\u4f7f\u7528\uff0c\u65b9\u4fbf\u5f00\u53d1\u3001\u8c03\u8bd5\u3002</li> </ul> <p>\u9700\u8981\u5728 Ubuntu \u4e0a\u5171\u4eab\u4e00\u4e2a\u6587\u4ef6\u5939\uff0c\u6bd4\u5982 <code>/nfsroot</code>\uff0c\u7528\u6765\u4f5c\u4e3a\u6839\u6587\u4ef6\u7cfb\u7edf\u3002\u5f00\u53d1\u677f\u901a\u8fc7\u7f51\u7edc\u6302\u8f7d\u8fd9\u4e2a\u76ee\u5f55\u3002</p> <p>\u5927\u81f4\u6b65\u9aa4</p> <ul> <li>\u5728 Ubuntu \u4e0a\u5b89\u88c5 NFS \u670d\u52a1\uff1a</li> </ul> <pre><code>sudo apt update\nsudo apt install nfs-kernel-server\n</code></pre> <ul> <li>\u521b\u5efa\u5e76\u914d\u7f6e\u5171\u4eab\u76ee\u5f55\uff08\u4f8b\u5982 <code>/nfsroot</code>\uff09\uff1a</li> </ul> <pre><code>sudo mkdir nfsroot\n</code></pre> <pre><code>\u6211\u521b\u5efa\u7684\u76ee\u5f55  /home/hdj/nfsroot  \uff0c\u521b\u5efa\u540e\u7ed9\u6743\u9650chmod 775 -R nfsroot\n</code></pre> <ul> <li>\u7f16\u8f91 <code>/etc/exports</code> \u6587\u4ef6\uff0c\u6dfb\u52a0\u5982\u4e0b\u5185\u5bb9\uff08\u6211\u7684\u5f00\u53d1\u677f IP \u4e3a 192.168.0.99\uff09</li> </ul> <pre><code>/home/hdj/nfsroot 192.168.0.99(rw,sync,no_root_squash,no_subtree_check)\n</code></pre> <ul> <li>\u91cd\u65b0\u5bfc\u51fa\u914d\u7f6e\u5e76\u91cd\u542f NFS \u670d\u52a1\uff1a</li> </ul> <pre><code>sudo exportfs -ra\nsudo systemctl restart nfs-kernel-server\n</code></pre> <ul> <li>\u67e5\u770bnfs\u72b6\u6001</li> </ul> <pre><code>sudo systemctl status nfs-kernel-server\n</code></pre> <p></p> <ul> <li>\u5c06zImage \u4ee5\u53ca  imx6ull-alientek-emmc.dtb  \u6587\u4ef6\u653e\u5728nfsroot\u76ee\u5f55  </li> </ul> <p>\u4f7f\u7528 nfs \u547d\u4ee4\u6765\u5c06 zImage \u4e0b\u8f7d\u5230\u5f00\u53d1\u677f DRAM \u7684 0X80800000 \u5730\u5740\u5904\uff0c imx6ull-alientek-emmc.dtb\u4e0b\u8f7d\u523083000000\u5904</p> <p>\u4e0b\u8f7dzImage </p> <pre><code>nfs 80800000 192.168.0.38:/home/hdj/nfsroot/zImage\n</code></pre> <p>\u4e0b\u8f7ddtb</p> <pre><code>nfs 83000000 192.168.0.38:/home/hdj/nfsroot/imx6ull-alientek-emmc.dtb\n</code></pre> <p>\u542f\u52a8\u5185\u6838</p> <pre><code>bootz 80800000 - 83000000\n</code></pre> <p></p>"},{"location":"linux%E9%A9%B1%E5%8A%A8/1.ATK-6ull%E7%8E%AF%E5%A2%83%E9%85%8D%E7%BD%AE/7.nfs%E8%AE%BE%E7%BD%AE%E4%BB%A5%E5%8F%8A%E6%8C%82%E8%BD%BDkernel%E4%BB%A5%E5%8F%8Adts/#_1","title":"\u6302\u8f7d\u6839\u6587\u4ef6\u7cfb\u7edf","text":"<p>U-Boot \u4e0b\u7528\u4e8e NFS \u7f51\u7edc\u542f\u52a8\u7684 bootargs \u8bbe\u7f6e\u547d\u4ee4 \uff0c\u8fd9\u4f1a\u5728\u542f\u52a8\u5185\u6838\u7684\u65f6\uff0c\u81ea\u52a8\u8fd0\u884c\u8be5\u547d\u4ee4\u6765\u6302\u8f7d\u6839\u6587\u4ef6\u7cfb\u7edf</p> <pre><code>setenv bootargs console=ttymxc0,115200 root=/dev/nfs nfsroot=192.168.0.38:/home/hdj/nfsroot/rootfs,tcp ip=192.168.0.99:192.168.0.38:192.168.0.1:255.255.255.0::eth0:off\n\nsaveenv\n</code></pre>"},{"location":"linux%E9%A9%B1%E5%8A%A8/1.ATK-6ull%E7%8E%AF%E5%A2%83%E9%85%8D%E7%BD%AE/7.nfs%E8%AE%BE%E7%BD%AE%E4%BB%A5%E5%8F%8A%E6%8C%82%E8%BD%BDkernel%E4%BB%A5%E5%8F%8Adts/#1-setenv-bootargs","title":"1. setenv bootargs ...","text":"<ul> <li>\u4f5c\u7528\uff1a\u8bbe\u7f6e U-Boot \u73af\u5883\u53d8\u91cf <code>bootargs</code>\uff0c\u5176\u5185\u5bb9\u4f1a\u4f20\u9012\u7ed9 Linux \u5185\u6838\u4f5c\u4e3a\u542f\u52a8\u53c2\u6570\uff08cmdline\uff09\u3002</li> </ul>"},{"location":"linux%E9%A9%B1%E5%8A%A8/1.ATK-6ull%E7%8E%AF%E5%A2%83%E9%85%8D%E7%BD%AE/7.nfs%E8%AE%BE%E7%BD%AE%E4%BB%A5%E5%8F%8A%E6%8C%82%E8%BD%BDkernel%E4%BB%A5%E5%8F%8Adts/#2-consolettymxc0115200","title":"2. console=ttymxc0,115200","text":"<ul> <li>console=ttymxc0\uff1a\u6307\u5b9a\u5185\u6838\u542f\u52a8\u65e5\u5fd7\u548c\u4e32\u53e3\u7ec8\u7aef\u4f7f\u7528\u7684\u4e32\u53e3\u8bbe\u5907\u4e3a <code>ttymxc0</code>\uff08i.MX6ULL \u82af\u7247\u7684\u7b2c1\u4e2a\u4e32\u53e3\uff0c\u4e00\u822c\u662f UART1\uff09\u3002</li> <li>115200\uff1a\u4e32\u53e3\u6ce2\u7279\u7387\u4e3a 115200bps\u3002</li> </ul>"},{"location":"linux%E9%A9%B1%E5%8A%A8/1.ATK-6ull%E7%8E%AF%E5%A2%83%E9%85%8D%E7%BD%AE/7.nfs%E8%AE%BE%E7%BD%AE%E4%BB%A5%E5%8F%8A%E6%8C%82%E8%BD%BDkernel%E4%BB%A5%E5%8F%8Adts/#3-rootdevnfs","title":"3. root=/dev/nfs","text":"<ul> <li>\u544a\u8bc9\u5185\u6838\uff0c\u6839\u6587\u4ef6\u7cfb\u7edf\uff08rootfs\uff09\u6302\u8f7d\u65b9\u5f0f\u4e3a NFS\uff0c\u800c\u4e0d\u662f\u672c\u5730\u5b58\u50a8\u8bbe\u5907\uff08\u5982 eMMC/SD/flash\uff09\u3002</li> <li><code>/dev/nfs</code> \u662f Linux \u5185\u6838\u7ea6\u5b9a\u7684\u4f2a\u8bbe\u5907\u540d\uff0c\u8868\u793a\u901a\u8fc7 NFS \u6302\u8f7d\u6839\u6587\u4ef6\u7cfb\u7edf\u3002</li> </ul>"},{"location":"linux%E9%A9%B1%E5%8A%A8/1.ATK-6ull%E7%8E%AF%E5%A2%83%E9%85%8D%E7%BD%AE/7.nfs%E8%AE%BE%E7%BD%AE%E4%BB%A5%E5%8F%8A%E6%8C%82%E8%BD%BDkernel%E4%BB%A5%E5%8F%8Adts/#4-nfsroot192168038homehdjnfsrootrootfstcp","title":"4. nfsroot=192.168.0.38:/home/hdj/nfsroot/rootfs,tcp","text":"<ul> <li>nfsroot=\u670d\u52a1\u5668IP:\u76ee\u5f55\u8def\u5f84,\u53c2\u6570</li> <li><code>192.168.0.38</code>\uff1aNFS \u670d\u52a1\u5668\u7684 IP \u5730\u5740</li> <li><code>/home/hdj/nfsroot/rootfs</code>\uff1aNFS \u670d\u52a1\u5668\u4e0a\u8981\u5bfc\u51fa\u7684\u6839\u6587\u4ef6\u7cfb\u7edf\u76ee\u5f55</li> <li><code>tcp</code>\uff1a\u6307\u5b9a NFS \u4f20\u8f93\u534f\u8bae\u4f7f\u7528 TCP\uff08\u800c\u4e0d\u662f UDP\uff09</li> </ul>"},{"location":"linux%E9%A9%B1%E5%8A%A8/1.ATK-6ull%E7%8E%AF%E5%A2%83%E9%85%8D%E7%BD%AE/7.nfs%E8%AE%BE%E7%BD%AE%E4%BB%A5%E5%8F%8A%E6%8C%82%E8%BD%BDkernel%E4%BB%A5%E5%8F%8Adts/#5-ip192168099192168038192168012552552550eth0off","title":"5. ip=192.168.0.99:192.168.0.38:192.168.0.1:255.255.255.0::eth0:off","text":"<p>\u683c\u5f0f\u4e3a\uff1a <code>ip=&lt;client-ip&gt;:&lt;server-ip&gt;:&lt;gateway-ip&gt;:&lt;netmask&gt;:&lt;hostname&gt;:&lt;device&gt;:&lt;autoconf&gt;</code></p> <ul> <li><code>192.168.0.99</code>\uff1a\u672c\u673a\uff08\u5f00\u53d1\u677f\uff09\u7684 IP \u5730\u5740</li> <li><code>192.168.0.38</code>\uff1aNFS \u670d\u52a1\u5668\u7684 IP \u5730\u5740</li> <li><code>192.168.0.1</code>\uff1a\u7f51\u5173 IP \u5730\u5740</li> <li><code>255.255.255.0</code>\uff1a\u5b50\u7f51\u63a9\u7801</li> <li><code>\uff08\u7a7a\uff09</code>\uff1a\u4e3b\u673a\u540d\uff08hostname\uff09\uff0c\u8fd9\u91cc\u7701\u7565\u4e0d\u7528</li> <li><code>eth0</code>\uff1a\u4f7f\u7528\u7684\u7f51\u7edc\u8bbe\u5907\uff08\u901a\u5e38\u5f00\u53d1\u677f\u7b2c1\u4e2a\u4ee5\u592a\u7f51\u53e3\uff09</li> <li><code>off</code>\uff1aIP \u5730\u5740\u4e0d\u4f1a\u81ea\u52a8\u83b7\u53d6\uff08DHCP \u5173\u95ed\uff09\uff0c\u5b8c\u5168\u7528\u547d\u4ee4\u91cc\u7684\u53c2\u6570</li> </ul>"},{"location":"linux%E9%A9%B1%E5%8A%A8/1.ATK-6ull%E7%8E%AF%E5%A2%83%E9%85%8D%E7%BD%AE/7.nfs%E8%AE%BE%E7%BD%AE%E4%BB%A5%E5%8F%8A%E6%8C%82%E8%BD%BDkernel%E4%BB%A5%E5%8F%8Adts/#_2","title":"\u603b\u7ed3","text":"<p>\u8be5\u547d\u4ee4\u7684\u4f5c\u7528\u662f\uff1a</p> <ul> <li>\u8bbe\u7f6e\u5f00\u53d1\u677f\u901a\u8fc7\u4e32\u53e3 ttymxc0 \u8fdb\u884c\u5185\u6838\u65e5\u5fd7\u8f93\u51fa\u548c\u4ea4\u4e92</li> <li>\u5185\u6838\u542f\u52a8\u65f6\uff0c\u6839\u6587\u4ef6\u7cfb\u7edf\u4e0d\u5728\u672c\u5730\uff0c\u800c\u662f\u4ece 192.168.0.38 \u8fd9\u53f0 PC \u7684 <code>/home/hdj/nfsroot/rootfs</code> \u8def\u5f84\uff0c\u901a\u8fc7 NFS\uff08TCP\u534f\u8bae\uff09\u8fdc\u7a0b\u6302\u8f7d</li> <li>\u6307\u5b9a\u5f00\u53d1\u677f\u7684IP\u3001\u7f51\u5173\u3001\u5b50\u7f51\u7b49\u5168\u90e8\u53c2\u6570\uff0c\u4e0d\u9700\u8981DHCP</li> </ul> <p>\u5728\u6267\u884c\u4e0a\u8ff0\u7684\u4e09\u6761\u547d\u4ee4\u5373\u53ef\u542f\u52a8\u5185\u6838\u5e76\u81ea\u52a8\u6302\u8f7d\u6839\u6587\u4ef6\u7cfb\u7edf</p> <pre><code>nfs 80800000 192.168.0.38:/home/hdj/nfsroot/zImage\nnfs 83000000 192.168.0.38:/home/hdj/nfsroot/imx6ull-alientek-emmc.dtb\nbootz 80800000 - 83000000\n</code></pre> <p></p> <p>\u65e2\u7136\u53ef\u4ee5\u4f7f\u7528\u73af\u5883\u53d8\u91cf\u6765\u81ea\u52a8\u6302\u8f7d\u6587\u4ef6\u7cfb\u7edf\uff0c\u90a3\u4e48\u5e94\u8be5\u4e5f\u53ef\u4ee5\u4f7f\u7528\u73af\u5883\u53d8\u91cf\u6765\u8fd0\u884c\u8fd9\u4e09\u6761\u6307\u4ee4\uff0c\u6211\u80fd\u60f3\u5230\u3002\u522b\u4eba\u65e9\u5c31\u60f3\u5230\u4e86</p> <p>U-Boot\u4e2d\u63d0\u4f9b\u4e86\u4e00\u4e2abootcmd\u547d\u4ee4\uff0c\u5728 U-Boot \u542f\u52a8\u65f6\u4f1a\u81ea\u52a8\u6267\u884c\u7684\u73af\u5883\u53d8\u91cf\u3002U-Boot \u542f\u52a8\u540e\u4f1a\u81ea\u52a8 <code>run bootcmd</code>\u3002</p> <p></p> <pre><code>bootcmd=run findfdt;mmc dev ${mmcdev};mmc dev ${mmcdev}; if mmc rescan; then if run loadbootscript; then run bootscript; else if run loadimage; then run mmcboot; else run netboot; fi; fi; else run netboot; fi\n</code></pre>"},{"location":"linux%E9%A9%B1%E5%8A%A8/1.ATK-6ull%E7%8E%AF%E5%A2%83%E9%85%8D%E7%BD%AE/7.nfs%E8%AE%BE%E7%BD%AE%E4%BB%A5%E5%8F%8A%E6%8C%82%E8%BD%BDkernel%E4%BB%A5%E5%8F%8Adts/#_3","title":"\u5206\u6bb5\u89e3\u91ca\uff1a","text":"<ol> <li>run findfdt</li> <li>\u8fd0\u884c\u4e00\u4e2a\u540d\u4e3a <code>findfdt</code> \u7684\u73af\u5883\u53d8\u91cf\uff08\u901a\u5e38\u662f\u81ea\u52a8\u5224\u65ad\u548c\u8bbe\u7f6e <code>fdtfile</code> \u8bbe\u5907\u6811\u53d8\u91cf\uff0c\u9002\u914d\u4e0d\u540c\u786c\u4ef6\uff09\u3002</li> <li>mmc dev ${mmcdev}; mmc dev ${mmcdev};</li> <li>\u9009\u62e9\u5e76\u5207\u6362\u5230 <code>${mmcdev}</code> \u6307\u5b9a\u7684 mmc \u8bbe\u5907\uff08\u6bd4\u5982 emmc \u6216 sd \u5361\uff09\u3002\u8fd9\u91cc\u8fde\u5199\u4e24\u904d\u662f\u6709\u7684 U-Boot \u5e73\u53f0\u8fd9\u6837\u66f4\u4fdd\u9669\u3002</li> <li>if mmc rescan; then ... else ... fi</li> <li>\u5224\u65ad mmc \u8bbe\u5907\u662f\u5426\u53ef\u4ee5\u88ab\u6b63\u786e\u626b\u63cf\uff08\u5373\u5361/\u82af\u7247\u63d2\u597d\u53ef\u7528\uff09\u3002</li> <li>if run loadbootscript; then run bootscript; else ... fi</li> <li>\u5c1d\u8bd5\u8fd0\u884c\u540d\u4e3a <code>loadbootscript</code> \u7684\u53d8\u91cf\uff08\u6bd4\u5982\u4ece FAT \u5206\u533a\u52a0\u8f7d bootscript \u6587\u4ef6\u5230\u5185\u5b58\uff09\u3002\u5982\u679c\u52a0\u8f7d\u6210\u529f\uff0c\u6267\u884c <code>bootscript</code>\uff08\u901a\u5e38\u662f\u677f\u7ea7\u81ea\u5b9a\u4e49\u7684\u542f\u52a8\u811a\u672c\uff09\u3002</li> <li>else if run loadimage; then run mmcboot; else run netboot; fi; fi</li> <li>\u5982\u679c\u6ca1\u6709 bootscript\uff0c\u5c31\u5c1d\u8bd5\u7528 <code>loadimage</code>\uff08\u901a\u5e38\u6307\u52a0\u8f7d zImage/uImage \u5185\u6838\uff09\uff0c\u5982\u679c\u52a0\u8f7d\u6210\u529f\uff0c\u6267\u884c <code>mmcboot</code>\uff08\u901a\u5e38\u662f\u542f\u52a8\u5185\u6838+dtb+rootfs\uff09\uff0c\u5426\u5219\u5c31\u6267\u884c <code>netboot</code>\uff08\u901a\u5e38\u662f\u8d70 TFTP/NFS \u7f51\u7edc\u542f\u52a8\uff09\u3002</li> <li>else run netboot; fi</li> <li>\u5982\u679c mmc rescan \u5931\u8d25\uff0c\u76f4\u63a5\u8d70\u7f51\u7edc\u542f\u52a8\u3002</li> </ol>"},{"location":"linux%E9%A9%B1%E5%8A%A8/1.ATK-6ull%E7%8E%AF%E5%A2%83%E9%85%8D%E7%BD%AE/7.nfs%E8%AE%BE%E7%BD%AE%E4%BB%A5%E5%8F%8A%E6%8C%82%E8%BD%BDkernel%E4%BB%A5%E5%8F%8Adts/#_4","title":"\u603b\u7ed3\u4e00\u53e5\u8bdd\uff1a","text":"<p>\u4f18\u5148\u4ece\u672c\u5730 mmc \u542f\u52a8\uff0c\u5148\u627e bootscript\uff0c\u5176\u6b21\u627e\u5185\u6838\u955c\u50cf\uff1b\u90fd\u6ca1\u6709\u5c31\u8d70\u7f51\u7edc\u542f\u52a8\u3002</p> <p>\u8bbe\u7f6ebootcmd \u73af\u5883\u53d8\u91cf\uff0c\u8ba9\u542f\u52a8\u65f6\u81ea\u52a8\u4ece\u7f51\u7edc\u542f\u52a8</p> <pre><code>setenv bootcmd 'nfs 80800000 192.168.0.38:/home/hdj/nfsroot/zImage; nfs 83000000 192.168.0.38:/home/hdj/nfsroot/imx6ull-alientek-emmc.dtb; bootz 80800000 - 83000000'\n\nsaveenv\n</code></pre> <p></p> <p>\u5b8c\u5168\u65ad\u7535\uff0c\u518d\u5f00\u673a\uff0cuboot\u542f\u52a8\u540e\uff0c\u5e94\u8be5\u4f1a\u81ea\u52a8\u5c06\u5185\u6838\uff0c\u8bbe\u5907\u6811\uff0c\u4ee5\u53ca\u6839\u6587\u4ef6\u7cfb\u7edf\u6302\u8f7d\u4e0a</p> <p>\u81f3\u6b64\u9a71\u52a8\u5f00\u53d1\u7684\u73af\u5883\u5c31\u5f04\u597d\u4e86\uff0c\u53ef\u4ee5\u975e\u5e38\u65b9\u4fbf\u7684\u66f4\u65b0\u5185\u6838\uff0c\u8bbe\u5907\u6811\uff0c\u6587\u4ef6\u7cfb\u7edf\uff0c\u8fd9\u5c31\u662fuboot\u7684\u4f18\u52bf\uff0c\u6211\u89c9\u5f97uboot\u7684\u6f14\u53d8\u4e5f\u662f\u4e3a\u4e86\u6ee1\u8db3\u5f00\u53d1\u9700\u6c42\uff0c\u4e00\u5f00\u59cb\u5e94\u8be5\u662f\u4e00\u4e2a\u57fa\u7840\u7684\u8df3\u8f6c\uff0c\u53d1\u73b0\u5f00\u53d1\u65f6\u8981\u9891\u7e41\u7684\u4e0b\u8f7d\uff0c\u6162\u6162\u7684\u6f14\u53d8\u6210\u73b0\u5728\u7684uboot</p>"},{"location":"linux%E9%A9%B1%E5%8A%A8/1.ATK-6ull%E7%8E%AF%E5%A2%83%E9%85%8D%E7%BD%AE/8.%E6%80%BB%E7%BB%93/","title":"8.\u603b\u7ed3","text":"<p>\u76ee\u524d\u7684\u73af\u5883\u642d\u5efa\u5728\u4e8e\u5feb\u901f\u7684\u4e0a\u624b\u9a71\u52a8\u548c\u5e94\u7528\u5f00\u53d1\uff0c\u7701\u7565\u4e86uboot\u4e0ekernel\u7684\u5f88\u591a\u77e5\u8bc6\uff0c\u8fd9\u6837\u7684\u597d\u5904\u662f\u53ef\u4ee5\u5feb\u901f\u5b66\u4e60\u9a71\u52a8\u6846\u67b6\uff0cuboot\u4e0ekernel\u5b58\u5728\u5f88\u591a\u77e5\u8bc6\uff0c\u4ece0\u52301\u81ea\u5df1\u79fb\u690duboot\u4e0e\u5185\u6838\u6709\u5f88\u591a\u7684\u95ee\u9898\uff0c\u6253\u51fb\u5b66\u4e60\u7684\u81ea\u4fe1</p> <p>\u603b\u7ed3\u73af\u5883\u642d\u5efa\u603b\u7ed3</p> <ul> <li> <p>\u5728\u5b89\u88c5iso\u7684\u65f6\u5019\uff0c\u7248\u672c\u6700\u597d\u4e0e\u63a8\u8350\u7684\u7248\u672c\u4e00\u81f4\uff0c\u67d0\u4e9b\u7248\u672c\u5e93\u7684\u5e93\u5bfc\u81f4\u7f16\u8bd1\u9519\u8bef\u95ee\u9898\u5f88\u96be\u641e\uff0c\u4f7f\u7528\u63a8\u8350\u7684\u7248\u672c\uff0c\u51e0\u4e4e\u53ea\u9700\u8981\u914d\u7f6e\u4ea4\u53c9\u7f16\u8bd1\u5de5\u5177\u94fe\uff0c\u4e0e\u4e00\u4e9b\u5e93</p> </li> <li> <p>\u4f7f\u7528ubuntu\u7684\u8fc7\u7a0b\u4e2d\uff0c\u6d89\u53ca\u5230windows\u4e0eubuntu\u6587\u4ef6\u7684\u4e0a\u4f20\u4e0e\u4e0b\u8f7d\uff0c\u4f7f\u7528 finshell ssh\u8fde\u63a5\u8f6f\u4ef6 \uff0c\u8fd9\u9700\u8981\u5b89\u88c5openssh-server \u5e76\u5f00\u542froot\u7528\u6237\uff0croot\u7528\u6237\u4e0d\u5f00\u6ca1\u6709\u6587\u4ef6\u64cd\u4f5c\u6743\u9650</p> </li> <li>ftp+RaiDrive  \u8fd9\u4e00\u7ec4\u5408 \u53ef\u4ee5\u5c06ubuntu\u4e0a\u7684\u67d0\u4e00\u4e2a\u6587\u4ef6\u6620\u5c04\u5230windwos\u4e0a\uff0c\u4e0esamba\u670d\u52a1\u4e00\u6837\uff0c\u8fd9\u6837\u505a\u7684\u597d\u5904\u662f\uff0c\u53ef\u4ee5\u901a\u8fc7windows\u7684\u5de5\u5177\u76f4\u63a5\u7f16\u8f91\u6587\u4ef6\uff0c\u4f7f\u7528ftp+RaiDrive\u7ec4\u5408\u7684\u597d\u5904\u662f\u53ef\u4ee5\u975e\u5c40\u57df\u7f51\u64cd\u4f5c</li> <li>\u7f16\u8bd1\u5de5\u5177\u94fe\u6700\u597d\u4e5f\u662f\u4f7f\u7528\u63a8\u8350\u7684</li> <li>uboot\u4e0ekernel\u7f16\u8bd1\u6ce8\u610f\u4e00\u4e9b\u4f9d\u8d56\u5e93\uff0c\u4e0e\u7f16\u8bd1\u65f6\u5e94\u8be5\u8bbe\u7f6e\u7684\u4ea4\u53c9\u7f16\u8bd1\u5de5\u5177\u94fe\uff0c\u7f16\u8bd1\u4e0d\u901a\u8fc7\uff0c\u5e94\u8003\u8651\u6743\u9650\u95ee\u9898</li> <li>\u7531\u4e8e\u5f00\u53d1\u65f6\u4e0d\u53ef\u80fd\u6bcf\u6b21\u66f4\u6539\u4e00\u70b9\u5c31\u91cd\u65b0\u70e7\u5f55\u5185\u6838\uff0c\u8fd9\u4e00\u8fc7\u7a0b\u6d6a\u8d39\u65f6\u95f4\uff0cuboot\u8c03\u901a\u7f51\u7edc\uff0c\u4f7f\u7528\u7f51\u7edc\u6765\u4e0b\u8f7d\uff0c\u4e0e\u6302\u8f7d\u7f51\u7edc\u6587\u4ef6\u7cfb\u7edf\uff0c\u5e94\u8be5\u719f\u6089nfs\u7684\u5b89\u88c5\u4f7f\u7528</li> <li>uboot\u4e2d\u5982\u4f55\u901a\u8fc7nfs\u6765\u4e0b\u8f7d\u5185\u6838\u4e0e\u8bbe\u5907\u6811\uff0c\u5982\u4f55\u6302\u8f7d\u7f51\u7edc\u6587\u4ef6\u7cfb\u7edf\uff0c\u9700\u8981\u4e86\u89e3bootcmd\u547d\u4ee4 \u4e0e setenv bootargs......\u547d\u4ee4,\u719f\u6089\u542f\u52a8\u7684\u6d41\u7a0b</li> </ul>"},{"location":"linux%E9%A9%B1%E5%8A%A8/2.ATK-6ull%E9%A9%B1%E5%8A%A8/1.linux%E9%A9%B1%E5%8A%A8%E5%88%86%E7%B1%BB/","title":"1.linux\u9a71\u52a8\u5206\u7c7b","text":"<p>Linux\u9a71\u52a8\u5206\u7c7b</p> <p>Linux \u9a71\u52a8\u6309\u7167\u4e0d\u540c\u7684\u89d2\u5ea6\u53ef\u4ee5\u6709\u591a\u79cd\u5206\u7c7b\u65b9\u6cd5\u3002\u4e0b\u9762\u5206\u522b\u6309\u7167\u529f\u80fd\u7c7b\u578b\u3001\u603b\u7ebf\u7c7b\u578b\u3001\u5185\u6838\u5c42\u6b21\u7b49\u7ef4\u5ea6\u6765\u8be6\u7ec6\u8bf4\u660e\uff1a</p>"},{"location":"linux%E9%A9%B1%E5%8A%A8/2.ATK-6ull%E9%A9%B1%E5%8A%A8/1.linux%E9%A9%B1%E5%8A%A8%E5%88%86%E7%B1%BB/#_1","title":"\u4e00\u3001\u6309\u529f\u80fd\u7c7b\u578b\u5206\u7c7b","text":"<p>\u8fd9\u662f\u6700\u5e38\u89c1\u7684\u5206\u7c7b\u65b9\u6cd5\uff0c\u4e5f\u5c31\u662f\u6839\u636e\u5916\u8bbe\u6216\u9a71\u52a8\u670d\u52a1\u7684\u5bf9\u8c61\u8fdb\u884c\u5206\u7c7b\uff1a</p> \u5206\u7c7b \u5178\u578b\u8bbe\u5907 \u5e38\u89c1\u9a71\u52a8\u793a\u4f8b \u5b57\u7b26\u8bbe\u5907\u9a71\u52a8 \u4e32\u53e3\u3001I2C\u3001SPI\u3001GPIO\u3001LED\u3001ADC\u7b49 <code>/dev/ttyS0</code>, <code>/dev/led0</code> \u7b49 \u5757\u8bbe\u5907\u9a71\u52a8 \u786c\u76d8\u3001U\u76d8\u3001SD\u5361\u3001eMMC\u7b49 <code>/dev/sda</code>, <code>/dev/mmcblk0</code> \u7b49 \u7f51\u7edc\u8bbe\u5907\u9a71\u52a8 \u7f51\u5361\u3001WIFI\u3001\u84dd\u7259\u30014G\u6a21\u5757\u7b49 eth0, wlan0, ppp0 \u7b49 \u663e\u793a\u8bbe\u5907\u9a71\u52a8 LCD\u3001HDMI\u3001\u5c4f\u5e55\u7b49 <code>/dev/fb0</code> (framebuffer)\u7b49 \u8f93\u5165\u8bbe\u5907\u9a71\u52a8 \u952e\u76d8\u3001\u9f20\u6807\u3001\u89e6\u6478\u5c4f\u3001\u6309\u952e\u3001\u7ea2\u5916\u7b49 event0, input0 \u7b49 \u58f0\u5361\u9a71\u52a8 \u97f3\u9891\u8f93\u5165\u8f93\u51fa\u3001\u9ea6\u514b\u98ce\u3001\u626c\u58f0\u5668\u7b49 ALSA, OSS \u7b49 \u76f8\u673a/\u89c6\u9891\u9a71\u52a8 \u6444\u50cf\u5934\u3001\u89c6\u9891\u91c7\u96c6\u5361 <code>/dev/video0</code> \u5176\u4ed6\u7279\u79cd\u8bbe\u5907 \u7535\u6e90\u7ba1\u7406\u3001\u4f20\u611f\u5668\u3001\u52a0\u901f\u5ea6\u8ba1\u7b49 battery, sensor \u7b49"},{"location":"linux%E9%A9%B1%E5%8A%A8/2.ATK-6ull%E9%A9%B1%E5%8A%A8/1.linux%E9%A9%B1%E5%8A%A8%E5%88%86%E7%B1%BB/#_2","title":"\u4e8c\u3001\u6309\u603b\u7ebf\u7c7b\u578b\u5206\u7c7b","text":"<p>Linux\u5185\u6838\u5f3a\u8c03\u9a71\u52a8\u548c\u603b\u7ebf\u5206\u79bb\uff0c\u6bcf\u79cd\u5916\u8bbe\u901a\u8fc7\u67d0\u79cd\u603b\u7ebf\u8fde\u63a5\u5230\u4e3b\u673a\u3002\u9a71\u52a8\u901a\u5e38\u4e5f\u6309\u603b\u7ebf\u8fdb\u884c\u5206\u7c7b\uff1a</p> <ul> <li>Platform \u9a71\u52a8\uff1a\u677f\u7ea7\u8bbe\u5907\uff0c\u5178\u578b\u4e8e SoC \u5916\u8bbe\uff08\u5982 GPIO, UART, I2C \u63a7\u5236\u5668\u7b49\uff09</li> <li>PCI/PCIe \u9a71\u52a8\uff1aPC \u673a\u4e0a\u7684\u663e\u5361\u3001\u58f0\u5361\u3001\u7f51\u5361\u7b49</li> <li>USB \u9a71\u52a8\uff1aU\u76d8\u3001USB\u9f20\u6807\u3001USB\u6444\u50cf\u5934\u7b49</li> <li>I2C/SPI \u9a71\u52a8\uff1a\u5d4c\u5165\u5f0f\u8bbe\u5907\u4e0a\u7684\u5404\u79cd\u4f20\u611f\u5668\u3001EEPROM\u7b49</li> <li>Virtio \u9a71\u52a8\uff1a\u865a\u62df\u5316\u73af\u5883\u4e0b\u7684\u865a\u62df\u8bbe\u5907</li> <li>\u5176\u4ed6\u4e13\u7528\u603b\u7ebf\uff1a\u5982CAN\u3001LIN\u3001SDIO\u7b49</li> </ul>"},{"location":"linux%E9%A9%B1%E5%8A%A8/2.ATK-6ull%E9%A9%B1%E5%8A%A8/1.linux%E9%A9%B1%E5%8A%A8%E5%88%86%E7%B1%BB/#_3","title":"\u4e09\u3001\u6309\u5185\u6838\u5c42\u6b21\u7ed3\u6784\u5206\u7c7b","text":"<ul> <li>\u5185\u6838\u6001\u9a71\u52a8\uff1a\u8fd0\u884c\u5728\u5185\u6838\u7a7a\u95f4\uff0c\u7edd\u5927\u591a\u6570\u786c\u4ef6\u9a71\u52a8\uff08\u5982platform/usb/\u7f51\u7edc/\u5757\u8bbe\u5907\u7b49\uff09</li> <li>\u7528\u6237\u6001\u9a71\u52a8\uff08\u7528\u6237\u7a7a\u95f4\u9a71\u52a8\uff09\uff1a\u901a\u8fc7\u7279\u5b9a\u673a\u5236\uff08\u5982uio\u3001fuse\u3001libusb\u7b49\uff09\u8ba9\u7528\u6237\u7a7a\u95f4\u76f4\u63a5\u63a7\u5236\u786c\u4ef6</li> </ul>"},{"location":"linux%E9%A9%B1%E5%8A%A8/2.ATK-6ull%E9%A9%B1%E5%8A%A8/1.linux%E9%A9%B1%E5%8A%A8%E5%88%86%E7%B1%BB/#_4","title":"\u56db\u3001\u6309\u5b9e\u73b0\u65b9\u5f0f/\u67b6\u6784\u5206\u7c7b","text":"<ul> <li>\u5355\u4e00\u9a71\u52a8\uff1a\u4f20\u7edf\u65b9\u5f0f\uff0c\u9a71\u52a8\u548c\u8bbe\u5907\u76f4\u63a5\u8026\u5408</li> <li>\u5206\u79bb\u5f0f\u9a71\u52a8\uff08\u9a71\u52a8-\u8bbe\u5907\u6a21\u578b\uff0cDriver/Device\uff09\uff1a\u73b0\u4ee3\u5185\u6838\u63a8\u8350\uff0c\u9a71\u52a8\u548c\u8bbe\u5907\u4fe1\u606f\u5206\u79bb\uff0c\u81ea\u52a8\u5339\u914d\uff08\u5982platform_driver/platform_device\uff09</li> <li>\u603b\u7ebf-\u9a71\u52a8-\u8bbe\u5907\u4e09\u5143\u6a21\u578b\uff1aLinux\u5185\u6838\u4e3b\u6d41\u65b9\u5f0f\uff08bus\u3001driver\u3001device\u4e09\u5927\u7ed3\u6784\u4f53\uff09</li> </ul>"},{"location":"linux%E9%A9%B1%E5%8A%A8/2.ATK-6ull%E9%A9%B1%E5%8A%A8/1.linux%E9%A9%B1%E5%8A%A8%E5%88%86%E7%B1%BB/#vs","title":"\u4e94\u3001\u6309\u529f\u80fd\u5c42\u6b21\uff08\u9ad8\u7ea7 vs \u4f4e\u7ea7\uff09","text":"<ul> <li>\u4f4e\u7ea7\u9a71\u52a8\uff08\u5e95\u5c42\u9a71\u52a8\uff09\uff1a\u76f4\u63a5\u4e0e\u786c\u4ef6\u5bc4\u5b58\u5668\u6253\u4ea4\u9053</li> <li>\u4e2d\u95f4\u5c42\u9a71\u52a8\uff1a\u4e3a\u4e0a\u5c42\u63d0\u4f9b\u62bd\u8c61\u63a5\u53e3\uff08\u5982VFS\u3001ALSA\u4e2d\u95f4\u4ef6\u7b49\uff09</li> <li>\u9ad8\u7ea7\u9a71\u52a8\uff1a\u76f4\u63a5\u670d\u52a1\u4e8e\u5e94\u7528\u5c42\uff08\u5982\u67d0\u4e9b\u5b57\u7b26\u8bbe\u5907\u3001FUSE\u6587\u4ef6\u7cfb\u7edf\uff09</li> </ul>"},{"location":"linux%E9%A9%B1%E5%8A%A8/2.ATK-6ull%E9%A9%B1%E5%8A%A8/1.linux%E9%A9%B1%E5%8A%A8%E5%88%86%E7%B1%BB/#_5","title":"\u603b\u7ed3","text":"<p>\u5e38\u89c1\u5206\u7c7b\u65b9\u5f0f\uff1a</p> <ol> <li>\u5b57\u7b26\u8bbe\u5907\u9a71\u52a8</li> <li>\u5757\u8bbe\u5907\u9a71\u52a8</li> <li>\u7f51\u7edc\u8bbe\u5907\u9a71\u52a8</li> <li>\u5e73\u53f0/\u603b\u7ebf\u9a71\u52a8\uff08platform/pci/usb/i2c/spi\u7b49\uff09</li> </ol> <p>\u5b9e\u9645\u5f00\u53d1\u4e2d\u5e38\u7528\u7684\u901a\u7528\u6a21\u578b\u662f\uff1a</p> <ul> <li>\u603b\u7ebf\uff08bus\uff09- \u8bbe\u5907\uff08device\uff09- \u9a71\u52a8\uff08driver\uff09\u4e09\u5143\u7ec4\u6a21\u578b\uff08bus_type, device, driver \u7ed3\u6784\u4f53\uff09</li> </ul>"},{"location":"linux%E9%A9%B1%E5%8A%A8/2.ATK-6ull%E9%A9%B1%E5%8A%A8/2.%E7%94%A8%E6%88%B7%E7%A9%BA%E9%97%B4%E4%B8%8E%E5%86%85%E6%A0%B8%E7%A9%BA%E9%97%B4%E7%9A%84%E6%A6%82%E5%BF%B5/","title":"2.\u7528\u6237\u7a7a\u95f4\u4e0e\u5185\u6838\u7a7a\u95f4\u7684\u6982\u5ff5","text":"<p>\u7528\u6237\u7a7a\u95f4\u4e0e\u5185\u6838\u7a7a\u95f4\u6982\u5ff5</p>"},{"location":"linux%E9%A9%B1%E5%8A%A8/2.ATK-6ull%E9%A9%B1%E5%8A%A8/2.%E7%94%A8%E6%88%B7%E7%A9%BA%E9%97%B4%E4%B8%8E%E5%86%85%E6%A0%B8%E7%A9%BA%E9%97%B4%E7%9A%84%E6%A6%82%E5%BF%B5/#1-user-space","title":"1. \u4ec0\u4e48\u662f\u7528\u6237\u7a7a\u95f4\uff08User Space\uff09\uff1f","text":"<ul> <li>\u7528\u6237\u7a7a\u95f4\u662f\u666e\u901a\u5e94\u7528\u7a0b\u5e8f\uff08\u6bd4\u5982\u5fae\u4fe1\u3001QQ\u3001\u6d4f\u89c8\u5668\u3001\u4f60\u5199\u7684C\u4ee3\u7801\u7b49\uff09\u8fd0\u884c\u7684\u533a\u57df\u3002</li> <li>\u8fd9\u91cc\u7684\u7a0b\u5e8f\u6ca1\u6709\u76f4\u63a5\u64cd\u4f5c\u786c\u4ef6\u548c\u5185\u6838\u8d44\u6e90\u7684\u6743\u9650\uff0c\u53ea\u80fd\u901a\u8fc7\u201c\u7cfb\u7edf\u8c03\u7528\u201d\uff08\u6bd4\u5982<code>read</code>\u3001<code>write</code>\u3001<code>open</code>\u7b49\uff09\u5411\u5185\u6838\u8bf7\u6c42\u670d\u52a1\u3002</li> <li>\u6bcf\u4e2a\u8fdb\u7a0b\u6709\u81ea\u5df1\u7684\u72ec\u7acb\u7528\u6237\u7a7a\u95f4\uff0c\u4e92\u76f8\u9694\u79bb\uff0c\u4e92\u4e0d\u5f71\u54cd\uff0c\u8fd9\u6837\u53ef\u4ee5\u9632\u6b62\u7a0b\u5e8f\u4e4b\u95f4\u76f8\u4e92\u7834\u574f\uff0c\u63d0\u9ad8\u7cfb\u7edf\u5b89\u5168\u6027\u548c\u7a33\u5b9a\u6027\u3002</li> </ul>"},{"location":"linux%E9%A9%B1%E5%8A%A8/2.ATK-6ull%E9%A9%B1%E5%8A%A8/2.%E7%94%A8%E6%88%B7%E7%A9%BA%E9%97%B4%E4%B8%8E%E5%86%85%E6%A0%B8%E7%A9%BA%E9%97%B4%E7%9A%84%E6%A6%82%E5%BF%B5/#2-kernel-space","title":"2. \u4ec0\u4e48\u662f\u5185\u6838\u7a7a\u95f4\uff08Kernel Space\uff09\uff1f","text":"<ul> <li>\u5185\u6838\u7a7a\u95f4\u662f\u64cd\u4f5c\u7cfb\u7edf\u5185\u6838\u81ea\u5df1\u8fd0\u884c\u7684\u533a\u57df\u3002</li> <li>\u8fd9\u91cc\u6709\u6700\u9ad8\u7684\u6743\u9650\uff0c\u53ef\u4ee5\u8bbf\u95ee\u548c\u63a7\u5236\u6240\u6709\u786c\u4ef6\uff08\u6bd4\u5982\u5185\u5b58\u3001CPU\u3001\u5916\u8bbe\uff09\uff0c\u4e5f\u7ba1\u7406\u6240\u6709\u8fdb\u7a0b\u7684\u8d44\u6e90\u3002</li> <li>\u5185\u6838\u7a7a\u95f4\u8fd0\u884c\u7684\u4ee3\u7801\u4e3b\u8981\u5305\u62ec\uff1aLinux\u5185\u6838\u672c\u8eab\u3001\u9a71\u52a8\u7a0b\u5e8f\u3001\u6587\u4ef6\u7cfb\u7edf\u3001\u7f51\u7edc\u534f\u8bae\u6808\u7b49\u3002</li> </ul>"},{"location":"linux%E9%A9%B1%E5%8A%A8/2.ATK-6ull%E9%A9%B1%E5%8A%A8/2.%E7%94%A8%E6%88%B7%E7%A9%BA%E9%97%B4%E4%B8%8E%E5%86%85%E6%A0%B8%E7%A9%BA%E9%97%B4%E7%9A%84%E6%A6%82%E5%BF%B5/#3","title":"3. \u4e3a\u4ec0\u4e48\u8981\u533a\u5206\u7528\u6237\u7a7a\u95f4\u548c\u5185\u6838\u7a7a\u95f4\uff1f","text":"<ul> <li>\u5b89\u5168\uff1a\u7528\u6237\u7a7a\u95f4\u7684\u7a0b\u5e8f\u4e0d\u80fd\u968f\u4fbf\u4fee\u6539\u7cfb\u7edf\u548c\u5176\u4ed6\u7a0b\u5e8f\u7684\u6570\u636e\uff0c\u907f\u514d\u4e00\u4e2a\u7a0b\u5e8f\u5d29\u6e83\u5bfc\u81f4\u6574\u4e2a\u7cfb\u7edf\u762b\u75ea\u3002</li> <li>\u7a33\u5b9a\uff1a\u5373\u4f7f\u5e94\u7528\u7a0b\u5e8f\u5d29\u6e83\uff0c\u5185\u6838\u7a7a\u95f4\u8fd8\u80fd\u7ee7\u7eed\u8fd0\u884c\uff0c\u4e0d\u5f71\u54cd\u7cfb\u7edf\u6574\u4f53\u3002</li> <li>\u591a\u4efb\u52a1\u548c\u8d44\u6e90\u9694\u79bb\uff1a\u6bcf\u4e2a\u8fdb\u7a0b\u4e92\u76f8\u9694\u79bb\uff0c\u4e92\u4e0d\u5e72\u6270\u3002</li> </ul>"},{"location":"linux%E9%A9%B1%E5%8A%A8/2.ATK-6ull%E9%A9%B1%E5%8A%A8/2.%E7%94%A8%E6%88%B7%E7%A9%BA%E9%97%B4%E4%B8%8E%E5%86%85%E6%A0%B8%E7%A9%BA%E9%97%B4%E7%9A%84%E6%A6%82%E5%BF%B5/#4","title":"4. \u4e8c\u8005\u7684\u5173\u7cfb\u548c\u4ea4\u4e92","text":"<ul> <li>\u5e94\u7528\u7a0b\u5e8f\u8981\u8bbf\u95ee\u786c\u4ef6\uff08\u6bd4\u5982\u8bfb\u5199\u6587\u4ef6\u3001\u8bbf\u95ee\u7f51\u7edc\u3001\u64cd\u4f5c\u5916\u8bbe\uff09\uff0c\u5fc5\u987b\u901a\u8fc7\u7cfb\u7edf\u8c03\u7528\uff08system call\uff09\u5207\u6362\u5230\u5185\u6838\u7a7a\u95f4\uff0c\u7531\u5185\u6838\u5e2e\u5fd9\u5b8c\u6210\u3002</li> <li>\u8fd9\u79cd\u5207\u6362\u53eb\u505a\u7528\u6237\u6001\uff08user mode\uff09\u5230\u5185\u6838\u6001\uff08kernel mode\uff09\u7684\u5207\u6362\uff0c\u5b8c\u6210\u540e\u4f1a\u518d\u5207\u56de\u7528\u6237\u7a7a\u95f4\u3002</li> </ul>"},{"location":"linux%E9%A9%B1%E5%8A%A8/2.ATK-6ull%E9%A9%B1%E5%8A%A8/2.%E7%94%A8%E6%88%B7%E7%A9%BA%E9%97%B4%E4%B8%8E%E5%86%85%E6%A0%B8%E7%A9%BA%E9%97%B4%E7%9A%84%E6%A6%82%E5%BF%B5/#5","title":"5. \u4e3e\u4f8b","text":"<ul> <li>\u4f60\u6253\u5f00\u5fae\u4fe1\uff08\u7528\u6237\u7a7a\u95f4\uff09\uff0c\u60f3\u53d1\u56fe\u7247\uff0c\u8fd9\u65f6\u5fae\u4fe1\u9700\u8981\u901a\u8fc7\u7cfb\u7edf\u8c03\u7528\u8ba9\u5185\u6838\u5e2e\u4f60\u8bbf\u95ee\u786c\u76d8\u6587\u4ef6\uff08\u5207\u6362\u5230\u5185\u6838\u7a7a\u95f4\uff0c\u8bfb\u6570\u636e\uff09\uff0c\u7136\u540e\u518d\u56de\u5230\u7528\u6237\u7a7a\u95f4\u628a\u56fe\u7247\u53d1\u51fa\u53bb\u3002</li> </ul>"},{"location":"linux%E9%A9%B1%E5%8A%A8/2.ATK-6ull%E9%A9%B1%E5%8A%A8/2.%E7%94%A8%E6%88%B7%E7%A9%BA%E9%97%B4%E4%B8%8E%E5%86%85%E6%A0%B8%E7%A9%BA%E9%97%B4%E7%9A%84%E6%A6%82%E5%BF%B5/#_1","title":"\u603b\u7ed3\u4e00\u53e5\u8bdd","text":"<p>\u7528\u6237\u7a7a\u95f4\u662f\u666e\u901a\u7a0b\u5e8f\u5458\u548c\u5e94\u7528\u8fd0\u884c\u7684\u5730\u65b9\uff0c\u5185\u6838\u7a7a\u95f4\u662f\u64cd\u4f5c\u7cfb\u7edf\u5185\u6838\u548c\u9a71\u52a8\u8fd0\u884c\u7684\u5730\u65b9\u3002\u4e24\u8005\u9694\u79bb\uff0c\u53ea\u6709\u901a\u8fc7\u7cfb\u7edf\u8c03\u7528\u624d\u80fd\u4e92\u76f8\u6c9f\u901a\u3002</p>"},{"location":"linux%E9%A9%B1%E5%8A%A8/2.ATK-6ull%E9%A9%B1%E5%8A%A8/3.%E7%94%A8%E6%88%B7%E7%A9%BA%E9%97%B4%E4%B8%8E%E5%86%85%E6%A0%B8%E7%A9%BA%E9%97%B4%E7%9A%84%E5%9C%B0%E5%9D%80%E5%88%86%E9%85%8D/","title":"3.\u7528\u6237\u7a7a\u95f4\u4e0e\u5185\u6838\u7a7a\u95f4\u7684\u5730\u5740\u5206\u914d","text":""},{"location":"linux%E9%A9%B1%E5%8A%A8/2.ATK-6ull%E9%A9%B1%E5%8A%A8/3.%E7%94%A8%E6%88%B7%E7%A9%BA%E9%97%B4%E4%B8%8E%E5%86%85%E6%A0%B8%E7%A9%BA%E9%97%B4%E7%9A%84%E5%9C%B0%E5%9D%80%E5%88%86%E9%85%8D/#_1","title":"\u4e00\u3001\u57fa\u7840\u7406\u89e3","text":"<p>\u73b0\u4ee3\u64cd\u4f5c\u7cfb\u7edf\uff08\u5305\u62ecLinux\uff09\u91c7\u7528\u865a\u62df\u5185\u5b58\u7ba1\u7406\uff0c\u4e3a\u6bcf\u4e2a\u8fdb\u7a0b\u5206\u914d\u72ec\u7acb\u7684\u865a\u62df\u5730\u5740\u7a7a\u95f4\u3002\u865a\u62df\u5730\u5740\u7a7a\u95f4\u4e00\u822c\u5206\u4e3a\u4e24\u90e8\u5206\uff1a</p> <ul> <li>\u7528\u6237\u7a7a\u95f4\uff08User Space\uff09\uff1a\u8fdb\u7a0b\u53ef\u4ee5\u8bbf\u95ee\u7684\u533a\u57df\u3002</li> <li>\u5185\u6838\u7a7a\u95f4\uff08Kernel Space\uff09\uff1a\u53ea\u6709\u64cd\u4f5c\u7cfb\u7edf\u5185\u6838\u80fd\u8bbf\u95ee\uff0c\u7528\u6237\u7a0b\u5e8f\u4e0d\u80fd\u76f4\u63a5\u8bbf\u95ee\u3002</li> </ul>"},{"location":"linux%E9%A9%B1%E5%8A%A8/2.ATK-6ull%E9%A9%B1%E5%8A%A8/3.%E7%94%A8%E6%88%B7%E7%A9%BA%E9%97%B4%E4%B8%8E%E5%86%85%E6%A0%B8%E7%A9%BA%E9%97%B4%E7%9A%84%E5%9C%B0%E5%9D%80%E5%88%86%E9%85%8D/#32linux","title":"\u4e8c\u300132\u4f4dLinux\u4e0b\u7684\u5178\u578b\u5730\u5740\u5206\u914d","text":"<p>\u5728\u4f20\u7edf\u768432\u4f4dLinux\uff08\u5982x86\uff09\u7cfb\u7edf\u4e2d\uff0c\u865a\u62df\u5730\u5740\u7a7a\u95f4\u4e3a4GB\uff080x00000000 ~ 0xFFFFFFFF\uff09\uff1a</p> \u533a\u57df \u5730\u5740\u8303\u56f4 \u8bf4\u660e \u7528\u6237\u7a7a\u95f4 0x00000000 ~ 0xBFFFFFFF 3GB\uff08\u5927\u90e8\u5206\u5e94\u7528\u7a0b\u5e8f\u53ef\u7528\uff09 \u5185\u6838\u7a7a\u95f4 0xC0000000 ~ 0xFFFFFFFF 1GB\uff08\u64cd\u4f5c\u7cfb\u7edf\u5185\u6838\u53ca\u5176\u6a21\u5757\u3001\u9a71\u52a8\u7b49\u4f7f\u7528\uff09 <ul> <li>\u8fd9\u6837\u8bbe\u8ba1\u7684\u597d\u5904\u662f\uff1a\u7528\u6237\u7a7a\u95f4\u548c\u5185\u6838\u7a7a\u95f4\u5b8c\u5168\u9694\u79bb\uff0c\u7528\u6237\u7a0b\u5e8f\u4e0d\u80fd\u968f\u4fbf\u8bbf\u95ee\u5185\u6838\u5730\u5740\uff0c\u63d0\u5347\u4e86\u5b89\u5168\u6027\u3002</li> <li>\u5f53\u7528\u6237\u7a0b\u5e8f\u901a\u8fc7\u7cfb\u7edf\u8c03\u7528\u8fdb\u5165\u5185\u6838\u6001\u65f6\uff0c\u5185\u6838\u4f1a\u64cd\u4f5c\u81ea\u5df1\u7684\u7a7a\u95f4\uff0c\u800c\u4e0d\u662f\u7528\u6237\u7684\u7a7a\u95f4\u3002</li> </ul> <p>\u6ce8\u610f\uff1a\u5185\u6838\u7a7a\u95f4\u5730\u5740\u5728\u6bcf\u4e2a\u8fdb\u7a0b\u7684\u865a\u62df\u7a7a\u95f4\u90fd\u53ef\u89c1\uff0c\u4f46\u666e\u901a\u5e94\u7528\u4e0d\u80fd\u8bbf\u95ee\uff0c\u8bd5\u56fe\u8bbf\u95ee\u4f1a\u5bfc\u81f4\u201c\u6bb5\u9519\u8bef\u201d\uff08segfault\uff09\u3002</p>"},{"location":"linux%E9%A9%B1%E5%8A%A8/2.ATK-6ull%E9%A9%B1%E5%8A%A8/3.%E7%94%A8%E6%88%B7%E7%A9%BA%E9%97%B4%E4%B8%8E%E5%86%85%E6%A0%B8%E7%A9%BA%E9%97%B4%E7%9A%84%E5%9C%B0%E5%9D%80%E5%88%86%E9%85%8D/#64linux","title":"\u4e09\u300164\u4f4dLinux\u4e0b\u7684\u5730\u5740\u5206\u914d","text":"<ul> <li>64\u4f4d\u7cfb\u7edf\u865a\u62df\u5730\u5740\u975e\u5e38\u5927\uff08\u7406\u60f3\u503c\u53ef\u8fbe16EB\uff09\uff0c\u5b9e\u9645\u53ea\u7528\u5230\u4e00\u90e8\u5206\u3002</li> <li>\u7528\u6237\u7a7a\u95f4\u548c\u5185\u6838\u7a7a\u95f4\u7684\u5206\u754c\u7ebf\u5e38\u5e38\u5728\u9ad8\u5730\u5740\uff08\u5982x86_64\u76840x00007FFFFFFFFFFF\u662f\u7528\u6237\u7a7a\u95f4\u6700\u5927\u5730\u5740\uff09\u3002</li> <li>\u4f8b\u5982\uff08x86_64\uff0c\u5e38\u89c1\u60c5\u51b5\uff09\uff1a</li> <li>\u7528\u6237\u7a7a\u95f4\uff1a<code>0x0000000000000000</code> ~ <code>0x00007FFFFFFFFFFF</code> \uff08128TB\uff09</li> <li>\u5185\u6838\u7a7a\u95f4\uff1a<code>0xFFFF800000000000</code> ~ <code>0xFFFFFFFFFFFFFFFF</code> \u7b49\uff08\u5177\u4f53\u53d6\u51b3\u4e8e\u5185\u6838\u914d\u7f6e\uff09</li> <li>\u7528\u6237\u7a7a\u95f4\u8fdc\u5927\u4e8e32\u4f4d\uff0c\u5e76\u4e14\u4ecd\u7136\u4e25\u683c\u9694\u79bb\u3002</li> </ul>"},{"location":"linux%E9%A9%B1%E5%8A%A8/2.ATK-6ull%E9%A9%B1%E5%8A%A8/3.%E7%94%A8%E6%88%B7%E7%A9%BA%E9%97%B4%E4%B8%8E%E5%86%85%E6%A0%B8%E7%A9%BA%E9%97%B4%E7%9A%84%E5%9C%B0%E5%9D%80%E5%88%86%E9%85%8D/#_2","title":"\u56db\u3001\u5e38\u89c1\u7684\u51e0\u79cd\u5730\u5740\u7a7a\u95f4\u5206\u5e03\u56fe","text":""},{"location":"linux%E9%A9%B1%E5%8A%A8/2.ATK-6ull%E9%A9%B1%E5%8A%A8/3.%E7%94%A8%E6%88%B7%E7%A9%BA%E9%97%B4%E4%B8%8E%E5%86%85%E6%A0%B8%E7%A9%BA%E9%97%B4%E7%9A%84%E5%9C%B0%E5%9D%80%E5%88%86%E9%85%8D/#32-linux","title":"32\u4f4d Linux","text":"<pre><code>| 0xFFFFFFFF   |---------------------------|\n|              |      \u5185\u6838\u7a7a\u95f4\uff081GB\uff09       |\n| 0xC0000000   |---------------------------|\n|              |      \u7528\u6237\u7a7a\u95f4\uff083GB\uff09       |\n| 0x00000000   |---------------------------|\n</code></pre>"},{"location":"linux%E9%A9%B1%E5%8A%A8/2.ATK-6ull%E9%A9%B1%E5%8A%A8/3.%E7%94%A8%E6%88%B7%E7%A9%BA%E9%97%B4%E4%B8%8E%E5%86%85%E6%A0%B8%E7%A9%BA%E9%97%B4%E7%9A%84%E5%9C%B0%E5%9D%80%E5%88%86%E9%85%8D/#64-linux","title":"64\u4f4d Linux","text":"<pre><code>| 0xFFFFFFFFFFFFFFFF |----------------------|\n|                    |      \u5185\u6838\u7a7a\u95f4        |\n| 0x00007FFFFFFFFFFF |----------------------|\n|                    |      \u7528\u6237\u7a7a\u95f4        |\n| 0x0000000000000000 |----------------------|\n</code></pre> <ul> <li>\u5b9e\u9645\u5185\u6838\u548c\u7528\u6237\u7a7a\u95f4\u7684\u5206\u5272\u70b9\u53ef\u4ee5\u901a\u8fc7\u5185\u6838\u914d\u7f6e\u53c2\u6570\u66f4\u6539\u3002</li> </ul>"},{"location":"linux%E9%A9%B1%E5%8A%A8/2.ATK-6ull%E9%A9%B1%E5%8A%A8/3.%E7%94%A8%E6%88%B7%E7%A9%BA%E9%97%B4%E4%B8%8E%E5%86%85%E6%A0%B8%E7%A9%BA%E9%97%B4%E7%9A%84%E5%9C%B0%E5%9D%80%E5%88%86%E9%85%8D/#_3","title":"\u4e94\u3001\u7279\u6b8a\u60c5\u51b5\u8bf4\u660e","text":"<ul> <li>\u6709\u7684\u670d\u52a1\u5668\u4e3a\u4e86\u6027\u80fd\u6216\u517c\u5bb9\uff0c\u4f1a\u505a\u4e0d\u540c\u7684\u5206\u914d\uff08\u6bd4\u59822G/2G\u5206\u5272\uff09\u3002</li> <li>ARM\u3001MIPS\u7b49\u5d4c\u5165\u5f0f\u67b6\u6784\u4e0b\u7684\u5206\u914d\u65b9\u5f0f\u4e5f\u53ef\u80fd\u4e0d\u540c\uff0c\u4f46\u539f\u7406\u4e00\u6837\uff0c\u90fd\u662f\u7a7a\u95f4\u9694\u79bb\u3002</li> </ul>"},{"location":"linux%E9%A9%B1%E5%8A%A8/2.ATK-6ull%E9%A9%B1%E5%8A%A8/3.%E7%94%A8%E6%88%B7%E7%A9%BA%E9%97%B4%E4%B8%8E%E5%86%85%E6%A0%B8%E7%A9%BA%E9%97%B4%E7%9A%84%E5%9C%B0%E5%9D%80%E5%88%86%E9%85%8D/#_4","title":"\u516d\u3001\u7269\u7406\u5185\u5b58\u4e0e\u865a\u62df\u5185\u5b58","text":"<ul> <li>\u4e0a\u8ff0\u6240\u6709\u5730\u5740\u90fd\u662f\u865a\u62df\u5730\u5740\u3002</li> <li>\u5185\u6838\u6709\u6743\u9650\u5c06\u865a\u62df\u5730\u5740\u6620\u5c04\u5230\u7269\u7406\u5730\u5740\uff1b\u7528\u6237\u7a7a\u95f4\u7684\u6620\u5c04\u53ea\u5728\u672c\u8fdb\u7a0b\u6709\u6548\u3002</li> </ul>"},{"location":"linux%E9%A9%B1%E5%8A%A8/2.ATK-6ull%E9%A9%B1%E5%8A%A8/3.%E7%94%A8%E6%88%B7%E7%A9%BA%E9%97%B4%E4%B8%8E%E5%86%85%E6%A0%B8%E7%A9%BA%E9%97%B4%E7%9A%84%E5%9C%B0%E5%9D%80%E5%88%86%E9%85%8D/#_5","title":"\u4e03\u3001\u603b\u7ed3\u4e00\u53e5\u8bdd","text":"<p>\u7528\u6237\u7a7a\u95f4\u548c\u5185\u6838\u7a7a\u95f4\u5206\u522b\u5360\u7528\u865a\u62df\u5185\u5b58\u7684\u4e0d\u540c\u533a\u57df\uff0c\u901a\u8fc7\u4e25\u683c\u7684\u5730\u5740\u9694\u79bb\u4fdd\u969c\u7cfb\u7edf\u5b89\u5168\u548c\u7a33\u5b9a\u3002\u5e38\u89c132\u4f4d\u7cfb\u7edf3G/1G\u5206\u5272\uff0c64\u4f4d\u7cfb\u7edf\u7528\u6237\u7a7a\u95f4\u6781\u5927\u3002</p>"},{"location":"linux%E9%A9%B1%E5%8A%A8/2.ATK-6ull%E9%A9%B1%E5%8A%A8/4.%E7%AC%AC%E4%B8%80%E4%B8%AA%E5%AD%97%E7%AC%A6%E9%A9%B1%E5%8A%A8/","title":"\u7b2c\u4e00\u4e2a\u5b57\u7b26\u9a71\u52a8","text":""},{"location":"linux%E9%A9%B1%E5%8A%A8/2.ATK-6ull%E9%A9%B1%E5%8A%A8/4.%E7%AC%AC%E4%B8%80%E4%B8%AA%E5%AD%97%E7%AC%A6%E9%A9%B1%E5%8A%A8/#_1","title":"\u7b2c\u4e00\u4e2a\u5b57\u7b26\u9a71\u52a8","text":"<ul> <li>\u5b57\u7b26\u9a71\u52a8\u7684\u7f16\u5199</li> <li>\u5b57\u7b26\u9a71\u52a8\u7684\u52a0\u8f7d\u65b9\u5f0f</li> <li>\u5e94\u7528\u7a0b\u5e8f\u7f16\u5199</li> </ul>"},{"location":"lvgl/1.%E5%BF%AB%E9%80%9F%E7%A7%BB%E6%A4%8Dlvgl/","title":"keil\u5feb\u901f\u79fb\u690dLVGL","text":""},{"location":"lvgl/1.%E5%BF%AB%E9%80%9F%E7%A7%BB%E6%A4%8Dlvgl/#keillvgl","title":"keil\u5feb\u901f\u79fb\u690dLVGL","text":"<p>https://github.com/newbie-jiang/lvgl9.2_keil</p>"},{"location":"lvgl/1.%E5%BF%AB%E9%80%9F%E7%A7%BB%E6%A4%8Dlvgl/#1","title":"1.\u4e86\u89e3\u5982\u4f55\u5b9e\u73b0","text":"<p>keil\u4e2d\u4f20\u7edf\u79fb\u690dlvgl\u7684\u65b9\u5f0f\u4e3a  </p> <ul> <li>\u5728\u5de5\u7a0b\u4e2d\u521b\u5efa\u6587\u4ef6\u5939</li> <li>\u4f9d\u6b21\u6dfb\u52a0\u6587\u4ef6</li> <li>\u5305\u542b\u5934\u6587\u4ef6</li> </ul> <p></p> <p>\u4ee5\u4e0a\u7684\u8fd9\u4e9b\u6b65\u9aa4\u6267\u884c\u7684\u7ed3\u679c\u5b9e\u9645\u4e0a\u90fd\u4fdd\u5b58\u5728\u5de5\u7a0b\u6587\u4ef6\u4e2d\uff0c\u9075\u5faaXML\u8bed\u6cd5</p> <p></p> <ul> <li>\u5728\u5de5\u7a0b\u4e2d\u521b\u5efa\u6587\u4ef6\u5939\u4e0e\u6dfb\u52a0\u6587\u4ef6 \u6b65\u9aa4\u5b9e\u73b0\u5982\u4e0b</li> </ul> <p></p> <ul> <li>\u5728\u5de5\u7a0b\u4e2d\u5305\u542b\u5934\u6587\u4ef6\u8def\u5f84\u5b9e\u73b0\u5982\u4e0b</li> </ul> <p></p> <p>\u4e0a\u8ff0\u7684\u8fd9\u4e9b\u8bed\u6cd5\u5f88\u6709\u89c4\u5f8b\uff0c\u770b\u7740\u5e76\u4e0d\u96be\uff0c</p>"},{"location":"lvgl/1.%E5%BF%AB%E9%80%9F%E7%A7%BB%E6%A4%8Dlvgl/#2xml","title":"2.\u76f4\u63a5\u4f7f\u7528\u914d\u7f6e\u597d\u7684xml\u8bed\u6cd5","text":"<ul> <li>\u5feb\u901f\u79fb\u690d\u662f\u76f4\u63a5\u4f7f\u7528\u5df2\u7ecf\u79fb\u690d\u597d\u5de5\u7a0b\u4e2d\u7684lvgl\u90e8\u5206xml\u4ee3\u7801</li> </ul> <p>\u524d\u63d0\u6761\u4ef6\uff1a</p> <ul> <li>demo\u5de5\u7a0b\uff08keil\u5de5\u7a0b\uff09\u4e2d\u9996\u5148\u6d4b\u8bd5\u81ea\u5df1\u7684\u5c4f\u5e55\u53ef\u4ee5\u6b63\u5e38\u663e\u793a\uff0c\u5e76\u4e14\u989c\u8272\u6b63\u5e38\uff0c</li> <li>\u4e0b\u8f7d\u88c1\u526a\u597d\u7684\u6e90\u7801\u4ee5\u53caxml\u6587\u4ef6</li> </ul>"},{"location":"lvgl/1.%E5%BF%AB%E9%80%9F%E7%A7%BB%E6%A4%8Dlvgl/#1lvgl-uvprojx","title":"\u79fb\u690d\u6b65\u9aa41\uff1a\u5c06lvgl\u653e\u5728 *.uvprojx\u7684\u4e0a\u4e00\u5c42\u76ee\u5f55","text":"<p>lvgl\u6587\u4ef6\u91cc\u9762\u662f\u88c1\u526a\u597d\u7684\u6e90\u7801</p> <p>\u6bd4\u5982\uff1a</p> <p></p> <p></p>"},{"location":"lvgl/1.%E5%BF%AB%E9%80%9F%E7%A7%BB%E6%A4%8Dlvgl/#2lvglxml","title":"\u79fb\u690d\u6b65\u9aa42\uff1a\u6dfb\u52a0\u5230lvgl\u6587\u4ef6\u5939\u4e0e\u6587\u4ef6\u90e8\u5206xml\u5230\u5de5\u7a0b\u4e2d","text":"<p>\u5c06\u6587\u4ef6\u5939\u4e0e\u6587\u4ef6\u7684\u4ee3\u7801\u653e\u5728\u7ed3\u5c3e\u5904   \u4e0a\u65b9\uff08\u641c\u7d22\u4e00\u4e0b\u5c31\u51fa\u6765\u4e86\uff09</p> <p></p> <p>\u6267\u884c\u5b8c\u8fd9\u4e2a\u6b65\u9aa4keil\u5de5\u7a0b\u4e2d\u7684\u6587\u4ef6\u4e0e\u6587\u4ef6\u5939\u5c31\u51fa\u6765\u4e86</p>"},{"location":"lvgl/1.%E5%BF%AB%E9%80%9F%E7%A7%BB%E6%A4%8Dlvgl/#2lvglxml_1","title":"\u79fb\u690d\u6b65\u9aa42\uff1a\u5c06lvgl\u7684\u5934\u6587\u4ef6\u6dfb\u52a0\u5230xml\u5de5\u7a0b\u4e2d","text":"<p>\u641c\u7d22\u4e00\u4e0b \u6dfb\u52a0\u5230\u540e\u9762\u5c31\u53ef\u4ee5\u4e86</p> <p></p> <p>\u7f16\u8bd1\u65e0\u62a5\u9519\u5b9e\u73b0\u5bf9\u5e94\u7684\u63a5\u53e3\u5c31\u53ef\u4ee5\u4e86</p>"},{"location":"lvgl/2.LVGL%E5%BC%80%E5%8F%91%E5%B7%A5%E5%85%B7/","title":"LVGL\u5f00\u53d1\u5de5\u5177SquareLine Studio","text":""},{"location":"lvgl/2.LVGL%E5%BC%80%E5%8F%91%E5%B7%A5%E5%85%B7/#lvglsquareline-studio","title":"LVGL\u5f00\u53d1\u5de5\u5177SquareLine Studio","text":"<p>\u4e0b\u8f7d\u5730\u5740\uff1ahttps://squareline.io/downloads</p> <p>\u4e0b\u8f7d\u6700\u65b0\u7248\u672c\u7684\u4e0d\u767b\u5f55\u8d26\u53f7\u53ea\u670930\u5929\u8bd5\u7528\uff0c\u4e4b\u540e\u9700\u8981\u4ed8\u8d39\uff0c\u6ce8\u518c\u8d26\u53f7\u53ef\u4ee5\u514d\u8d39\u4f7f\u7528</p> <ul> <li>\u4e0b\u8f7d\u6700\u65b0\u7248\u672c\uff0c\u622a\u6b622024/09/22 \u6700\u65b0\u7248\u672c\u4e3a1.4.2</li> </ul> <p></p> <ul> <li>\u5b89\u88c5\u540e\u6ce8\u518c\u4e00\u4e2a\u8d26\u53f7\uff0c\u4fe1\u606f\u586b\u5199\u9009\u5b66\u751f\u6216\u4e2a\u4eba\u5f00\u53d1\u8005\uff0c\u6ce8\u518c\u90ae\u7bb1\u9a8c\u8bc1</li> </ul> <p></p>"},{"location":"lvgl/2.LVGL%E5%BC%80%E5%8F%91%E5%B7%A5%E5%85%B7/#demo","title":"\u521b\u5efa\u4e00\u4e2ademo\u793a\u4f8b\u5e76\u79fb\u690d","text":"<ul> <li>\u6b64\u5904\u9009\u62e9LVGL9.1\u7248\u672c</li> <li>\u9009\u62e9VScode\u5de5\u7a0b</li> <li>\u989c\u8272\u6df1\u5ea6\u9009\u62e916bit(RGB565)</li> </ul> <ul> <li>\u521b\u5efa\u4e4b\u540e\u4e3a\u6b64\u754c\u9762   </li> </ul> <p>\u79fb\u690d\u5230stm32</p> <p>https://blog.csdn.net/qq_43706223/article/details/133989746</p>"},{"location":"lvgl/3.LVGL%E7%A7%BB%E6%A4%8D%E9%A2%9C%E8%89%B2%E4%B8%8D%E5%AF%B9%E4%B8%8E%E7%8E%B0%E5%AE%9E%E7%B3%8A%E7%9A%84%E9%97%AE%E9%A2%98/","title":"\u95ee\u9898\uff1a\u79fb\u690d\u540e\u5b57\u4f53\u663e\u793a\u5f88\u7cca\uff0c\u989c\u8272\u4e5f\u5bf9\u4e0d\u4e0a","text":""},{"location":"lvgl/3.LVGL%E7%A7%BB%E6%A4%8D%E9%A2%9C%E8%89%B2%E4%B8%8D%E5%AF%B9%E4%B8%8E%E7%8E%B0%E5%AE%9E%E7%B3%8A%E7%9A%84%E9%97%AE%E9%A2%98/#_1","title":"\u95ee\u9898\uff1a\u79fb\u690d\u540e\u5b57\u4f53\u663e\u793a\u5f88\u7cca\uff0c\u989c\u8272\u4e5f\u5bf9\u4e0d\u4e0a","text":"<p>\u9996\u5148\u88f8\u673a\u6d4b\u8bd5\u989c\u8272\u663e\u793a\u662f\u5426\u6b63\u5e38\uff0c\u4f7f\u7528\u683c\u5f0f\u662fRGB565\u8fd8\u662fRGB888\uff0c\u79fb\u690d\u540e\u7684LVGL\u8981\u4e00\u4e00\u5bf9\u5e94</p> <p>lvgl\u914d\u7f6e\u989c\u8272\u683c\u5f0f\u7684\u5b8f\u5b9a\u4e49\uff1aLVGL9.2\u7248\u672c\u4e3a\u4f8b</p> <pre><code>lv_conf.h\n#define LV_COLOR_DEPTH 24\n</code></pre> <pre><code>lv_port_disp.c\n#define BYTE_PER_PIXEL (LV_COLOR_FORMAT_GET_SIZE(LV_COLOR_FORMAT_RGB888)) /*will be 2 for RGB565 */\n</code></pre> <ul> <li>\u6216\u8005\u5728\u63a5\u53e3\u51fd\u6570\u4e2d \u5237\u5199\u51fd\u6570 \u5927\u5c0f\u7aef\u95ee\u9898</li> </ul> <p>\u5176\u4ed6\u60c5\u51b5\uff1a\u8003\u8651\u662f\u5426\u662f\u4f7f\u7528\u5916\u90e8sdram\uff0c\u6570\u636e\u4e0d\u4e00\u81f4\u5bfc\u81f4\uff0c\u53ef\u5148\u5bf9sdram\u8fdb\u884c\u8bfb\u5199\u6d4b\u8bd5</p>"},{"location":"lvgl/4.code%20blocks%E6%A8%A1%E6%8B%9F%E5%99%A8%E8%BF%90%E8%A1%8Clvgl/","title":"\u97e6\u4e1c\u5c71LVGL9\u5b66\u4e60\u6587\u6863","text":""},{"location":"lvgl/4.code%20blocks%E6%A8%A1%E6%8B%9F%E5%99%A8%E8%BF%90%E8%A1%8Clvgl/#lvgl9","title":"\u97e6\u4e1c\u5c71LVGL9\u5b66\u4e60\u6587\u6863","text":""},{"location":"lvgl/4.code%20blocks%E6%A8%A1%E6%8B%9F%E5%99%A8%E8%BF%90%E8%A1%8Clvgl/#_1","title":"\u73af\u5883\u5b89\u88c5\u914d\u7f6e","text":""},{"location":"lvgl/4.code%20blocks%E6%A8%A1%E6%8B%9F%E5%99%A8%E8%BF%90%E8%A1%8Clvgl/#_2","title":"\u8d44\u6599\u4e0b\u8f7d\uff1a","text":"<p>\u4ed3\u5e93\uff1a</p> <pre><code>git clone https://gitee.com/weidongshan/lvgl_100ask_course_v9.git\n</code></pre> <p>\u66f4\u65b0\uff1a</p> <pre><code>git pull origin master\n</code></pre>"},{"location":"lvgl/4.code%20blocks%E6%A8%A1%E6%8B%9F%E5%99%A8%E8%BF%90%E8%A1%8Clvgl/#codeblocks","title":"\u5b89\u88c5code::Blocks","text":""},{"location":"lvgl/4.code%20blocks%E6%A8%A1%E6%8B%9F%E5%99%A8%E8%BF%90%E8%A1%8Clvgl/#lvgl9_1","title":"\u66f4\u65b0\u7f16\u8bd1\u5de5\u5177\u94fe\u4ee5\u652f\u6301LVGL9\u7279\u6027","text":"<ul> <li>\u5b89\u88c5\u76ee\u5f55\u4e0b\u5220\u9664\u539f\u7f16\u8bd1\u5de5\u5177\u94fe</li> </ul> <ul> <li>\u66ff\u6362\u5de5\u5177\u94fe</li> </ul> <ul> <li>\u7f16\u8bd1\u627e\u4e0d\u5230\u5de5\u5177\u94fe\u89e3\u51b3 setting --&gt; compiler setting</li> </ul>"},{"location":"lvgl/4.code%20blocks%E6%A8%A1%E6%8B%9F%E5%99%A8%E8%BF%90%E8%A1%8Clvgl/#_3","title":"\u89e3\u51b3\u7f16\u8bd1\u62a5\u9519","text":"<p>setting --&gt; compiler setting</p> <p></p> <p>\u5c06\u6b64\u5904\u8bbe\u7f6e\u4e3a\u5982\u4e0b</p> <p></p>"},{"location":"lvgl/4.code%20blocks%E6%A8%A1%E6%8B%9F%E5%99%A8%E8%BF%90%E8%A1%8Clvgl/#lvglcodeblocks","title":"\u83b7\u53d6LVGL\u6e90\u7801\u5e76\u6dfb\u52a0\u5230code::Blocks\u8fd0\u884c","text":""},{"location":"lvgl/4.code%20blocks%E6%A8%A1%E6%8B%9F%E5%99%A8%E8%BF%90%E8%A1%8Clvgl/#lvglcodeblocks_1","title":"\u4e0b\u8f7dLVGL\u7684code::Blocks\u652f\u6301\u5305","text":"<p>\u524d\u8a00\uff1a\u767e\u95ee\u7f51\u505a\u4e86\u4e00\u4e2acode::Blocks\u8fd0\u884cLVGL\u5305\uff0c\u4e0b\u8f7d\u8be5\u6e90\u7801\u4e4b\u540e\u5bfc\u5165\u5bf9\u5e94lvgl\u5bf9\u5e94\u7684\u7248\u672c\u6e90\u7801\uff0c\u76f4\u63a5\u6253\u5f00code::Blocks\u5373\u53ef\u8fd0\u884c</p> <p>code::Blocks\u5305\u4e0b\u8f7d\uff1ahttps://github.com/lvgl/lv_port_win_codeblocks</p> <p>\u8fd9\u91cc\u7684\u7248\u672c\u5bf9\u5e94\u7740\u652f\u6301lvgl\u7684\u7248\u672c\uff0c\u9700\u8981\u7248\u672c\u4e00\u81f4</p> <p></p> <p>\u4e0b\u8f7d9.1\u7248\u672c\u7684code::Blocks\u652f\u6301\u5305</p> <p></p>"},{"location":"lvgl/4.code%20blocks%E6%A8%A1%E6%8B%9F%E5%99%A8%E8%BF%90%E8%A1%8Clvgl/#91lvgl","title":"\u4e0b\u8f7d9.1\u7248\u672c\u7684lvgl\u6e90\u7801","text":"<p>doc : https://github.com/lvgl/lvgl/blob/master/docs/README_zh.rst</p> <p>\u83b7\u53d6\u6e90\u7801</p> <pre><code> https://github.com/lvgl/lvgl.git\n</code></pre> <p>\u6ce8\uff1a\u76f4\u63a5clone\u4e4b\u540e\u9700\u8981\u5207\u6362\u5230\u5206\u652f</p> <p></p> <p>\u9009\u53d6\u7279\u5b9a\u7248\u672c</p> <p></p> <p></p>"},{"location":"lvgl/4.code%20blocks%E6%A8%A1%E6%8B%9F%E5%99%A8%E8%BF%90%E8%A1%8Clvgl/#lvglcodeblocks_2","title":"\u5c06lvgl\u6e90\u7801\u5bfc\u5165code::Blocks\u652f\u6301\u5305","text":"<p>\u4e0b\u8f7d\u597d\u4e86\u652f\u6301\u5305\u4ee5\u53calvgl\u6e90\u7801\u5982\u4e0b</p> <p></p> <ul> <li>\u76ee\u524d\u652f\u6301\u5305\u7684lvgl\u5e93\u4e3a\u7a7a</li> </ul> <p></p> <p>\u5c06lvgl\u7684\u6e90\u7801\u5bfc\u5165\u8fdb\u6765</p> <p></p> <p></p> <p>\u6253\u5f00\u9879\u76ee</p> <p></p> <p>\u91cd\u65b0\u6784\u5efa\u7f16\u8bd1\u5e76\u8fd0\u884c\uff08\u82e5\u6709\u62a5\u9519\u83b7\u627e\u4e0d\u5230\u7f16\u8bd1\u5668\uff0c\u53c2\u8003\u73af\u5883\u5b89\u88c5\u914d\u7f6e\u5c0f\u8282\uff09</p> <p></p> <p></p>"},{"location":"n8n/1.%E4%BB%80%E4%B9%88%E6%98%AFn8n/","title":"\u4ec0\u4e48\u662fn8n\uff1f","text":""},{"location":"n8n/1.%E4%BB%80%E4%B9%88%E6%98%AFn8n/#n8n","title":"\u4ec0\u4e48\u662fn8n\uff1f","text":"<p>\u5f00\u6e90\u5730\u5740  https://github.com/n8n-io/n8n</p> <p>\u5b98\u65b9\u6587\u6863  https://docs.n8n.io/</p> <p></p> <p></p> <p>n8n \u662f\u4e00\u6b3e\u53ef\u89c6\u5316\u7684\u201c\u5de5\u4f5c\u6d41\u81ea\u52a8\u5316\u201d\u5e73\u53f0\uff1a\u628a\u5404\u79cd\u670d\u52a1/API/\u6570\u636e\u5e93\u50cf\u79ef\u6728\u4e00\u6837\u62d6\u62fd\u8fde\u63a5\u8d77\u6765\uff0c\u8ba9\u5b83\u4eec\u6309\u4f60\u7684\u903b\u8f91\u81ea\u52a8\u8dd1\uff08\u4e5f\u80fd\u5199\u4ee3\u7801\u8865\u5f3a\uff09\u3002\u65e2\u53ef\u81ea\u5efa\u90e8\u7f72\uff0c\u4e5f\u6709\u5b98\u65b9\u4e91\u670d\u52a1\u3002\u4e3b\u6253\u300c\u6280\u672f\u56e2\u961f\u53cb\u597d\u300d\uff1a\u53ef\u89c6\u5316 + \u4ee3\u7801\u5e76\u884c\uff0c\u7528\u4e8e\u96c6\u6210\u7cfb\u7edf\u3001ETL\u3001\u673a\u5668\u4eba\u3001\u5b9a\u65f6\u4efb\u52a1\u3001\u544a\u8b66\u901a\u77e5\u3001\u4ee5\u53ca\u591a\u6b65 AI/LLM \u6d41\u7a0b\u7b49\u3002n8n</p>"},{"location":"n8n/1.%E4%BB%80%E4%B9%88%E6%98%AFn8n/#_1","title":"\u80fd\u505a\u4ec0\u4e48","text":"<ul> <li>\u8fde\u63a5 500+ \u96c6\u6210\u4e0e\u5927\u91cf\u6a21\u677f\uff08\u5982 Telegram \u673a\u5668\u4eba\u3001\u6293\u53d6\u4e0e\u6458\u8981\u3001Excel/\u8868\u683c\u3001CRM \u540c\u6b65\u3001AI Agent \u7b49\uff09\uff0c\u51e0\u5206\u949f\u642d\u597d\u5e38\u89c1\u573a\u666f\u3002n8n+1</li> <li>\u89e6\u53d1\u65b9\u5f0f\u7075\u6d3b\uff1aWebhook\u3001\u5b9a\u65f6\uff08Cron\uff09\u3001IMAP\u3001SSE\u3001\u8868\u5355\u7b49 \u2192 \u89e6\u53d1\u540e\u7528\u5404\u79cd\u8282\u70b9\u5904\u7406/\u8c03\u7528\u5916\u90e8\u7cfb\u7edf\u3002n8n \u6587\u6863+1</li> <li>\u9700\u8981\u65f6\u5199\u4ee3\u7801\uff1aCode \u8282\u70b9\u53ef\u8dd1 JavaScript \u6216\uff08\u53d7\u9650\u7684\uff09Python\uff1bPython \u901a\u8fc7 Pyodide \u6267\u884c\uff0c\u5305\u4f9d\u8d56\u9650\u5b9a\u4e14\u4e0d\u53ef\u76f4\u63a5\u8bbf\u95ee\u6587\u4ef6\u7cfb\u7edf\u6216\u53d1 HTTP\uff08\u7528\u4e13\u95e8\u7684\u8282\u70b9\u4ee3\u66ff\uff09\u3002n8n \u6587\u6863</li> <li>\u53ef\u5728\u4e3b\u673a\u4e0a\u6267\u884c\u811a\u672c/\u547d\u4ee4\uff08\u81ea\u5efa\u73af\u5883\uff09\uff1a\u7528 Execute Command \u8282\u70b9\u5728\u5bb9\u5668\u5185/\u5bbf\u4e3b\u53ef\u7528\u7684 shell \u91cc\u8dd1\u547d\u4ee4\uff08\u4e91\u6258\u7ba1\u4e0d\u53ef\u7528\uff09\u3002n8n \u6587\u6863</li> </ul>"},{"location":"n8n/1.%E4%BB%80%E4%B9%88%E6%98%AFn8n/#_2","title":"\u6838\u5fc3\u6982\u5ff5","text":"<ul> <li>\u5de5\u4f5c\u6d41 (Workflow)\uff1a\u7531\u8282\u70b9\u548c\u8fde\u7ebf\u7ec4\u6210\u7684\u6d41\u7a0b\u56fe\u3002</li> <li>\u8282\u70b9 (Nodes)\uff1a\u5206\u4e3a \u89e6\u53d1\u5668\uff08\u542f\u52a8\u5de5\u4f5c\u6d41\uff09\u4e0e \u52a8\u4f5c\uff08\u8bfb\u5199\u6570\u636e\u3001\u8c03\u7528 API\u3001\u5206\u652f/\u5408\u5e76\u7b49\uff09\u3002n8n \u6587\u6863</li> <li>\u51ed\u636e (Credentials)\uff1a\u5b89\u5168\u4fdd\u5b58\u4e09\u65b9\u8d26\u53f7\u5bc6\u94a5\uff1b\u4f7f\u7528\u52a0\u5bc6\u5bc6\u94a5\uff08\u5efa\u8bae\u81ea\u8bbe <code>N8N_ENCRYPTION_KEY</code>\uff09\uff0c\u81ea\u5efa\u65f6\u8981\u59a5\u5584\u5907\u4efd\u4e0e\u5728\u591a\u8fdb\u7a0b/\u591a\u5b9e\u4f8b\u4e2d\u5171\u4eab\u3002n8n \u6587\u6863</li> <li>\u6267\u884c (Executions)\uff1a\u6bcf\u6b21\u8fd0\u884c\u4f1a\u751f\u6210\u6267\u884c\u8bb0\u5f55\uff0c\u53ef\u5355\u6b65\u56de\u653e\u3001\u90e8\u5206\u91cd\u8dd1\u4e0e\u8c03\u8bd5\u3002n8n</li> </ul>"},{"location":"n8n/1.%E4%BB%80%E4%B9%88%E6%98%AFn8n/#_3","title":"\u90e8\u7f72\u4e0e\u6269\u5c55","text":"<ul> <li>\u81ea\u5efa\uff1aDocker \u6700\u5e38\u89c1\uff1b\u6570\u636e\u5e93\u5efa\u8bae\u7528 PostgreSQL\u3002\u8981\u8dd1\u672c\u5730\u547d\u4ee4/\u811a\u672c\u3001\u6302\u8f7d\u6587\u4ef6\u7b49\u90fd\u66f4\u81ea\u7531\u3002n8n \u6587\u6863</li> <li>\u6c34\u5e73\u6269\u5c55\uff08\u961f\u5217\u6a21\u5f0f\uff09\uff1a\u4e3b\u5b9e\u4f8b\u8d1f\u8d23\u5b9a\u65f6\u5668\u4e0e Webhook\uff0cRedis \u505a\u6d88\u606f\u961f\u5217\uff0c\u591a\u4e2a Worker \u62c9\u53d6\u6267\u884c\uff1b\u4e8c\u8fdb\u5236\u6587\u4ef6\u6301\u4e45\u5316\u5efa\u8bae\u914d S3 \u5916\u90e8\u5b58\u50a8\u3002\u4f01\u4e1a\u7248\u652f\u6301\u591a\u4e3b\u9ad8\u53ef\u7528\u3002n8n \u6587\u6863</li> </ul>"},{"location":"n8n/1.%E4%BB%80%E4%B9%88%E6%98%AFn8n/#_4","title":"\u8bb8\u53ef\u4e0e\u5546\u7528\u8fb9\u754c","text":"<p>n8n \u91c7\u7528 Sustainable Use License\uff08\u53ef\u6301\u7eed\u4f7f\u7528\u8bb8\u53ef\uff09 \u7684\u201cfair-code\u201d\u6a21\u5f0f\uff1a\u6e90\u7801\u53ef\u89c1\u3001\u53ef\u4fee\u6539\uff0c\u4f46\u9650\u5236\u5bf9\u5916\u552e\u5356/\u767d\u6807\u6258\u7ba1\u7b49\u975e\u201c\u5185\u90e8\u4e1a\u52a1\u7528\u9014\u201d\u7684\u573a\u666f\uff1b\u9700\u8981\u5bf9\u5916\u63d0\u4f9b\u7ed9\u5ba2\u6237\u4f7f\u7528\u65f6\u53ef\u8d2d\u4e70\u4f01\u4e1a/Embed \u8bb8\u53ef\u3002\u4e0d\u662f OSI \u5b9a\u4e49\u7684\u5f00\u6e90\u8bb8\u53ef\u8bc1\u3002n8n \u6587\u6863n8n Blog</p>"},{"location":"n8n/2.ubuntu%20docker%E5%AE%89%E8%A3%85n8n/","title":"\u5feb\u901f\u5b89\u88c5\uff08Docker Compose\uff0c\u542b Postgres \u6301\u4e45\u5316\uff09","text":""},{"location":"n8n/2.ubuntu%20docker%E5%AE%89%E8%A3%85n8n/#docker-compose-postgres","title":"\u5feb\u901f\u5b89\u88c5\uff08Docker Compose\uff0c\u542b Postgres \u6301\u4e45\u5316\uff09","text":""},{"location":"n8n/2.ubuntu%20docker%E5%AE%89%E8%A3%85n8n/#1-docker-compose","title":"1) \u5b89\u88c5 Docker &amp; Compose \u63d2\u4ef6","text":"<pre><code># \u5b89\u88c5 Docker \u5b98\u65b9\u6e90\u5e76\u5b89\u88c5\nsudo apt update\n\nsudo apt install -y ca-certificates curl gnupg\n\nsudo install -m 0755 -d /etc/apt/keyrings\n\ncurl -fsSL https://download.docker.com/linux/ubuntu/gpg \\\n | sudo gpg --dearmor -o /etc/apt/keyrings/docker.gpg\n\necho \\\n\"deb [arch=$(dpkg --print-architecture) signed-by=/etc/apt/keyrings/docker.gpg] \\\n https://download.docker.com/linux/ubuntu $(. /etc/os-release; echo $VERSION_CODENAME) stable\" \\\n | sudo tee /etc/apt/sources.list.d/docker.list &gt; /dev/null\n\nsudo apt update\n\nsudo apt install -y docker-ce docker-ce-cli containerd.io docker-compose-plugin\n\n# \u628a\u5f53\u524d\u7528\u6237\u52a0\u5165 docker \u7ec4\uff08\u91cd\u65b0\u767b\u5f55\u540e\u751f\u6548\uff09\nsudo usermod -aG docker $USER\n</code></pre> <p>\uff08n8n \u5b98\u65b9\u201cDocker/Compose \u90e8\u7f72\u201d\u6587\u6863\u63a8\u8350\u7528 Docker \u8fd0\u884c\u3002n8n\u6587\u6863+1\uff09</p>"},{"location":"n8n/2.ubuntu%20docker%E5%AE%89%E8%A3%85n8n/#2","title":"2) \u51c6\u5907\u76ee\u5f55\u4e0e\u914d\u7f6e","text":"<pre><code>mkdir -p ~/n8n/{data,.env.d}\ncd ~/n8n\n</code></pre> <p>\u751f\u6210\u4e00\u4e2a\u52a0\u5bc6\u5bc6\u94a5\uff08\u7528\u4e8e\u52a0\u5bc6\u51ed\u636e\uff09\u5e76\u5148\u4fdd\u5b58\uff1a</p> <pre><code>openssl rand -hex 32 | tee .env.d/N8N_ENCRYPTION_KEY\n</code></pre> <p>\uff08n8n \u9996\u6b21\u542f\u52a8\u4f1a\u751f\u6210\u968f\u673a\u5bc6\u94a5\uff0c\u4e5f\u53ef\u7528\u73af\u5883\u53d8\u91cf\u663e\u5f0f\u6307\u5b9a\uff1b\u961f\u5217/\u591a\u8fdb\u7a0b\u65f6\u5fc5\u987b\u663e\u5f0f\u6307\u5b9a\u540c\u4e00\u4e2a\u5bc6\u94a5\u3002n8n\u6587\u6863\uff09</p> <p>\u521b\u5efa .env\uff08\u6309\u9700\u6539\u57df\u540d/\u5bc6\u7801\uff09\uff1a</p> <ul> <li>n8n.example.com</li> <li>Another_Strong_Pass</li> </ul> <pre><code>cat &gt; .env &lt;&lt;'EOF'\n\nPOSTGRES_USER=n8n\nPOSTGRES_PASSWORD=change_me_strong\nPOSTGRES_DB=n8n\nN8N_HOST=n8n.example.com\nN8N_PROTOCOL=https\nWEBHOOK_URL=https://n8n.example.com/\nTZ=Asia/Tokyo\nN8N_BASIC_AUTH_ACTIVE=true\nN8N_BASIC_AUTH_USER=admin\nN8N_BASIC_AUTH_PASSWORD=Another_Strong_Pass\nN8N_ENCRYPTION_KEY_FILE=/files/N8N_ENCRYPTION_KEY\nN8N_SECURE_COOKIE=false\nEOF\n</code></pre> <p>\u8bf4\u660e\uff1an8n \u7684 Webhook \u5728\u53cd\u4ee3\u540e\u9700\u8981\u663e\u5f0f\u8bbe\u7f6e <code>WEBHOOK_URL</code> \u624d\u80fd\u6b63\u786e\u56de\u663e/\u6ce8\u518c\u5916\u90e8 Webhook\u3002n8n\u6587\u6863  \u53ef\u7528\u7684\u73af\u5883\u53d8\u91cf\u8be6\u89c1\u5b98\u65b9\u603b\u8868\uff08\u90e8\u7f72/\u7aef\u70b9/\u5b89\u5168/\u6570\u636e\u5e93\u7b49\uff09\u3002n8n\u6587\u6863+2n8n\u6587\u6863+2</p>"},{"location":"n8n/2.ubuntu%20docker%E5%AE%89%E8%A3%85n8n/#3-docker-composeyml","title":"3) \u5199 <code>docker-compose.yml</code>","text":"<pre><code>services:\n  postgres:\n    image: postgres:16-alpine\n    restart: unless-stopped\n    environment:\n      POSTGRES_USER: ${POSTGRES_USER}\n      POSTGRES_PASSWORD: ${POSTGRES_PASSWORD}\n      POSTGRES_DB: ${POSTGRES_DB}\n    volumes:\n      - ./data/postgres:/var/lib/postgresql/data\n    healthcheck:\n      test: [\"CMD-SHELL\", \"pg_isready -U ${POSTGRES_USER} -d ${POSTGRES_DB}\"]\n      interval: 10s\n      timeout: 5s\n      retries: 5\n\n  n8n:\n    image: n8nio/n8n:1.107.4\n    restart: unless-stopped\n    ports:\n      - \"5678:5678\"\n    environment:\n      - DB_TYPE=postgresdb\n      - DB_POSTGRESDB_HOST=postgres\n      - DB_POSTGRESDB_PORT=5432\n      - DB_POSTGRESDB_DATABASE=${POSTGRES_DB}\n      - DB_POSTGRESDB_USER=${POSTGRES_USER}\n      - DB_POSTGRESDB_PASSWORD=${POSTGRES_PASSWORD}\n      - N8N_HOST=${N8N_HOST}\n      - N8N_PROTOCOL=${N8N_PROTOCOL}\n      - WEBHOOK_URL=${WEBHOOK_URL}\n      - TZ=${TZ}\n      - N8N_BASIC_AUTH_ACTIVE=${N8N_BASIC_AUTH_ACTIVE}\n      - N8N_BASIC_AUTH_USER=${N8N_BASIC_AUTH_USER}\n      - N8N_BASIC_AUTH_PASSWORD=${N8N_BASIC_AUTH_PASSWORD}\n      - N8N_ENCRYPTION_KEY_FILE=/files/N8N_ENCRYPTION_KEY\n      - N8N_SECURE_COOKIE=false\n    depends_on:\n      postgres:\n        condition: service_healthy\n    volumes:\n      - n8n_data:/home/node/.n8n\n      - ./.env.d:/files:ro\n\nvolumes:\n  n8n_data:\n</code></pre> <p>n8n \u9ed8\u8ba4\u6570\u636e\u5e93\u662f SQLite\uff0c\u751f\u4ea7\u73af\u5883\u5efa\u8bae\u7528 PostgreSQL\uff1bMySQL/MariaDB \u81ea v1.0 \u8d77\u5df2\u5f03\u7528\u3002\u4e0a\u9762\u5df2\u6309\u5b98\u65b9\u53d8\u91cf\u914d\u7f6e Postgres\u3002n8n\u6587\u6863+1</p>"},{"location":"n8n/2.ubuntu%20docker%E5%AE%89%E8%A3%85n8n/#4","title":"4) \u542f\u52a8","text":"<pre><code>docker compose pull\ndocker compose up -d\n</code></pre> <p>\u8bbf\u95ee\uff1a</p> <ul> <li>\u4e34\u65f6\u76f4\u8fde\u6d4b\u8bd5\uff1a<code>http://&lt;\u670d\u52a1\u5668IP&gt;:5678</code></li> <li>\u6709\u57df\u540d+\u53cd\u4ee3\uff1a<code>https://n8n.example.com</code>\uff08\u89c1\u4e0b\uff09</li> </ul> <p>\u9996\u6b21\u8fdb\u5165\u4f1a\u521b\u5efa\u7ba1\u7406\u5458\u8d26\u6237\u3002\u82e5\u5f00\u542f\u4e86\u57fa\u7840\u8ba4\u8bc1\uff0c\u4f1a\u5148\u5f39\u51fa\u6d4f\u89c8\u5668\u7684 BasicAuth\u3002\u7aef\u53e3\u4e0e URL \u8bbe\u7f6e\u8bf7\u4e0e <code>WEBHOOK_URL</code> \u4fdd\u6301\u4e00\u81f4\uff0c\u7279\u522b\u662f\u5728\u53cd\u5411\u4ee3\u7406\u540e\u3002n8n\u6587\u6863</p>"},{"location":"n8n/2.ubuntu%20docker%E5%AE%89%E8%A3%85n8n/#_1","title":"\u5347\u7ea7\u5230\u201c\u6700\u65b0\u201d","text":"<p>\u4f7f\u7528\u4e86 <code>n8nio/n8n:latest</code>\uff0c\u5347\u7ea7\u53ea\u9700\uff1a</p> <pre><code>cd ~/n8n\ndocker compose pull n8n\ndocker compose up -d n8n\ndocker compose exec n8n n8n --version\n</code></pre>"},{"location":"n8n/2.ubuntu%20docker%E5%AE%89%E8%A3%85n8n/#_2","title":"\u5bb9\u5668\u4e0e\u8fdb\u7a0b\u72b6\u6001","text":"<pre><code>cd ~/n8n\n\n# \u770b\u5bb9\u5668\u662f\u5426\u90fd\u5728\u8fd0\u884c\ndocker compose ps\n\n# \u8fd1 100 \u884c n8n \u65e5\u5fd7\uff0c\u662f\u5426\u6709 \u201cready / listening / migrations finished\u201d \u7b49\u5b57\u6837\ndocker compose logs --tail=100 n8n\n</code></pre> <p>\u6b63\u5e38\uff1a<code>State</code> \u4e3a <code>running</code>\uff0c\u65e5\u5fd7\u91cc\u6ca1\u6709\u53cd\u590d\u62a5\u9519\u6216\u91cd\u542f\u3002</p>"},{"location":"n8n/2.ubuntu%20docker%E5%AE%89%E8%A3%85n8n/#_3","title":"\u51fa\u73b0\u95ee\u9898","text":"<p>\u73b0\u5728\u8fd8\u6ca1\u6709\u914d\u7f6e\u57df\u540d\uff0c\u76f4\u63a5ip\u8bbf\u95ee  ip:5678</p> <p></p> <p>N8N_SECURE_COOKIE \u9700\u8981\u8bbe\u7f6e\u4e3a\u4e3a<code>false</code>  \u624d\u53ef\u4ee5http\u8bbf\u95ee </p> <p>\u5728\u521a\u624d\u7684.env \u6587\u4ef6\u4e2d\u6700\u540e\u6dfb\u52a0\u4e00\u53e5</p> <pre><code>N8N_SECURE_COOKIE=false\n</code></pre> <p>\u4ee5\u53cadocker-compose.yml</p> <pre><code>    environment:\n      - DB_TYPE=postgresdb\n      ...\n      - N8N_ENCRYPTION_KEY_FILE=/files/N8N_ENCRYPTION_KEY\n      - N8N_SECURE_COOKIE=false     # \u2190 \u65b0\u589e\n</code></pre> <p>\u91cd\u542f\u670d\u52a1\u5e76\u9a8c\u8bc1\uff1a</p> <pre><code>cd ~/n8n\ndocker compose down\ndocker compose up -d\ndocker compose logs --tail=80 n8n\ncurl -sS -o /dev/null -w 'HTTP %{http_code}\\n' http://127.0.0.1:5678/\n</code></pre> <p>\u6d4f\u89c8\u5668\u7aef\u5efa\u8bae\u6e05\u4e00\u4e0b\u7ad9\u70b9 Cookie\u6216\u7528\u9690\u79c1\u7a97\u53e3\u91cd\u65b0\u767b\u5f55\u3002</p> <ul> <li>\u767b\u5f55\u6ce8\u518c\u4e00\u4e0b\u5c31\u8fdb\u6765\u4e86</li> </ul> <p></p>"},{"location":"n8n/3.%E7%AC%AC%E4%B8%80%E4%B8%AA%E7%AE%80%E5%8D%95%E7%9A%84%E5%B7%A5%E4%BD%9C%E6%B5%81/","title":"3.\u7b2c\u4e00\u4e2a\u7b80\u5355\u7684\u5de5\u4f5c\u6d41","text":""},{"location":"n8n/3.%E7%AC%AC%E4%B8%80%E4%B8%AA%E7%AE%80%E5%8D%95%E7%9A%84%E5%B7%A5%E4%BD%9C%E6%B5%81/#_1","title":"\u7b2c\u4e00\u4e2a\u7b80\u5355\u7684\u5de5\u4f5c\u6d41","text":"<p>\u529f\u80fd\uff1a\u5b9a\u65f6\u7ed9\u81ea\u5df1\u7684telegram\u673a\u5668\u4eba\u53d1\u9001\u6d88\u606f</p>"},{"location":"n8n/3.%E7%AC%AC%E4%B8%80%E4%B8%AA%E7%AE%80%E5%8D%95%E7%9A%84%E5%B7%A5%E4%BD%9C%E6%B5%81/#1","title":"1.\u6dfb\u52a0\u4e00\u4e2a\u8ba1\u5212\u89e6\u53d1\u5668","text":"<ul> <li>\u8bbe\u7f6e5s\u89e6\u53d1\u4e00\u6b21</li> </ul>"},{"location":"n8n/3.%E7%AC%AC%E4%B8%80%E4%B8%AA%E7%AE%80%E5%8D%95%E7%9A%84%E5%B7%A5%E4%BD%9C%E6%B5%81/#2telegram","title":"2.\u6dfb\u52a0\u4e00\u4e2atelegram\u8282\u70b9","text":"<ul> <li>\u914d\u7f6e\u53d1\u9001\u6d88\u606f\uff08\u6dfb\u52a0 telegram api \u4ee5\u53ca \u804a\u5929id\uff09</li> </ul>"},{"location":"n8n/3.%E7%AC%AC%E4%B8%80%E4%B8%AA%E7%AE%80%E5%8D%95%E7%9A%84%E5%B7%A5%E4%BD%9C%E6%B5%81/#_2","title":"\u914d\u7f6e\u4fdd\u5b58\u5e76\u5f00\u542f\u5de5\u4f5c\u6d41","text":"<p>\u5c31\u53ef\u4ee5\u770b\u5230\u6536\u5230\u6d88\u606f\u4e86</p> <p></p>"},{"location":"n8n/4.%E8%A7%A6%E5%8F%91%E5%99%A8%E8%8A%82%E7%82%B9%E7%B1%BB%E5%9E%8B/","title":"\u89e6\u53d1\u5668\u8282\u70b9\u7c7b\u578b","text":""},{"location":"n8n/4.%E8%A7%A6%E5%8F%91%E5%99%A8%E8%8A%82%E7%82%B9%E7%B1%BB%E5%9E%8B/#_1","title":"\u89e6\u53d1\u5668\u8282\u70b9\u7c7b\u578b","text":"<p>\u6240\u6709\u7684\u89e6\u53d1\u5668\u6c47\u603b  https://docs.n8n.io/integrations/builtin/trigger-nodes/</p>"},{"location":"n8n/4.%E8%A7%A6%E5%8F%91%E5%99%A8%E8%8A%82%E7%82%B9%E7%B1%BB%E5%9E%8B/#_2","title":"\u89e6\u53d1\u5668\u600e\u4e48\u5206\u7c7b\uff08\u5b98\u65b9\u5b9a\u4e49\uff09","text":"<p>n8n \u628a\u89e6\u53d1\u5668\u5206\u6210\u4e09\u7c7b\uff1a</p> <ol> <li>Webhook \u578b\uff1a\u670d\u52a1\u7aef\u901a\u8fc7\u56de\u8c03\u7acb\u5373\u63a8\u9001\u4e8b\u4ef6\uff1b</li> <li>Polling \u8f6e\u8be2\u578b\uff1a\u5b9a\u65f6\u53bb\u62c9\u6570\u636e\u7684\u65b0\u53d8\u5316\uff1b</li> <li>\u5176\u5b83\uff1a\u4e0d\u8d70 HTTP \u56de\u8c03/\u8f6e\u8be2\u7684\u5b9e\u65f6\u54cd\u5e94\u6216\u65f6\u95f4\u7c7b\u89e6\u53d1\uff08\u6d88\u606f\u961f\u5217\u3001IMAP \u90ae\u4ef6\u3001\u5b9a\u65f6\u5668\u7b49\uff09\u3002n8n \u6587\u6863</li> </ol>"},{"location":"n8n/4.%E8%A7%A6%E5%8F%91%E5%99%A8%E8%8A%82%E7%82%B9%E7%B1%BB%E5%9E%8B/#_3","title":"\u5e38\u89c1\u5185\u7f6e\u89e6\u53d1\u5668\uff08\u6838\u5fc3/\u7cfb\u7edf\u7c7b\uff09","text":"<ul> <li>Webhook\uff1a\u628a\u5de5\u4f5c\u6d41\u5f53\u4f5c\u4e00\u4e2a\u53ef\u88ab\u5916\u90e8\u8c03\u7528\u7684 HTTP \u7aef\u70b9\uff08\u652f\u6301\u6d4b\u8bd5/\u751f\u4ea7\u4e24\u6761 URL\u3001\u540c\u6b65/\u5f02\u6b65\u56de\u5e94\uff09\u3002n8n \u6587\u6863</li> <li>Schedule Trigger\uff1a\u6309 Cron/\u56fa\u5b9a\u95f4\u9694\u5b9a\u65f6\u8dd1\uff1b\u6ce8\u610f\u9700\u8981\u6fc0\u6d3b\u5de5\u4f5c\u6d41\u5e76\u7559\u610f\u65f6\u533a\u8bbe\u7f6e\u3002n8n \u6587\u6863</li> <li>Manual Trigger\uff1a\u4ec5\u7528\u4e8e\u624b\u52a8\u201c\u6267\u884c\u5de5\u4f5c\u6d41\u201d\u65f6\u4f5c\u4e3a\u8d77\u70b9\uff0c\u4fbf\u4e8e\u8c03\u8bd5\u3002n8n \u6587\u6863</li> <li>n8n Trigger\uff1a\u5f53\u5b9e\u4f8b\u542f\u52a8/\u91cd\u542f\u3001\u5f53\u524d\u5de5\u4f5c\u6d41\u88ab\u6fc0\u6d3b\u6216\u66f4\u65b0\u65f6\u89e6\u53d1\uff08\u53d6\u4ee3\u65e7\u7684 Activation/Workflow Trigger\uff09\u3002n8n \u6587\u6863+2n8n \u6587\u6863+2</li> <li>Error Trigger\uff1a\u5f53\u5176\u5b83\u5de5\u4f5c\u6d41\u5931\u8d25\u65f6\u89e6\u53d1\u4e00\u6761\u201c\u9519\u8bef\u5904\u7406\u201d\u5de5\u4f5c\u6d41\u3002n8n \u6587\u6863</li> <li>Execute Sub-workflow Trigger\uff08When executed by another workflow\uff09\uff1a\u4f5c\u4e3a\u201c\u5b50\u5de5\u4f5c\u6d41\u201d\u7684\u5165\u53e3\uff0c\u88ab\u7236\u5de5\u4f5c\u6d41\u8c03\u7528\u65f6\u89e6\u53d1\u3002n8n \u6587\u6863</li> <li>Local File Trigger\uff1a\u76d1\u542c\u672c\u673a\u6587\u4ef6/\u76ee\u5f55\u7684\u589e\u5220\u6539\uff08\u4ec5\u81ea\u5efa\u53ef\u7528\uff09\u3002n8n \u6587\u6863</li> <li>SSE Trigger\uff1a\u901a\u8fc7 Server-Sent Events \u4ece\u6307\u5b9a URL \u63a5\u6536\u5b9e\u65f6\u4e8b\u4ef6\u3002n8n \u6587\u6863</li> <li>n8n Form Trigger\uff1a\u751f\u6210\u8868\u5355\u9875\u9762\uff0c\u7528\u6237\u63d0\u4ea4\u540e\u89e6\u53d1\uff08\u751f\u4ea7\u6a21\u5f0f\u53ef\u7528\u67e5\u8be2\u53c2\u6570\u9884\u586b\uff09\u3002n8n \u6587\u6863</li> <li>Chat Trigger / MCP Server Trigger\uff1a\u7528\u4e8e\u5185\u7f6e\u804a\u5929/Agent \u6216 MCP \u5ba2\u6237\u7aef\u7684\u5165\u53e3\uff08\u57fa\u4e8e\u6301\u4e45\u8fde\u63a5/SSE\uff0c\u961f\u5217\u6a21\u5f0f\u9700\u989d\u5916\u8def\u7531\u914d\u7f6e\uff09\u3002n8n \u6587\u6863+1</li> </ul>"},{"location":"n8n/4.%E8%A7%A6%E5%8F%91%E5%99%A8%E8%8A%82%E7%82%B9%E7%B1%BB%E5%9E%8B/#_4","title":"\u5e38\u89c1\u5e94\u7528\u96c6\u6210\u89e6\u53d1\u5668\uff08\u4e3e\u4f8b\uff09","text":"<ul> <li>\u90ae\u4ef6\uff1aIMAP Email Trigger\u3001Gmail Trigger\uff08\u53ef\u8bbe\u8f6e\u8be2\u9891\u7387/\u6a21\u5f0f\uff09\u3002n8n \u6587\u6863+2n8n \u6587\u6863+2</li> <li>\u4e91\u76d8/\u65e5\u5386\uff1aGoogle Drive Trigger\u3001Google Calendar Trigger\u3002n8n \u6587\u6863+1</li> <li>\u804a\u5929/\u901a\u77e5\uff1aTelegram Trigger\u3001Slack Trigger\u3001WhatsApp \u7b49\u3002n8n \u6587\u6863+1</li> <li>\u6570\u636e\u5e93/\u961f\u5217\uff1aPostgres Trigger\u3001AMQP/RabbitMQ/MQTT\uff08\u603b\u7c7b\u89c1\u201cNode types\u201d\u8bf4\u660e\uff09\u3002n8n \u6587\u6863+1</li> </ul> <p>\u8fd8\u6709 Trello\u3001Typeform\u3001Webex \u7b49\u5927\u91cf App \u7684\u4e13\u7528 Trigger\u3002</p>"},{"location":"n8n/4.%E8%A7%A6%E5%8F%91%E5%99%A8%E8%8A%82%E7%82%B9%E7%B1%BB%E5%9E%8B/#_5","title":"\u5b98\u65b9\u54ea\u91cc\u770b\u201c\u5168\u91cf\u89e6\u53d1\u5668\u6e05\u5355\u201d","text":"<ul> <li>Triggers Library\uff08\u89e6\u53d1\u5668\u5e93\uff09\uff1a\u5b98\u65b9\u628a\u6240\u6709\u5185\u7f6e\u89e6\u53d1\u5668\u96c6\u4e2d\u5728\u8fd9\u4e00\u9875\uff0c\u65e2\u542b\u201c\u6838\u5fc3\u89e6\u53d1\u5668\u201d\uff08Webhook/Schedule/IMAP/SSE \u7b49\uff09\uff0c\u4e5f\u542b\u5404 App \u7684\u89e6\u53d1\u5668\uff08Telegram/Slack/Gmail/Drive\u2026\uff09\u3002\u70b9\u8fdb\u53bb\u6bcf\u4e2a\u8282\u70b9\u90fd\u6709\u4e8b\u4ef6\u5217\u8868\u4e0e\u7528\u6cd5\u3002n8n \u6587\u6863</li> <li>Nodes \u7ec4\u4ef6\u603b\u89c8\uff1a\u89e3\u91ca\u201cTriggers vs Actions\u201d\u7684\u533a\u522b\uff0c\u914d\u5408\u7f16\u8f91\u5668\u91cc\u641c\u7d22\u201cTrigger\u201d\u5373\u53ef\u5feb\u901f\u7b5b\u9009\u89e6\u53d1\u5668\u3002n8n \u6587\u6863</li> <li>Node types\uff08\u4e3a\u5f00\u53d1\u8005\u5199\u7684\u5206\u7c7b\u8bf4\u660e\uff09\uff1a\u660e\u786e\u4e09\u5927\u89e6\u53d1\u5668\u7c7b\u578b\u4e0e\u793a\u4f8b\uff0c\u5e2e\u52a9\u4f60\u5224\u65ad\u8be5\u9009 webhook\u3001\u8f6e\u8be2\u8fd8\u662f\u5176\u5b83\u7c7b\u578b\u3002n8n \u6587\u6863</li> </ul>"},{"location":"n8n/4.%E8%A7%A6%E5%8F%91%E5%99%A8%E8%8A%82%E7%82%B9%E7%B1%BB%E5%9E%8B/#_6","title":"\u9009\u578b\u5c0f\u6284\uff08\u600e\u4e48\u6311\uff09","text":"<ul> <li>\u5916\u90e8\u7cfb\u7edf\u53ef\u56de\u8c03 \u2192 Webhook\uff1b</li> <li>\u56fa\u5b9a\u65f6\u95f4/\u5468\u671f\u4efb\u52a1 \u2192 Schedule Trigger\uff1b</li> <li>\u6536\u4ef6\u7bb1\u6709\u65b0\u90ae\u4ef6 \u2192 IMAP/Gmail Trigger\uff1b</li> <li>\u6587\u4ef6\u5939\u53d8\u5316 \u2192 Local File Trigger\uff1b</li> <li>\u6d4f\u89c8\u5668/\u670d\u52a1\u7aef\u63a8\u9001\u6d41 \u2192 SSE Trigger\uff1b</li> <li>\u5185\u90e8\u5de5\u4f5c\u6d41\u590d\u7528 \u2192 Execute Sub-workflow Trigger\uff1b</li> <li>\u673a\u5668\u4eba/\u7fa4\u804a\u4e8b\u4ef6 \u2192 Telegram/Slack \u7b49\u5bf9\u5e94 Trigger\uff1b</li> <li>\u5b9e\u4f8b/\u5de5\u4f5c\u6d41\u72b6\u6001\u53d8\u5316 \u2192 n8n Trigger\u3002    \uff08\u4e0a\u9762\u7684\u94fe\u63a5\u90fd\u5728\u201c\u89e6\u53d1\u5668\u5e93\u201d\u9875\u9762\u80fd\u627e\u5230\u5bf9\u5e94\u6761\u76ee\u3002\uff09n8n \u6587\u6863</li> </ul> <p>\u5982\u679c\u4f60\u8bf4\u4e0b\u5177\u4f53\u573a\u666f\uff08\u6bd4\u5982\u201cGitHub \u6709\u65b0 issue \u5c31\u63a8 Telegram \u5e76\u5199\u5230\u8868\u683c\u201d\u201cGoogle Drive \u6709\u65b0\u6587\u4ef6\u5c31\u8f6c\u5b58\u5230 S3 \u5e76\u53d1\u90ae\u4ef6\u201d\uff09\uff0c\u6211\u53ef\u4ee5\u76f4\u63a5\u7ed9\u4f60\u4e00\u4efd\u53ef\u5bfc\u5165\u7684\u6700\u5c0f\u5de5\u4f5c\u6d41\u3002</p>"},{"location":"n8n/4.%E8%A7%A6%E5%8F%91%E5%99%A8%E8%8A%82%E7%82%B9%E7%B1%BB%E5%9E%8B/#10-n8n","title":"10 \u4e2a\u662f n8n \u91cc\u6700\u5e38\u7528\u3001\u547d\u4e2d\u7387\u6700\u9ad8\u7684\u89e6\u53d1\u5668\u7c7b\u578b\uff08\u6309\u4f7f\u7528\u573a\u666f\u5206\u7ec4\uff09\uff1a","text":""},{"location":"n8n/4.%E8%A7%A6%E5%8F%91%E5%99%A8%E8%8A%82%E7%82%B9%E7%B1%BB%E5%9E%8B/#_7","title":"\u901a\u7528/\u7cfb\u7edf\u7c7b\uff08\u51e0\u4e4e\u6bcf\u4e2a\u9879\u76ee\u90fd\u4f1a\u7528\uff09","text":"<ol> <li>Webhook Trigger     \u8ba9\u5916\u90e8\u7cfb\u7edf/\u7f51\u9875/\u811a\u672c <code>POST/GET</code> \u5230\u4f60\u7684\u5de5\u4f5c\u6d41\uff0c\u5b9e\u65f6\u89e6\u53d1\uff1b\u6700\u901a\u7528\u3002</li> <li>Schedule Trigger\uff08\u5b9a\u65f6/Cron\uff09     \u56fa\u5b9a\u65f6\u95f4\u6216\u95f4\u9694\u8dd1\u4e00\u6b21\uff08\u62c9\u53d6\u4efb\u52a1\u3001\u6279\u5904\u7406\u3001ETL \u5e38\u7528\uff09\u3002</li> <li>Manual Trigger     \u53ea\u5728\u4f60\u70b9\u201c\u6267\u884c\u5de5\u4f5c\u6d41\u201d\u65f6\u89e6\u53d1\uff1b\u5f00\u53d1\u8c03\u8bd5\u8d77\u70b9\uff0c\u751f\u4ea7\u4e00\u822c\u4e0d\u7528\u5b83\u3002</li> <li>n8n Trigger     n8n \u5b9e\u4f8b/\u5de5\u4f5c\u6d41\u5c42\u9762\u7684\u4e8b\u4ef6\uff08\u542f\u52a8\u3001\u6fc0\u6d3b\u3001\u66f4\u65b0\u65f6\u89e6\u53d1\uff09\uff0c\u505a\u8fd0\u7ef4\u544a\u8b66\u3001\u70ed\u66f4\u65b0\u901a\u77e5\u5f88\u65b9\u4fbf\u3002</li> <li>Error Trigger     \u5176\u4ed6\u5de5\u4f5c\u6d41\u62a5\u9519\u65f6\u89e6\u53d1\u201c\u9519\u8bef\u5904\u7406\u201d\u5de5\u4f5c\u6d41\uff08\u96c6\u4e2d\u544a\u8b66\u3001\u8865\u507f\u91cd\u8bd5\uff09\u3002</li> </ol>"},{"location":"n8n/4.%E8%A7%A6%E5%8F%91%E5%99%A8%E8%8A%82%E7%82%B9%E7%B1%BB%E5%9E%8B/#_8","title":"\u5e38\u89c1\u4e1a\u52a1\u7c7b\uff08\u6309\u6570\u636e\u6e90/\u901a\u9053\uff09","text":"<ol> <li>IMAP Email Trigger / Gmail Trigger     \u6536\u5230\u65b0\u90ae\u4ef6\u6216\u6709\u5339\u914d\u89c4\u5219\u65f6\u89e6\u53d1\uff08\u81ea\u52a8\u5f52\u6863\u3001\u89e3\u6790\u9644\u4ef6\u3001\u8f6c\u53d1\u5230\u5de5\u5355\uff09\u3002</li> <li>Telegram Trigger / Slack Trigger\uff08\u804a\u5929\u673a\u5668\u4eba\uff09     \u6307\u4ee4/\u6309\u94ae\u56de\u8c03/\u7fa4\u4e8b\u4ef6\u89e6\u53d1\uff08\u5ba2\u670d\u673a\u5668\u4eba\u3001\u5ba1\u6279\u6d41\u3001\u7fa4\u7ba1\u5de5\u5177\uff09\u3002</li> <li>Google Drive / Dropbox \u7b49\u4e91\u76d8 Trigger     \u65b0\u6587\u4ef6/\u6587\u4ef6\u66f4\u65b0\u89e6\u53d1\uff08\u81ea\u52a8\u8f6c\u7801\u3001OCR\u3001\u5f52\u6863\u5230\u5bf9\u8c61\u5b58\u50a8\uff09\u3002</li> <li>Postgres Trigger\uff08\u6216\u8f6e\u8be2\u578b\u6570\u636e\u5e93\u53d8\u66f4\uff09     \u65b0\u589e/\u53d8\u66f4\u884c\u89e6\u53d1\uff08\u540c\u6b65\u5230\u4e0b\u6e38\u7cfb\u7edf\u3001\u751f\u6210\u901a\u77e5/\u62a5\u8868\uff09\u3002     \u6ce8\uff1a\u82e5\u6ca1\u6709\u4e13\u95e8\u7684 DB \u89e6\u53d1\u5668\u8282\u70b9\uff0c\u4e5f\u53ef\u7528 Schedule + \u67e5\u8be2\u589e\u91cf\u7684\u65b9\u5f0f\u66ff\u4ee3\u3002</li> <li> <p>Local File Trigger / SSE Trigger\uff08\u6587\u4ef6\u4e0e\u5b9e\u65f6\u6d41\uff09</p> </li> <li> <p>Local File\uff1a\u76d1\u542c\u672c\u5730\u76ee\u5f55\u589e\u5220\u6539\uff08\u81ea\u5efa\u90e8\u7f72\u5e38\u7528\uff09\u3002</p> </li> <li>SSE\uff1a\u8ba2\u9605 Server-Sent Events \u5b9e\u65f6\u6d88\u606f\uff08\u884c\u60c5/\u65e5\u5fd7/\u5185\u90e8\u4e8b\u4ef6\u6d41\uff09\u3002</li> </ol>"},{"location":"n8n/4.%E8%A7%A6%E5%8F%91%E5%99%A8%E8%8A%82%E7%82%B9%E7%B1%BB%E5%9E%8B/#_9","title":"\u9009\u578b\u5c0f\u6284","text":"<ul> <li>\u5916\u90e8\u7cfb\u7edf\u80fd\u56de\u8c03 \u2192 Webhook</li> <li>\u56fa\u5b9a\u65f6\u95f4\u8dd1\u6279/\u62c9\u65b0 \u2192 Schedule</li> <li>\u6536\u4ef6\u7bb1\u6709\u65b0\u90ae\u4ef6 \u2192 IMAP/Gmail</li> <li>\u804a\u5929/\u793e\u7fa4\u673a\u5668\u4eba \u2192 Telegram/Slack</li> <li>\u7f51\u76d8\u6709\u65b0\u6587\u4ef6 \u2192 Drive/Dropbox Trigger</li> <li>\u6570\u636e\u5e93\u6709\u65b0\u7eaa\u5f55 \u2192 Postgres Trigger\uff08\u6216\u201c\u5b9a\u65f6 + \u589e\u91cf\u67e5\u8be2\u201d\uff09</li> <li>\u9700\u8981\u5168\u5c40\u9519\u8bef\u544a\u8b66 \u2192 Error Trigger</li> <li>\u9700\u8981\u5185\u90e8\u590d\u7528/\u7f16\u6392 \u2192 \u7236\u6d41\u7528 Execute Workflow\uff0c\u5b50\u6d41\u5165\u53e3\u4ecd\u53ef\u7528 Webhook/Manual/n8n Trigger \u7b49</li> </ul>"},{"location":"n8n/5.%E5%8A%A8%E4%BD%9C%E8%8A%82%E7%82%B9%E7%B1%BB%E5%9E%8B/","title":"n8n\u52a8\u4f5c\u8282\u70b9\u7c7b\u578b","text":""},{"location":"n8n/5.%E5%8A%A8%E4%BD%9C%E8%8A%82%E7%82%B9%E7%B1%BB%E5%9E%8B/#n8n","title":"n8n\u52a8\u4f5c\u8282\u70b9\u7c7b\u578b","text":"<p>n8n \u5b98\u65b9\u628a\u6240\u6709\u52a8\u4f5c\u8282\u70b9\uff08Action nodes\uff09\u505a\u4e86\u4e24\u7c7b\u6587\u6863\u6c47\u603b\uff1a</p> <ol> <li>Core nodes\uff08\u901a\u7528\u52a8\u4f5c\uff09\uff1a\u5982 HTTP Request\u3001Code\u3001Set/\u7f16\u8f91\u5b57\u6bb5\u3001If/Switch\u3001Merge\u3001Loop Over Items\u3001Read/Write Files\u3001Git\u3001SSH/FTP\u3001GraphQL\u3001Date&amp;Time\u3001Remove Duplicates\u3001Sort\u3001Split Out\u3001Wait\u3001Respond to Webhook \u7b49\uff0c\u9010\u4e00\u90fd\u6709\u7528\u6cd5\u9875\u3002n8n \u6587\u6863+2n8n \u6587\u6863+2</li> <li>Actions library\uff08\u5e94\u7528\u96c6\u6210\u52a8\u4f5c\uff09\uff1a\u6309\u5e94\u7528\uff08Google\u3001AWS\u3001GitHub\u3001Slack\u3001Telegram\u3001Dropbox\u3001Box\u3001Kafka \u7b49\uff09\u5217\u51fa\uff0c\u6bcf\u4e2a\u5e94\u7528\u9875\u90fd\u4f1a\u5217\u53ef\u7528\u64cd\u4f5c\uff08Operations\uff09\u548c\u793a\u4f8b\uff0c\u6bd4\u5982 Gmail\uff08\u8349\u7a3f/\u6807\u7b7e/\u6d88\u606f\u4e09\u7c7b\u64cd\u4f5c\uff09\u3001Google Drive\uff08\u6587\u4ef6/\u6587\u4ef6\u5939/\u5171\u4eab\u76d8\u64cd\u4f5c\uff09\u7b49\u3002n8n \u6587\u6863</li> </ol>"},{"location":"n8n/5.%E5%8A%A8%E4%BD%9C%E8%8A%82%E7%82%B9%E7%B1%BB%E5%9E%8B/#_1","title":"\u5e38\u7528\u201c\u6838\u5fc3\u52a8\u4f5c\u8282\u70b9\u201d\u901f\u89c8","text":"<ul> <li>HTTP Request\uff1a\u8c03\u7528\u4efb\u610f REST/GraphQL API\uff1b\u652f\u6301\u5206\u9875\u3001\u9274\u6743\u7b49\u3002n8n \u6587\u6863+1</li> <li>Code\uff08JS / \u53d7\u9650 Python\uff09\uff1a\u505a\u6570\u636e\u6e05\u6d17\u3001\u91cd\u7ec4\u3001\u8ba1\u7b97\uff1b\u9875\u9762\u542b\u5185\u7f6e\u53d8\u91cf/\u793a\u4f8b\u3002n8n \u6587\u6863+1</li> <li>Edit Fields (Set) / Rename Keys / Remove Duplicates / Sort / Aggregate\uff1a\u5e38\u89c1\u6570\u636e\u6574\u5f62\u3002n8n \u6587\u6863</li> <li>If / Switch / Merge / Loop Over Items\uff1a\u5206\u652f\u3001\u8def\u7531\u3001\u5408\u5e76\u4e0e\u6279\u91cf\u5904\u7406\u3002n8n \u6587\u6863</li> <li>Read/Write Files from Disk / Convert to File / Edit Image\uff1a\u6587\u4ef6\u4e0e\u4e8c\u8fdb\u5236\u5904\u7406\uff08\u81ea\u5efa\u66f4\u5e38\u7528\uff09\u3002n8n \u6587\u6863</li> <li>Git / SSH / FTP\uff1a\u5728\u6d41\u7a0b\u91cc\u62c9\u4ee3\u7801\u3001\u8dd1\u547d\u4ee4\u3001\u4f20\u6587\u4ef6\u3002n8n \u6587\u6863</li> <li>Respond to Webhook\uff1a\u7ed9\u4e0a\u6e38 HTTP \u8c03\u7528\u8fd4\u56de\u81ea\u5b9a\u4e49\u54cd\u5e94\u3002n8n \u6587\u6863</li> </ul>"},{"location":"n8n/5.%E5%8A%A8%E4%BD%9C%E8%8A%82%E7%82%B9%E7%B1%BB%E5%9E%8B/#_2","title":"\u54ea\u91cc\u770b\u201c\u5168\u91cf\u6e05\u5355 + \u7528\u6cd5\u201d","text":"<ul> <li>Actions library\uff08\u52a8\u4f5c\u603b\u8868\uff09\uff1a\u5185\u7f6e\u6240\u6709\u5e94\u7528\u52a8\u4f5c\u8282\u70b9\u7684\u76ee\u5f55\u9875\uff0c\u70b9\u8fdb\u6bcf\u4e2a\u5e94\u7528\u5c31\u80fd\u770b\u5230\u652f\u6301\u7684\u64cd\u4f5c\u4e0e\u53c2\u6570\u8bf4\u660e\u3002n8n \u6587\u6863</li> <li>Core nodes library\uff08\u6838\u5fc3\u8282\u70b9\u603b\u8868\uff09\uff1a\u901a\u7528\u52a8\u4f5c\u8282\u70b9\u7684\u6587\u6863\u5165\u53e3\u3002n8n \u6587\u6863</li> <li>\u201cNodes\u201d \u6982\u5ff5\u9875\uff1a\u8bf4\u660e\u4ec0\u4e48\u662f Action\u3001\u5982\u4f55\u5728\u7f16\u8f91\u5668\u91cc\u9009\u62e9\uff1b\u4f60\u5728\u7f16\u8f91\u5668\u9762\u677f\u91cc\u641c\u7d22\u201cAction/\u5e94\u7528\u540d\u201d\u5373\u53ef\u5feb\u901f\u5b9a\u4f4d\u5bf9\u5e94\u8282\u70b9\u3002n8n \u6587\u6863</li> </ul>"},{"location":"n8n/6.nginx%E4%B8%8E%E5%9F%9F%E5%90%8D%E7%BB%91%E5%AE%9A/","title":"6.nginx\u4e0e\u57df\u540d\u7ed1\u5b9a","text":""},{"location":"n8n/6.%E7%AC%AC%E4%BA%8C%E4%B8%AA%E5%B7%A5%E4%BD%9C%E6%B5%81telegramBot%E6%8E%A5%E5%85%A5deepseek%E5%AF%B9%E8%AF%9D/","title":"6.\u7b2c\u4e8c\u4e2a\u5de5\u4f5c\u6d41telegramBot\u63a5\u5165deepseek\u5bf9\u8bdd","text":""},{"location":"nordic/nordic%20sdk%E5%AE%89%E8%A3%85%E4%BB%A5%E5%8F%8A%E7%AC%AC%E4%B8%80%E4%B8%AA%E6%B5%8B%E8%AF%95%E7%A8%8B%E5%BA%8F/","title":"Nordic sdk\u5b89\u88c5\u4ee5\u53ca\u7b2c\u4e00\u4e2a\u6d4b\u8bd5\u7a0b\u5e8f","text":""},{"location":"nordic/nordic%20sdk%E5%AE%89%E8%A3%85%E4%BB%A5%E5%8F%8A%E7%AC%AC%E4%B8%80%E4%B8%AA%E6%B5%8B%E8%AF%95%E7%A8%8B%E5%BA%8F/#nordic-sdk","title":"nordic sdk\u5b89\u88c5  \u4ee5\u53ca\u7b2c\u4e00\u4e2a\u6d4b\u8bd5\u7a0b\u5e8f","text":"<p>\u89c6\u9891\u6559\u7a0b</p> <p>https://www.youtube.com/watch?v=EAJdOqsL9m8&amp;list=PLx_tBuQ_KSqEt7NK-H7Lu78lT2OijwIMl</p> <p>doc</p> <p>https://docs.nordicsemi.com/bundle/nrf-connect-vscode/page/get_started/quick_setup.html</p>"},{"location":"nordic/nordic%20sdk%E5%AE%89%E8%A3%85%E4%BB%A5%E5%8F%8A%E7%AC%AC%E4%B8%80%E4%B8%AA%E6%B5%8B%E8%AF%95%E7%A8%8B%E5%BA%8F/#1","title":"1.\u5b89\u88c5\u547d\u4ee4\u884c\u5de5\u5177","text":"<p>https://www.nordicsemi.com/Products/Development-tools/nRF-Command-Line-Tools/Download?utm_campaign=Product%20Launches&amp;utm_source=youtube&amp;utm_medium=social&amp;utm_content=Download%20nRF%20Command%20Line%20Tools</p> <p></p> <p>\u4e00\u8def\u5b89\u88c5\uff0c\u6700\u540e\u53ef\u80fd\u8981\u6c42\u5b89\u88c5j-link ,\u5b89\u88c5\u66f4\u65b0\u5c31\u884c</p>"},{"location":"nordic/nordic%20sdk%E5%AE%89%E8%A3%85%E4%BB%A5%E5%8F%8A%E7%AC%AC%E4%B8%80%E4%B8%AA%E6%B5%8B%E8%AF%95%E7%A8%8B%E5%BA%8F/#2vscodenordic","title":"2.\u5728vscode\u4e2d\u641c\u7d22nordic\u7684\u6269\u5c55\u5305\u5e76\u5b89\u88c5","text":""},{"location":"nordic/nordic%20sdk%E5%AE%89%E8%A3%85%E4%BB%A5%E5%8F%8A%E7%AC%AC%E4%B8%80%E4%B8%AA%E6%B5%8B%E8%AF%95%E7%A8%8B%E5%BA%8F/#3sdk","title":"3.\u624b\u52a8\u5b89\u88c5sdk\u4e0e\u5de5\u5177\u94fe","text":"<ul> <li>\u8fd9\u91cc\u53ef\u4ee5\u9009\u62e9\u5b89\u88c5\u6700\u65b0\u7248\u672c\uff0c\u8fc7\u7a0b\u5f88\u6162</li> <li>\u5b89\u88c5\u597d\u9ed8\u8ba4\u5728C\u76d8ncs\u76ee\u5f55</li> </ul>"},{"location":"nordic/nordic%20sdk%E5%AE%89%E8%A3%85%E4%BB%A5%E5%8F%8A%E7%AC%AC%E4%B8%80%E4%B8%AA%E6%B5%8B%E8%AF%95%E7%A8%8B%E5%BA%8F/#4-nrfutil","title":"4.\u5b89\u88c5 nrfutil","text":"<p>https://www.nordicsemi.com/Products/Development-tools/nRF-Util</p> <p>\u4e0b\u8f7d\u4e00\u4e2anrfutil.exe \u6587\u4ef6\uff0c\u76f4\u63a5\u6dfb\u52a0\u5230\u73af\u5883\u53d8\u91cf</p> <ul> <li>nRF Util<code>device</code>\u547d\u4ee4\u53ef\u4ee5\u5217\u51fa\u3001\u7f16\u7a0b\u3001\u6062\u590d\u3001\u64e6\u9664\u4ee5\u53ca\u5bf9 Nordic \u8bbe\u5907\u6267\u884c\u5404\u79cd\u64cd\u4f5c\u3002\u5b83\u652f\u6301 MCUboot \u548c J-Link\u3002 </li> </ul>"},{"location":"nordic/nordic%20sdk%E5%AE%89%E8%A3%85%E4%BB%A5%E5%8F%8A%E7%AC%AC%E4%B8%80%E4%B8%AA%E6%B5%8B%E8%AF%95%E7%A8%8B%E5%BA%8F/#5","title":"5.\u6784\u5efa\u7b2c\u4e00\u4e2a\u5e94\u7528\u7a0b\u5e8f","text":"<p>\u4ee5nrf52840-dk\u4e3a\u4f8b</p>"},{"location":"nordic/nordic%20sdk%E5%AE%89%E8%A3%85%E4%BB%A5%E5%8F%8A%E7%AC%AC%E4%B8%80%E4%B8%AA%E6%B5%8B%E8%AF%95%E7%A8%8B%E5%BA%8F/#1vscodesdk","title":"1.vscode\u6253\u5f00sdk\u6587\u4ef6\u5939","text":""},{"location":"nordic/nordic%20sdk%E5%AE%89%E8%A3%85%E4%BB%A5%E5%8F%8A%E7%AC%AC%E4%B8%80%E4%B8%AA%E6%B5%8B%E8%AF%95%E7%A8%8B%E5%BA%8F/#2","title":"2. \u62f7\u8d1d\u4e00\u4e2a\u793a\u4f8b\u7a0b\u5e8f","text":"<p>\u9009\u62e9\u4f7f\u7528\u7684sdk</p> <p></p> <p>\u8f93\u5165\u8981\u62f7\u8d1d\u7684\u793a\u4f8b\u5e76\u9009\u62e9</p> <p></p> <p>\u8f93\u5165\u8981\u62f7\u8d1d\u7684\u8def\u5f84\u4f5c\u4e3a\u5de5\u4f5c\u76ee\u5f55</p> <ul> <li>\u8f93\u5165\u597d\u4ee5\u540e\u56de\u8f66</li> </ul> <p></p>"},{"location":"nordic/nordic%20sdk%E5%AE%89%E8%A3%85%E4%BB%A5%E5%8F%8A%E7%AC%AC%E4%B8%80%E4%B8%AA%E6%B5%8B%E8%AF%95%E7%A8%8B%E5%BA%8F/#3","title":"3.\u6253\u5f00\u62f7\u8d1d\u597d\u7684\u793a\u4f8b\u5de5\u4f5c\u76ee\u5f55","text":""},{"location":"nordic/nordic%20sdk%E5%AE%89%E8%A3%85%E4%BB%A5%E5%8F%8A%E7%AC%AC%E4%B8%80%E4%B8%AA%E6%B5%8B%E8%AF%95%E7%A8%8B%E5%BA%8F/#4","title":"4. \u6dfb\u52a0\u7f16\u8bd1\u914d\u7f6e\u9879\uff0c\u7f16\u8bd1\uff0c\u5728\u6b64\u4e4b\u524d\u53ef\u4ee5\u5148\u6253\u5f00\u4e00\u4e2a\u7ec8\u7aef\u67e5\u770b\u7f16\u8bd1\u8fc7\u7a0b","text":"<p>\u7f16\u8bd1\u4fe1\u606f\u5982\u4e0b</p> <pre><code> *  \u6b63\u5728\u6267\u884c\u4efb\u52a1: nRF Connect: Generate config nrf52840dk/nrf52840 for c:\\ncs\\nrf52840\\blinky \n\nBuilding blinky\nC:\\WINDOWS\\system32\\cmd.exe /d /s /c \"west build --build-dir c:/ncs/nrf52840/blinky/build c:/ncs/nrf52840/blinky --pristine --board nrf52840dk/nrf52840 -- -DBOARD_ROOT=c:/ncs/nrf52840/blinky\"\n\n-- west build: generating a build system\nLoading Zephyr module(s) (Zephyr base): sysbuild_default\n-- Found Python3: C:/ncs/toolchains/0b393f9e1b/opt/bin/python.exe (found suitable version \"3.12.4\", minimum required is \"3.10\") found components: Interpreter \n-- Cache files will be written to: C:/ncs/v3.0.2/zephyr/.cache\n-- Found west (found suitable version \"1.2.0\", minimum required is \"0.14.0\")\n-- Board: nrf52840dk, qualifiers: nrf52840\nParsing C:/ncs/v3.0.2/zephyr/share/sysbuild/Kconfig\nLoaded configuration 'C:/ncs/nrf52840/blinky/build/_sysbuild/empty.conf'\nMerged configuration 'C:/ncs/nrf52840/blinky/build/_sysbuild/empty.conf'\nConfiguration saved to 'C:/ncs/nrf52840/blinky/build/zephyr/.config'\nKconfig header saved to 'C:/ncs/nrf52840/blinky/build/_sysbuild/autoconf.h'\n-- \n   ****************************\n   * Running CMake for blinky *\n   ****************************\n\nLoading Zephyr default modules (Zephyr base).\n-- Application: C:/ncs/nrf52840/blinky\n-- CMake version: 3.21.0\n-- Found Python3: C:/ncs/toolchains/0b393f9e1b/opt/bin/python.exe (found suitable version \"3.12.4\", minimum required is \"3.10\") found components: Interpreter \n-- Cache files will be written to: C:/ncs/v3.0.2/zephyr/.cache\n-- Zephyr version: 4.0.99 (C:/ncs/v3.0.2/zephyr)\n-- Found west (found suitable version \"1.2.0\", minimum required is \"0.14.0\")\n-- Board: nrf52840dk, qualifiers: nrf52840\n-- Found host-tools: zephyr 0.17.0 (C:/ncs/toolchains/0b393f9e1b/opt/zephyr-sdk)\n-- Found toolchain: zephyr 0.17.0 (C:/ncs/toolchains/0b393f9e1b/opt/zephyr-sdk)\n-- Found Dtc: C:/ncs/toolchains/0b393f9e1b/opt/bin/dtc.exe (found suitable version \"1.4.7\", minimum required is \"1.4.6\") \n-- Found BOARD.dts: C:/ncs/v3.0.2/zephyr/boards/nordic/nrf52840dk/nrf52840dk_nrf52840.dts\n-- Generated zephyr.dts: C:/ncs/nrf52840/blinky/build/blinky/zephyr/zephyr.dts\n-- Generated pickled edt: C:/ncs/nrf52840/blinky/build/blinky/zephyr/edt.pickle\n-- Generated zephyr.dts: C:/ncs/nrf52840/blinky/build/blinky/zephyr/zephyr.dts\n-- Generated devicetree_generated.h: C:/ncs/nrf52840/blinky/build/blinky/zephyr/include/generated/zephyr/devicetree_generated.h\n-- Including generated dts.cmake file: C:/ncs/nrf52840/blinky/build/blinky/zephyr/dts.cmake\nParsing C:/ncs/v3.0.2/zephyr/Kconfig\nLoaded configuration 'C:/ncs/v3.0.2/zephyr/boards/nordic/nrf52840dk/nrf52840dk_nrf52840_defconfig'\nMerged configuration 'C:/ncs/nrf52840/blinky/prj.conf'\nMerged configuration 'C:/ncs/nrf52840/blinky/build/blinky/zephyr/.config.sysbuild'\nConfiguration saved to 'C:/ncs/nrf52840/blinky/build/blinky/zephyr/.config'\nKconfig header saved to 'C:/ncs/nrf52840/blinky/build/blinky/zephyr/include/generated/zephyr/autoconf.h'\n-- Found GnuLd: c:/ncs/toolchains/0b393f9e1b/opt/zephyr-sdk/arm-zephyr-eabi/arm-zephyr-eabi/bin/ld.bfd.exe (found version \"2.38\") \n-- The C compiler identification is GNU 12.2.0\n-- The CXX compiler identification is GNU 12.2.0\n-- The ASM compiler identification is GNU\n-- Found assembler: C:/ncs/toolchains/0b393f9e1b/opt/zephyr-sdk/arm-zephyr-eabi/bin/arm-zephyr-eabi-gcc.exe\n-- Configuring done\n-- Generating done\n-- Build files have been written to: C:/ncs/nrf52840/blinky/build/blinky\n-- Configuring done\n-- Generating done\n-- Build files have been written to: C:/ncs/nrf52840/blinky/build\n-- west build: building application\n[4/152] Generating include/generated/zephyr/version.h\n-- Zephyr version: 4.0.99 (C:/ncs/v3.0.2/zephyr), build: v4.0.99-ncs1-2\n[152/152] Linking C executable zephyr\\zephyr.elf\nMemory region         Used Size  Region Size  %age Used\n           FLASH:       22012 B         1 MB      2.10%\n             RAM:        7680 B       256 KB      2.93%\n        IDT_LIST:          0 GB        32 KB      0.00%\nGenerating files from C:/ncs/nrf52840/blinky/build/blinky/zephyr/zephyr.elf for board: nrf52840dk\n[10/10] Generating ../merged.hex\n</code></pre>"},{"location":"nordic/nordic%20sdk%E5%AE%89%E8%A3%85%E4%BB%A5%E5%8F%8A%E7%AC%AC%E4%B8%80%E4%B8%AA%E6%B5%8B%E8%AF%95%E7%A8%8B%E5%BA%8F/#_1","title":"\u4e0b\u8f7d","text":""},{"location":"openwrt/1.vmware%E5%AE%89%E8%A3%85istoreos/","title":"1.vmware\u5b89\u88c5istoreos","text":"<p>\u4e0b\u8f7d\u540e\u7f00vmdk.gz\u6587\u4ef6</p> <p>\u53c2\u8003\u89c6\u9891</p> <p>https://www.bilibili.com/video/BV1gSQzYeEEq/?spm_id_from=333.337.search-card.all.click&amp;vd_source=fa0653f564ca121b33d552a5a430612d</p>"},{"location":"openwrt/2.vmware%E5%AE%89%E8%A3%85istoreos%E5%8F%AA%E6%9C%8910M%E7%BD%91%E7%BB%9C%E8%A7%A3%E5%86%B3/","title":"2.vmware\u5b89\u88c5istoreos\u53ea\u670910M\u7f51\u7edc\u89e3\u51b3","text":"<p>\u53c2\u8003\u8fd9\u4e2a\u6709\u7528</p>"},{"location":"openwrt/3.openwrt%E5%AE%89%E8%A3%85%E6%8F%92%E4%BB%B6/","title":"3.openwrt\u5b89\u88c5\u63d2\u4ef6","text":"<p>\u9002\u7528\u4e8ex86 \u6216\u8005arm\u7684\u63d2\u4ef6\u5305</p> <p>\u4e0b\u8f7d\u5982\u4e0b</p> <p></p> <p>\u901a\u8fc7istoreos\u624b\u52a8\u5b89\u88c5</p> <p></p> <p>\u5b89\u88c5\u5b8c\u5c31\u6709\u4e86</p> <p></p>"},{"location":"openwrt/4.passwall%E5%92%8Cpasswall2%E5%A6%82%E4%BD%95%E9%80%89/","title":"4.passwall\u548cpasswall2\u5982\u4f55\u9009","text":"<p>PassWall2 \u4e0d\u662f PassWall \u7684\u201c\u5347\u7ea7\u7248\u201d\uff0c\u800c\u662f\u540c\u4f5c\u8005\u7ef4\u62a4\u7684\u53e6\u4e00\u5957\u72ec\u7acb\u63d2\u4ef6\uff08\u4e24\u8005\u53ef\u5e76\u5b58\uff09\u3002\u533a\u522b\u4e3b\u8981\u5728\u201c\u5185\u6838\u4e0e\u4fa7\u91cd\u70b9\u201d\u2014\u2014</p> <ul> <li>\u5b9a\u4f4d\uff1a\u5b98\u65b9\u6587\u6863\u8bf4\u660e luci-app-passwall \u548c luci-app-passwall2 \u662f\u4e24\u5957\u72ec\u7acb\u63d2\u4ef6\uff0c\u53ef\u540c\u65f6\u4f7f\u7528\u6216\u4e8c\u9009\u4e00\u3002doc-en.rvspace.org</li> <li>\u5185\u6838\u4e0e\u534f\u8bae\uff1aPassWall2 \u66f4\u504f\u5411 sing-box \u751f\u6001\uff0c\u540c\u65f6\u4e5f\u6253\u5305\u4e86\u65b0\u534f\u8bae\uff08\u5982 Reality\u3001Hysteria2\u3001TUIC v5\u3001SS-2022 \u7b49\uff09\uff1b\u5176\u53d1\u5e03\u9875\u91cc\u80fd\u770b\u5230\u540c\u65f6\u5305\u542b sing-box \u4e0e xray-core \u7b49\u4f9d\u8d56\u7248\u672c\u3002PassWall \u5219\u957f\u671f\u4ee5 Xray \u4e3a\u4e3b\uff0c\u4f46\u8fd1\u671f\u4e5f\u517c\u5bb9 sing-box \u7684\u5206\u6d41\u65b9\u5f0f\u3002GitHub+1</li> <li>\u4f9d\u8d56\u4ed3\uff1a\u4e24\u8005\u5171\u7528\u540c\u4e00\u5957\u4f9d\u8d56\u5305\u4ed3\uff08openwrt-passwall-packages\uff09\uff0c\u56e0\u6b64\u5f88\u591a\u5e95\u5c42\u7ec4\u4ef6\u662f\u5171\u4eab\u7684\u3002GitHub</li> </ul>"},{"location":"openwrt/4.passwall%E5%92%8Cpasswall2%E5%A6%82%E4%BD%95%E9%80%89/#_1","title":"\u8be5\u600e\u4e48\u9009","text":"<ul> <li>\u8ffd\u65b0\u534f\u8bae/\u89c4\u5219\u96c6\uff08Reality/Hy2/TUICv5\u3001\u89c4\u5219\u96c6\u5de5\u4f5c\u6d41\uff09\u2192 \u9009 PassWall2\u3002</li> <li>\u4ee5 Xray/VMess/VLESS \u4e3a\u4e3b\u3001\u60f3\u8981\u6210\u719f\u7a33\u59a5\u7684\u914d\u7f6e\u4f53\u9a8c \u2192 \u9009 PassWall\u3002</li> </ul>"},{"location":"openwrt/5.openwrt%E6%97%81%E8%B7%AF%E7%94%B1/","title":"5.openwrt\u65c1\u8def\u7531","text":"<p>\u8bbe\u7f6e\u4e3a\u65c1\u8def\u7531\u6a21\u5f0f\uff0c\u9759\u6001ip\uff0c</p> <p></p> <p>passwall\u5bfc\u5165\u8282\u70b9</p> <p>\u4e3b\u673a\u6216\u8005\u624b\u673a\u5c06\u7f51\u7ba1\u8bbe\u7f6e\u4e3a\u8fd9\u4e2a\u65c1\u8def\u7531\u7684ip,\u5373\u53ef\u79d1\u5b66\u4e0a\u7f51\uff0cpasswall\u652f\u6301\u5206\u6d41\u89c4\u5219</p> <p>youtube 4k\u6d4b\u8bd5\u5982\u4e0b\uff0c\u65e5\u672c\u8282\u70b9</p> <p></p>"},{"location":"openwrt/6.passwall%E8%A7%84%E5%88%99%E5%88%97%E8%A1%A8/","title":"6.passwall\u89c4\u5219\u5217\u8868","text":"<p>\u6211\u5728\u8bbf\u95ee   cloudflare   \u7f51\u7ad9\u65f6\u53d1\u73b0\u8fdb\u4e0d\u53bb\uff0c \u5e94\u8be5\u662f\u8d70\u7684\u76f4\u8fde\u5bfc\u81f4\u7684\uff0c\u5e76\u6ca1\u6709\u4ee3\u7406\u8fd9\u4e2aip,   https://dash.cloudflare.com/  \uff0c\u8fd9\u65f6\u5019\u5c06\u8be5\u57df\u540d\u52a0\u5165\u4ee3\u7406\u7684\u5217\u8868\u5c31\u884c</p> <p>\u8fd9\u4e2a\u89c4\u5219\u53ef\u4ee5\u8ba9\u6211\u4eec\u914d\u7f6e\u54ea\u4e9b\u57df\u540d\u6216\u8005ip\u8d70\u76f4\u8fde\u6216\u8005 \u662f\u8d70\u4ee3\u7406</p> <p></p>"},{"location":"other/ST%E4%BA%91%E5%AE%9E%E9%AA%8C%E5%AE%A4%E7%94%B5%E6%9C%BA%E6%B5%8B%E8%AF%95/","title":"ST\u4e91\u5b9e\u9a8c\u5ba4\u7535\u673a\u6d4b\u8bd5","text":""},{"location":"other/ST%E4%BA%91%E5%AE%9E%E9%AA%8C%E5%AE%A4%E7%94%B5%E6%9C%BA%E6%B5%8B%E8%AF%95/#st","title":"ST\u4e91\u5b9e\u9a8c\u5ba4\u7535\u673a\u8bc4\u6d4b","text":"<p>\u94fe\u63a5\u5730\u5740\uff1ahttps://livebench.tenxerlabs.com/app/motor_control_foc_sdk</p> <p>\u57fa\u4e8eSTM32G4\u3001STDRIVE101\u3001STL90N10F7\u7684\u6c38\u78c1\u540c\u6b65\u7535\u673a\u7684\u78c1\u573a\u5b9a\u5411\u63a7\u5236\u8bc4\u4f30\u5957\u4ef6 \u6982\u8ff0</p> <p></p> <p>\u53ef\u4ee5\u770b\u5230\u6b64\u4e91\u5e73\u53f0\u5b9e\u9645\u4e0a\u662f\u4e00\u5957\u81ea\u52a8\u5316\u6d41\u7a0b\uff0c\u5f53\u767b\u5f55\u7528\u6237\u70b9\u51fbPLUG IN \u65f6\uff0c\u63a7\u5236\u6240\u6709\u8bbe\u5907\u4e0a\u7535</p> <ul> <li>\u70b9\u51fb\u8fde\u63a5\u540e\uff0c\u8bbe\u5907\u4e0a\u7535\uff0c\u9700\u8981\u7b49\u5f85\u4e00\u4f1a\u513f \u8bbe\u5907\u542f\u52a8\u5b8c\u6210\uff0c\u65e5\u5fd7\u67e5\u770b\u662f\u5426\u542f\u52a8\u5b8c\u6210</li> </ul> <p></p> <p></p> <p>\u754c\u9762\u5c55\u793a</p> <ul> <li>\u8fdb\u7a0b\u65e5\u5fd7</li> <li>\u793a\u6ce2\u5668</li> <li>cli</li> <li>\u89c6\u9891\u76f4\u64ad</li> <li>\u70ed\u56fe</li> <li>\u76f8\u7535\u6d41(\u88ab\u6d4b\u7535\u673a)</li> <li>\u7535\u6e90</li> </ul> <p></p> <p></p> <ul> <li>\u70b9\u51fbconnect \u8fde\u63a5\u4e0a\u4f4d\u673a\u8fdb\u884c\u63a7\u5236</li> </ul> <p></p> <ul> <li>\u6210\u529f\u8fde\u63a5\u4e0a\u4e86\uff0c\u5982\u4e0b</li> </ul> <p></p> <ul> <li>\u8bbe\u7f6e\u76ee\u6807\u8f6c\u901f\u542f\u52a8\u7535\u673a</li> </ul> <p></p> <p></p> <p>\u6d4b\u91cf\u7535\u673a\u7684\u7535\u6d41</p> <p></p> <p></p> <ul> <li>\u8dd1\u4e00\u4f1a\u513f\u5e94\u8be5\u53ef\u4ee5\u770b\u5230\u70ed\u56fe\u53d8\u5316\uff0c\u6709\u51e0\u4e2a\u53d1\u70ed\u70b9\uff0c\uff08\u5149\u6807\u653e\u5728\u54ea\u513f\u53ef\u6d4b\u91cf\u54ea\u513f\u7684\u6e29\u5ea6\uff09</li> <li>\u73b0\u5728\u6e29\u5ea6\u4e0d\u662f\u5f88\u9ad8\uff0c\u8f6c\u901f\u624d1500\uff0c\u6700\u5927\u8f6c\u901f\u53ef\u4ee54500\uff0c\u63d0\u9ad8\u8f6c\u901f\u770b\u770b\u6e29\u5ea6</li> </ul> <p></p> <p>\u7b80\u4ecb</p> <p>\u6b22\u8fce\u8bc4\u4f30\u57fa\u4e8eSTM32G4\u3001STDRIVE101\u3001STL90N10F7\u7684\u6c38\u78c1\u540c\u6b65\u7535\u673a\u7684\u78c1\u573a\u5b9a\u5411\u63a7\u5236\u5957\u4ef6\u3002</p> <p>\u672c\u5b9e\u9a8c\u65e8\u5728\u901a\u8fc7\u77e2\u91cf\u63a7\u5236\uff08FOC\uff09\u63a7\u5236\u6c38\u78c1\u540c\u6b65\u7535\u673a\uff08PMSM\uff09\uff0c\u5e76\u8bc4\u4f30STM32\u7535\u673a\u63a7\u5236\u8f6f\u4ef6\u5f00\u53d1\u5957\u4ef6\uff08MCSDK\uff09\u3002</p> <p>\u672c\u8bc4\u4f30\u5957\u4ef6\u6784\u5efa\u7684\u57fa\u4e8eSTM32G4, STDRIVE101, STL90N10F7\u7684\u6c38\u78c1\u540c\u6b65\u7535\u673aFOC\u63a7\u5236\u5e73\u53f0\uff0c\u5c06\u4e24\u4e2a\u5b8c\u5168\u4e00\u6837\u7684\u6c38\u78c1\u540c\u6b65\u7535\u673a\u8026\u5408\u8d77\u6765\uff0c\u4e00\u4e2a\u4f5c\u4e3a\u52a0\u8f7d\u7535\u673a\uff0c\u4e00\u4e2a\u4f5c\u4e3a\u88ab\u6d4b\u7535\u673a\u3002\u5176\u4e2d\uff0c\u88ab\u6d4b\u7535\u673a\u4f7f\u7528B-G473E-ZEST1S+STEVAL-LVLP01\u8fdb\u884c\u63a7\u5236\uff0c\u52a0\u8f7d\u7535\u673a\u4f7f\u7528EVALKIT-ROBOT-1\u5957\u4ef6\u3002\u7528\u6237\u53ef\u4ee5\u901a\u8fc7Motor Pilot(MCSDK v6.3.0\u7684\u4e00\u90e8\u5206)\u63a7\u5236\u88ab\u6d4b\u7535\u673a\u7684\u542f\u505c\u548c\u671f\u671b\u901f\u5ea6\uff1b\u901a\u8fc7CLI\u547d\u4ee4\u754c\u9762\u63a7\u5236\u52a0\u8f7d\u7535\u673a\u7684\u542f\u505c\u548c\u52a0\u8f7d\u5927\u5c0f\u3002\u8fd9\u4e2a\u8fc7\u7a0b\u4e2d\u7684\u7535\u6d41\u3001\u7535\u538b\u3001\u70ed\u6570\u636e\u4ee5\u53ca\u4e24\u4e2a\u7535\u673a\u7684\u72b6\u6001\u90fd\u53ef\u4ee5\u901a\u8fc7\u53f3\u4fa7\u7684\u663e\u793a\u680f\u8fdb\u884c\u76d1\u63a7\u3002</p> <p>\u4f7f\u7528\u6307\u5357</p> <p>1.Motor Pilot GUI \u8fde\u63a5 - \u70b9\u51fb\u201cConnect\u201d\u4ee5\u5efa\u7acb\u786c\u4ef6\u8fde\u63a5\uff0c\u5e76\u786e\u8ba4\u9a71\u52a8\u677f\u7684\u8fde\u63a5\u72b6\u6001\u3002</p> <p>2.\u542f\u52a8\u7535\u673a - \u786e\u8ba4\u7535\u673a\u72b6\u6001\uff0c\u5e76\u8bbe\u7f6e\u76ee\u6807\u901f\u5ea6\uff08\u6700\u9ad84000 RPM\uff09\uff0c\u70b9\u51fb\u201cStart\u201d\u4ee5\u542f\u52a8\u7535\u673a\uff0c\u5e76\u76d1\u63a7\u5b9e\u65f6\u53c2\u6570\u3002</p> <p>3.\u56fe\u5f62\u6570\u636e - \u70b9\u51fb\u9876\u90e8\u56fe\u6807 --&gt; \u53f3\u952e\u6dfb\u52a0\u76f8\u7535\u6d41\uff08I_A\u548cI_B\uff09\uff0c\u5e76\u4f7f\u7528\u201csnapshots\u201d \u622a\u56fe\u4fdd\u5b58\u6570\u636e\u3002</p> <p>4.\u8c03\u6574\u8d1f\u8f7d\u7535\u673a\u7684\u8d1f\u8f7d</p> <p>\u66f4\u591a\u6709\u5173\u7535\u673a\u63a7\u5236\u754c\u9762\u7684\u4fe1\u606f\uff0c\u8bf7\u53c2\u8003ST Motor Pilot GUI \u7528\u6237\u6307\u5357\u3002</p> <p>https://tenxer-sw-download.s3.us-east-1.amazonaws.com/CE+Projects/STMicroelectronics+Designs/C-0154/Motor_Pilot_GUI_QUG.pdf</p> <p>\u8be5\u6587\u6863\u63d0\u4f9b\u4e86\u4f7f\u7528\u610f\u6cd5\u534a\u5bfc\u4f53\u7535\u673a\u5148\u5bfcGUI\u8f6f\u4ef6\u914d\u7f6e\u548c\u63a7\u5236PMSM FOC\u8bc4\u4f30\u5957\u4ef6\u7684\u5feb\u901f\u6f14\u793a\uff0c\u5b83\u63d0\u4f9b\u4e86\u5982\u4f55\u5c06GUI\u8fde\u63a5\u5230\u786c\u4ef6\uff0c\u914d\u7f6e\u7535\u673a\u901f\u5ea6\uff0c\u626d\u77e9\uff0c\u7535\u538b\u548c\u7535\u6d41\u53c2\u6570\u7684\u9010\u6b65\u8bf4\u660e\u3002 \u8be5\u6307\u5357\u6709\u52a9\u4e8e\u542f\u52a8\u7535\u673a\uff0c\u5982\u4f55\u4f7f\u7528GUI\u7684\u529f\u80fd\u5728\u56fe\u5f62\u4e0a\u7ed8\u56fe\u3002</p> <p>\u5982\u4e0b\uff1a</p> <p></p>"},{"location":"other/%E7%99%BE%E9%97%AE%E7%BD%91%E6%99%BA%E8%83%BD%E5%AE%B6%E5%B1%85%E6%8E%A7%E5%88%B6%E7%BD%91%E9%A1%B5/","title":"\u767e\u95ee\u7f51\u667a\u80fd\u5bb6\u5c45\u63a7\u5236\u7f51\u9875","text":"<p>https://github.com/newbie-jiang/100ask-study</p>"},{"location":"other/%E7%99%BE%E9%97%AE%E7%BD%91%E6%99%BA%E8%83%BD%E5%AE%B6%E5%B1%85%E6%8E%A7%E5%88%B6%E7%BD%91%E9%A1%B5/#1","title":"1.\u5b89\u88c5\u4f9d\u8d56","text":"<p>\u4e0b\u8f7d Node.js \u5b89\u88c5\u5305   https://nodejs.org/zh-cn/download   \u63a8\u8350\u4e0b\u8f7d LTS\uff08\u957f\u671f\u652f\u6301\u7248\uff09Installer\uff08.msi \u6587\u4ef6\uff09</p> <ul> <li> <p>\u4e00\u8def\u201c\u4e0b\u4e00\u6b65\u201d\u5373\u53ef\uff0c\u9ed8\u8ba4\u52fe\u9009\u5c31\u884c\u3002</p> </li> <li> <p>\u5b89\u88c5\u5b8c\u6210\u540e\u9a8c\u8bc1</p> </li> </ul> <pre><code>node -v\nnpm -v\n</code></pre> <p>\u90fd\u80fd\u770b\u5230\u7248\u672c\u53f7\u8bf4\u660e\u5b89\u88c5\u6210\u529f\u3002</p> <p>src\u76ee\u5f55\u4e0b\" \u5b89\u88c5\u4f9d\u8d56 \" \uff08\u6ce8\u610f\u5fc5\u987b\u662findex.html\u6587\u4ef6\u76ee\u5f55\u4e0b\uff09</p> <p></p> <pre><code>npm install ws\n</code></pre> <p>\u4f1a\u5c06\u4f9d\u8d56\u5305\u5b89\u88c5\u5728\u6b64\u5904</p> <p></p>"},{"location":"other/%E7%99%BE%E9%97%AE%E7%BD%91%E6%99%BA%E8%83%BD%E5%AE%B6%E5%B1%85%E6%8E%A7%E5%88%B6%E7%BD%91%E9%A1%B5/#2","title":"2.\u4f7f\u7528","text":"<p>\u542f\u52a8\u4ee3\u7406\uff1a(\u4fdd\u8bc1\u8be5js\u6587\u4ef6\u5728\u540e\u53f0\u8fd0\u884c)</p> <pre><code>node udp_proxy.js\n</code></pre> <p>\u6253\u5f00index.html</p> <ul> <li>\u8bbe\u7f6e ip \uff0c\u7aef\u53e3 \u5e76\u8fde\u63a5\uff0c\u5373\u53ef\u63a7\u5236</li> </ul> <p></p>"},{"location":"st67w61/1.st67w61%E8%AF%84%E6%B5%8B-%E7%83%A7%E5%BD%95/","title":"x-nucleo-67w61 \u8bc4\u6d4b(1.\u70e7\u5f55)","text":""},{"location":"st67w61/1.st67w61%E8%AF%84%E6%B5%8B-%E7%83%A7%E5%BD%95/#x-nucleo-67w61-1","title":"x-nucleo-67w61 \u8bc4\u6d4b(1.\u70e7\u5f55)","text":"<p>\u7b49\u4e8620\u591a\u5929\u7684x-nucleo-67w61\u7ec8\u4e8e\u5230\u8d27\u4e86\uff0c\u6d4b\u8bd5\u4e00\u6ce2</p> <p>\u70e7\u5f55\u6d41\u7a0b</p> <p>1.\u786c\u4ef6\u8fde\u63a5   \u4f7f\u7528NUCLEO-U575ZI-Q\u3001NUCLEO-H563ZI\u3001NUCLEO-H7S3L8 \u6216 NUCLEO-N657X0-Q \u4e3b\u677f\u4e0e X-NUCLEO-67W61M1 \u677f\u7ec4\u5408\u4f7f\u7528</p> <p>2.\u4e0b\u8f7dx-cube-st67w61 \u8f6f\u4ef6\u5305 </p> <p>3.\u4e3b\u5904\u7406\u5668\u70e7\u5f55 bootloader   \u5c06  X-NUCLEO-67W61M1 \u7684\u56fa\u4ef6\u52a0\u8f7d\u5230flash \uff08\u8fd9\u4e2abootload\u76f8\u5f53\u4e8e\u4e00\u4e2a\u7b97\u6cd5\uff0c\u5c06X-NUCLEO-67W61M1\u56fa\u4ef6\u62f7\u8d1d\u5230flash\u4e0a\uff09</p> <p>4.\u70e7\u5f55\u4e3b\u5904\u7406\u5668\u7684 bootloader \u4e0e app</p>"},{"location":"st67w61/1.st67w61%E8%AF%84%E6%B5%8B-%E7%83%A7%E5%BD%95/#1","title":"1.\u786c\u4ef6\u8fde\u63a5","text":"<p>x-cube-st67w61 \u76ee\u524d\u53ef\u4ee5\u76f4\u63a5\u6d4b\u8bd5\u7684\u5f00\u53d1\u677f\u6709NUCLEO-U575ZI-Q\u3001NUCLEO-H563ZI\u3001NUCLEO-H7S3L8 \u6216 NUCLEO-N657X0-Q  </p> <p>\u5176\u4e2d NUCLEO-U575ZI-Q\u7684\u6d4b\u8bd5demo\u6700\u591a</p> <p></p> <p>\u7531\u4e8e\u6ca1\u6709NUCLEO-U575ZI-Q   \u6b64\u5904\u6211\u4f7f\u7528nucleo-h7s3  \u4e0e x-nucleo-67w61 \u8fde\u63a5</p> <p>X-NUCLEO-67W61M1 \u677f\u901a\u8fc7 Arduino \u00ae\u8fde\u63a5\u5668\u8fde\u63a5\u5230 NUCLEO \u4e3b\u677f\uff1a</p> <ul> <li>5V\u30013V3\u3001GND\u901a\u8fc7CN6</li> <li>\u901a\u8fc7 CN5 \u7684 SPI\uff08CLK\u3001MOSI\u3001MISO\uff09\u3001SPI_CS \u548c USER_BUTTON \u4fe1\u53f7</li> <li>\u901a\u8fc7 CN9 \u7684 BOOT\u3001CHIP_EN\u3001SPI_RDY \u548c UART TX/RX \u4fe1\u53f7</li> </ul>"},{"location":"st67w61/1.st67w61%E8%AF%84%E6%B5%8B-%E7%83%A7%E5%BD%95/#_1","title":"\u67e5\u770b\u4e00\u4e0b\u914d\u7f6e\u5f15\u811a","text":"<p>\u76f4\u63a5\u6253\u5f00cubemx\u67e5\u770b\u914d\u7f6e\u5f15\u811a</p> <ul> <li>CLK ---PA5</li> <li>MOSI --- PB5</li> <li>MOSI --- PA6</li> <li>SPI_CS ---PD14</li> <li>USER_BUTTON ---PF5</li> <li>BOOT PE9</li> <li>CHIP_EN PE11</li> <li> <p>SPI_RDY PE13</p> </li> <li> <p>UART_TX  PD8</p> </li> <li>UART_RX PD9</li> </ul> <p></p> <p></p>"},{"location":"st67w61/1.st67w61%E8%AF%84%E6%B5%8B-%E7%83%A7%E5%BD%95/#2x-cube-st67w61","title":"2.\u4e0b\u8f7dx-cube-st67w61 \u5305","text":"<p>https://github.com/STMicroelectronics/x-cube-st67w61</p>"},{"location":"st67w61/1.st67w61%E8%AF%84%E6%B5%8B-%E7%83%A7%E5%BD%95/#3-x-nucleo-67w61m1-wifi-flash","title":"3.\u70e7\u5f55 X-NUCLEO-67W61M1 \u56fa\u4ef6 \u5230\u534f\u5904\u7406\u5668(wifi \u84dd\u7259)\u7684flash","text":"<ul> <li>x-cube-st67w61\\Projects\\ST67W6X_Utilities\\Binaries   \u6b64\u76ee\u5f55\u4e0b\u8fd0\u884cNCP_update_mission_profile.bat\u811a\u672c</li> <li>Y \u786e\u8ba4 \u540e \u786c\u4ef6\u590d\u4f4d\u4e00\u4e0b\uff0c\u4f1a\u4e0b\u8f7dbootloader\u56fa\u4ef6 \u5e76\u5c06\u534f\u5904\u7406\u5668\u7684\u56fa\u4ef6\u4e0b\u8f7d\u5230flash</li> </ul> <p>\u5b8c\u6574\u4e0b\u8f7d\u65e5\u5fd7\u5982\u4e0b</p> <pre><code>Are you sure to proceed? (Y/N)\nPress Y to continue or N to abort: Y\nDetected NUCLEO-H7S3L8 board\n      -------------------------------------------------------------------\n                       STM32CubeProgrammer v2.19.0\n      -------------------------------------------------------------------\n\nST-LINK SN  : 004B00293132511838363431\nST-LINK FW  : V3J15M7\nBoard       : NUCLEO-H7R3L8\nVoltage     : 3.28V\nConnection to AP 0 requested and failed, Connection established with AP 1\n\nSWD freq    : 8000 KHz\nConnect mode: Under Reset\nReset mode  : Hardware reset\nDevice ID   : 0x485\nRevision ID : Rev Y\nDevice name : STM32H7RSxx\nFlash size  : 64 KBytes (default)\nDevice type : MCU\nDevice CPU  : Cortex-M7\nBL Version  : 0xE1\n\nOpening and parsing file: Bootloader.bin\n\n\nMemory Programming ...\n  File          : Bootloader.bin\n  Size          : 6.53 KB\n  Address       : 0x08000000\n\n\n\nErasing memory corresponding to sector 0:\nErasing internal memory sector 0\nDownload in Progress:\n\u5739\u5739\u5739\u5739\u5739\u5739\u5739\u5739\u5739\u5739\u5739\u5739\u5739\u5739\u5739\u5739\u5739\u5739\u5739\u5739\u5739\u5739\u5739\u5739\u5739 100%\n\nFile download complete\nTime elapsed during download operation: 00:00:00.057\n\nRUNNING Program ...\n  Address:      : 0x8000000\nApplication is running, Please Hold on...\nStart operation achieved successfully\nBuffers for COM5 have been flushed\nNCP Flashing in progress ...\n[16:08:19.199] - Serial port is COM5\n[16:08:19.199] - ==================================================\n[16:08:19.209] - FW get address from partiton file G:\\desktop\\x-cube-st67w61\\Projects\\ST67W6X_Utilities\\Binaries\\NCP_Binaries\\./partition.bin\n[16:08:19.213] - Address=0x10000\n[16:08:19.213] - FW get size from partiton file G:\\desktop\\x-cube-st67w61\\Projects\\ST67W6X_Utilities\\Binaries\\NCP_Binaries\\./partition.bin\n[16:08:19.214] - Size=1785856\n[16:08:19.214] - Create efuse mask data\n[16:08:19.222] - Program Start\n[16:08:19.222] - ========= eflash loader cmd arguments =========\n[16:08:19.238] - serial port is COM5\n[16:08:19.239] - cpu_reset=False\n[16:08:19.518] - com speed: 2000000\n[16:08:19.518] - ========= Interface is uart =========\n[16:08:19.518] - Bootrom load\n[16:08:19.518] - ========= get_boot_info =========\n[16:08:19.518] - ========= image get bootinfo =========\n[16:08:19.800] - tx rx and power off, press the machine!\n[16:08:19.800] - cutoff time is 0.05\n[16:08:19.862] - power on tx and rx\n[16:08:20.858] - reset cnt: 0, reset hold: 0.05, shake hand delay: 0.1\n[16:08:20.858] - clean buf\n[16:08:20.864] - send sync\n[16:08:21.077] - ack is b'4f4b'\n[16:08:21.080] - shake hand success\n[16:08:21.589] - data read is b'0200160601000100a71282012a24007b824022008f758090edbbdafc'\n[16:08:21.589] - ========= ChipID: 40827b00242a =========\n[16:08:21.589] - Get bootinfo time cost(ms): 2070.760498046875\n[16:08:21.589] - change bdrate: 2000000\n[16:08:21.589] - Clock PLL set\n[16:08:21.590] - Set clock time cost(ms): 1.004150390625\n[16:08:21.729] - flash set para\n[16:08:21.729] - get flash pin cfg from bootinfo: 0x08\n[16:08:21.729] - set flash cfg: 1014108\n[16:08:21.729] - Set flash config\n[16:08:21.739] - Set para time cost(ms): 9.608154296875\n[16:08:21.739] - ========= flash read jedec ID =========\n[16:08:21.739] - Read flash jedec ID\n[16:08:21.739] - readdata:\n[16:08:21.739] - b'c4601600'\n[16:08:21.739] - Finished\n[16:08:21.740] - flash config Not found, use default\n[16:08:21.740] - jedec_id:c46016\n[16:08:21.740] - capacity_id:22\n[16:08:21.740] - capacity:4.0M\n[16:08:21.740] - get flash size: 0x00400000\n[16:08:21.740] - Program operation\n[16:08:21.740] - Flash Chip Erase All\n[16:08:21.749] - Chip erase time cost(ms): 9.344482421875\n[16:08:21.752] - Dealing Index 0\n[16:08:21.752] - ========= programming G:\\desktop\\x-cube-st67w61\\Projects\\ST67W6X_Utilities\\Binaries\\NCP_Binaries\\.\\st67w611m_boot2_v8.1.9.bin to 0x000000\n[16:08:21.753] - flash para file: G:\\desktop\\x-cube-st67w61\\Projects\\ST67W6X_Utilities\\Binaries\\QConn_Flash\\chips/chip/efuse_bootheader/flash_para.bin\n[16:08:21.753] - Set flash config\n[16:08:21.764] - Set para time cost(ms): 10.3193359375\n[16:08:21.764] - ========= flash load =========\n[16:08:21.782] - decompress flash load 27576\n[16:08:21.793] - Load 2048/27576 {\"progress\":7}\n[16:08:21.834] - Load 4096/27576 {\"progress\":14}\n[16:08:21.857] - Load 6144/27576 {\"progress\":22}\n[16:08:21.880] - Load 8192/27576 {\"progress\":29}\n[16:08:21.904] - Load 10240/27576 {\"progress\":37}\n[16:08:21.915] - Load 12288/27576 {\"progress\":44}\n[16:08:21.938] - Load 14336/27576 {\"progress\":51}\n[16:08:21.961] - Load 16384/27576 {\"progress\":59}\n[16:08:21.985] - Load 18432/27576 {\"progress\":66}\n[16:08:21.996] - Load 20480/27576 {\"progress\":74}\n[16:08:22.019] - Load 22528/27576 {\"progress\":81}\n[16:08:22.042] - Load 24576/27576 {\"progress\":89}\n[16:08:22.065] - Load 26624/27576 {\"progress\":96}\n[16:08:22.089] - Load 27576/27576 {\"progress\":100}\n[16:08:22.089] - Load 27576/27576 {\"progress\":100}\n[16:08:22.090] - Write check\n[16:08:22.108] - Flash load time cost(ms): 344.6943359375\n[16:08:22.109] - Finished\n[16:08:22.109] - Sha caled by host: ffad5f13fe8452e34a5a19e47cf73a0f9ba01f6ec832c608496533a70ee74566\n[16:08:22.109] - xip mode Verify\n[16:08:22.154] - Read Sha256/52544\n[16:08:22.154] - Flash xip readsha time cost(ms): 44.13330078125\n[16:08:22.154] - Finished\n[16:08:22.154] - Sha caled by dev: ffad5f13fe8452e34a5a19e47cf73a0f9ba01f6ec832c608496533a70ee74566\n[16:08:22.154] - Verify success\n[16:08:22.158] - Dealing Index 1\n[16:08:22.158] - ========= programming G:\\desktop\\x-cube-st67w61\\Projects\\ST67W6X_Utilities\\Binaries\\NCP_Binaries\\.\\partition.bin to 0xE000\n[16:08:22.158] - flash para file: G:\\desktop\\x-cube-st67w61\\Projects\\ST67W6X_Utilities\\Binaries\\QConn_Flash\\chips/chip/efuse_bootheader/flash_para.bin\n[16:08:22.159] - Set flash config\n[16:08:22.169] - Set para time cost(ms): 9.405517578125\n[16:08:22.169] - ========= flash load =========\n[16:08:22.171] - Load 308/308 {\"progress\":100}\n[16:08:22.171] - Load 308/308 {\"progress\":100}\n[16:08:22.171] - Write check\n[16:08:22.175] - Flash load time cost(ms): 6.305908203125\n[16:08:22.175] - Finished\n[16:08:22.176] - Sha caled by host: 8e8436e83650f5f1d1ff06ff5cb0bfd61730cafb66c75e025dc7276a9bf45c5f\n[16:08:22.176] - xip mode Verify\n[16:08:22.177] - Read Sha256/308\n[16:08:22.177] - Flash xip readsha time cost(ms): 1.005615234375\n[16:08:22.177] - Finished\n[16:08:22.177] - Sha caled by dev: 8e8436e83650f5f1d1ff06ff5cb0bfd61730cafb66c75e025dc7276a9bf45c5f\n[16:08:22.177] - Verify success\n[16:08:22.180] - Dealing Index 2\n[16:08:22.181] - ========= programming G:\\desktop\\x-cube-st67w61\\Projects\\ST67W6X_Utilities\\Binaries\\NCP_Binaries\\.\\st67w611m_mission_t01_v2.0.75.bin to 0x10000\n[16:08:22.182] - flash para file: G:\\desktop\\x-cube-st67w61\\Projects\\ST67W6X_Utilities\\Binaries\\QConn_Flash\\chips/chip/efuse_bootheader/flash_para.bin\n[16:08:22.182] - Set flash config\n[16:08:22.192] - Set para time cost(ms): 9.633544921875\n[16:08:22.192] - ========= flash load =========\n[16:08:22.648] - decompress flash load 807560\n[16:08:22.659] - Load 2048/807560 {\"progress\":0}\n[16:08:22.700] - Load 4096/807560 {\"progress\":0}\n[16:08:22.724] - Load 6144/807560 {\"progress\":0}\n[16:08:22.748] - Load 8192/807560 {\"progress\":1}\n[16:08:22.773] - Load 10240/807560 {\"progress\":1}\n[16:08:22.784] - Load 12288/807560 {\"progress\":1}\n[16:08:22.807] - Load 14336/807560 {\"progress\":1}\n[16:08:22.830] - Load 16384/807560 {\"progress\":2}\n[16:08:22.841] - Load 18432/807560 {\"progress\":2}\n[16:08:22.864] - Load 20480/807560 {\"progress\":2}\n[16:08:22.886] - Load 22528/807560 {\"progress\":2}\n[16:08:22.910] - Load 24576/807560 {\"progress\":3}\n[16:08:22.921] - Load 26624/807560 {\"progress\":3}\n[16:08:22.944] - Load 28672/807560 {\"progress\":3}\n[16:08:22.967] - Load 30720/807560 {\"progress\":3}\n[16:08:22.979] - Load 32768/807560 {\"progress\":4}\n[16:08:23.001] - Load 34816/807560 {\"progress\":4}\n[16:08:23.024] - Load 36864/807560 {\"progress\":4}\n[16:08:23.048] - Load 38912/807560 {\"progress\":4}\n[16:08:23.060] - Load 40960/807560 {\"progress\":5}\n[16:08:23.082] - Load 43008/807560 {\"progress\":5}\n[16:08:23.105] - Load 45056/807560 {\"progress\":5}\n[16:08:23.129] - Load 47104/807560 {\"progress\":5}\n[16:08:23.153] - Load 49152/807560 {\"progress\":6}\n[16:08:23.177] - Load 51200/807560 {\"progress\":6}\n[16:08:23.200] - Load 53248/807560 {\"progress\":6}\n[16:08:23.223] - Load 55296/807560 {\"progress\":6}\n[16:08:23.234] - Load 57344/807560 {\"progress\":7}\n[16:08:23.257] - Load 59392/807560 {\"progress\":7}\n[16:08:23.280] - Load 61440/807560 {\"progress\":7}\n[16:08:23.303] - Load 63488/807560 {\"progress\":7}\n[16:08:23.314] - Load 65536/807560 {\"progress\":8}\n[16:08:23.337] - Load 67584/807560 {\"progress\":8}\n[16:08:23.376] - Load 69632/807560 {\"progress\":8}\n[16:08:23.497] - Load 71680/807560 {\"progress\":8}\n[16:08:23.522] - Load 73728/807560 {\"progress\":9}\n[16:08:23.547] - Load 75776/807560 {\"progress\":9}\n[16:08:23.558] - Load 77824/807560 {\"progress\":9}\n[16:08:23.580] - Load 79872/807560 {\"progress\":9}\n[16:08:23.602] - Load 81920/807560 {\"progress\":10}\n[16:08:23.626] - Load 83968/807560 {\"progress\":10}\n[16:08:23.650] - Load 86016/807560 {\"progress\":10}\n[16:08:23.661] - Load 88064/807560 {\"progress\":10}\n[16:08:23.684] - Load 90112/807560 {\"progress\":11}\n[16:08:23.708] - Load 92160/807560 {\"progress\":11}\n[16:08:23.732] - Load 94208/807560 {\"progress\":11}\n[16:08:23.756] - Load 96256/807560 {\"progress\":11}\n[16:08:23.767] - Load 98304/807560 {\"progress\":12}\n[16:08:23.790] - Load 100352/807560 {\"progress\":12}\n[16:08:23.813] - Load 102400/807560 {\"progress\":12}\n[16:08:23.838] - Load 104448/807560 {\"progress\":12}\n[16:08:23.861] - Load 106496/807560 {\"progress\":13}\n[16:08:23.885] - Load 108544/807560 {\"progress\":13}\n[16:08:23.895] - Load 110592/807560 {\"progress\":13}\n[16:08:23.918] - Load 112640/807560 {\"progress\":13}\n[16:08:23.942] - Load 114688/807560 {\"progress\":14}\n[16:08:23.981] - Load 116736/807560 {\"progress\":14}\n[16:08:24.006] - Load 118784/807560 {\"progress\":14}\n[16:08:24.029] - Load 120832/807560 {\"progress\":14}\n[16:08:24.054] - Load 122880/807560 {\"progress\":15}\n[16:08:24.065] - Load 124928/807560 {\"progress\":15}\n[16:08:24.087] - Load 126976/807560 {\"progress\":15}\n[16:08:24.111] - Load 129024/807560 {\"progress\":15}\n[16:08:24.135] - Load 131072/807560 {\"progress\":16}\n[16:08:24.159] - Load 133120/807560 {\"progress\":16}\n[16:08:24.182] - Load 135168/807560 {\"progress\":16}\n[16:08:24.194] - Load 137216/807560 {\"progress\":16}\n[16:08:24.231] - Load 139264/807560 {\"progress\":17}\n[16:08:24.256] - Load 141312/807560 {\"progress\":17}\n[16:08:24.267] - Load 143360/807560 {\"progress\":17}\n[16:08:24.290] - Load 145408/807560 {\"progress\":18}\n[16:08:24.313] - Load 147456/807560 {\"progress\":18}\n[16:08:24.338] - Load 149504/807560 {\"progress\":18}\n[16:08:24.362] - Load 151552/807560 {\"progress\":18}\n[16:08:24.401] - Load 153600/807560 {\"progress\":19}\n[16:08:24.426] - Load 155648/807560 {\"progress\":19}\n[16:08:24.465] - Load 157696/807560 {\"progress\":19}\n[16:08:24.476] - Load 159744/807560 {\"progress\":19}\n[16:08:24.498] - Load 161792/807560 {\"progress\":20}\n[16:08:24.521] - Load 163840/807560 {\"progress\":20}\n[16:08:24.545] - Load 165888/807560 {\"progress\":20}\n[16:08:24.569] - Load 167936/807560 {\"progress\":20}\n[16:08:24.593] - Load 169984/807560 {\"progress\":21}\n[16:08:24.617] - Load 172032/807560 {\"progress\":21}\n[16:08:24.642] - Load 174080/807560 {\"progress\":21}\n[16:08:24.666] - Load 176128/807560 {\"progress\":21}\n[16:08:24.690] - Load 178176/807560 {\"progress\":22}\n[16:08:24.713] - Load 180224/807560 {\"progress\":22}\n[16:08:24.738] - Load 182272/807560 {\"progress\":22}\n[16:08:24.762] - Load 184320/807560 {\"progress\":22}\n[16:08:24.787] - Load 186368/807560 {\"progress\":23}\n[16:08:24.810] - Load 188416/807560 {\"progress\":23}\n[16:08:24.834] - Load 190464/807560 {\"progress\":23}\n[16:08:24.846] - Load 192512/807560 {\"progress\":23}\n[16:08:24.868] - Load 194560/807560 {\"progress\":24}\n[16:08:24.891] - Load 196608/807560 {\"progress\":24}\n[16:08:24.914] - Load 198656/807560 {\"progress\":24}\n[16:08:24.938] - Load 200704/807560 {\"progress\":24}\n[16:08:24.963] - Load 202752/807560 {\"progress\":25}\n[16:08:24.987] - Load 204800/807560 {\"progress\":25}\n[16:08:25.011] - Load 206848/807560 {\"progress\":25}\n[16:08:25.022] - Load 208896/807560 {\"progress\":25}\n[16:08:25.045] - Load 210944/807560 {\"progress\":26}\n[16:08:25.068] - Load 212992/807560 {\"progress\":26}\n[16:08:25.092] - Load 215040/807560 {\"progress\":26}\n[16:08:25.116] - Load 217088/807560 {\"progress\":26}\n[16:08:25.128] - Load 219136/807560 {\"progress\":27}\n[16:08:25.151] - Load 221184/807560 {\"progress\":27}\n[16:08:25.174] - Load 223232/807560 {\"progress\":27}\n[16:08:25.197] - Load 225280/807560 {\"progress\":27}\n[16:08:25.209] - Load 227328/807560 {\"progress\":28}\n[16:08:25.231] - Load 229376/807560 {\"progress\":28}\n[16:08:25.255] - Load 231424/807560 {\"progress\":28}\n[16:08:25.277] - Load 233472/807560 {\"progress\":28}\n[16:08:25.301] - Load 235520/807560 {\"progress\":29}\n[16:08:25.325] - Load 237568/807560 {\"progress\":29}\n[16:08:25.350] - Load 239616/807560 {\"progress\":29}\n[16:08:25.361] - Load 241664/807560 {\"progress\":29}\n[16:08:25.383] - Load 243712/807560 {\"progress\":30}\n[16:08:25.407] - Load 245760/807560 {\"progress\":30}\n[16:08:25.431] - Load 247808/807560 {\"progress\":30}\n[16:08:25.442] - Load 249856/807560 {\"progress\":30}\n[16:08:25.465] - Load 251904/807560 {\"progress\":31}\n[16:08:25.488] - Load 253952/807560 {\"progress\":31}\n[16:08:25.513] - Load 256000/807560 {\"progress\":31}\n[16:08:25.524] - Load 258048/807560 {\"progress\":31}\n[16:08:25.547] - Load 260096/807560 {\"progress\":32}\n[16:08:25.569] - Load 262144/807560 {\"progress\":32}\n[16:08:25.593] - Load 264192/807560 {\"progress\":32}\n[16:08:25.605] - Load 266240/807560 {\"progress\":32}\n[16:08:25.627] - Load 268288/807560 {\"progress\":33}\n[16:08:25.650] - Load 270336/807560 {\"progress\":33}\n[16:08:25.673] - Load 272384/807560 {\"progress\":33}\n[16:08:25.697] - Load 274432/807560 {\"progress\":33}\n[16:08:25.721] - Load 276480/807560 {\"progress\":34}\n[16:08:25.732] - Load 278528/807560 {\"progress\":34}\n[16:08:25.755] - Load 280576/807560 {\"progress\":34}\n[16:08:25.778] - Load 282624/807560 {\"progress\":34}\n[16:08:25.802] - Load 284672/807560 {\"progress\":35}\n[16:08:25.813] - Load 286720/807560 {\"progress\":35}\n[16:08:25.836] - Load 288768/807560 {\"progress\":35}\n[16:08:25.859] - Load 290816/807560 {\"progress\":36}\n[16:08:25.883] - Load 292864/807560 {\"progress\":36}\n[16:08:25.906] - Load 294912/807560 {\"progress\":36}\n[16:08:25.930] - Load 296960/807560 {\"progress\":36}\n[16:08:25.942] - Load 299008/807560 {\"progress\":37}\n[16:08:25.964] - Load 301056/807560 {\"progress\":37}\n[16:08:25.987] - Load 303104/807560 {\"progress\":37}\n[16:08:26.012] - Load 305152/807560 {\"progress\":37}\n[16:08:26.022] - Load 307200/807560 {\"progress\":38}\n[16:08:26.046] - Load 309248/807560 {\"progress\":38}\n[16:08:26.070] - Load 311296/807560 {\"progress\":38}\n[16:08:26.081] - Load 313344/807560 {\"progress\":38}\n[16:08:26.103] - Load 315392/807560 {\"progress\":39}\n[16:08:26.126] - Load 317440/807560 {\"progress\":39}\n[16:08:26.150] - Load 319488/807560 {\"progress\":39}\n[16:08:26.162] - Load 321536/807560 {\"progress\":39}\n[16:08:26.184] - Load 323584/807560 {\"progress\":40}\n[16:08:26.207] - Load 325632/807560 {\"progress\":40}\n[16:08:26.219] - Load 327680/807560 {\"progress\":40}\n[16:08:26.241] - Load 329728/807560 {\"progress\":40}\n[16:08:26.265] - Load 331776/807560 {\"progress\":41}\n[16:08:26.288] - Load 333824/807560 {\"progress\":41}\n[16:08:26.311] - Load 335872/807560 {\"progress\":41}\n[16:08:26.323] - Load 337920/807560 {\"progress\":41}\n[16:08:26.345] - Load 339968/807560 {\"progress\":42}\n[16:08:26.369] - Load 342016/807560 {\"progress\":42}\n[16:08:26.393] - Load 344064/807560 {\"progress\":42}\n[16:08:26.416] - Load 346112/807560 {\"progress\":42}\n[16:08:26.428] - Load 348160/807560 {\"progress\":43}\n[16:08:26.450] - Load 350208/807560 {\"progress\":43}\n[16:08:26.473] - Load 352256/807560 {\"progress\":43}\n[16:08:26.497] - Load 354304/807560 {\"progress\":43}\n[16:08:26.521] - Load 356352/807560 {\"progress\":44}\n[16:08:26.532] - Load 358400/807560 {\"progress\":44}\n[16:08:26.556] - Load 360448/807560 {\"progress\":44}\n[16:08:26.579] - Load 362496/807560 {\"progress\":44}\n[16:08:26.603] - Load 364544/807560 {\"progress\":45}\n[16:08:26.626] - Load 366592/807560 {\"progress\":45}\n[16:08:26.638] - Load 368640/807560 {\"progress\":45}\n[16:08:26.660] - Load 370688/807560 {\"progress\":45}\n[16:08:26.685] - Load 372736/807560 {\"progress\":46}\n[16:08:26.696] - Load 374784/807560 {\"progress\":46}\n[16:08:26.718] - Load 376832/807560 {\"progress\":46}\n[16:08:26.741] - Load 378880/807560 {\"progress\":46}\n[16:08:26.765] - Load 380928/807560 {\"progress\":47}\n[16:08:26.776] - Load 382976/807560 {\"progress\":47}\n[16:08:26.798] - Load 385024/807560 {\"progress\":47}\n[16:08:26.822] - Load 387072/807560 {\"progress\":47}\n[16:08:26.846] - Load 389120/807560 {\"progress\":48}\n[16:08:26.870] - Load 391168/807560 {\"progress\":48}\n[16:08:26.881] - Load 393216/807560 {\"progress\":48}\n[16:08:26.904] - Load 395264/807560 {\"progress\":48}\n[16:08:26.926] - Load 397312/807560 {\"progress\":49}\n[16:08:26.950] - Load 399360/807560 {\"progress\":49}\n[16:08:26.962] - Load 401408/807560 {\"progress\":49}\n[16:08:26.984] - Load 403456/807560 {\"progress\":49}\n[16:08:27.008] - Load 405504/807560 {\"progress\":50}\n[16:08:27.019] - Load 407552/807560 {\"progress\":50}\n[16:08:27.042] - Load 409600/807560 {\"progress\":50}\n[16:08:27.064] - Load 411648/807560 {\"progress\":50}\n[16:08:27.088] - Load 413696/807560 {\"progress\":51}\n[16:08:27.100] - Load 415744/807560 {\"progress\":51}\n[16:08:27.121] - Load 417792/807560 {\"progress\":51}\n[16:08:27.145] - Load 419840/807560 {\"progress\":51}\n[16:08:27.168] - Load 421888/807560 {\"progress\":52}\n[16:08:27.193] - Load 423936/807560 {\"progress\":52}\n[16:08:27.203] - Load 425984/807560 {\"progress\":52}\n[16:08:27.226] - Load 428032/807560 {\"progress\":53}\n[16:08:27.249] - Load 430080/807560 {\"progress\":53}\n[16:08:27.273] - Load 432128/807560 {\"progress\":53}\n[16:08:27.284] - Load 434176/807560 {\"progress\":53}\n[16:08:27.306] - Load 436224/807560 {\"progress\":54}\n[16:08:27.330] - Load 438272/807560 {\"progress\":54}\n[16:08:27.353] - Load 440320/807560 {\"progress\":54}\n[16:08:27.378] - Load 442368/807560 {\"progress\":54}\n[16:08:27.389] - Load 444416/807560 {\"progress\":55}\n[16:08:27.412] - Load 446464/807560 {\"progress\":55}\n[16:08:27.435] - Load 448512/807560 {\"progress\":55}\n[16:08:27.458] - Load 450560/807560 {\"progress\":55}\n[16:08:27.482] - Load 452608/807560 {\"progress\":56}\n[16:08:27.494] - Load 454656/807560 {\"progress\":56}\n[16:08:27.515] - Load 456704/807560 {\"progress\":56}\n[16:08:27.538] - Load 458752/807560 {\"progress\":56}\n[16:08:27.563] - Load 460800/807560 {\"progress\":57}\n[16:08:27.574] - Load 462848/807560 {\"progress\":57}\n[16:08:27.596] - Load 464896/807560 {\"progress\":57}\n[16:08:27.620] - Load 466944/807560 {\"progress\":57}\n[16:08:27.643] - Load 468992/807560 {\"progress\":58}\n[16:08:27.655] - Load 471040/807560 {\"progress\":58}\n[16:08:27.678] - Load 473088/807560 {\"progress\":58}\n[16:08:27.701] - Load 475136/807560 {\"progress\":58}\n[16:08:27.712] - Load 477184/807560 {\"progress\":59}\n[16:08:27.735] - Load 479232/807560 {\"progress\":59}\n[16:08:27.758] - Load 481280/807560 {\"progress\":59}\n[16:08:27.782] - Load 483328/807560 {\"progress\":59}\n[16:08:27.794] - Load 485376/807560 {\"progress\":60}\n[16:08:27.816] - Load 487424/807560 {\"progress\":60}\n[16:08:27.839] - Load 489472/807560 {\"progress\":60}\n[16:08:27.862] - Load 491520/807560 {\"progress\":60}\n[16:08:27.886] - Load 493568/807560 {\"progress\":61}\n[16:08:27.897] - Load 495616/807560 {\"progress\":61}\n[16:08:27.920] - Load 497664/807560 {\"progress\":61}\n[16:08:27.943] - Load 499712/807560 {\"progress\":61}\n[16:08:27.967] - Load 501760/807560 {\"progress\":62}\n[16:08:27.978] - Load 503808/807560 {\"progress\":62}\n[16:08:28.001] - Load 505856/807560 {\"progress\":62}\n[16:08:28.024] - Load 507904/807560 {\"progress\":62}\n[16:08:28.048] - Load 509952/807560 {\"progress\":63}\n[16:08:28.059] - Load 512000/807560 {\"progress\":63}\n[16:08:28.082] - Load 514048/807560 {\"progress\":63}\n[16:08:28.105] - Load 516096/807560 {\"progress\":63}\n[16:08:28.128] - Load 518144/807560 {\"progress\":64}\n[16:08:28.139] - Load 520192/807560 {\"progress\":64}\n[16:08:28.162] - Load 522240/807560 {\"progress\":64}\n[16:08:28.186] - Load 524288/807560 {\"progress\":64}\n[16:08:28.210] - Load 526336/807560 {\"progress\":65}\n[16:08:28.221] - Load 528384/807560 {\"progress\":65}\n[16:08:28.243] - Load 530432/807560 {\"progress\":65}\n[16:08:28.267] - Load 532480/807560 {\"progress\":65}\n[16:08:28.291] - Load 534528/807560 {\"progress\":66}\n[16:08:28.301] - Load 536576/807560 {\"progress\":66}\n[16:08:28.324] - Load 538624/807560 {\"progress\":66}\n[16:08:28.348] - Load 540672/807560 {\"progress\":66}\n[16:08:28.372] - Load 542720/807560 {\"progress\":67}\n[16:08:28.382] - Load 544768/807560 {\"progress\":67}\n[16:08:28.405] - Load 546816/807560 {\"progress\":67}\n[16:08:28.429] - Load 548864/807560 {\"progress\":67}\n[16:08:28.452] - Load 550912/807560 {\"progress\":68}\n[16:08:28.463] - Load 552960/807560 {\"progress\":68}\n[16:08:28.486] - Load 555008/807560 {\"progress\":68}\n[16:08:28.510] - Load 557056/807560 {\"progress\":68}\n[16:08:28.521] - Load 559104/807560 {\"progress\":69}\n[16:08:28.544] - Load 561152/807560 {\"progress\":69}\n[16:08:28.566] - Load 563200/807560 {\"progress\":69}\n[16:08:28.591] - Load 565248/807560 {\"progress\":69}\n[16:08:28.601] - Load 567296/807560 {\"progress\":70}\n[16:08:28.625] - Load 569344/807560 {\"progress\":70}\n[16:08:28.647] - Load 571392/807560 {\"progress\":70}\n[16:08:28.671] - Load 573440/807560 {\"progress\":71}\n[16:08:28.682] - Load 575488/807560 {\"progress\":71}\n[16:08:28.705] - Load 577536/807560 {\"progress\":71}\n[16:08:28.728] - Load 579584/807560 {\"progress\":71}\n[16:08:28.752] - Load 581632/807560 {\"progress\":72}\n[16:08:28.775] - Load 583680/807560 {\"progress\":72}\n[16:08:28.787] - Load 585728/807560 {\"progress\":72}\n[16:08:28.809] - Load 587776/807560 {\"progress\":72}\n[16:08:28.833] - Load 589824/807560 {\"progress\":73}\n[16:08:28.856] - Load 591872/807560 {\"progress\":73}\n[16:08:28.880] - Load 593920/807560 {\"progress\":73}\n[16:08:28.892] - Load 595968/807560 {\"progress\":73}\n[16:08:28.915] - Load 598016/807560 {\"progress\":74}\n[16:08:28.939] - Load 600064/807560 {\"progress\":74}\n[16:08:28.962] - Load 602112/807560 {\"progress\":74}\n[16:08:28.986] - Load 604160/807560 {\"progress\":74}\n[16:08:29.011] - Load 606208/807560 {\"progress\":75}\n[16:08:29.022] - Load 608256/807560 {\"progress\":75}\n[16:08:29.045] - Load 610304/807560 {\"progress\":75}\n[16:08:29.067] - Load 612352/807560 {\"progress\":75}\n[16:08:29.091] - Load 614400/807560 {\"progress\":76}\n[16:08:29.116] - Load 616448/807560 {\"progress\":76}\n[16:08:29.127] - Load 618496/807560 {\"progress\":76}\n[16:08:29.150] - Load 620544/807560 {\"progress\":76}\n[16:08:29.173] - Load 622592/807560 {\"progress\":77}\n[16:08:29.197] - Load 624640/807560 {\"progress\":77}\n[16:08:29.221] - Load 626688/807560 {\"progress\":77}\n[16:08:29.232] - Load 628736/807560 {\"progress\":77}\n[16:08:29.256] - Load 630784/807560 {\"progress\":78}\n[16:08:29.279] - Load 632832/807560 {\"progress\":78}\n[16:08:29.303] - Load 634880/807560 {\"progress\":78}\n[16:08:29.327] - Load 636928/807560 {\"progress\":78}\n[16:08:29.338] - Load 638976/807560 {\"progress\":79}\n[16:08:29.361] - Load 641024/807560 {\"progress\":79}\n[16:08:29.385] - Load 643072/807560 {\"progress\":79}\n[16:08:29.407] - Load 645120/807560 {\"progress\":79}\n[16:08:29.431] - Load 647168/807560 {\"progress\":80}\n[16:08:29.456] - Load 649216/807560 {\"progress\":80}\n[16:08:29.480] - Load 651264/807560 {\"progress\":80}\n[16:08:29.491] - Load 653312/807560 {\"progress\":80}\n[16:08:29.514] - Load 655360/807560 {\"progress\":81}\n[16:08:29.536] - Load 657408/807560 {\"progress\":81}\n[16:08:29.560] - Load 659456/807560 {\"progress\":81}\n[16:08:29.585] - Load 661504/807560 {\"progress\":81}\n[16:08:29.596] - Load 663552/807560 {\"progress\":82}\n[16:08:29.619] - Load 665600/807560 {\"progress\":82}\n[16:08:29.642] - Load 667648/807560 {\"progress\":82}\n[16:08:29.666] - Load 669696/807560 {\"progress\":82}\n[16:08:29.690] - Load 671744/807560 {\"progress\":83}\n[16:08:29.715] - Load 673792/807560 {\"progress\":83}\n[16:08:29.739] - Load 675840/807560 {\"progress\":83}\n[16:08:29.764] - Load 677888/807560 {\"progress\":83}\n[16:08:29.788] - Load 679936/807560 {\"progress\":84}\n[16:08:29.800] - Load 681984/807560 {\"progress\":84}\n[16:08:29.823] - Load 684032/807560 {\"progress\":84}\n[16:08:29.846] - Load 686080/807560 {\"progress\":84}\n[16:08:29.870] - Load 688128/807560 {\"progress\":85}\n[16:08:29.881] - Load 690176/807560 {\"progress\":85}\n[16:08:29.905] - Load 692224/807560 {\"progress\":85}\n[16:08:29.927] - Load 694272/807560 {\"progress\":85}\n[16:08:29.950] - Load 696320/807560 {\"progress\":86}\n[16:08:29.974] - Load 698368/807560 {\"progress\":86}\n[16:08:29.999] - Load 700416/807560 {\"progress\":86}\n[16:08:30.009] - Load 702464/807560 {\"progress\":86}\n[16:08:30.033] - Load 704512/807560 {\"progress\":87}\n[16:08:30.056] - Load 706560/807560 {\"progress\":87}\n[16:08:30.080] - Load 708608/807560 {\"progress\":87}\n[16:08:30.104] - Load 710656/807560 {\"progress\":88}\n[16:08:30.115] - Load 712704/807560 {\"progress\":88}\n[16:08:30.137] - Load 714752/807560 {\"progress\":88}\n[16:08:30.160] - Load 716800/807560 {\"progress\":88}\n[16:08:30.183] - Load 718848/807560 {\"progress\":89}\n[16:08:30.207] - Load 720896/807560 {\"progress\":89}\n[16:08:30.218] - Load 722944/807560 {\"progress\":89}\n[16:08:30.241] - Load 724992/807560 {\"progress\":89}\n[16:08:30.265] - Load 727040/807560 {\"progress\":90}\n[16:08:30.287] - Load 729088/807560 {\"progress\":90}\n[16:08:30.311] - Load 731136/807560 {\"progress\":90}\n[16:08:30.336] - Load 733184/807560 {\"progress\":90}\n[16:08:30.347] - Load 735232/807560 {\"progress\":91}\n[16:08:30.369] - Load 737280/807560 {\"progress\":91}\n[16:08:30.393] - Load 739328/807560 {\"progress\":91}\n[16:08:30.417] - Load 741376/807560 {\"progress\":91}\n[16:08:30.440] - Load 743424/807560 {\"progress\":92}\n[16:08:30.451] - Load 745472/807560 {\"progress\":92}\n[16:08:30.475] - Load 747520/807560 {\"progress\":92}\n[16:08:30.513] - Load 749568/807560 {\"progress\":92}\n[16:08:30.538] - Load 751616/807560 {\"progress\":93}\n[16:08:30.577] - Load 753664/807560 {\"progress\":93}\n[16:08:30.601] - Load 755712/807560 {\"progress\":93}\n[16:08:30.625] - Load 757760/807560 {\"progress\":93}\n[16:08:30.650] - Load 759808/807560 {\"progress\":94}\n[16:08:30.678] - Load 761856/807560 {\"progress\":94}\n[16:08:30.716] - Load 763904/807560 {\"progress\":94}\n[16:08:30.743] - Load 765952/807560 {\"progress\":94}\n[16:08:30.781] - Load 768000/807560 {\"progress\":95}\n[16:08:30.806] - Load 770048/807560 {\"progress\":95}\n[16:08:30.849] - Load 772096/807560 {\"progress\":95}\n[16:08:30.887] - Load 774144/807560 {\"progress\":95}\n[16:08:30.913] - Load 776192/807560 {\"progress\":96}\n[16:08:30.953] - Load 778240/807560 {\"progress\":96}\n[16:08:30.976] - Load 780288/807560 {\"progress\":96}\n[16:08:31.002] - Load 782336/807560 {\"progress\":96}\n[16:08:31.041] - Load 784384/807560 {\"progress\":97}\n[16:08:31.066] - Load 786432/807560 {\"progress\":97}\n[16:08:31.105] - Load 788480/807560 {\"progress\":97}\n[16:08:31.144] - Load 790528/807560 {\"progress\":97}\n[16:08:31.156] - Load 792576/807560 {\"progress\":98}\n[16:08:31.195] - Load 794624/807560 {\"progress\":98}\n[16:08:31.219] - Load 796672/807560 {\"progress\":98}\n[16:08:31.241] - Load 798720/807560 {\"progress\":98}\n[16:08:31.264] - Load 800768/807560 {\"progress\":99}\n[16:08:31.288] - Load 802816/807560 {\"progress\":99}\n[16:08:31.300] - Load 804864/807560 {\"progress\":99}\n[16:08:31.322] - Load 806912/807560 {\"progress\":99}\n[16:08:31.345] - Load 807560/807560 {\"progress\":100}\n[16:08:31.346] - Load 807560/807560 {\"progress\":100}\n[16:08:31.346] - Write check\n[16:08:31.364] - Flash load time cost(ms): 9171.06201171875\n[16:08:31.364] - Finished\n[16:08:31.369] - Sha caled by host: e1e35948f1a1c3d54402a1b1d59a819866cbcbbad03813f3f9b9d7dc825999fe\n[16:08:31.369] - xip mode Verify\n[16:08:32.536] - Read Sha256/1400128\n[16:08:32.536] - Flash xip readsha time cost(ms): 1166.119873046875\n[16:08:32.536] - Finished\n[16:08:32.536] - Sha caled by dev: e1e35948f1a1c3d54402a1b1d59a819866cbcbbad03813f3f9b9d7dc825999fe\n[16:08:32.537] - Verify success\n[16:08:32.540] - Dealing Index 3\n[16:08:32.540] - ========= programming G:\\desktop\\x-cube-st67w61\\Projects\\ST67W6X_Utilities\\Binaries\\NCP_Binaries\\.\\..\\..\\LittleFS\\littlefs\\littlefs.bin to 0x378000\n[16:08:32.541] - flash para file: G:\\desktop\\x-cube-st67w61\\Projects\\ST67W6X_Utilities\\Binaries\\QConn_Flash\\chips/chip/efuse_bootheader/flash_para.bin\n[16:08:32.541] - Set flash config\n[16:08:32.551] - Set para time cost(ms): 9.453857421875\n[16:08:32.551] - ========= flash load =========\n[16:08:32.582] - decompress flash load 15392\n[16:08:32.594] - Load 2048/15392 {\"progress\":13}\n[16:08:32.947] - Load 4096/15392 {\"progress\":26}\n[16:08:32.988] - Load 6144/15392 {\"progress\":39}\n[16:08:33.029] - Load 8192/15392 {\"progress\":53}\n[16:08:33.070] - Load 10240/15392 {\"progress\":66}\n[16:08:33.111] - Load 12288/15392 {\"progress\":79}\n[16:08:33.152] - Load 14336/15392 {\"progress\":93}\n[16:08:33.209] - Load 15392/15392 {\"progress\":100}\n[16:08:33.209] - Load 15392/15392 {\"progress\":100}\n[16:08:33.209] - Write check\n[16:08:34.517] - Flash load time cost(ms): 1965.232666015625\n[16:08:34.517] - Finished\n[16:08:34.519] - Sha caled by host: 5d08275cf5614b7d81fe7fafe287d21f6423ab84e10c0ed229efb37ce8959b87\n[16:08:34.519] - xip mode Verify\n[16:08:34.905] - Read Sha256/462848\n[16:08:34.905] - Flash xip readsha time cost(ms): 386.437744140625\n[16:08:34.905] - Finished\n[16:08:34.905] - Sha caled by dev: 5d08275cf5614b7d81fe7fafe287d21f6423ab84e10c0ed229efb37ce8959b87\n[16:08:34.905] - Verify success\n[16:08:34.910] - Program Finished\n[16:08:34.910] - ========= efuse load =========\n[16:08:34.910] - Load file: G:\\desktop\\x-cube-st67w61\\Projects\\ST67W6X_Utilities\\Binaries\\NCP_Binaries\\efusedata.bin\n[16:08:34.910] - Decrypt efuse data\n[16:08:34.912] - Open G:\\desktop\\x-cube-st67w61\\Projects\\ST67W6X_Utilities\\Binaries\\NCP_Binaries\\efusedata_mask.bin\n[16:08:34.912] - ========= get ecdh shared key =========\n[16:08:34.933] - local public key:\n[16:08:34.933] - 955f6f8e9f8220c6a90f050c27983b7f6b2b284b816f81173f78947191353375fa1e3bf9b93757e33d9390190634f530ad65f59a261202c304092a00dba5fb04\n[16:08:34.933] - ecdh public key\n[16:08:34.933] - 955f6f8e9f8220c6a90f050c27983b7f6b2b284b816f81173f78947191353375fa1e3bf9b93757e33d9390190634f530ad65f59a261202c304092a00dba5fb04\n[16:08:35.052] - ecdh peer key\n[16:08:35.052] - 2099e66fd726ae0da8369714bdc0e6d8cdb57ded6ad71cb0d578dc2c96c23582db17b81aad861e60caa28d601616585f3f0a665526e4b2d068b495de6e710194de8aee50c6d18d11a114b78f6ec8eb9439823bace27e6f7f2034612f6288919356a57a87a93060e469789e07193fc21ae82c855ce9c1fb16908a04c2821a3fde\n[16:08:35.097] - challenge data\n[16:08:35.097] - 6acd5579696d35d615ff6a40963df75e8805d9b746f723fd3c99a0cf8b44d60b3076936cf32caadc4f5dfc4bcfab1ec274c0e700a54d775da9f1ccb68f5171e2027d68e8fb55cc96186fadf1ccfc491f0f85b22f08dfe51cfe60ed14839b435a\n[16:08:35.109] - Load efuse 0\n[16:08:35.112] - Load efuse 1\n[16:08:35.115] - Load efuse remainder\n[16:08:35.118] - Finished\n[16:08:35.118] - All time cost(ms): 15896.298095703125\n[16:08:35.229] - close interface\n[16:08:35.229] - [All Success]\n      -------------------------------------------------------------------\n                       STM32CubeProgrammer v2.19.0\n      -------------------------------------------------------------------\n\nST-LINK SN  : 004B00293132511838363431\nST-LINK FW  : V3J15M7\nBoard       : NUCLEO-H7R3L8\nVoltage     : 3.28V\nConnection to AP 0 requested and failed, Connection established with AP 1\n\nSWD freq    : 8000 KHz\nConnect mode: Under Reset\nReset mode  : Hardware reset\nDevice ID   : 0x485\nRevision ID : Rev Y\nDevice name : STM32H7RSxx\nFlash size  : 64 KBytes (default)\nDevice type : MCU\nDevice CPU  : Cortex-M7\nBL Version  : 0xE1\n\nOpening and parsing file: ST67W6X_CLI_Boot.bin\n\n\nMemory Programming ...\n  File          : ST67W6X_CLI_Boot.bin\n  Size          : 17.49 KB\n  Address       : 0x08000000\n\n\n\nErasing memory corresponding to sector 0:\nErasing internal memory sectors [0 2]\nDownload in Progress:\n\u5739\u5739\u5739\u5739\u5739\u5739\u5739\u5739\u5739\u5739\u5739\u5739\u5739\u5739\u5739\u5739\u5739\u5739\u5739\u5739\u5739\u5739\u5739\u5739\u5739 100%\n\nFile download complete\nTime elapsed during download operation: 00:00:00.085\n      -------------------------------------------------------------------\n                       STM32CubeProgrammer v2.19.0\n      -------------------------------------------------------------------\n\nWarning: The external loader file does not exist:\nC:\\Program Files\\STMicroelectronics\\STM32Cube\\STM32CubeProgrammer\\bin\\ExternalLoader\\MX25UW25645G_NUCLEO-H7S3L8.stldr\n\u8bf7\u6309\u4efb\u610f\u952e\u7ee7\u7eed. . .\n</code></pre>"},{"location":"st67w61/1.st67w61%E8%AF%84%E6%B5%8B-%E7%83%A7%E5%BD%95/#chatgpt","title":"\u2705 \u6574\u4e2a\u70e7\u5f55\u6d41\u7a0b\u6982\u89c8\uff08chatGPT\u5206\u6790\u70e7\u5f55\u65e5\u5fd7\uff09","text":"<p>\u4f60\u6b63\u5728\u5411\u4ee5\u4e0b\u4e24\u79cd\u82af\u7247\u70e7\u5f55\u56fa\u4ef6\uff1a</p> <ol> <li>STM32H7RS MCU\uff08\u4e3b\u63a7 MCU\uff09</li> <li>ST67W6X\uff08\u84dd\u7259/NCP \u82af\u7247\uff09</li> </ol> <p>\u5206\u4e24\u9636\u6bb5\uff1a</p> <ul> <li>\u7b2c\u4e00\u9636\u6bb5\u901a\u8fc7 ST-LINK\uff08SWD\uff09 \u5411 STM32H7 \u70e7\u5199 <code>Bootloader.bin</code> \u548c <code>ST67W6X_CLI_Boot.bin</code></li> <li>\u7b2c\u4e8c\u9636\u6bb5\u901a\u8fc7 UART (COM5) \u5411 ST67W6X \u70e7\u5199\u56fa\u4ef6\u548c\u914d\u7f6e\uff08\u5305\u62ec Boot2\u3001partition\u3001mission\u3001\u6587\u4ef6\u7cfb\u7edf\u3001eFuse\uff09</li> </ul>"},{"location":"st67w61/1.st67w61%E8%AF%84%E6%B5%8B-%E7%83%A7%E5%BD%95/#stm32","title":"\ud83d\udd27 STM32 \u90e8\u5206","text":""},{"location":"st67w61/1.st67w61%E8%AF%84%E6%B5%8B-%E7%83%A7%E5%BD%95/#_2","title":"\u2705 \u8fde\u63a5\u4fe1\u606f","text":"<pre><code>Detected NUCLEO-H7S3L8 board\nST-LINK SN  : 004B00293132511838363431\nDevice name : STM32H7RSxx\nDevice CPU  : Cortex-M7\nFlash size  : 64 KBytes\n</code></pre> <p>\u8bf4\u660e\u8fde\u63a5\u7684\u662f STM32H7R3L8\uff0864KB Flash \u7684\u53d8\u4f53\uff09\uff0c\u901a\u8fc7 SWD \u6210\u529f\u8fde\u63a5\u3002</p>"},{"location":"st67w61/1.st67w61%E8%AF%84%E6%B5%8B-%E7%83%A7%E5%BD%95/#bootloaderbin","title":"\u2705 \u70e7\u5f55 Bootloader.bin","text":"<pre><code>File          : Bootloader.bin\nSize          : 6.53 KB\nAddress       : 0x08000000\n</code></pre> <p>\u6b64\u6587\u4ef6\u70e7\u5f55\u5230\u4e3b Flash \u8d77\u59cb\u5730\u5740\uff080x08000000\uff09\uff0c\u6210\u529f\u3002</p>"},{"location":"st67w61/1.st67w61%E8%AF%84%E6%B5%8B-%E7%83%A7%E5%BD%95/#st67w6x_cli_bootbin","title":"\u2705 \u70e7\u5f55 ST67W6X_CLI_Boot.bin","text":"<pre><code>File          : ST67W6X_CLI_Boot.bin\nSize          : 17.49 KB\nAddress       : 0x08000000\n</code></pre> <p>\u4e4b\u540e\u53c8\u518d\u6b21\u70e7\u5f55 CLI \u7248\u672c\u7684 bootloader \u8986\u76d6\u4e4b\u524d\u7684\u5185\u5bb9\uff0c\u8bf4\u660e\u4f60\u53ef\u80fd\u8fdb\u884c\u4e86\u4e24\u6b21\u70e7\u5f55\u5b9e\u9a8c\u3002</p>"},{"location":"st67w61/1.st67w61%E8%AF%84%E6%B5%8B-%E7%83%A7%E5%BD%95/#st67w6x-uart","title":"\ud83d\udd0c ST67W6X \u90e8\u5206\uff08UART \u4e0b\u8f7d\uff09","text":""},{"location":"st67w61/1.st67w61%E8%AF%84%E6%B5%8B-%E7%83%A7%E5%BD%95/#_3","title":"\u2705 \u901a\u4fe1\u5efa\u7acb","text":"<pre><code>Serial port is COM5\nshake hand success\nChipID: 40827b00242a\n</code></pre> <p>\u8868\u793a\u4e32\u53e3\u901a\u8baf\u6210\u529f\uff0c\u82af\u7247\u8bc6\u522b\u4e5f\u6210\u529f\u3002</p>"},{"location":"st67w61/1.st67w61%E8%AF%84%E6%B5%8B-%E7%83%A7%E5%BD%95/#_4","title":"\u2705 \u70e7\u5f55\u591a\u4e2a\u5206\u533a","text":"<p>\u4ee5\u4e0b\u662f\u4f60\u901a\u8fc7 UART \u5411 ST67W6X \u70e7\u5199\u7684\u5185\u5bb9\uff1a</p> <ol> <li>Boot2\uff08bootloader \u7b2c\u4e8c\u9636\u6bb5\uff09     \u70e7\u5f55\u5730\u5740\uff1a<code>0x000000</code>     \u6587\u4ef6\uff1a<code>st67w611m_boot2_v8.1.9.bin</code>     SHA \u6821\u9a8c\u901a\u8fc7 \u2705</li> <li>Partition \u8868     \u70e7\u5f55\u5730\u5740\uff1a<code>0x0000E000</code>     \u6587\u4ef6\uff1a<code>partition.bin</code>     \u7528\u4e8e\u544a\u8bc9\u7cfb\u7edf\u6bcf\u4e2a\u5206\u533a\u7684\u5730\u5740\u548c\u5927\u5c0f\u3002\u6821\u9a8c\u901a\u8fc7 \u2705</li> <li>\u4e3b\u5e94\u7528 Mission App     \u70e7\u5f55\u5730\u5740\uff1a<code>0x10000</code>     \u6587\u4ef6\uff1a<code>st67w611m_mission_t01_v2.0.75.bin</code>     \u5927\u7ea6 800 KB\uff0c\u5206\u591a\u6b21\u70e7\u5199\u3002\u6821\u9a8c\u901a\u8fc7 \u2705</li> <li>LittleFS \u6587\u4ef6\u7cfb\u7edf     \u70e7\u5f55\u5730\u5740\uff1a<code>0x378000</code>     \u6587\u4ef6\uff1a<code>littlefs.bin</code>     \u70e7\u5199\u6210\u529f \u2705</li> </ol>"},{"location":"st67w61/1.st67w61%E8%AF%84%E6%B5%8B-%E7%83%A7%E5%BD%95/#efuse","title":"\u2705 eFuse \u52a0\u5bc6\u4e0e\u914d\u7f6e\u70e7\u5199","text":"<pre><code>kotlin\u590d\u5236\u7f16\u8f91Load file: efusedata.bin\necdh public key \u548c challenge data \u63d0\u4f9b\n</code></pre> <p>eFuse \u914d\u7f6e\u7528\u4e8e\u5b89\u5168\u542f\u52a8\u3001\u9632\u6b62\u975e\u6cd5\u8bbf\u95ee\u3001\u52a0\u5bc6\u82af\u7247\u7b49\u3002\u8fc7\u7a0b\u6267\u884c\u6210\u529f\uff0c\u4f7f\u7528\u4e86 ECDH \u516c\u94a5\u9a8c\u8bc1\u3002</p>"},{"location":"st67w61/1.st67w61%E8%AF%84%E6%B5%8B-%E7%83%A7%E5%BD%95/#_5","title":"\u26a0\ufe0f \u8b66\u544a\u4fe1\u606f\u8bf4\u660e","text":"<pre><code>makefile\u590d\u5236\u7f16\u8f91Warning: The external loader file does not exist: \nC:\\Program Files\\STMicroelectronics\\STM32Cube\\STM32CubeProgrammer\\bin\\ExternalLoader\\MX25UW25645G_NUCLEO-H7S3L8.stldr\n</code></pre> <p>\u89e3\u91ca\uff1a</p> <ul> <li>\u4f60\u7684 <code>STM32CubeProgrammer</code> \u8bd5\u56fe\u4f7f\u7528\u5916\u90e8 loader \u6765\u8bbf\u95ee\u5916\u63a5\u7684 NOR Flash\uff08\u5982 MX25UW25645G\uff09</li> <li>\u4f46\u4f60\u7cfb\u7edf\u4e2d\u7f3a\u5c11\u5bf9\u5e94\u7684 <code>.stldr</code> loader \u6587\u4ef6</li> <li>\u4e0d\u5f71\u54cd\u4e3b Flash \u70e7\u5f55\uff0c\u53ea\u5f71\u54cd\u8bbf\u95ee QSPI \u5916\u90e8 Flash\uff0c\u5982\u679c\u4f60\u6ca1\u7528\u5916\u90e8 Flash\uff0c\u53ef\u4ee5\u5ffd\u7565\u6b64\u8b66\u544a\u3002</li> </ul>"},{"location":"st67w61/1.st67w61%E8%AF%84%E6%B5%8B-%E7%83%A7%E5%BD%95/#_6","title":"\u2705 \u603b\u7ed3\uff1a\u4e00\u5207\u6210\u529f","text":"<p>\u4f60\u5b8c\u6210\u4e86\u5982\u4e0b\u5185\u5bb9\uff1a</p> \u9636\u6bb5 \u76ee\u6807 \u6587\u4ef6 \u7ed3\u679c STM32 Flash Bootloader Bootloader.bin \u2705 \u6210\u529f STM32 Flash CLI Bootloader ST67W6X_CLI_Boot.bin \u2705 \u6210\u529f UART Flash Boot2 st67w611m_boot2_v8.1.9.bin \u2705 \u6210\u529f UART Flash Partition partition.bin \u2705 \u6210\u529f UART Flash App st67w611m_mission_t01_v2.0.75.bin \u2705 \u6210\u529f UART Flash \u6587\u4ef6\u7cfb\u7edf littlefs.bin \u2705 \u6210\u529f UART Flash eFuse \u8bbe\u7f6e efusedata.bin \u2705 \u6210\u529f \u8b66\u544a \u7f3a\u5c11\u5916\u90e8 loader MX25UW25645G \u26a0\ufe0f \u53ef\u5ffd\u7565"},{"location":"st67w61/1.st67w61%E8%AF%84%E6%B5%8B-%E7%83%A7%E5%BD%95/#4-bootloaderapp","title":"4.\u4e0b\u8f7d\u4e3b\u5904\u7406\u5668\u7684 bootloader\u4e0eapp","text":"<p>x-cube-st67w61\\Projects\\NUCLEO-H7S3L8\\Applications\\ST67W6X\\ST67W6X_CLI\\MDK-ARM  \u6b64\u76ee\u5f55\u4e0b\u6253\u5f00keil\u5de5\u7a0b\uff0c\u6709boot\u4e0eapp \u4e0b\u8f7d\u8fdb\u53bb</p> <p>help \u53ef\u5c55\u793a\u51fa\u652f\u6301\u7684\u6240\u6709\u6307\u4ee4</p> <p></p> <p>\u53c2\u8003\u94fe\u63a5</p> <p>https://wiki.st.com/stm32mcu/wiki/Connectivity:Wi-Fi_ST67W6X_CLI_Application</p> <p>https://github.com/STMicroelectronics/x-cube-st67w61/tree/main/Projects/NUCLEO-H7S3L8</p>"},{"location":"st67w61/2.st67w61%E8%AF%84%E6%B5%8B-%E6%B5%8B%E8%AF%95/","title":"x-nucleo-67w61 \u8bc4\u6d4b-\u6d4b\u8bd5","text":""},{"location":"st67w61/2.st67w61%E8%AF%84%E6%B5%8B-%E6%B5%8B%E8%AF%95/#x-nucleo-67w61-","title":"x-nucleo-67w61 \u8bc4\u6d4b-\u6d4b\u8bd5","text":"<p>help\u6307\u4ee4\u5217\u51fa\u4e86\u6240\u6709\u529f\u80fd</p> <pre><code>[16:51:20.634]\u6536\u2190\u25c6help\nshell commands list:\ninfo_app             - info_app. Display application info\nquit                 - quit. Stop application execution\necho                 - echo [ iteration ]\nfota_http            - fota_http &lt; server IP &gt; &lt; server port &gt; &lt; ST67 resource URI &gt; [ STM32 resource URI ] [ FOTA header resource URI ]. Run firmware update over HTTP\nble_init             - ble_init [ 1: client mode; 2:server mode ]\nble_adv_start        - ble_adv_start\nble_adv_stop         - ble_adv_stop\nble_start_scan       - ble_start_scan\nble_stop_scan        - ble_stop_scan\nble_connect          - ble_connect [ conn handle: 0 or 1 ] [ BD addr ]\nble_disconnect       - ble_disconnect [ conn handle: 0 or 1 ]\nmqtt_configure       - mqtt_configure &lt; -s Scheme &gt; &lt; -i ClientId &gt; [ -u Username ] [ -pw Password ] [ -c Certificate ] [ -k PrivateKey ] [ -ca CACertificate ] [ -sni ]\nmqtt_connect         - mqtt_connect &lt; -h Host &gt; &lt; -p Port &gt;\nmqtt_disconnect      - mqtt_disconnect\nmqtt_subscribe       - mqtt_subscribe &lt; Topic &gt;\nmqtt_unsubscribe     - mqtt_unsubscribe &lt; Topic &gt;\nmqtt_publish         - mqtt_publish &lt; Topic &gt; &lt; Message &gt;\nping                 - ping &lt;hostname&gt; [ -c count [1; max(uint16_t) - 1] ] [ -s size [1; 10000] ] [ -i interval [100; 3500] ]\ntime                 - time &lt; timezone : UTC format : range [-12; 14] or HHmm format : with HH in range [-12; +14] and mm in range [00; 59] &gt;\ndnslookup            - dnslookup &lt;hostname&gt;\ninfo                 - info. Display ST67W6X module info\nreset                - reset &lt; 0: HAL_Reset; 1: NCP_Restore &gt;\nfs_write             - fs_write &lt; filename &gt;. Write file content from the Host to the NCP\nfs_read              - fs_read &lt; filename &gt;. Read file content\nfs_delete            - fs_delete &lt; filename &gt;. Delete file from the NCP file system\nfs_list              - fs_list. List all files in the file system\npowersave            - powersave [ 0: disable; 1: enable ]\natcmd                - atcmd &lt; \"AT+CMD?\" &gt;. Execute AT command\nwifi_scan            - wifi_scan [ -p ] [ -s SSID ] [ -b BSSID ] [ -c channel [1; 13] ] [ -n max_count [1; 50] ]\nwifi_sta_connect     - wifi_sta_connect &lt; SSID &gt; [ Password ] [ -b BSSID ] [ -i interval [0; 7200] ] [ -n nb_attempts [0; 1000] ] [ -wps ] [ -wep ]\nwifi_sta_disconnect  - wifi_sta_disconnect [ -r ]\nwifi_sta_mode        - wifi_sta_mode [ mode ]\nwifi_auto_connect    - wifi_auto_connect\nwifi_hostname        - wifi_hostname [ hostname ]\nwifi_sta_ip          - wifi_sta_ip [ IP addr ] [ Gateway addr ] [ Netmask addr ]\nwifi_sta_dns         - wifi_sta_dns [ 0:default IPs; 1: manual IPs ] [ DNS1 addr ] [ DNS2 addr ] [ DNS3 addr ]\nwifi_sta_mac         - wifi_sta_mac\nwifi_sta_state       - wifi_sta_state\nwifi_country_code    - wifi_country_code [ 0:AP aligned country code; 1:User country code ] [ Country code [CN; JP; US; EU; 00] ]\nwifi_ap_start        - wifi_ap_start [ -s SSID ] [ -p Password ] [ -c channel [1; 13] ] [ -e security [0:Open; 2:WPA; 3:WPA2; 4:WPA3] ] [ -h hidden [0; 1] ]\nwifi_ap_stop         - wifi_ap_stop\nwifi_ap_mode         - wifi_ap_mode [ mode ]\nwifi_ap_list_sta     - wifi_ap_list_sta\nwifi_ap_disconnect_sta - wifi_ap_disconnect_sta &lt; MAC &gt;\nwifi_ap_ip           - wifi_ap_ip\nwifi_dhcp            - wifi_dhcp [ 0:DHCP disabled; 1:DHCP enabled ] [ 1:STA only; 2:AP only; 3:STA + AP ] [ lease_time [1; 2880] ]\nwifi_ap_mac          - wifi_ap_mac\ndtim                 - dtim &lt; value [0; 10] &gt;\nwifi_twt_setup       - wifi_twt_setup &lt; setup_type(0: request; 1: suggest; 2: demand) &gt; &lt; flow_type(0: announced; 1: unannounced) &gt; &lt; wake_int_exp &gt; &lt; min_wake_duration &gt; &lt; wake_int_ma\n[16:51:20.692]\u6536\u2190\u25c6ntissa &gt;\nwifi_twt_set         - wifi_twt_set\nwifi_twt_teardown    - wifi_twt_teardown &lt; 0: announced; 1: unannounced &gt;; 2: all &gt;\niperf                - iperf [ options ]. Iperf command line tool for network performance measurement. [ -h ] for help\ntask_perf            - task_perf [ -s ]. Start or stop [ -s ] task performance measurement\ntask_report          - task_report. Display task performance report\nechostart            - echostart &lt; port &gt;. WFA - Starts the UDP echo server on the specified port.\nechostop             - echostop. WFA - Stops the UDP echo server.\nhelp                 - help [ command ]. Display all available commands and the relative help message\n</code></pre> <p>\u53c2\u8003\u94fe\u63a5</p> <p>https://wiki.st.com/stm32mcu/wiki/Connectivity:Wi-Fi_ST67W6X_CLI_Application</p> <p>https://github.com/STMicroelectronics/x-cube-st67w61/tree/main/Projects/NUCLEO-H7S3L8</p>"},{"location":"st67w61/st67w61%20io%E4%BD%BF%E7%94%A8/","title":"St67w61 io\u4f7f\u7528","text":"<p>\u7528\u6237\u5fc5\u987b\u786e\u4fdd JP1 \u548c JP2 \u4fdd\u6301\u5173\u95ed\u72b6\u6001\u3002 \u4ee5\u4e0b\u5217\u51fa\u4e86\u8be5\u63d2\u9500\u7684\u63cf\u8ff0\uff1a</p> <p>CHIP_EN \u5f15\u811a\u88ab\u7f6e\u9ad8\u4ee5\u542f\u52a8 ST67W611M1 \u8bbe\u5907\u3002</p> <p>\u5f53\u9700\u8981\u5411 ST67W611M1 \u8bbe\u5907\u52a0\u8f7d\u65b0\u7684\u4e8c\u8fdb\u5236\u6587\u4ef6\u65f6\uff0cBOOT \u5f15\u811a\u4f1a\u88ab\u6fc0\u6d3b\u3002 </p> <p>SPI_CLK\u3001SPI_MISO \u548c SPI_MOSI \u5f15\u811a\u7528\u4e8e\u6570\u636e\u901a\u4fe1\u3002 </p> <p>SPI_RDY \u5f15\u811a\u7531 ST67W611M1 \u63a7\u5236\u6fc0\u6d3b\uff0c\u4ee5\u6b64\u5411\u4e3b\u673a\u8bf7\u6c42 SPI \u65f6\u949f\u3002</p> <p>SPL CS \u5f15\u811a\u7531\u4e3b\u673a\u4f7f\u7528\u6765\u5524\u9192 ST67W611M1 \u8bbe\u5907\u3002</p> <p>UART \u53d1\u9001\u7aef\u548c UART \u63a5\u6536\u7aef\u7528\u4e8e\u540c\u65f6\u5bf9 ST67W611M1 \u8fdb\u884c\u52a0\u8f7d\u64cd\u4f5c\u4ee5\u53ca\u8fdb\u884c\u5c04\u9891\u6d4b\u8bd5\uff08\u751f\u4ea7\u6a21\u5f0f\uff09\u3002</p>"},{"location":"st67w61/st67w61%20io%E4%BD%BF%E7%94%A8/#at32f437","title":"AT32f437\u63a5\u53e3","text":""},{"location":"st67w61/st67w61%E6%B7%BB%E5%8A%A0https%E8%AF%81%E4%B9%A6/","title":"St67w61\u6dfb\u52a0https\u8bc1\u4e66","text":"<pre><code>Connecting to Local Access Point\nConnected to following Access Point :\n[cc:29:bd:d7:ae:71] Channel: 8 | RSSI: -51 | SSID: ZTE-45c476\nApp connected\n[ERROR] [11913] [defaultTsk] (w61_at_sys.c:664) W61_AT_Query: W61_STATUS_TIMEOUT (no status). It can lead to unexpected behavior\n[ERROR] [11913] [defaultTsk] (main_app.c:499) [TIMEOUT] in W6X_FS_GetSizeFile API\n[ERROR] [11936] [defaultTsk] (w6x_sys.c:292) File not found in the Host LFS. Verify the filename and littlefs.bin generation\n</code></pre> <p>deepseek\u8bf7\u6c42\u65f6\u4f1a\u63d0\u793a\u627e\u4e0d\u5230\u8bc1\u4e66\uff0c\u8bc1\u4e66\u4e00\u822c\u653e\u5728st67w61\u7684\u56fa\u4ef6\u91cc\u9762</p> <p>x-cube-st67w61\\Projects\\ST67W6X_Utilities\\LittleFS\\Certificates\\lfs</p> <p></p> <ul> <li><code>.crt</code>\uff08Certificate\uff0c\u8bc1\u4e66\u6587\u4ef6\uff09</li> <li><code>.key</code>\uff08Private Key\uff0c\u79c1\u94a5\u6587\u4ef6\uff09</li> </ul> <p>\u5728\u6b64\u5904\u6dfb\u52a0deepseek\u7684\u8bc1\u4e66</p>"},{"location":"st67w61/st67w61%E6%B7%BB%E5%8A%A0https%E8%AF%81%E4%B9%A6/#_1","title":"\u8be6\u7ec6\u8bf4\u660e","text":""},{"location":"st67w61/st67w61%E6%B7%BB%E5%8A%A0https%E8%AF%81%E4%B9%A6/#1-deepseek-api","title":"1. DeepSeek \u5b98\u65b9 API \u662f\u4ec0\u4e48\u6a21\u5f0f\uff1f","text":"<ul> <li>DeepSeek\u3001OpenAI\u3001\u767e\u5ea6\u3001Weather API \u7b49\u5927\u90e8\u5206\u4e91\u670d\u52a1\uff0c\u90fd\u662f\u6807\u51c6\u5355\u5411\u8ba4\u8bc1 HTTPS\u3002</li> <li>\u4f60\u7684\u8bbe\u5907/PC/\u6d4f\u89c8\u5668\u53d1\u8d77 HTTPS \u8bf7\u6c42\u65f6\uff0c\u53ea\u6821\u9a8c\u670d\u52a1\u7aef\u8eab\u4efd\uff08\u5373 DeepSeek \u7684\u670d\u52a1\u5668\u8bc1\u4e66\u94fe\uff09\uff0c\u4e0d\u9700\u8981\u5ba2\u6237\u7aef\u63d0\u4f9b\u81ea\u5df1\u7684\u8bc1\u4e66\u6216\u79c1\u94a5\u3002</li> </ul>"},{"location":"st67w61/st67w61%E6%B7%BB%E5%8A%A0https%E8%AF%81%E4%B9%A6/#2","title":"2. \u4ec0\u4e48\u65f6\u5019\u624d\u9700\u8981\u79c1\u94a5\uff1f","text":"<ul> <li>\u53ea\u6709\u201c\u53cc\u5411\u8ba4\u8bc1/\u5ba2\u6237\u7aef\u8bc1\u4e66\u8ba4\u8bc1\u201d\uff08\u5982\u90e8\u5206 MQTT \u7269\u8054\u7f51\u4e91\u5e73\u53f0\u3001\u94f6\u884c\u5b89\u5168\u63a5\u53e3\uff09\u624d\u8981\u6c42\u8bbe\u5907\u5fc5\u987b\u6709 <code>.key</code> \u548c <code>.crt</code>\uff08\u5ba2\u6237\u7aef\u8bc1\u4e66+\u79c1\u94a5\uff09\u3002</li> <li>DeepSeek \u8fd9\u79cd SaaS API\uff0c\u53ea\u7528 API Key \u9274\u6743\uff0c\u4e0d\u9700\u8981\u79c1\u94a5\u6587\u4ef6\u3002</li> </ul>"},{"location":"st67w61/st67w61%E6%B7%BB%E5%8A%A0https%E8%AF%81%E4%B9%A6/#_2","title":"\u518d\u4e3e\u4f8b\u8bf4\u660e","text":"\u573a\u666f \u9700\u4e0d\u9700\u8981 .key \u6587\u4ef6\uff08\u79c1\u94a5\uff09 \u8bf4\u660e DeepSeek/OpenAI API \u274c \u4e0d\u9700\u8981 \u53ea\u8981\u670d\u52a1\u5668\u8bc1\u4e66\uff08crt\uff09\uff0c\u7528 API Key \u963f\u91cc\u4e91 MQTT\uff08\u53cc\u5411\u8ba4\u8bc1\uff09 \u2705 \u9700\u8981 \u8bbe\u5907\u7528\u81ea\u5df1\u7684 crt + key \u6587\u4ef6 \u4f60\u672c\u5730 HTTPS \u670d\u52a1\u5668 \u274c \u4e0d\u9700\u8981 \u9ed8\u8ba4\u53ea\u8981 crt\uff0c\u5ba2\u6237\u7aef\u53ea\u505a\u6821\u9a8c"},{"location":"st67w61/st67w61%E6%B7%BB%E5%8A%A0https%E8%AF%81%E4%B9%A6/#openssl-deepseek","title":"\u4e00\u3001\u7528 openssl \u547d\u4ee4\u4e00\u952e\u5bfc\u51fa DeepSeek \u8bc1\u4e66","text":"<p>\u5728 Linux/Mac/WSL/Windows\uff08\u88c5\u4e86 openssl \u7684 git-bash/cygwin/msys2 \u4e5f\u884c\uff09\u8fd0\u884c\uff1a</p> <pre><code>echo | openssl s_client -showcerts -connect api.deepseek.com:443\n</code></pre> <p>\u4f1a\u770b\u5230\u5f88\u591a\u8bc1\u4e66\u6bb5\uff0c\u4f8b\u5982\uff1a</p> <pre><code>CONNECTED(000001AC)\n...\n---\nCertificate chain\n 0 s:CN = api.deepseek.com\n   i:C = US, O = Let's Encrypt, CN = R3\n-----BEGIN CERTIFICATE-----\nMIIG...\n...\u5f88\u591a\u884c...\n-----END CERTIFICATE-----\n...\n---\n</code></pre> <p>\u901a\u5e38\u6700\u540e\u4e00\u4e2a <code>-----BEGIN CERTIFICATE-----</code> \u5230 <code>-----END CERTIFICATE-----</code>\u4e3a\u201c\u6839\u8bc1\u4e66\u201d\u6216\u201c\u4e2d\u95f4\u8bc1\u4e66\u201d\u3002</p>"},{"location":"st67w61/st67w61%E6%B7%BB%E5%8A%A0https%E8%AF%81%E4%B9%A6/#r3isrg-root-x1","title":"\u5feb\u901f\u5bfc\u51fa\u6700\u5e38\u7528\u7684\u201cR3\u201d\u6839\u8bc1\u4e66\u6216\u201cISRG Root X1\u201d","text":"<p>\u7528\u4e00\u6761\u547d\u4ee4\u81ea\u52a8\u4fdd\u5b58\uff1a</p> <pre><code>openssl s_client -showcerts -connect api.deepseek.com:443 &lt;/dev/null 2&gt;/dev/null \\\n| awk '/BEGIN CERTIFICATE/,/END CERTIFICATE/' &gt; deepseek.crt\n</code></pre> <p>\u8fd9\u6837\u4fdd\u5b58\u7684\u5c31\u662f PEM \u683c\u5f0f\u8bc1\u4e66\u6587\u4ef6\uff08deepseek.crt\uff09\uff0c\u53ef\u4ee5\u76f4\u63a5\u7528\u4f5c MCU \u4fa7 TLS \u6821\u9a8c\u3002</p>"},{"location":"st67w61/st67w61%E6%B7%BB%E5%8A%A0https%E8%AF%81%E4%B9%A6/#windows","title":"\u4e8c\u3001\u7528\u6d4f\u89c8\u5668\u5bfc\u51fa\u8bc1\u4e66\uff08\u9002\u5408 Windows\uff09","text":"<ol> <li>\u7528 Chrome/Edge/Firefox \u6253\u5f00 https://api.deepseek.com</li> <li>\u70b9\u51fb\u5730\u5740\u680f\u7684\u5c0f\u9501 &gt; \u8fde\u63a5\u5b89\u5168 &gt; \u8bc1\u4e66\u6709\u6548 &gt; \u8bc1\u4e66\u8def\u5f84</li> <li>\u9009\u4e2d\u6700\u4e0a\u5c42\uff08\u4e00\u822c\u4e3a\u201cISRG Root X1\u201d\u6216\u201cDST Root CA\u201d\uff09\uff0c\u70b9\u51fb\u201c\u67e5\u770b\u8bc1\u4e66\u201d</li> <li>\u70b9\u51fb\u201c\u8be6\u7ec6\u4fe1\u606f\u201d &gt; \u201c\u590d\u5236\u5230\u6587\u4ef6\u201d &gt; \u9009\u62e9\u201cBase-64\u7f16\u7801X.509(.CER)\u201d     \u4fdd\u5b58\u4e3a deepseek.crt</li> </ol>"},{"location":"st67w61/st67w61%E6%B7%BB%E5%8A%A0https%E8%AF%81%E4%B9%A6/#_3","title":"\u6b64\u5904\u6211\u4f7f\u7528\u7b2c\u4e8c\u79cd","text":"<p>\u6d4f\u89c8\u5668\u8f93\u5165</p> <pre><code>https://api.deepseek.com/v1/chat/completions\n</code></pre> <p>F12</p> <p></p> <p></p> <p>Base64 \u7f16\u7801 ASCII\uff0c\u5355\u4e00\u8bc1\u4e66 (.pem;.crt)</p> <p>\u4fdd\u5b58\u5230\u6b64\u76ee\u5f55\u4e0b\u5e76\u91cd\u547d\u540d</p> <p></p> <p>\u70b9\u51fb\u6267\u884c\u811a\u672c\u91cd\u65b0\u751f\u6210littlefs\u56fa\u4ef6</p> <p></p> <p>\u6309\u7167\u91cd\u65b0\u70e7\u5f55\u5230st67w61\u5c31\u597d\u4e86</p>"},{"location":"stm32_cmake/1.cmake%E5%9F%BA%E7%A1%80%E4%BD%BF%E7%94%A8/","title":"cmake\u57fa\u7840\u4f7f\u7528","text":""},{"location":"stm32_cmake/1.cmake%E5%9F%BA%E7%A1%80%E4%BD%BF%E7%94%A8/#cmake","title":"cmake\u57fa\u7840\u4f7f\u7528","text":"<p>\u5728windwos\u4e0b\u5b89\u88c5cmake\u4e0eMinGW gcc\u7f16\u8bd1\u5668</p> <p>cmake   https://cmake.org/download/   \u76f4\u63a5\u4e0b\u8f7d\u7f16\u8bd1\u597d\u7684\u53ef\u6267\u884c\u6587\u4ef6\uff0c\u6dfb\u52a0\u5230\u73af\u5883\u53d8\u91cf</p> <p>mingw   https://sourceforge.net/projects/mingw/files/    </p> <p>mingw\u5b89\u88c5\u53c2\u8003  https://blog.csdn.net/qq_38196449/article/details/136125995?ops_request_misc=%257B%2522request%255Fid%2522%253A%2522d41495da4f27f25cf561806f3db23675%2522%252C%2522scm%2522%253A%252220140713.130102334..%2522%257D&amp;request_id=d41495da4f27f25cf561806f3db23675&amp;biz_id=0&amp;utm_medium=distribute.pc_search_result.none-task-blog-2~all~top_positive~default-2-136125995-null-null.142^v102^control&amp;utm_term=mingw&amp;spm=1018.2226.3001.4187</p> <p>main.c</p> <pre><code>#include &lt;stdio.h&gt;\n\nint main(void) {\n    printf(\"Hello, CMake!\\n\");\n    return 0;\n}\n</code></pre> <p>CMakeLists.txt</p> <pre><code>cmake_minimum_required(VERSION 3.5)\nproject(TestCMake C)\nadd_executable(test_cmake main.c)\n</code></pre>"},{"location":"stm32_cmake/1.cmake%E5%9F%BA%E7%A1%80%E4%BD%BF%E7%94%A8/#_1","title":"\u7f16\u8bd1","text":"<pre><code>cmake -S . -B build -G \"MinGW Makefiles\" \ncmake --build build\ncd build\n.\\test_cmake.exe\n</code></pre>"},{"location":"stm32_cmake/2.camke_for_vscode/","title":"cmake for vscode","text":""},{"location":"stm32_cmake/2.camke_for_vscode/#cmake-for-vscode","title":"cmake for vscode","text":"<p>main.c</p> <pre><code>#include &lt;stdio.h&gt;\n\nint main(void) {\n    printf(\"Hello, CMake!\\n\");\n    return 0;\n}\n</code></pre> <p>CMakeLists.txt</p> <pre><code>cmake_minimum_required(VERSION 3.5)\nproject(TestCMake C)\nadd_executable(test_cmake main.c)\n</code></pre>"},{"location":"stm32_cmake/2.camke_for_vscode/#_1","title":"cmake for vscode","text":""},{"location":"stm32_cmake/2.camke_for_vscode/#1","title":"1.\u5b89\u88c5\u6269\u5c55","text":""},{"location":"stm32_cmake/2.camke_for_vscode/#2","title":"2.\u9009\u62e9\u4f7f\u7528\u7684\u7f16\u8bd1\u5668","text":"<p>\u6b64\u5904\u6211\u4f7f\u7528</p> <p></p>"},{"location":"stm32_cmake/2.camke_for_vscode/#3","title":"3.\u4e00\u952e\u7f16\u8bd1","text":""},{"location":"stm32_cmake/2.camke_for_vscode/#_2","title":"\u8fd0\u884c\u6d4b\u8bd5","text":""},{"location":"stm32_cmake/3.stm32_cmake_for_ubuntu/","title":"stm32 cmake for ubuntu","text":""},{"location":"stm32_cmake/3.stm32_cmake_for_ubuntu/#stm32-cmake-for-ubuntu","title":"stm32 cmake for ubuntu","text":"<p>stm32 cubemx\u53ef\u751f\u6210cmake\u5de5\u7a0b\uff0c\uff08\u6ce8\u610f\u9700\u8981\u8f83\u65b0\u7248\u672c\u624d\u6709\uff09</p> <p>windwos\u4e0b\u7f16\u8bd1\u5f88\u6162\uff0c\u63a8\u8350linux\u4e0b\u7f16\u8bd1\uff0c\u8fd9\u91cc\u4f7f\u7528ubuntu\u7f16\u8bd1</p> <p>\u5b89\u88c5\u7f16\u8bd1\u73af\u5883</p> <pre><code>sudo apt update\nsudo apt install gcc-arm-none-eabi\nsudo apt install cmake\nsudo apt install make\n</code></pre>"},{"location":"stm32_cmake/3.stm32_cmake_for_ubuntu/#_1","title":"\u7f16\u8bd1\u6d4b\u8bd5","text":"<p>\u5148\u770b\u4e0b\u6587\u4ef6</p> <pre><code>$ tree -L 3\n.\n|-- CMakeLists.txt\n|-- CMakePresets.json\n|-- Core\n|   |-- Inc\n|   |   |-- adc.h\n|   |   |-- crc.h\n|   |   |-- dma.h\n|   |   |-- dma2d.h\n|   |   |-- fmc.h\n|   |   |-- gpio.h\n|   |   |-- i2c.h\n|   |   |-- jpeg.h\n|   |   |-- jpeg_utils_conf.h\n|   |   |-- ltdc.h\n|   |   |-- main.h\n|   |   |-- memorymap.h\n|   |   |-- spi.h\n|   |   |-- stm32h7xx_hal_conf.h\n|   |   |-- stm32h7xx_it.h\n|   |   |-- tim.h\n|   |   `-- usart.h\n|   `-- Src\n|       |-- adc.c\n|       |-- crc.c\n|       |-- dma.c\n|       |-- dma2d.c\n|       |-- fmc.c\n|       |-- gpio.c\n|       |-- i2c.c\n|       |-- jpeg.c\n|       |-- ltdc.c\n|       |-- main.c\n|       |-- memorymap.c\n|       |-- spi.c\n|       |-- stm32h7xx_hal_msp.c\n|       |-- stm32h7xx_hal_timebase_tim.c\n|       |-- stm32h7xx_it.c\n|       |-- syscalls.c\n|       |-- sysmem.c\n|       |-- system_stm32h7xx.c\n|       |-- tim.c\n|       `-- usart.c\n|-- Drivers\n|   |-- CMSIS\n|   |   |-- Core\n|   |   |-- Core_A\n|   |   |-- DSP\n|   |   |-- Device\n|   |   |-- Include\n|   |   |-- LICENSE.txt\n|   |   |-- NN\n|   |   |-- RTOS\n|   |   |-- RTOS2\n|   |   `-- docs\n|   `-- STM32H7xx_HAL_Driver\n|       |-- Inc\n|       |-- LICENSE.txt\n|       `-- Src\n|-- STM32H750XB.ioc\n|-- STM32H750XX_FLASH.ld\n|-- Utilities\n|   `-- JPEG\n|       |-- LICENSE.txt\n|       |-- jpeg_utils.c\n|       |-- jpeg_utils.h\n|       `-- jpeg_utils_conf_template.h\n|-- cmake\n|   |-- gcc-arm-none-eabi.cmake\n|   `-- stm32cubemx\n|       `-- CMakeLists.txt\n`-- startup_stm32h750xx.s\n\n21 directories, 50 files\n</code></pre> <p>\u547d\u4ee4\u884c\u7f16\u8bd1</p> <pre><code># \u8fdb\u5165\u5de5\u7a0b\u6839\u76ee\u5f55\ncmake -S . -B build -DCMAKE_TOOLCHAIN_FILE=cmake/gcc-arm-none-eabi.cmake\ncmake --build build\n</code></pre> <p></p>"},{"location":"stm32_cmake/4.linux%E4%B8%8Bcubeprogrammer%E5%AE%89%E8%A3%85%E5%B9%B6%E6%B7%BB%E5%8A%A0%E5%88%B0%E7%8E%AF%E5%A2%83%E5%8F%98%E9%87%8F/","title":"linux\u4e0bcube Programmer\u5b89\u88c5\u5e76\u6dfb\u52a0\u5230\u73af\u5883\u53d8\u91cf","text":""},{"location":"stm32_cmake/4.linux%E4%B8%8Bcubeprogrammer%E5%AE%89%E8%A3%85%E5%B9%B6%E6%B7%BB%E5%8A%A0%E5%88%B0%E7%8E%AF%E5%A2%83%E5%8F%98%E9%87%8F/#linuxcube-programmer","title":"linux\u4e0bcube Programmer\u5b89\u88c5\u5e76\u6dfb\u52a0\u5230\u73af\u5883\u53d8\u91cf","text":"<p>\u4e0b\u8f7d\u538b\u7f29\u5305 stm32cubeprg-lin-v2-20-0.zip</p> <p>\u89e3\u538b\u540e</p> <p></p>"},{"location":"stm32_cmake/4.linux%E4%B8%8Bcubeprogrammer%E5%AE%89%E8%A3%85%E5%B9%B6%E6%B7%BB%E5%8A%A0%E5%88%B0%E7%8E%AF%E5%A2%83%E5%8F%98%E9%87%8F/#_1","title":"\u7ed9\u6743\u9650","text":"<pre><code>sudo chmod 775 SetupSTM32CubeProgrammer-2.20.0.linux\nsudo chmod 775 -R jre\n</code></pre>"},{"location":"stm32_cmake/4.linux%E4%B8%8Bcubeprogrammer%E5%AE%89%E8%A3%85%E5%B9%B6%E6%B7%BB%E5%8A%A0%E5%88%B0%E7%8E%AF%E5%A2%83%E5%8F%98%E9%87%8F/#_2","title":"\u5b89\u88c5","text":"<pre><code>sudo ./SetupSTM32CubeProgrammer-2.20.0.linux\n</code></pre> <p>\u4e00\u8def\u5b89\u88c5\u9009 1 \u6216\u8005 Y ,\u73af\u5883\u53d8\u91cf\u8bbe\u7f6e\u76f4\u63a5\u56de\u8f66\uff0c\u9ed8\u8ba4\u8def\u5f84</p> <pre><code>/usr/local/STMicroelectronics/STM32Cube/STM32CubeProgrammer/\n</code></pre>"},{"location":"stm32_cmake/4.linux%E4%B8%8Bcubeprogrammer%E5%AE%89%E8%A3%85%E5%B9%B6%E6%B7%BB%E5%8A%A0%E5%88%B0%E7%8E%AF%E5%A2%83%E5%8F%98%E9%87%8F/#_3","title":"\u9a8c\u8bc1\u662f\u5426\u5b89\u88c5\u6210\u529f","text":"<pre><code>/usr/local/STMicroelectronics/STM32Cube/STM32CubeProgrammer/bin/STM32_Programmer_CLI --version\n</code></pre>"},{"location":"stm32_cmake/4.linux%E4%B8%8Bcubeprogrammer%E5%AE%89%E8%A3%85%E5%B9%B6%E6%B7%BB%E5%8A%A0%E5%88%B0%E7%8E%AF%E5%A2%83%E5%8F%98%E9%87%8F/#_4","title":"\u6dfb\u52a0\u5230\u7528\u6237\u7684\u73af\u5883\u53d8\u91cf\uff08\u6c38\u4e45\u6dfb\u52a0\uff09","text":"<p>\u6bcf\u4e2a\u7528\u6237\u90fd\u6709\u7684\u73af\u5883\u53d8\u91cf\u914d\u7f6e\u6587\u4ef6</p> <pre><code>~/.bashrc\n</code></pre> <p></p> <p>\u7f16\u8f91 <code>~/.bashrc</code> \u6587\u4ef6\uff0c\u5728\u672b\u5c3e\u52a0\u4e00\u884c\uff1a</p> <pre><code>export PATH=$PATH:/usr/local/STMicroelectronics/STM32Cube/STM32CubeProgrammer/bin\n</code></pre> <p>\u7136\u540e\u4f7f\u5176\u751f\u6548\uff1a</p> <pre><code>source ~/.bashrc\n</code></pre> <p>\u65b0\u6253\u5f00\u4e00\u4e2a\u7ec8\u7aef\uff0c\u9a8c\u8bc1</p> <pre><code>STM32_Programmer_CLI --version\n</code></pre> <p></p>"},{"location":"stm32_cmake/5.linux%E4%B8%8Bcubeprogrammer%E4%B8%8B%E8%BD%BD%E9%97%AE%E9%A2%98/","title":"linux\u4e0b\u4f7f\u7528cubeprogrammer\u4e0b\u8f7d\u95ee\u9898","text":""},{"location":"stm32_cmake/5.linux%E4%B8%8Bcubeprogrammer%E4%B8%8B%E8%BD%BD%E9%97%AE%E9%A2%98/#linuxcubeprogrammer","title":"linux\u4e0b\u4f7f\u7528cubeprogrammer\u4e0b\u8f7d\u95ee\u9898","text":"<ul> <li>STM32CubeProgrammer/STM32 ST-LINK \u5728 Linux \u4e0b\u5e38\u89c1\u7684\u201c\u65e0\u6743\u9650\u8bbf\u95ee USB \u8bbe\u5907\u8282\u70b9\u201d\u95ee\u9898</li> </ul> <pre><code>hdj@hdj-virtual-machine:~/zephyrproject/zephyr$ sudo west flash\n[sudo] password for hdj: \nsudo: west: command not found\nhdj@hdj-virtual-machine:~/zephyrproject/zephyr$ west flash\n-- west flash: rebuilding\nninja: no work to do.\n-- west flash: using runner stm32cubeprogrammer\n      -------------------------------------------------------------------\n                        STM32CubeProgrammer v2.20.0                  \n      -------------------------------------------------------------------\n\nlibusb: error [get_usbfs_fd] libusb couldn't open USB device /dev/bus/usb/002/004, errno=13\nlibusb: error [get_usbfs_fd] libusb requires write access to USB device nodes\nlibusb: error [get_usbfs_fd] libusb couldn't open USB device /dev/bus/usb/002/004, errno=13\nlibusb: error [get_usbfs_fd] libusb requires write access to USB device nodes\nlibusb: error [get_usbfs_fd] libusb couldn't open USB device /dev/bus/usb/002/004, errno=13\nlibusb: error [get_usbfs_fd] libusb requires write access to USB device nodes\nlibusb: error [get_usbfs_fd] libusb couldn't open USB device /dev/bus/usb/002/004, errno=13\nlibusb: error [get_usbfs_fd] libusb requires write access to USB device nodes\nlibusb: error [get_usbfs_fd] libusb couldn't open USB device /dev/bus/usb/002/004, errno=13\nlibusb: error [get_usbfs_fd] libusb requires write access to USB device nodes\nlibusb: error [get_usbfs_fd] libusb couldn't open USB device /dev/bus/usb/002/004, errno=13\nlibusb: error [get_usbfs_fd] libusb requires write access to USB device nodes\nlibusb: error [get_usbfs_fd] libusb couldn't open USB device /dev/bus/usb/002/004, errno=13\nlibusb: error [get_usbfs_fd] libusb requires write access to USB device nodes\nlibusb: error [get_usbfs_fd] libusb couldn't open USB device /dev/bus/usb/002/004, errno=13\nlibusb: error [get_usbfs_fd] libusb requires write access to USB device nodes\nlibusb: error [get_usbfs_fd] libusb couldn't open USB device /dev/bus/usb/002/004, errno=13\nlibusb: error [get_usbfs_fd] libusb requires write access to USB device nodes\nlibusb: error [get_usbfs_fd] libusb couldn't open USB device /dev/bus/usb/002/004, errno=13\nlibusb: error [get_usbfs_fd] libusb requires write access to USB device nodes\nlibusb: error [get_usbfs_fd] libusb couldn't open USB device /dev/bus/usb/002/004, errno=13\nlibusb: error [get_usbfs_fd] libusb requires write access to USB device nodes\nlibusb: error [get_usbfs_fd] libusb couldn't open USB device /dev/bus/usb/002/004, errno=13\nlibusb: error [get_usbfs_fd] libusb requires write access to USB device nodes\nST-LINK error (DEV_CONNECT_ERR)\nFATAL ERROR: command exited with status 1: /usr/local/STMicroelectronics/STM32Cube/STM32CubeProgrammer/bin/STM32_Programmer_CLI --connect 'port=swd reset=HWrst' --download /home/hdj/zephyrproject/zephyr/build/zephyr/zephyr.hex --start\nhdj@hdj-virtual-machine:~/zephyrproject/zephyr$ \n</code></pre>"},{"location":"stm32_cmake/5.linux%E4%B8%8Bcubeprogrammer%E4%B8%8B%E8%BD%BD%E9%97%AE%E9%A2%98/#udev","title":"udev \u89c4\u5219\u6587\u4ef6\u6765\u6e90","text":"<p>STM32CubeProgrammer \u7684 udev \u89c4\u5219\u6587\u4ef6\u901a\u5e38\u5728\u5b89\u88c5\u8def\u5f84\u4e0b\u7684 <code>Drivers/rules/</code> \u76ee\u5f55\uff0c</p> <pre><code>/usr/local/STMicroelectronics/STM32Cube/STM32CubeProgrammer/Drivers/rules/\n</code></pre> <pre><code>hdj@hdj-virtual-machine:/usr/local/STMicroelectronics/STM32Cube/STM32CubeProgrammer/Drivers/rules$ pwd\n/usr/local/STMicroelectronics/STM32Cube/STM32CubeProgrammer/Drivers/rules\nhdj@hdj-virtual-machine:/usr/local/STMicroelectronics/STM32Cube/STM32CubeProgrammer/Drivers/rules$ ls -al\ntotal 56\ndrwxr-xr-x 2 root root  4096  8\u6708  1 20:06 .\ndrwxr-xr-x 4 root root  4096  8\u6708  1 20:06 ..\n-rw-r--r-- 1 root root   604  7\u6708 19  2024 49-stlinkv2-1.rules\n-rw-r--r-- 1 root root   480  7\u6708 19  2024 49-stlinkv2.rules\n-rw-r--r-- 1 root root   982  7\u6708 19  2024 49-stlinkv3.rules\n-rw-r--r-- 1 root root    97  7\u6708 19  2024 50-usb-conf.rules\n-rw-r--r-- 1 root root 21179  7\u6708 19  2024 99-jlink.rules\n-rw-r--r-- 1 root root   220  7\u6708 19  2024 Readme.txt\n-rw-r--r-- 1 root root     5  7\u6708 19  2024 version.txt\n</code></pre> <p>\u5c06\u8fd9\u4e9b <code>.rules</code> \u6587\u4ef6\u62f7\u8d1d\u5230\u7cfb\u7edf\u7684 udev \u76ee\u5f55\uff08\u901a\u5e38 <code>/etc/udev/rules.d/</code> \u6216 <code>/lib/udev/rules.d/</code>\uff0c\u63a8\u8350\u540e\u8005\uff09</p> <p>\u8fd9\u91cc\u6211\u5168\u90e8\u62f7\u8d1d\u4e86</p> <pre><code>sudo cp /usr/local/STMicroelectronics/STM32Cube/STM32CubeProgrammer/Drivers/rules/*.rules /etc/udev/rules.d/\nsudo cp /usr/local/STMicroelectronics/STM32Cube/STM32CubeProgrammer/Drivers/rules/*.rules /lib/udev/rules.d/\n</code></pre>"},{"location":"stm32_cmake/5.linux%E4%B8%8Bcubeprogrammer%E4%B8%8B%E8%BD%BD%E9%97%AE%E9%A2%98/#udev_1","title":"\u91cd\u65b0\u52a0\u8f7d udev \u89c4\u5219","text":"<pre><code>sudo udevadm control --reload-rules\nsudo udevadm trigger\n</code></pre>"},{"location":"stm32_cmake/5.linux%E4%B8%8Bcubeprogrammer%E4%B8%8B%E8%BD%BD%E9%97%AE%E9%A2%98/#st-link-usb","title":"\u62d4\u63d2\u4f60\u7684 ST-LINK \u6216\u5f00\u53d1\u677f\u7684 USB\uff0c\u518d\u5c1d\u8bd5\u4e0b\u8f7d","text":"<pre><code>west flash\n</code></pre> <p>zephyr \u4e0b\u8f7d\u6210\u529f\u65e5\u5fd7</p> <pre><code>hdj@hdj-virtual-machine:~/zephyrproject/zephyr$ west flash\n-- west flash: rebuilding\nninja: no work to do.\n-- west flash: using runner stm32cubeprogrammer\n      -------------------------------------------------------------------\n                        STM32CubeProgrammer v2.20.0                  \n      -------------------------------------------------------------------\n\nST-LINK SN  : 0024001B3033510135393935\nST-LINK FW  : V3J16M7\nBoard       : STM32H7S78-DK\nVoltage     : 3.28V\nSWD freq    : 8000 KHz\nConnect mode: Under Reset\nReset mode  : Hardware reset\nDevice ID   : 0x485\nRevision ID : Rev Y\nDevice name : STM32H7RSxx\nFlash size  : 64 KBytes (default)\nDevice type : MCU\nDevice CPU  : Cortex-M7\nBL Version  : 0xE3\n\n\n\nOpening and parsing file: zephyr.hex\n\n\nMemory Programming ...\n  File          : zephyr.hex\n  Size          : 19.13 KB \n  Address       : 0x08000000\n\n\nErasing memory corresponding to segment 0:\nErasing internal memory sectors [0 2]\nDownload in Progress:\n[==================================================] 100% \n\nFile download complete\nTime elapsed during download operation: 00:00:00.529\n\nRUNNING Program ... \n  Address:      : 0x8000000\nApplication is running, Please Hold on...\nStart operation achieved successfully\n</code></pre> <p>\u53c2\u8003</p> <p>https://community.st.com/t5/stm32cubeprogrammer-mcus/error-connecting-with-st-link-in-linux/m-p/691460#M6688</p>"},{"location":"stm32_cmake/6.stm32_ubuntu%E4%B8%8B%E7%83%A7%E5%BD%95/","title":"stm32 ubuntu\u70e7\u5f55","text":""},{"location":"stm32_cmake/6.stm32_ubuntu%E4%B8%8B%E7%83%A7%E5%BD%95/#stm32-ubuntu","title":"stm32 ubuntu\u70e7\u5f55","text":"<p>\u6211\u4f7f\u7528\u7684\u662fstlink\u70e7\u5f55\uff0c\u5728ubuntu\u4e0a\u5b89\u88c5cubeprogrammer \u5de5\u5177</p> <p>\u751f\u6210\u7684\u9ed8\u8ba4\u53ea\u6709elf\u6587\u4ef6</p>"},{"location":"stm32_cmake/6.stm32_ubuntu%E4%B8%8B%E7%83%A7%E5%BD%95/#elfhexbin","title":"elf\u6587\u4ef6\u8f6chex\u4e0ebin\u6587\u4ef6","text":"<pre><code># \u8f6c bin\narm-none-eabi-objcopy -O binary STM32H750XB.elf STM32H750XB.bin\n\n# \u8f6c hex\narm-none-eabi-objcopy -O ihex STM32H750XB.elf STM32H750XB.hex\n</code></pre>"},{"location":"stm32_cmake/6.stm32_ubuntu%E4%B8%8B%E7%83%A7%E5%BD%95/#bin","title":"\u70e7\u5f55 bin \u6587\u4ef6","text":""},{"location":"stm32_cmake/6.stm32_ubuntu%E4%B8%8B%E7%83%A7%E5%BD%95/#_1","title":"\u9ed8\u8ba4\u64e6\u9664\u5bf9\u5e94\u6247\u533a","text":"<pre><code>STM32_Programmer_CLI -c port=SWD -w STM32H750XB.bin 0x08000000 -v\n</code></pre> <ul> <li><code>-w STM32H750XB.bin 0x08000000</code>\uff1a\u6307\u5b9a bin \u6587\u4ef6\u5199\u5165\u8d77\u59cb\u5730\u5740\uff0c\u4e00\u822c STM32 Flash \u8d77\u59cb\u5730\u5740\u4e3a <code>0x08000000</code></li> <li><code>-v</code>\uff1a\u5199\u5165\u540e\u6821\u9a8c</li> </ul>"},{"location":"stm32_cmake/6.stm32_ubuntu%E4%B8%8B%E7%83%A7%E5%BD%95/#_2","title":"\u64e6\u9664\u5168\u90e8\u6247\u533a","text":"<p>\u52a0 <code>-e all</code></p> <pre><code>STM32_Programmer_CLI -c port=SWD -e all -w STM32H750XB.bin 0x08000000 -v\n</code></pre>"},{"location":"stm32_cmake/6.stm32_ubuntu%E4%B8%8B%E7%83%A7%E5%BD%95/#hex","title":"\u70e7\u5f55 hex \u6587\u4ef6","text":"<pre><code>STM32_Programmer_CLI -c port=SWD -w STM32H750XB.hex -v\n</code></pre> <ul> <li>\u70e7 hex \u6587\u4ef6\u65f6\u65e0\u9700\u5199\u5165\u5730\u5740\uff0c\u5de5\u5177\u4f1a\u81ea\u52a8\u6309 hex \u6587\u4ef6\u5185\u90e8\u5730\u5740\u70e7\u5f55</li> <li>\u64e6\u9664\u5168\u90e8\u6247\u533a\u4e5f\u662f\u52a0 -e all  </li> </ul>"},{"location":"stm32_cmake/6.stm32_ubuntu%E4%B8%8B%E7%83%A7%E5%BD%95/#_3","title":"\u70e7\u5f55\u65e5\u5fd7","text":""},{"location":"stm32_cmake/6.stm32_ubuntu%E4%B8%8B%E7%83%A7%E5%BD%95/#hex_1","title":"\u70e7\u5f55hex","text":"<pre><code>hdj@hdj-virtual-machine:~/stm32-cmake-for-vscode/build$ STM32_Programmer_CLI -c port=SWD -w STM32H750XB.hex -v\n      -------------------------------------------------------------------\n                        STM32CubeProgrammer v2.20.0                  \n      -------------------------------------------------------------------\n\nST-LINK SN  : 0669FF505750888667051238\nST-LINK FW  : V2J43M28\nBoard       : --\nVoltage     : 3.25V\nSWD freq    : 4000 KHz\nConnect mode: Normal\nReset mode  : Software reset\nDevice ID   : 0x450\nRevision ID : Rev V\nDevice name : STM32H7xx\nFlash size  : 128 KBytes\nDevice type : MCU\nDevice CPU  : Cortex-M7\nBL Version  : 0x90\n\n\n\nOpening and parsing file: STM32H750XB.hex\n\n\nMemory Programming ...\n  File          : STM32H750XB.hex\n  Size          : 58.52 KB \n  Address       : 0x08000000\n\n\nErasing memory corresponding to segment 0:\nDownload in Progress:\n[==================================================] 100% \n\nFile download complete\nTime elapsed during download operation: 00:00:09.568\n\n\n\nVerifying...\n\n\nRead progress:\n[==================================================] 100% \n\nTime elapsed during verifying operation: 00:00:00.540\n\n\nDownload verified successfully \n</code></pre>"},{"location":"stm32_cmake/6.stm32_ubuntu%E4%B8%8B%E7%83%A7%E5%BD%95/#bin_1","title":"\u70e7\u5f55bin","text":"<pre><code>hdj@hdj-virtual-machine:~/stm32-cmake-for-vscode/build$ STM32_Programmer_CLI -c port=SWD -w STM32H750XB.bin 0x08000000 -v\n      -------------------------------------------------------------------\n                        STM32CubeProgrammer v2.20.0                  \n      -------------------------------------------------------------------\n\nST-LINK SN  : 0669FF505750888667051238\nST-LINK FW  : V2J43M28\nBoard       : --\nVoltage     : 3.25V\nSWD freq    : 4000 KHz\nConnect mode: Normal\nReset mode  : Software reset\nDevice ID   : 0x450\nRevision ID : Rev V\nDevice name : STM32H7xx\nFlash size  : 128 KBytes\nDevice type : MCU\nDevice CPU  : Cortex-M7\nBL Version  : 0x90\n\n\n\nOpening and parsing file: STM32H750XB.bin\n\n\nMemory Programming ...\n  File          : STM32H750XB.bin\n  Size          : 58.52 KB \n  Address       : 0x08000000\n\n\nErasing memory corresponding to segment 0:\nDownload in Progress:\n[==================================================] 100% \n\nFile download complete\nTime elapsed during download operation: 00:00:09.541\n\n\n\nVerifying...\n\n\nRead progress:\n[==================================================] 100% \n\nTime elapsed during verifying operation: 00:00:00.565\n\n\nDownload verified successfully \n</code></pre>"},{"location":"stm32_cmake/6.stm32_ubuntu%E4%B8%8B%E7%83%A7%E5%BD%95/#_4","title":"stm32 ubuntu\u70e7\u5f55","text":""},{"location":"stm32_cmake/7.STM32_Programmer_CLI%20%E6%9B%B4%E5%A4%9A%E5%91%BD%E4%BB%A4/","title":"STM32_Programmer_CLI \u66f4\u591a\u547d\u4ee4","text":""},{"location":"stm32_cmake/7.STM32_Programmer_CLI%20%E6%9B%B4%E5%A4%9A%E5%91%BD%E4%BB%A4/#stm32_programmer_cli","title":"STM32_Programmer_CLI \u66f4\u591a\u547d\u4ee4","text":"<pre><code>STM32_Programmer_CLI --help\n</code></pre> <p>\u5de5\u5177\u652f\u6301\u547d\u4ee4\u5206\u7c7b</p>"},{"location":"stm32_cmake/7.STM32_Programmer_CLI%20%E6%9B%B4%E5%A4%9A%E5%91%BD%E4%BB%A4/#1","title":"1. \u8fde\u63a5\u76ee\u6807\u677f","text":"<ul> <li><code>-c, --connect</code>    \u6307\u5b9a\u7aef\u53e3\u4e0e\u8bbe\u5907\u5efa\u7acb\u8fde\u63a5\uff08SWD\u3001JTAG\u3001UART\u3001USB DFU\u3001CAN\u3001I2C\u7b49\uff09</li> </ul> <pre><code>-c port=SWD\n-c port=COM3\n</code></pre>"},{"location":"stm32_cmake/7.STM32_Programmer_CLI%20%E6%9B%B4%E5%A4%9A%E5%91%BD%E4%BB%A4/#2","title":"2. \u4e0b\u8f7d/\u70e7\u5f55\u56fa\u4ef6","text":"<ul> <li><code>-w, --write</code>    \u70e7\u5f55 bin/hex/elf \u6587\u4ef6\uff08\u53ef\u6307\u5b9a\u5730\u5740\u6216\u76f4\u63a5\u70e7hex/srec\u6587\u4ef6\uff09</li> </ul> <pre><code>-w app.bin 0x08000000\n-w app.hex\n</code></pre> <ul> <li><code>-d, --download</code>    \u529f\u80fd\u540c <code>-w</code>\uff0c\u4f46\u547d\u540d\u4e3a download</li> </ul>"},{"location":"stm32_cmake/7.STM32_Programmer_CLI%20%E6%9B%B4%E5%A4%9A%E5%91%BD%E4%BB%A4/#3-flash","title":"3. \u64e6\u9664 Flash","text":"<ul> <li><code>-e, --erase [all|\u6307\u5b9a\u6247\u533a]</code></li> </ul> <pre><code>-e all             # \u64e6\u9664\u5168\u90e8Flash\n-e [0 3]           # \u64e6\u9664\u6247\u533a0\u52303\n</code></pre>"},{"location":"stm32_cmake/7.STM32_Programmer_CLI%20%E6%9B%B4%E5%A4%9A%E5%91%BD%E4%BB%A4/#4","title":"4. \u6821\u9a8c\u56fa\u4ef6","text":"<ul> <li><code>-v, --verify</code>    \u70e7\u5f55\u540e\u7acb\u5373\u6821\u9a8c\u56fa\u4ef6\u662f\u5426\u70e7\u5199\u6210\u529f</li> </ul>"},{"location":"stm32_cmake/7.STM32_Programmer_CLI%20%E6%9B%B4%E5%A4%9A%E5%91%BD%E4%BB%A4/#5-mcu-flash","title":"5. \u8bfb\u53d6/\u5bfc\u51fa MCU Flash \u5185\u5bb9","text":"<ul> <li><code>-u, --upload</code></li> </ul> <pre><code>-u 0x08000000 0x10000 backup.bin   # \u4eceFlash\u8bfb\u53d6\u5185\u5bb9\u4fdd\u5b58\u4e3abin\n</code></pre>"},{"location":"stm32_cmake/7.STM32_Programmer_CLI%20%E6%9B%B4%E5%A4%9A%E5%91%BD%E4%BB%A4/#6-mcu","title":"6. \u590d\u4f4d/\u8fd0\u884c MCU","text":"<ul> <li><code>-rst</code>       \u8f6f\u4ef6\u590d\u4f4d</li> <li><code>-hardRst</code>   \u786c\u4ef6\u590d\u4f4d</li> <li><code>-g, --go [address]</code>  \u8df3\u8f6c\u5e76\u8fd0\u884c</li> </ul>"},{"location":"stm32_cmake/7.STM32_Programmer_CLI%20%E6%9B%B4%E5%A4%9A%E5%91%BD%E4%BB%A4/#7-option-bytes","title":"7. \u67e5\u770b/\u64cd\u4f5c Option Bytes","text":"<ul> <li><code>-ob, --optionbytes [displ|unlockchip|OptByte=xxx]</code></li> </ul>"},{"location":"stm32_cmake/7.STM32_Programmer_CLI%20%E6%9B%B4%E5%A4%9A%E5%91%BD%E4%BB%A4/#8","title":"8. \u8bfb\u5199\u5185\u5b58","text":"<ul> <li><code>-r8/-r16/-r32</code>   \u8bfb\u5185\u5b58</li> <li><code>-w8/-w16/-w32</code>   \u5199\u5185\u5b58</li> </ul>"},{"location":"stm32_cmake/7.STM32_Programmer_CLI%20%E6%9B%B4%E5%A4%9A%E5%91%BD%E4%BB%A4/#9","title":"9. \u68c0\u67e5\u7a7a\u767d/\u6821\u9a8c","text":"<ul> <li><code>-blankcheck</code>   \u68c0\u67e5Flash\u662f\u5426\u4e3a\u7a7a</li> <li><code>-checksum, --checksum</code>  \u6821\u9a8c\u67d0\u4e00\u6bb5Flash\u5185\u5bb9</li> </ul>"},{"location":"stm32_cmake/7.STM32_Programmer_CLI%20%E6%9B%B4%E5%A4%9A%E5%91%BD%E4%BB%A4/#10","title":"10. \u8bbe\u5907/\u8c03\u8bd5\u76f8\u5173\u64cd\u4f5c","text":"<ul> <li><code>-list, --list</code>    \u679a\u4e3e\u6240\u6709\u8fde\u63a5\u7684ST-Link/\u4e32\u53e3\u7b49\u8bbe\u5907</li> <li><code>-l 31</code>            \u8f93\u51fa\u8be6\u7ec6\u8c03\u8bd5\u4fe1\u606f\uff08\u65e5\u5fd7\uff09</li> </ul>"},{"location":"stm32_cmake/7.STM32_Programmer_CLI%20%E6%9B%B4%E5%A4%9A%E5%91%BD%E4%BB%A4/#mpu","title":"\u5176\u5b83\u9ad8\u7ea7/\u5b89\u5168/MPU\u76f8\u5173\u547d\u4ee4","text":"<ul> <li>\u8b6c\u5982 option bytes, TrustZone, Secure Boot, HSM, OTP, Provisioning, key\u3001\u8bc1\u4e66\u7b49\u7ba1\u7406\uff0c\u90fd\u5728\u540e\u9762\u7684\u9ad8\u7ea7\u547d\u4ee4\u548c Beta \u547d\u4ee4\u91cc\uff0c\u666e\u901a\u5e94\u7528/\u751f\u4ea7/\u91cf\u4ea7\u57fa\u672c\u7528\u4e0d\u4e0a\u3002</li> </ul>"},{"location":"stm32_cmake/7.STM32_Programmer_CLI%20%E6%9B%B4%E5%A4%9A%E5%91%BD%E4%BB%A4/#loader","title":"\u81ea\u5b9a\u4e49\u5916\u90e8 Loader \u7684\u547d\u4ee4\uff08\u540e\u9762\u7528\u5230\u518d\u8be6\u7ec6\u4ecb\u7ecd\u5236\u4f5c\u8fc7\u7a0b\uff09","text":"<p>CubeProgrammer \u4f7f\u7528\u81ea\u5b9a\u4e49\u5916\u90e8 Loader \u7684\u547d\u4ee4</p>"},{"location":"stm32_cmake/7.STM32_Programmer_CLI%20%E6%9B%B4%E5%A4%9A%E5%91%BD%E4%BB%A4/#_1","title":"\u5b98\u65b9\u6587\u6863\u53c2\u6570\u8bf4\u660e\uff08\u5173\u952e\u90e8\u5206\uff09","text":"<p>help \u91cc\u7684\u76f8\u5173\u8bf4\u660e\uff1a</p> <pre><code>-el,     --extload     : Select a custom external memory-loader for JTAG/SWD\n     &lt;file_path&gt;        : External memory-loader file path \n</code></pre> <p>\u4f5c\u7528\uff1a  \u8ba9 CubeProgrammer \u5728\u70e7\u5f55\u65f6\uff0c\u5c06\u81ea\u5df1\u5236\u4f5c\u7684 loader\uff08<code>.stldr</code> \u6587\u4ef6\uff09\u52a0\u8f7d\u5230 MCU \u5185\u5b58\uff0c\u518d\u901a\u8fc7 loader \u63a7\u5236\u5916\u90e8 Flash \u70e7\u5f55\u3002</p>"},{"location":"stm32_cmake/7.STM32_Programmer_CLI%20%E6%9B%B4%E5%A4%9A%E5%91%BD%E4%BB%A4/#_2","title":"\u547d\u4ee4\u7528\u6cd5\u4e3e\u4f8b","text":"<p>\u5047\u8bbe\u4f60\u7684\u5916\u90e8 loader \u6587\u4ef6\u53eb <code>my_qspi_loader.stldr</code>\uff0c\u4f60\u7684\u56fa\u4ef6\u53eb <code>app_qspi.bin</code>\uff0c\u4f60\u6253\u7b97\u5199\u5230\u5916\u90e8 QSPI Flash\uff08\u5178\u578b\u8d77\u59cb\u5730\u5740\u5982 0x90000000\uff09\uff1a</p> <pre><code>STM32_Programmer_CLI -c port=SWD -el my_qspi_loader.stldr -w app_qspi.bin 0x90000000 -v\n</code></pre> <ul> <li><code>-c port=SWD</code>                 \u8fde\u63a5\u7684\u677f\u5361</li> <li><code>-el my_qspi_loader.stldr</code>    \u6307\u5b9a\u81ea\u5b9a\u4e49 Loader \u6587\u4ef6\uff08stldr \u683c\u5f0f\uff09</li> <li><code>-w app_qspi.bin 0x90000000</code>  \u5199\u5165 bin \u6587\u4ef6\u5230\u5916\u90e8 Flash \u7684\u6620\u5c04\u533a\uff08\u8d77\u59cb\u5730\u5740\uff09</li> <li><code>-v</code>                          \u70e7\u5f55\u540e\u6821\u9a8c</li> </ul> <p>Loader \u6587\u4ef6\uff08<code>.stldr</code>\uff09\u5236\u4f5c\u65b9\u6cd5\u89c1st\u5b98\u65b9\u4ed3\u5e93   https://github.com/STMicroelectronics/stm32-external-loader</p> <pre><code>STM32_Programmer_CLI -c port=SWD -el path/to/your_external_loader.stldr -w your_flash_image.bin 0x90000000 -v\n</code></pre> <ul> <li><code>-el</code> \u6216 <code>--extload</code> \u540e\u9762\u8ddf\u7684\u662f\u4f60\u7684\u5916\u90e8 Loader \u6587\u4ef6\uff08.stldr\uff09\uff0c</li> <li><code>-w ... 0x90000000</code> \u662f\u4f60\u5e0c\u671b\u5199\u5230\u5916\u90e8 Flash \u7684\u6620\u5c04\u5730\u5740\uff08\u6bd4\u5982 QSPI\u3001OSPI \u901a\u5e38\u5728 0x9000_0000 \u6216 0x7000_0000\uff09</li> </ul>"},{"location":"stm32_cmake/7.STM32_Programmer_CLI%20%E6%9B%B4%E5%A4%9A%E5%91%BD%E4%BB%A4/#_3","title":"\u6240\u6709\u547d\u4ee4","text":"<pre><code>hdj@hdj-virtual-machine:~/stm32-cmake-for-vscode/build$ STM32_Programmer_CLI --help\n      -------------------------------------------------------------------\n                        STM32CubeProgrammer v2.20.0                  \n      -------------------------------------------------------------------\n\n\nUsage : \nSTM32_Programmer_CLI.exe [command_1] [Arguments_1][[command_2] [Arguments_2]...] \n\nGeneric commands:\n\n -?, -h, --help         : Show this help\n -c,     --connect      : Establish connection to the device\n     &lt;port=&lt;PortName&gt;   : Interface identifier. ex COM1, /dev/ttyS0, usb1,\n                          JTAG, SWD, JLINK...)\n    USB port optional parameters:  \n     [sn=&lt;serialNumber&gt;]   : Serial number of the usb dfu\n     [PID=&lt;Product ID&gt;]    : Product ID. ex: 0xA38F, etc, default 0xDF11\n     [VID=&lt;Vendor ID&gt;]     : Vendor ID. ex: 0x0389, etc, default x0483\n    UART port optional parameters:  \n     [br=&lt;baudrate&gt;]    : Baudrate. ex: 115200, 9600, etc, default 115200\n     [P=&lt;parity&gt;]       : Parity bit, value in {NONE,ODD,EVEN}, default EVEN\n     [db=&lt;data_bits&gt;]   : Data bit, value in {6, 7, 8} ..., default 8\n     [sb=&lt;stop_bits&gt;]   : Stop bit, value in {1, 1.5, 2} ..., default 1\n     [fc=&lt;flowControl&gt;] : Flow control \n                          Value in {OFF,Hardware,Software} ..., default OFF\n     rts=&lt;status&gt;       : low or high\n     dtr=&lt;status&gt;       : low or high\n                          Not supported for STM32MP\n     [noinit=noinit_bit]: Set No Init bits, value in {0,1} ..., default 0\n     [console]          : Enter UART console mode\n    JTAG/SWD debug port optional parameters:  \n     [freq=&lt;frequency&gt;] : Frequency in KHz. Default frequencies: \n                          4000 SWD 9000 JTAG with STLINKv2\n                          8000 SWD 21333 with STLINKv3\n     [index=&lt;index&gt;]    : Index of the debug probe. default index 0\n     [sn=&lt;serialNumber&gt;]: Serial Number of the debug probe\n     [ap=&lt;accessPort&gt;]  : Access Port index to connect to. default ap 0\n     [mode=&lt;mode&gt;]      : Connection mode. Value in {UR/HOTPLUG/NORMAL/POWERDOWN/HWRSTPULSE}\n                          default mode: NORMAL\n     [reset=&lt;mode&gt;]     : Reset modes: SWrst/HWrst/Crst. Default mode: SWrst\n                          Reset mode with UR connection mode is HWrst\n     [shared]           : Enable shared mode allowing connection of two or more\n                          instances of STM32CubeProgrammer or other debugger\n                          to the same ST-LINK probe.\n     [tcpport=&lt;Port&gt;]   : Port used for running ST-Link Server, default 7184\n     [LPM]              : Enable debug in Low Power mode(default mode)\n     [dLPM]             : Disable debug in Low Power mode\n     [getAuthID]        : Get device identification (Option only for STM32U5 series)\n     [speed=&lt;Reliable/fast&gt;]: Choose flashing  Reliable/fast (Option only for STM32U5 series)\n    SPI port optional parameters:  \n     [br=&lt;baudrate&gt;]    : Baudrate.\n     [cpha=&lt;cpha_val&gt;]  : 1Edge or 2Edge. default 1Edge\n     [cpol=&lt;cpol_val&gt;]  : low or high\n     [crc=&lt;crc_val&gt;]    : enable or disable (0/1).\n     [crcpol=&lt;crc_pol&gt;] : crc polynom value.\n     [datasize=&lt;size&gt;]  : 8bit/16bit\n     [direction=&lt;val&gt;]  : Direction: 2LFullDuplex/2LRxOnly/1LRx/1LTx\n     [firstbit=&lt;val&gt;]   : First Bit: MSB/LSB\n     [frameformat=&lt;val&gt;]: Frame Format: Motorola/TI\n     [mode=&lt;val&gt;]       : Mode: master/slave\n     [nss=&lt;val&gt;]        : NSS: soft/hard\n     [nsspulse=&lt;val&gt;]   : NSS pulse: Pulse/NoPulse\n     [delay=&lt;val&gt;]      : Delay: Delay/NoDelay, delay of few microseconds\n     [noinit=noinit_bit]: Set No Init bits, value in {0,1} ..., default 0\n    CAN port optional parameters:  \n     [br=&lt;rbaudrate&gt;]   : Baudrate : 125, 250, 500, 1000 Kbps, default 125\n     [mode=&lt;canmode&gt;]   : CAN Mode : NORMAL, LOOPBACK..., default NORMAL\n     [ide=&lt;type&gt;]       : CAN Type : STANDARD or EXTENDED, default STANDARD\n     [rtr=&lt;format&gt;]     : Frame Format: DATA or REMOTE, default DATA\n     [fifo=&lt;afifo&gt;]     : Msg Receive : FIFO0 or FIFO1, default FIFO0\n     [fm=&lt;fmode]        : Filter Mode : MASK or LIST, default MASK\n     [fs=&lt;fscale&gt;]      : Filter Scale: 16 or 32, default 32\n     [fe=&lt;fenable&gt;]     : Filter Activation : ENABLE or DISABLE, default ENABLE\n     [fbn=&lt;fbanknb&gt;]    : Filter Bank Number : 0 to 13, default 0\n     [noinit=noinit_bit]: Set No Init bits, value in {0,1} ..., default 0\n    I2C port optional parameters:  \n     [add=&lt;ownadd&gt;]     : Slave address : address in hex format\n     [br=&lt;sbaudrate&gt;]   : Baudrate : 100 or 400 Kbps, default 400\n     [sm=&lt;smode&gt;]       : Speed Mode : STANDARD or FAST, default FAST\n     [am=&lt;addmode&gt;]     : Address Mode : 7 or 10 bits, default 7\n     [af=&lt;afilter&gt;]     : Analog filter : ENABLE or DISABLE, default ENABLE\n     [df=&lt;dfilter&gt;]     : Digital filter : ENABLE or DISABLE, default DISABLE\n     [dnf=&lt;dnfilter&gt;]   : Digital noise filter : 0 to 15, default 0\n     [rt=&lt;rtime&gt;]       : Rise time : 0-1000(STANDARD), 0-300(FAST), default 0\n     [ft=&lt;ftime&gt;]       : Fall time : 0-300 (STANDARD), 0-300(FAST), default 0\n     [noinit=noinit_bit]: Set No Init bits, value in {0,1} ..., default 0\n -version, --version    : Displays the tool's version\n -l,     --list         : List all available communication interfaces\n     &lt;uart&gt;             : UART interface\n     &lt;usb&gt;              : USB interface\n     &lt;st-link&gt;          : st-link interface\n     &lt;stlink&gt;           \n     &lt;st-link-only&gt;     : Enumarte st-link list without connecting and intruse the target\n     &lt;stlink-only&gt;        Access port number is set to zero.\n     &lt;shared&gt;           : Allowing to list all boards connected to other instance(s)\n     &lt;stlink-shared&gt;      of STM32CubeProgrammer where the shared mode is enabled.\n -q,     --quietMode    : Enable quiet mode. No progress bar displayed\n -log,   --log          : Store the detailed output in log file\n     [&lt;file_Path.log&gt;]  : Path of the log file,\n                          default path = $HOME/.STM32Programmer/trace.log\n -vb,    --verbosity    : Specify verbosity level\n     &lt;Level&gt;            : Verbosity level, value in {1, 2, 3}\n -y, --yes              : Ignore confirmation prompt message\n\nAvailable commands for STM32 MCU:\n\n --skipErase            : Skip sector erase before programming\n -sl,    --safelib      : Add a segment into a firmware file (elf,bin\n                          hex,srec and s19) containing computed CRC values\n                          To use only with the safety lib component\n     &lt;file_path&gt;        : File path to be modified\n     &lt;start_address&gt;    : Flash memory start address\n     &lt;end_address&gt;      : Flash memory end address\n     &lt;slice_size&gt;       : Size of data per CRC value\n     &lt;pattern&gt;          : Optional pattern from 0x0 to 0xFF. Default pattern 0x00\n -ms,    --mergesbsfu   : Add a binary header and a sbsfu segment to an elf file\n     &lt;elf_file_path&gt;    : File path to be modified\n     &lt;header_file_path&gt; : Header file path\n     &lt;sbsfu_file_path&gt;  : SBSFU file path\n -e,     --erase        : Erase memory pages/sectors devices: \n                          Not supported for STM32MP\n     [all]              : Erase all sectors\n     [&lt;sectorsCodes&gt;]   : Erase the specified sectors identified by sectors\n                          codes. ex: 0, 1, 2 to erase sectors 0, 1 and 2\n                          for EEPROM : ed1 &amp; ed2  \n     [&lt;[start end]&gt;]    : Erase the specified sectors starting from\n                          start code to end code, ex: -e [5 10]\n -w,     --write            \n -d,     --download     : Download the content of a file into device memory\n     &lt;file_path&gt;        : File path name to be downloaded: (bin, hex, srec, s19\n                          elf, stm32 or tsv file)\n     [&lt;address&gt;]        : Start address of download\n     [incremental]         : Optional, new write mechanism \n     If the parameter [incremental] is not indicated, the tool will use the legacy write mechanism \n     The new write mechanism programs only modified sectors to accelerate the flashing operation\n     The legacy write mechanism programs the full firmware into flash memory\n -w32                   : Write a 32-bits data into device memory\n     &lt;address&gt;          : Start address of download\n     &lt;32-bit_data&gt;      : 32-bit data to be downloaded\n                          values should be separated by space\n -w16                   : Write a 16-bits data into device memory\n     &lt;address&gt;          : Start address of download\n     &lt;16-bit_data&gt;      : 16-bit data to be downloaded\n                          values should be separated by space\n -w8                    : Write a 8-bits data into device memory\n     &lt;address&gt;          : Start address of download\n     &lt;8-bit_data&gt;       : 8-bit data to be downloaded\n                          values should be separated by space\n -v,     --verify       : Verify if the programming operation is achieved \n                          successfully\n     [fast]         : Optional, new verify mechanism \n     If the parameter [fast] is not indicated, the tool will use the legacy verify mechanism \n     The new verify mechanism verifies the integrity of data sector per sector\n     The legacy verify mechanism verifies the integrity of data byte per byte\n -nv,    --noverify     : Do not verify if the programming operation is achieved \n                          successfully, used with -w32/-w16/-w8 commands\n -checksum, --checksum  : Memory checksum calculation\n     &lt;address&gt;          : Optional, Start address\n     &lt;size&gt;             : Optional, Size of memory region\n                        : If the parameters &lt;address&gt; and &lt;size&gt; are not indicated, the tool will calculate the full internal Flash\n -r32                   : Read a 32-bit data from device memory\n     &lt;address&gt;          : Read start address\n     &lt;size&gt;             : Size of data\n -r16                   : Read a 16-bit data from device memory\n     &lt;address&gt;          : Read start address\n     &lt;size&gt;             : Size of data\n -r8                    : Read a 8-bit data from device memory\n     &lt;address&gt;          : Read start address\n     &lt;size&gt;             : Size of data\n -rst                   : Reset system\n -hardRst               : Hardware reset\n -rstbl                 : Reset Bootloader\n                          Available only with JTAG/SWD debug port\n -halt                  : Halt core\n -run                   : Run core\n -step                  : Step core\n                          Available only with JTAG/SWD debug port\n -score                 : Get core status\n                          Available only with JTAG/SWD debug port\n -coreReg               : Read/Write core registers\n     [&lt;core_register&gt;]    R0/../R15/PC/LR/PSP/MSP/XPSR/APSR/IPSR/EPSR/\n                          PRIMASK/BASEPRI/FAULTMASK/CONTROL\n     [core_reg=&lt;value&gt;]   value in case of write opration\n                          Note: multiple registers can be handled at once\n                          Available only with JTAG/SWD debug port\n -r,     --read         \n -u,     --upload       : Upload the device memory content to a .bin/.hex/.srec/.s19 file\n     &lt;address&gt;          : Start address of read and upload\n     &lt;size&gt;             : Size of memory content to be read\n     &lt;file_path&gt;        : file path with .bin/.hex/.srec/.s19 extension\n\n -el,     --extload     : Select a custom external memory-loader for JTAG/SWD\n     &lt;file_path&gt;        : External memory-loader file path \n -elbl,   --extloadbl   : Select a custom external memory-loader for Bootloader interface (SFIx only)\n     &lt;file_path&gt;        : External memory-loader file path \n -s,     --start          \n -g,     --go           : Run the code at the specified address.\n     [&lt;address&gt;]        : Start address\n -rdu,   --readunprotect: Remove memory's Read Protection by shifting the RDP\n                          level from level 1 to level 0.\n\n -tzenreg,   --tzenregression: Remove TrustZone Protection by disabling the TZEN\n                           from 1 to 0.\n\n -ob,    --optionbytes  : This command allows the user to manipulate the device\n                          's OptionBytes by displaying or modifying them.\n      [displ]           : This option allows the user to display the whole set\n                          of Option Bytes.\n      [unlockchip]      : This option allows the user to unlock the chip in case\n                          of bad Option Bytes already programmed.\n      [OptByte=&lt;value&gt;] : This option allows the user to program the given\n                          Option Byte.\n\n -force_no_da, --force_no_da \n                        : Froce OB programming if the DA is not already configured.\n                          Available only for STM32H50x devices\n\n -noreconnect, --noreconnect \n                        : Programming OB without performing a reconnect\n -w32dbgmcu             : Write a 32-bits data into DBGMCU DBG AUTH HOST register\n     &lt;32-bit_data&gt;        32-bit data to be downloaded, only for STM32H5xx devices.\n\n -lockRDP1, -setOEM1KEY : Lock RDP level 1\n     &lt;LSB&gt;              : OEM1 least significant bytes key\n     &lt;MSB&gt;              : OEM1 most significant bytes key\n -unlockRDP1            : Unlock RDP level 1\n     &lt;LSB&gt;              : OEM1 least significant bytes key\n     &lt;MSB&gt;              : OEM1 most significant bytes key\n -lockRDP2, -setOEM2KEY : Lock RDP level 2\n     &lt;LSB&gt;              : OEM2 least significant bytes key\n     &lt;MSB&gt;              : OEM2 most significant bytes key\n -unlockRDP2            : Unlock RDP level 2\n     &lt;LSB&gt;              : OEM2 least significant bytes key\n     &lt;MSB&gt;              : OEM2 most significant bytes key\n -ssigfoxc              : Save the chip Certificate, \n                          supported for STM32WL devices\n     &lt;file_path&gt;        : Certificate file path\n\n -wsigfoxc              : Write the Sigfox credential, \n                          supported for STM32WL devices\n     &lt;file_path&gt;        : Certificate file path (binary, header)\n     &lt;address&gt;          : start address for write\n\n -fillmemory            : Fill memory with the given pattern from the chosen address.\n     &lt;start_address&gt;    : Start address for write. The address 0x08000000 is used by default\n     [size=&lt;value&gt;]     : Size of the data to write\n     [pattern=&lt;value&gt;]  : The pattern value to write.\n     [dataWidth=8|16|32]: The filling data size:\n                          8 bits is selected by default.\n -blankcheck            : Verifies that the STM32 Flash memory is blank.\n                          If the Flash memory is not blank, the first address with data is highlighted in a message.\n -fchecksum, --file-checksum  : File checksum calculation \n     &lt;file_path&gt;              : File path\n\nBeta commands: \n\n -regdump                     : Read and dump Core and MCU registers\n     &lt;file_path&gt;              : Log file path with extension .log or .txt\n     [choice=&lt;number&gt;]        : Device number from the list of compatible devices (optional), this list\n                                is displayed if the command is performed without this optional argument\n -hf                          : Hard fault analyzer\n                                Helps to identify system faults that occur when the CPU\n                                is driven into a fault condition by the application code.\n\n -pwr, --power                : Perform power ON/OFF, only for STLINK supporting this capability\n     &lt;on/off&gt;                 : Select the power type\n     [index=&lt;number&gt;]         : Index of the debug probe.\nAvailable commands for STM32 MPU:\n\n -c,     --connect      : Establish connection to the device\n     &lt;port=&lt;PortName&gt;   : Interface identifer. ex COM1, /dev/ttyS0, usb1)\n    USB port optional parameters:  \n     [sn=&lt;serialNum&gt;]   : Serial number of the usb dfu\n     [serial]           : Activate USB serial Gadget for MPU devices\n    UART port optional parameters:  \n     [br=&lt;baudrate&gt;]    : Baudrate. ex: 115200, 9600, etc, default 115200\n     [P=&lt;parity&gt;]       : Parity bit, value in {NONE,ODD,EVEN}, default NONE\n     [db=&lt;data_bits&gt;]   : Data bit, value in {6, 7, 8} ..., default 8\n     [sb=&lt;stop_bits&gt;]   : Stop bit, value in {1, 1.5, 2} ..., default 1\n     [fc=&lt;flowControl&gt;] : Flow control (Not yet supported for STM32MP)\n                          Value in {OFF,Hardware,Software} ..., default OFF\n     [noinit=noinit_bit]: Set No Init bits, value in {0,1} ..., default 0\n -s,     --start          \n -g,     --go           : Run the code at the specified partition ID.\n     [&lt;partitionID&gt;]    : Partition ID\n                          If not specified, last loaded partition\n                          will be started\n\n     [&lt;startAdress&gt;]    : Start address\n                          If not specified, last loaded segment address\n     [&lt;noack&gt;]          : No acknowledgment required\n                          If not specified, acknowledgment will be required\n\n -detach                : Send detach command to DFU\n\n -wb                    : Write blob \n\n     &lt;blob_file_path&gt;   : Blob file path\n -pmic                  : Program PMIC NVM \n\n     &lt;PMIC file_path&gt;   : PMIC file_path\n -gc, --getcertificate  : Get the chip Certificate, \n                          supported for devices with security features\n     &lt;file_path&gt;        : Certificate file path into which the chip\n                          certificate will be uploaded\n     &lt;tfa-ssp-path&gt;     : Input TFA SSP signed firmware path. Used only with STM32MP1 devices\n\n -p,     --phaseID      : Display the current partition ID to be loaded \n\n -w,     --write            \n -d,     --download     : Download the content of a file into device memory\n     &lt;file_path&gt;        : File path name to be downloaded: (bin, stm32 file\n     &lt;partition_id&gt;     : Partition ID to be downloaded\n -rp,    --readPart     : Upload a memory partion ID content to a .bin file\n     &lt;partionID&gt;        : Partion to be read\n     [&lt;offset address&gt;] : Offset address of read and upload\n     &lt;size&gt;             : Size of partion content to be read\n     &lt;file_path&gt;        : Binary file path \n\n -ssp, --ssp                  : Program an SSP file\n     &lt;ssp_file_path&gt;          : SSP file path to be programmed, bin or ssp extension\n     &lt;ssp-fw-path&gt;            : SSP signed firmware path\n     [hsm=0|1]                : Set user option for HSM use\n                                value in {0 (do not use HSM), 1 (use HSM)}\n                                Default value : hsm=0\n     &lt;lic_path|slot=slotID&gt;   : Path to the license file (if hsm=0)\n                                or reader slot ID if HSM is used (hsm=1)\n     plugin=&lt;plugin-fw-path&gt;  : Optional, binary plugin firmware path. Used only with STM32MP2x devices\n -tm                          : Force timeout\n     &lt;value&gt;                  : Number of milliseconds\n -rst                         : Reset USB device\n\n  OTP commands :\n -otp displ             : This command allows the user to display all or parts\n                          of the OTP structure\n      [word=&lt;id&gt;]       : {Optional} display a specific OTP registers {values and status}\n                          Up to 96 OTP words [0 to 95], id value in hex/dec format \n\n -otp write             : This command allows to fuse or update OTP words\n                          Up to 96 OTP words [0 to 95] at the same command line\n      [lock]            : {Optional} indicate the operation type, update or permanent lock\n      [word=&lt;id&gt;]       : This field contains the OTP word number in hex/dec format\n      [value=&lt;value&gt;]   : Value to be written in hex format \n\n -otp lock              : This command allows to fuse permanently OTP words\n                          Up to 96 OTP words [0 to 95] at the same command line\n      [word=&lt;id&gt;]       : This field contains the OTP word number in hex/dec format \n\n -otp fwrite            : This command allows to program a binary file\n      [lock]            : {Optional} indicate the operation type, update or permanent lock\n      &lt;bin_path&gt;        : Binary file path, 32-bits aligned data\n      [word=&lt;id&gt;]       : OTP word number in hex/dec format, start word of program \n\n  STM32WB0 series OTP store command:\n -storekeyotp ,    --storekeyotp   : Store OTP key\n     &lt;key_path.c&gt;      : Folder with the public_key.c file to store in OTP\n     &lt;start_address&gt; : Start FW address\nMCU Secure programming specific commands: \n\n -installipmodule, --installipmodule : Install ip module file\n     &lt;file_path&gt;               : Path of smu file to be programmed\n     [hsm=0|1]                 : Set user option for HSM use\n                                 value in {0 (do not use HSM), 1 (use HSM)}\n                                 Default value : hsm=0\n     &lt;lic_path|slot=slotID&gt;   : Path to the license file (if hsm=0)\n                                or reader slot ID if HSM is used (hsm=1)\n                               note that if it is the case of global license,\n                               please use hsm  = 0 with license path.\n     [&lt;address&gt;]              : Destination address of the smu module\n -updateipmodule, --updateipmodule : update ip module. \n     &lt;file_path&gt;              : Path of SMU file containing the update.\n     [&lt;address&gt;]              : Destination address of the smu module\n -sfi, --sfi                  : Program an sfi file\n     [&lt;protocol=Ptype&gt;]       : Protocol type to be used : static/live\n                                Only static protocol is supported so far\n                                Default value static\n     &lt;file_path&gt;              : Path of sfi file to be programmed\n     [hsm=0|1]                : Set user option for HSM use\n                                value in {0 (do not use HSM), 1 (use HSM)}\n                                Default value : hsm=0\n     &lt;lic_path|slot=slotID&gt;   : Path to the SFI license file (if hsm=0)\n                                or reader slot ID if HSM is used (hsm=1)\n -ssfi, --ssfi                : Program an ssfi file\n     &lt;ssfi_file_path&gt;              : Path of ssfi file to be programmed\n     &lt;rsse_file_path&gt;              : RSSe file path\n\n -rsse, --rsse                : Set the RSSe file path, \n                                supported for devices with security extension\n     &lt;file_path&gt;              : RSSe file path\n\n -mcsv, --mcsv                : Set the MCSV file path indicating SFI's modules configuration\n                                supported for STM32H5xx devices\n     &lt;file_path&gt;              : MCSV file path with .mcsv extension\n\n -ecsv, --ecsv                : Set the ECSV file path indicating SFI's external modules configuration\n                                supported for STM32H5xx devices\n     &lt;file_path&gt;              : ECSV file path with .ecsv extension\n\n -a, --abort                  : This command allows the user\n                                to clean a not properly finished process.\n                                The currently ongoing operation will stop\n                                and the system will return to idle state\n\n -dsecurity                   : Disable the security for STM32WL\n\n -setdefaultob                : Set default Option Bytes for STM32WL\n\n -rssgetversion, --rssgetversion : get the version of RSS\nHSM related commands:\n -hsmgetinfo                : Read the HSM available information\n     [slot=&lt;SlotID&gt;]        : Slot ID of the Smart Card Reader\n                              Default value: slot=1 (the PC integrated SC reader)\n -hsmgetcounter             : Read the current value of the license counter\n     [slot=&lt;SlotID&gt;]        : Slot ID of the Smart Card Reader\n                              Default value: slot=1 (the PC integrated SC reader)\n -hsmgetfwid                : Read the Firmware/Module Identifier\n     [slot=&lt;SlotID&gt;]        : Slot ID of the Smart Card Reader\n                              Default value: slot=1 (the PC integrated SC reader)\n -hsmgetstatus              : Read the current card life-cycle state\n     [slot=&lt;SlotID&gt;]        : Slot ID of the Smart Card Reader\n                              Default value: slot=1 (the PC integrated SC reader)\n -hsmgetlicense             : Get a license for the current chip\n                              if counter is not null\n     &lt;file_path&gt;            : File path into which the received license\n                              will be stored\n     [slot=&lt;SlotID&gt;]        : Slot ID of the Smart Card Reader\n                              Default value: slot=1 (the PC integrated SC reader)\n     [protocol=&lt;Ptype&gt;]     : Protocol type to be used : static/live\n                              Only static protocol is supported so far\n                              Default value static\n     &lt;tfa-ssp-path&gt;         : Input TFA SSP signed firmware path. Used only for STM32MP1 devices\n\n -hsmgetlicensefromcertifbin, -hsmglfcb : Get a license for the input certificate\n                                          if counter is not null\n     &lt;certif_file_path.bin&gt;             : Input certificate file path\n     &lt;license_file_path.bin&gt;            : File path into which the received license\n                                          will be stored\n     [slot=&lt;SlotID&gt;]                    : Slot ID of the Smart Card Reader\n                                          Default value: slot=1 (the PC integrated SC reader)\n     [protocol=&lt;Ptype&gt;]                 : Protocol type to be used : static/live\n                                          Only static protocol is supported so far\n                                          Default value static\n\nSTM32WBxx specific commands:\n\n -getuid64              : Read the device UID\n -fusgetstate           : Read the FUS state\n -fusopgetversion       : Read the FUS Operator version\n -antirollback          : Perform the antirollback operation (Only on Bootloader interface) \n -startfus              : Perform the startfus operation\n  Firmware Upgrade commands:\n -fwdelete              : Delete the BLE stack firmware\n -fwupgrade             : Upgrade the BLE stack firmware or the FUS firmware\n     &lt;file_path&gt;        : New firmware image file path\n     &lt;address&gt;          : Start address of download\n     [firstinstall=0|1] : 1 if it is a first install otherwise 0\n                          optional, Default value: firstinstall=0\n     [startstack=0|1]   : 1 to start the stack after the upgrade otherwise 0\n                          optional, Default value: startstack=1\n      -v                : Verify if the download operation is achieved \n                          successfully before starting upgrade\n -startwirelessstack    : Start the wireless stack\n  Key management commands:\n -authkeyupdate         : Authentication key update\n     &lt;file_path&gt;        : New authentication key file path.\n                        : This is the public key generated by\n                        : STM32TrustedPackageCreator using -sign command.\n -authkeylock           : Authentication key lock\n                        : Once locked, it's no longuer possible to change it\n                        : using authkeyupdate command\n -wusrkey               : Write user key\n     &lt;file_path&gt;        : User key file path\n     &lt;keytype=1|2|3&gt;    : User key type, values : 1, 2 or 3.\n                        : 1 = simple key, 2 = master key, 3 = encrypted key.\nSerial Wire Viewer specific commands:\n\n -swv                       : Printf via SWO\n     &lt;freq=&lt;frequency&gt;&gt;     : System Clock in MHz\n     &lt;portnumber=0-31|all&gt;  : ITM port number, values : 0-31, or all for All ports\n     [&lt;file_Path.log&gt;]      : Path of the SWV log file (optional),\n                            : default path = $USER_HOME/STMicroelectronics/STM32Programmer/SWV_Log/swv.log\n      -RA                   : Start the reception of swv automatically\n -startswv                  :  Printf via SWO &amp; Start the reception of swv automatically\nScript Manager command:\n\n -script                    : Start the execution of Script File\n &lt;file_Path.prg&gt;            : Path of the script file (.prg)\nProvisionning Command: \n\n -sdp                    : Start the OBKey Provisioning\n &lt;File_Path&gt;             : OBKey File Path\nProvisioning with password :\n\n -pwd                    : Start Provisioning with password\n value=&lt;password_value&gt;           : Password value\n path=&lt;password_path&gt;             : location of password file to be used in Debug Authentication\nSet Product State RSS Command: \n\n -psrss                    : Start the RSS Product State\n &lt;Value&gt;                   : An hexadecimal value\nGet Product State RSS Command: \n\n -psrss displ              : Start the Get RSS Product State\nOption Bytes RSS Command: \n\n -obrss                    : Start the Option Bytes RSS Change\n &lt;Value 1&gt; &lt;Value 2&gt; &lt;Value 3&gt; &lt;Value 4&gt;  : An hexadecimal values\nDebug Authentication options: \n\n      [debugauth=&lt;1|2&gt;]               : to choose starting authentication(1) or discovery(2)\n      [pwd=&lt;password_file_path&gt;]      : required in case of authentication with password\n      [key=&lt;key_file_path&gt;]           : required in case of authentication with certificate\n      [cert=&lt;certificate_file_path&gt;]  : required in case of authentication with certificate\n      [per=&lt;requested_permission&gt;]    : required in case of authentication with certificate.\n                                      : Each permission is referred to by a specific letter and a numerical bit value.\n                                      : Enable debugauth=2 to access the permissions list with bit numbers and letters.\n                                      : Debug Authentication requires the selection of one specific permission.\n                                      : Certain products also provide optional actions to choose from. Example:Forced Download\nKey Wrapping Command\n -rssekw                                                  : Set The Key Wrapping RSSe File Path\n                                                            supported for devices with security extension\n     &lt;file_path&gt;                                          : RSSe Key Wrapping file path\n\n     &lt;file_path&gt;                                          : Private Key .pem file path [Not to be added for ECC CPVK wrapping using DHUK or DHUK xOR BHK]\n\n     &lt;file_path&gt;                                          : Output .bin file path\n\n     [KeyType=&lt;eccchipfu|eccchiplu&gt;]                      : The Type of the ECC Chip Key to wrap\n     [ExportPublicKey=&lt;Yes|No&gt;]                           : Generate or Not the public Key\n     [WrappingKeySelect=&lt;DHUK|DHUK_XOR_BHK&gt;]              : Used Method to wrap the private key\n     [KeyUsage=&lt;ECDSA_USAGE_SIGN|ECC_USAGE_SCALAR_MUL&gt;]   : Usage of the private key\n     [SecAttr=&lt;SECURE|NON_SECURE&gt;]                        : Secure or Non Secure context\n     [PrivAttr=&lt;PRIVILEGE|NON_PRIVILEGE&gt;]               : Privileged or Non Priviledged context\n     [AESMode=&lt;ECB|CBC|GCM&gt;]                              : AES mode for wrapping with user Key\n</code></pre>"},{"location":"stm32_cmake/8.bootloader%E5%88%B6%E4%BD%9C/","title":"bootloader\u5236\u4f5c","text":""},{"location":"stm32_cmake/8.bootloader%E5%88%B6%E4%BD%9C/#bootloader","title":"bootloader\u5236\u4f5c","text":"<p>\u53ef\u53c2\u8003stm32 \u7684\u5b98\u65b9\u5e93</p> <p>STM32CubeH7  https://github.com/STMicroelectronics/STM32CubeH7/tree/master/Projects/STM32H750B-DK/Templates/ExtMem_Boot</p> <p>STM32CubeH7RS https://github.com/STMicroelectronics/STM32CubeH7RS/tree/main/Projects/STM32H7S78-DK/Templates/Template</p> <p>bootlaoder\u7684\u8981\u6c42\uff0c\u5c3d\u91cf\u505a\u5230\u6700\u7b80\u5316\uff0c\u4e0d\u8981\u521d\u59cb\u5316\u4e00\u4e9b\u7528\u4e0d\u5230\u7684\u5916\u8bbe</p>"},{"location":"tools/1.github_pages%E8%AE%BE%E7%BD%AE%E8%87%AA%E5%B7%B1%E5%9F%9F%E5%90%8D/","title":"1.github pages\u8bbe\u7f6e\u81ea\u5df1\u57df\u540d","text":""},{"location":"tools/1.github_pages%E8%AE%BE%E7%BD%AE%E8%87%AA%E5%B7%B1%E5%9F%9F%E5%90%8D/#1-github","title":"1. \u6253\u5f00GitHub \u4ed3\u5e93\u9875\u9762","text":"<p>\u6bd4\u5982\uff1a<code>https://github.com/yourusername/yourrepo</code></p>"},{"location":"tools/1.github_pages%E8%AE%BE%E7%BD%AE%E8%87%AA%E5%B7%B1%E5%9F%9F%E5%90%8D/#2-settings-pages","title":"2. \u8fdb\u5165 Settings \u2192 Pages \u914d\u7f6e\u9875","text":"<ul> <li>\u8fdb\u5165\u4ed3\u5e93\u53f3\u4e0a\u89d2 <code>Settings</code></li> <li>\u5de6\u4fa7\u83dc\u5355\u627e\u5230 <code>Pages</code>\uff08\u6709\u65f6\u5728 \"Code and automation\" \u4e0b\uff09</li> </ul>"},{"location":"tools/1.github_pages%E8%AE%BE%E7%BD%AE%E8%87%AA%E5%B7%B1%E5%9F%9F%E5%90%8D/#3-custom-domain","title":"3. \u627e\u5230 \u201cCustom domain\u201d \u6216 \u201c\u81ea\u5b9a\u4e49\u57df\u540d\u201d \u8bbe\u7f6e\u6846","text":"<ul> <li>\u5728 <code>GitHub Pages</code> \u914d\u7f6e\u533a\uff0c\u201cCustom domain\u201d \u8f93\u5165\u6846\u4e2d\u586b\u5165\u60f3\u7ed1\u5b9a\u7684\u57df\u540d\uff0c\u6bd4\u5982 <code>blog.yourdomain.com</code></li> <li>\u8f93\u5165\u540e\u70b9\u51fb <code>Save</code></li> </ul>"},{"location":"tools/1.github_pages%E8%AE%BE%E7%BD%AE%E8%87%AA%E5%B7%B1%E5%9F%9F%E5%90%8D/#4-dns","title":"4. \u5728\u4f60\u7684\u57df\u540d\u670d\u52a1\u5546\u540e\u53f0\u914d\u7f6e DNS \u89e3\u6790","text":"<ul> <li> <p>\u5982\u679c\u662f\u6839\u57df\u540d\uff08\u5982 example.com\uff09\uff0c\u4e00\u822c\u9700\u8981\u6dfb\u52a0\u4e00\u6761 <code>A</code> \u8bb0\u5f55\uff0c\u6307\u5411 GitHub \u7684 IP\uff08\u63a8\u8350\u4f7f\u7528 CNAME\uff0c\u9664\u975e CNAME \u53ea\u652f\u6301\u4e8c\u7ea7\u57df\u540d\uff09\u3002</p> </li> <li> <p>\u4e8c\u7ea7\u57df\u540d\uff08\u5982 blog.example.com\uff09\uff0c\u6dfb\u52a0\u4e00\u6761 CNAME \u8bb0\u5f55\uff0c\u6307\u5411\u4f60\u7684 GitHub Pages \u5730\u5740\uff1a</p> </li> </ul> \u8bb0\u5f55\u7c7b\u578b \u4e3b\u673a\u540d\uff08Name\uff09 \u503c\uff08Value/\u76ee\u6807\uff09 CNAME blog yourusername.github.io <p>\u6bd4\u5982</p> <p>\u6211\u5728github\u8bbe\u7f6e\u4e3a   blogs.hedejiang.top</p> <p>\u5728cloudflare \u8bbe\u7f6e\u5982\u4e0b</p> <p></p>"},{"location":"tools/10.BiliNote%E8%A7%86%E9%A2%91%E7%AC%94%E8%AE%B0/","title":"10.BiliNote\u89c6\u9891\u7b14\u8bb0","text":"<p>\u8be6\u7ec6\u4f7f\u7528\u6587\u6863 https://docs.bilinote.app/</p> <p>BiliNote \u662f\u4e00\u4e2a\u5f00\u6e90\u7684 AI \u89c6\u9891\u7b14\u8bb0\u52a9\u624b\uff0c\u652f\u6301\u901a\u8fc7\u54d4\u54e9\u54d4\u54e9\u3001YouTube\u3001\u6296\u97f3\u7b49\u89c6\u9891\u94fe\u63a5\uff0c\u81ea\u52a8\u63d0\u53d6\u5185\u5bb9\u5e76\u751f\u6210\u7ed3\u6784\u6e05\u6670\u3001\u91cd\u70b9\u660e\u786e\u7684 Markdown \u683c\u5f0f\u7b14\u8bb0\u3002\u652f\u6301\u63d2\u5165\u622a\u56fe\u3001\u539f\u7247\u8df3\u8f6c\u7b49\u529f\u80fd</p> <p></p>"},{"location":"tools/11.cloudflare%E6%90%AD%E5%BB%BA%E4%B8%AD%E8%BD%AC%E8%8A%82%E7%82%B9/","title":"11.cloudflare\u642d\u5efa\u4e2d\u8f6c\u8282\u70b9","text":"<p>\u539f\u89c6\u9891 https://www.youtube.com/watch?v=HcD4xYKXuRY</p> <p>1.\u6253\u5f00cloudflare</p> <ul> <li>\u9009\u62e9workers\u4ece Hello World! \u5f00\u59cb</li> <li>\u70b9\u51fb\u90e8\u7f72</li> <li>\u7f16\u8f91\u4ee3\u7801(\u5c06\u94fe\u63a5\u5730\u5740\u7684\u4ee3\u7801\u7c98\u8d34\u8fdb\u53bb)</li> </ul> <p>https://github.com/yonggekkk/Cloudflare-vless-trojan/blob/main/Vless_workers_pages/vless%E6%97%A0%E9%9C%80proxyip%E7%9A%84nat64%E5%A5%97%E5%A3%B3%E7%89%88%20(%E6%8E%A8%E8%8D%90%E4%BD%BF%E7%94%A8).js</p> <ul> <li>\u70b9\u51fb\u90e8\u7f72\uff0c\u90e8\u7f72\u540e\u8fd4\u56de</li> <li>\u53d8\u91cf\u548c\u673a\u5bc6 \u6dfb\u52a0\u4e00\u4e2auuid  (https://www.uuidgenerator.net/version4 \u6b64\u94fe\u63a5\u53ef\u4ee5\u968f\u673a\u751f\u6210\u4e00\u4e2auuid)</li> </ul> <p></p> <ul> <li>\u8bbe\u7f6e \u57df\u548c\u8def\u7531 \u6dfb\u52a0\u81ea\u5b9a\u4e49\u57df\u540d</li> </ul> <p>\u8bbf\u95ee\u5f62\u5f0f\uff1a \u57df\u540d/uuid   </p> <p>\u9009\u62e9\u805a\u5408\u901a\u7528\u8ba2\u9605\u94fe\u63a5\u5230v2ray\u66f4\u65b0\u8ba2\u9605\u5206\u7ec4\u4f7f\u7528\uff1a</p> <p>\u591c\u95f4\u6d4b\u8bd52k\u65e0\u538b\u529b</p> <p></p>"},{"location":"tools/12.%E6%89%AB%E6%8F%8F%E5%B1%80%E5%9F%9F%E7%BD%91%E4%B8%8B%E7%9A%84%E5%BC%80%E6%94%BEip/","title":"12.\u626b\u63cf\u5c40\u57df\u7f51\u4e0b\u7684\u5f00\u653eip","text":"<p>\u66f4\u6539\u81ea\u5df1\u7684\u7f51\u6bb5\u5c31\u884c\u4e86</p> <pre><code>import threading\nimport subprocess\nimport platform\n\ndef ping(ip, result_list):\n    # \u6839\u636e\u5e73\u53f0\u9002\u914d ping \u547d\u4ee4\n    param = '-n' if platform.system().lower() == 'windows' else '-c'\n    # Linux \u4e0b\u9700\u8981\u52a0 -W 1 \u8bbe\u7f6e\u8d85\u65f6\u65f6\u95f4\uff0cWindows \u4e0b\u7528 -w 1000\n    timeout_param = '-w' if platform.system().lower() == 'windows' else '-W'\n    timeout = '1000' if platform.system().lower() == 'windows' else '1'\n    command = ['ping', param, '1', timeout_param, timeout, ip]\n    try:\n        output = subprocess.check_output(command, stderr=subprocess.STDOUT)\n        result_list.append(ip)\n    except subprocess.CalledProcessError:\n        pass  # \u4e0d\u53ef\u8fbe\u5c31\u4ec0\u4e48\u4e5f\u4e0d\u505a\n\ndef scan_network(base_ip):\n    threads = []\n    reachable_ips = []\n    for i in range(1, 255):  # 1-254\n        ip = f\"{base_ip}.{i}\"\n        t = threading.Thread(target=ping, args=(ip, reachable_ips))\n        threads.append(t)\n        t.start()\n    for t in threads:\n        t.join()\n    print(\"Ping\u901a\u7684IP\u6709\uff1a\")\n    for ip in sorted(reachable_ips, key=lambda x: list(map(int, x.split('.')))):\n        print(ip)\n\nif __name__ == \"__main__\":\n    # 192.168.0.x \u7f51\u6bb5\n    base_ip = \"192.168.0\"\n    scan_network(base_ip)\n</code></pre> <p></p>"},{"location":"tools/13.socurce%20insight4.0.%E7%A0%B4%E8%A7%A3/","title":"13.socurce insight4.0.\u7834\u89e3","text":"<p>\u767e\u5ea6\u7f51\u76d8\u94fe\u63a5: https://pan.baidu.com/s/1DFID777G42f10bBa3xjgUA?pwd=17xi \u63d0\u53d6\u7801: 17xi </p> <ul> <li> <p>\u70b9\u51fbsourceinsight_4.0.86.0-setup\u5b89\u88c5</p> </li> <li> <p>\u4f7f\u7528\u9ed8\u8ba4\u8def\u5f84\uff0c\u5b89\u88c5\u5b8c\u540e\u5c06sourceinsight4.exe \u66ff\u6362\uff0c\u540c\u65f6si4.pediy.lic \u653e\u5728\u76ee\u5f55\u4e0b</p> </li> </ul>"},{"location":"tools/14.iperf3%E6%B5%8B%E9%80%9F/","title":"14.iperf3\u6d4b\u901f","text":"<p>Windows \u548c Ubuntu \u90fd\u53ef\u4ee5\u8fd0\u884c <code>iperf3</code>\uff0c\u4e0b\u9762\u662f\u8be6\u7ec6\u64cd\u4f5c\u6b65\u9aa4\uff1a</p>"},{"location":"tools/14.iperf3%E6%B5%8B%E9%80%9F/#_1","title":"\u4e00\u3001\u51c6\u5907\u5de5\u4f5c","text":""},{"location":"tools/14.iperf3%E6%B5%8B%E9%80%9F/#1-windows-iperf3","title":"1. Windows \u4e0a\u5b89\u88c5 iperf3","text":"<ul> <li>\u4e0b\u8f7d Windows \u7248 iperf3   https://iperf.fr/iperf-download.php#windows</li> <li>\u89e3\u538b\u540e\uff0c\u5f97\u5230 <code>iperf3.exe</code>\uff0c\u6bd4\u5982\u653e\u5728 <code>D:\\iperf3\\</code> \u76ee\u5f55\u4e0b\u3002</li> <li>\u6253\u5f00\u201c\u547d\u4ee4\u63d0\u793a\u7b26\u201d\u7a97\u53e3\uff08Win+R \u8f93\u5165 <code>cmd</code>\uff09\u3002</li> </ul>"},{"location":"tools/14.iperf3%E6%B5%8B%E9%80%9F/#2-ubuntu-iperf3","title":"2. Ubuntu \u4e0a\u5b89\u88c5 iperf3","text":"<pre><code>sudo apt update\nsudo apt install iperf3\n</code></pre>"},{"location":"tools/14.iperf3%E6%B5%8B%E9%80%9F/#_2","title":"\u4e8c\u3001\u6d4b\u8bd5\u6d41\u7a0b","text":"<p>\u5047\u8bbe\uff1a</p> <ul> <li>Windows \u4f5c\u4e3a\u5ba2\u6237\u7aef\uff08\u4f60\u64cd\u4f5c\u7684\u672c\u673a\uff0c\u6d4b\u901f\u5165\u53e3\uff09</li> <li>Ubuntu \u4f5c\u4e3a\u670d\u52a1\u5668\uff08\u4e00\u76f4\u76d1\u542c\uff0c\u7b49\u4f60\u8fde\u63a5\uff09</li> </ul>"},{"location":"tools/14.iperf3%E6%B5%8B%E9%80%9F/#1-ubuntu-iperf3","title":"1. \u5728 Ubuntu \u4e0a\u8fd0\u884c iperf3 \u670d\u52a1\u7aef","text":"<pre><code>iperf3 -s\n</code></pre> <p>\u8fd0\u884c\u540e\u4f1a\u770b\u5230\u201cServer listening on 5201\u201d\u3002</p>"},{"location":"tools/14.iperf3%E6%B5%8B%E9%80%9F/#2-windows","title":"2. \u5728 Windows \u4e0a\u8fd0\u884c\u5ba2\u6237\u7aef","text":"<ul> <li> <p>\u5047\u8bbe Ubuntu \u7684\u5c40\u57df\u7f51 IP \u662f <code>192.168.0.99</code>\uff08\u53ef\u4ee5\u7528 <code>ifconfig</code> \u6216 <code>ip a</code> \u67e5\u5230\uff09\u3002</p> </li> <li> <p>\u5728 Windows \u7684\u547d\u4ee4\u884c\u91cc\u8fdb\u5165 <code>iperf3.exe</code> \u6240\u5728\u76ee\u5f55\uff1a</p> </li> </ul> <pre><code>cd D:\\iperf3\n</code></pre> <ul> <li>\u6d4b\u8bd5\u201c\u4e0a\u4f20\u901f\u5ea6\u201d\uff08Windows \u2192 Ubuntu\uff09:</li> </ul> <pre><code>iperf3.exe -c 192.168.0.99\n</code></pre> <p>\u6ce8\u610f\uff1a<code>-c</code> \u540e\u9762\u8ddf\u7684\u662f Ubuntu \u7684 IP \u5730\u5740\u3002</p> <ul> <li>\u6d4b\u8bd5\u201c\u4e0b\u8f7d\u901f\u5ea6\u201d\uff08Ubuntu \u2192 Windows\uff09:</li> </ul> <pre><code>iperf3.exe -c 192.168.0.99 -R\n</code></pre>"},{"location":"tools/14.iperf3%E6%B5%8B%E9%80%9F/#_3","title":"\u4e09\u3001\u7ed3\u679c\u89e3\u8bfb","text":"<ul> <li>\u8fd0\u884c\u5b8c\u540e\uff0c\u4f1a\u770b\u5230\u5982\u4e0b\u7ed3\u5c3e\u8f93\u51fa\uff1a</li> </ul> <pre><code>matlab\u590d\u5236\u7f16\u8f91[ ID] Interval           Transfer     Bandwidth\n[  5]   0.00-10.00 sec   1.10 GBytes   944 Mbits/sec  sender\n[  5]   0.00-10.00 sec   1.10 GBytes   944 Mbits/sec  receiver\n</code></pre> <ul> <li><code>944 Mbits/sec</code> \u5c31\u662f\u4e24\u53f0\u8bbe\u5907\u95f4\u7684\u771f\u5b9e\u4f20\u8f93\u5e26\u5bbd\u3002</li> </ul>"},{"location":"tools/15.github%E9%99%90%E5%88%B6%E7%BC%96%E8%AF%91%E6%96%87%E4%BB%B6%E4%B8%8A%E4%BC%A0%E8%84%9A%E6%9C%AC/","title":"15.github\u9650\u5236\u7f16\u8bd1\u6587\u4ef6\u4e0a\u4f20\u811a\u672c","text":""},{"location":"tools/15.github%E9%99%90%E5%88%B6%E7%BC%96%E8%AF%91%E6%96%87%E4%BB%B6%E4%B8%8A%E4%BC%A0%E8%84%9A%E6%9C%AC/#gitignore","title":"<code>.gitignore</code>","text":"<ul> <li>\u8fd9\u662f\u6700\u7b80\u5355\u7684\u65b9\u5f0f\uff0c\u53ea\u662f\u5ffd\u7565\u8ffd\u8e2a\u8fd9\u4e9b\u6587\u4ef6\uff0c\u4f46\u5df2\u7ecf\u88ab git \u8ddf\u8e2a\u7684\u6587\u4ef6\u4e0d\u4f1a\u81ea\u52a8\u53d6\u6d88\u3002</li> </ul> <pre><code># \u5ffd\u7565\u7f16\u8bd1\u4ea7\u7269\n*.o\n*.bin\n*.hex\nbuild/\n</code></pre> <p>\u7f3a\u70b9\uff1a\u5f00\u53d1\u8005\u53ef\u4ee5\u6539 <code>.gitignore</code> \u6216\u5f3a\u5236\u63d0\u4ea4\uff08<code>git add -f</code>\uff09\u7ed5\u8fc7\u3002</p>"},{"location":"tools/16.github_commit_rss/","title":"16.github commit rss","text":"<p>\u5bf9\u4e8e GitHub/GitLab \u7b49\u516c\u5171\u4ed3\u5e93\uff0c\u5b83\u4eec\u901a\u5e38\u90fd\u81ea\u5e26 RSS/Atom feed \u529f\u80fd\uff0c\u4f60\u5b8c\u5168\u53ef\u4ee5\u76f4\u63a5\u8ba2\u9605 \u63d0\u4ea4\uff08commit\uff09\u3001PR\uff08pull request\uff09\u3001issue \u7b49\u66f4\u65b0\u3002</p>"},{"location":"tools/16.github_commit_rss/#github","title":"\ud83d\udd39 GitHub \u793a\u4f8b","text":"<p>\u5728 GitHub \u4e0a\uff0c\u4f60\u53ea\u9700\u8981\u5728\u5bf9\u5e94\u4ed3\u5e93\u540e\u9762\u52a0\u4e0a <code>.atom</code>\uff1a</p> <ul> <li>\u63d0\u4ea4\uff08commits\uff09</li> </ul> <pre><code>https://github.com/&lt;\u7528\u6237\u540d&gt;/&lt;\u4ed3\u5e93\u540d&gt;/commits.atom\n</code></pre> <p>\u4f8b\u5982\uff1a    <code>https://github.com/zephyrproject-rtos/zephyr/commits.atom</code></p> <ul> <li>Pull Requests\uff08PR\uff09</li> </ul> <pre><code>https://github.com/&lt;\u7528\u6237\u540d&gt;/&lt;\u4ed3\u5e93\u540d&gt;/pulls.atom\n</code></pre> <p>\u4f8b\u5982\uff1a    <code>https://github.com/zephyrproject-rtos/zephyr/pulls.atom</code></p> <ul> <li>Issue</li> </ul> <pre><code>https://github.com/&lt;\u7528\u6237\u540d&gt;/&lt;\u4ed3\u5e93\u540d&gt;/issues.atom\n</code></pre> <p>\u8fd9\u6837\u4f60\u5c31\u53ef\u4ee5\u5728 RSS \u9605\u8bfb\u5668\uff08Feedly\u3001Inoreader\u3001TinyTinyRSS \u7b49\uff09\u91cc\u8ba2\u9605\uff0c\u5b9e\u65f6\u770b\u5230\u63d0\u4ea4\u6216 PR \u7684\u53d8\u5316\u3002</p>"},{"location":"tools/17.ymodem_tools/","title":"\u4f7f\u7528ymodem\u534f\u8bae\u5728windwos\u4e0a\u9a8c\u8bc1\u6536\u53d1","text":""},{"location":"tools/17.ymodem_tools/#ymodemwindwos","title":"\u4f7f\u7528ymodem\u534f\u8bae\u5728windwos\u4e0a\u9a8c\u8bc1\u6536\u53d1","text":"<p>previte https://github.com/newbie-jiang/ymodem-tools</p>"},{"location":"tools/17.ymodem_tools/#_1","title":"\u521b\u5efa\u865a\u62df\u4e32\u53e3","text":"<p>tools  https://freevirtualserialports.com/</p> <p></p>"},{"location":"tools/17.ymodem_tools/#_2","title":"\u9a8c\u8bc1\u6536\u53d1","text":""},{"location":"tools/17.ymodem_tools/#c","title":"\u547d\u4ee4\u884c\u5347\u7ea7\uff08c\u8bed\u8a00\u5b9e\u73b0\uff09","text":"<p>\u7f16\u8bd1\u4ee3\u7801</p> <pre><code>gcc -o yymodem yymodem.c\n</code></pre>"},{"location":"tools/17.ymodem_tools/#ymodem","title":"ymodem\u5b9e\u9a8c","text":""},{"location":"tools/17.ymodem_tools/#1","title":"\u542f\u52a8\u63a5\u6536\u7aef\uff08\u547d\u4ee4\u884c 1\uff09","text":"<ul> <li>recv \u63a5\u6536</li> <li>G:\\desktop\\windwos_ymodem\\recv \u63a5\u6536\u6587\u4ef6\u5b58\u653e\u8def\u52b2</li> </ul> <pre><code>.\\yymodem.exe recv COM2 G:\\desktop\\ymodem_tools\\recv 115200\n</code></pre>"},{"location":"tools/17.ymodem_tools/#2","title":"\u542f\u52a8\u53d1\u9001\u7aef\uff08\u547d\u4ee4\u884c 2\uff09","text":"<ul> <li> <p>send \u53d1\u9001</p> </li> <li> <p>G:\\desktop\\windwos_ymodem\\send\\test1.bin  \u53d1\u9001\u6587\u4ef6\u8def\u5f84</p> </li> </ul> <pre><code>.\\yymodem.exe send COM3 G:\\desktop\\ymodem_tools\\send\\test1.bin G:\\desktop\\ymodem_tools\\send\\test2.bin 115200\n</code></pre> <p>\u7a0b\u5e8f\u4f1a\u6309 YMODEM \u534f\u8bae\u63e1\u624b\u4f20\u8f93\uff0c\u6700\u540etest1.bin test2.bin\u6587\u4ef6\u4f1a\u4fdd\u5b58\u5728 G:\\desktop\\windwos_ymodem\\recv</p>"},{"location":"tools/17.ymodem_tools/#uipython","title":"ui\u5347\u7ea7\uff08\u57fa\u4e8epython\u5b9e\u73b0\uff09","text":""},{"location":"tools/18.%E5%8C%BB%E7%96%97%E5%99%A8%E6%A2%B0%E6%89%B9%E5%87%86%E6%B3%A8%E5%86%8C%E5%85%AC%E7%A4%BA/","title":"18.\u533b\u7597\u5668\u68b0\u6279\u51c6\u6ce8\u518c\u516c\u793a","text":"<p>https://www.nmpa.gov.cn/</p> <ul> <li>\u641c\u7d22  \u5173\u952e\u8bcd \u201c\u6279\u51c6\u6ce8\u518c\u201d</li> <li>\u6309\u65e5\u671f\u6392\u5e8f</li> </ul> <p></p> <p>\u6570\u636e\u5e93\u67e5\u8be2</p> <p>https://www.nmpa.gov.cn/datasearch/home-index.html#category=ylqx</p> <p></p>"},{"location":"tools/19.%E8%8D%AF%E7%9B%91%E5%B1%80%E6%95%B0%E6%8D%AE%E5%BA%93%E6%9F%A5%E8%AF%A2/","title":"19.\u836f\u76d1\u5c40\u6570\u636e\u5e93\u67e5\u8be2","text":""},{"location":"tools/19.%E8%8D%AF%E7%9B%91%E5%B1%80%E6%95%B0%E6%8D%AE%E5%BA%93%E6%9F%A5%E8%AF%A2/#_1","title":"\u67e5\u8be2","text":"<p>\u836f\u54c1  https://www.nmpa.gov.cn/datasearch/home-index.html#category=yp</p> <p>\u533b\u7597\u5668\u68b0 https://www.nmpa.gov.cn/datasearch/home-index.html#category=ylqx</p> <p>\u5316\u5986\u54c1 https://www.nmpa.gov.cn/datasearch/home-index.html#category=hzp</p> <p>\u5176\u4ed6 https://www.nmpa.gov.cn/datasearch/home-index.html#category=qt</p> <p>\u533b\u7597\u5668\u68b0\u7684\u5907\u6848\u4e0e\u6ce8\u518c\u8bb8\u53ef\u8bc1\u6709\u4ec0\u4e48\u4e0d\u540c\uff1f</p>"},{"location":"tools/19.%E8%8D%AF%E7%9B%91%E5%B1%80%E6%95%B0%E6%8D%AE%E5%BA%93%E6%9F%A5%E8%AF%A2/#1","title":"1. \u533b\u7597\u5668\u68b0\u7684\u5206\u7ea7\u7ba1\u7406","text":"<p>\u4e2d\u56fd\u7684\u533b\u7597\u5668\u68b0\u6309\u98ce\u9669\u7b49\u7ea7\u5206\u4e3a \u4e00\u7c7b\u3001\u4e8c\u7c7b\u3001\u4e09\u7c7b\uff1a</p> <ul> <li>\u4e00\u7c7b\uff1a\u98ce\u9669\u6700\u4f4e\uff0c\u5e38\u89c1\u5982\u7ef7\u5e26\u3001\u7eb1\u5e03\u3001\u6e29\u5ea6\u8ba1\u7b49\u3002</li> <li>\u4e8c\u7c7b\uff1a\u4e2d\u7b49\u98ce\u9669\uff0c\u9700\u8981\u4e25\u683c\u63a7\u5236\uff0c\u5982\u8840\u538b\u8ba1\u3001\u8d85\u58f0\u8bca\u65ad\u8bbe\u5907\u3002</li> <li>\u4e09\u7c7b\uff1a\u98ce\u9669\u6700\u9ad8\uff0c\u690d\u5165\u4eba\u4f53\u6216\u7ef4\u6301\u751f\u547d\u7684\u5668\u68b0\uff0c\u5982\u5fc3\u810f\u652f\u67b6\u3001\u4eba\u5de5\u5173\u8282\u3001\u8f93\u6db2\u6cf5\u3002</li> </ul>"},{"location":"tools/19.%E8%8D%AF%E7%9B%91%E5%B1%80%E6%95%B0%E6%8D%AE%E5%BA%93%E6%9F%A5%E8%AF%A2/#2","title":"2. \u6ce8\u518c \u4e0e \u5907\u6848 \u7684\u533a\u522b","text":"\u5bf9\u6bd4\u9879 \u5907\u6848 \u6ce8\u518c \u9002\u7528\u8303\u56f4 \u4e00\u7c7b\u533b\u7597\u5668\u68b0 \u4e8c\u7c7b\u3001\u4e09\u7c7b\u533b\u7597\u5668\u68b0 \u5ba1\u6279\u6d41\u7a0b \u4f01\u4e1a\u81ea\u884c\u63d0\u4ea4\u6750\u6599\u7ed9\u836f\u76d1\u90e8\u95e8\uff0c\u5f62\u5f0f\u5ba1\u67e5\u540e\u5373\u53ef\u5907\u6848 \u4f01\u4e1a\u9700\u63d0\u4ea4\u5b8c\u6574\u8d44\u6599\uff0c\u7ecf\u836f\u76d1\u90e8\u95e8\u6280\u672f\u5ba1\u8bc4\u3001\u5ba1\u6279\uff0c\u62ff\u5230\u6ce8\u518c\u8bc1 \u5ba1\u6279\u590d\u6742\u5ea6 \u7b80\u5355\u3001\u65f6\u95f4\u77ed \u590d\u6742\u3001\u5468\u671f\u957f\uff08\u53ef\u8fbe6-12\u4e2a\u6708\uff09 \u76d1\u7ba1\u529b\u5ea6 \u4e8b\u540e\u76d1\u7ba1\u4e3a\u4e3b\uff0c\u653f\u5e9c\u4e3b\u8981\u76d1\u7763\u4f01\u4e1a\u662f\u5426\u6309\u8981\u6c42\u5907\u6848 \u4e8b\u524d + \u4e8b\u4e2d\u76d1\u7ba1\uff0c\u836f\u76d1\u5c40\u4f1a\u505a\u6280\u672f\u5ba1\u8bc4\uff0c\u786e\u4fdd\u5b89\u5168\u6709\u6548 \u6cd5\u5f8b\u6587\u4ef6 \u300a\u533b\u7597\u5668\u68b0\u5907\u6848\u51ed\u8bc1\u300b \u300a\u533b\u7597\u5668\u68b0\u6ce8\u518c\u8bc1\u300b \u66f4\u65b0/\u53d8\u66f4 \u5907\u6848\u4fe1\u606f\u53d8\u66f4\u76f4\u63a5\u8865\u5145\u63d0\u4ea4\u5373\u53ef \u6ce8\u518c\u8bc1\u6709\u6709\u6548\u671f\uff08\u4e00\u822c5\u5e74\uff09\uff0c\u671f\u6ee1\u9700\u8981\u5ef6\u7eed\u6ce8\u518c\uff0c\u53d8\u66f4\u9700\u91cd\u65b0\u5ba1\u8bc4 \u76d1\u7ba1\u5c42\u7ea7 \u4e00\u822c\u7531\u5730\u65b9\u836f\u76d1\u5c40\u8d1f\u8d23\u5907\u6848 \u4e8c\u7c7b\u7531\u7701\u7ea7\u836f\u76d1\u5c40\u5ba1\u6279\uff0c\u4e09\u7c7b\u7531\u56fd\u5bb6\u836f\u76d1\u5c40\uff08NMPA\uff09\u5ba1\u6279"},{"location":"tools/19.%E8%8D%AF%E7%9B%91%E5%B1%80%E6%95%B0%E6%8D%AE%E5%BA%93%E6%9F%A5%E8%AF%A2/#3","title":"3. \u4e3e\u4f8b\u8bf4\u660e","text":"<ul> <li>\u5907\u6848\uff1a\u67d0\u5382\u751f\u4ea7\u201c\u533b\u7528\u68c9\u7b7e\u201d\uff08\u4e00\u7c7b\uff09\uff0c\u53ea\u9700\u5411\u6240\u5728\u5730\u7701\u5e02\u836f\u76d1\u5c40\u5907\u6848\uff0c\u62ff\u5230\u300a\u5907\u6848\u51ed\u8bc1\u300b\uff0c\u5373\u53ef\u751f\u4ea7\u9500\u552e\u3002</li> <li>\u6ce8\u518c\uff1a\u67d0\u5382\u751f\u4ea7\u201c\u80f0\u5c9b\u7d20\u6cf5\u201d\uff08\u4e09\u7c7b\uff09\uff0c\u5fc5\u987b\u5411\u56fd\u5bb6\u836f\u76d1\u5c40\u63d0\u4ea4\u4e34\u5e8a\u8d44\u6599\u3001\u98ce\u9669\u8bc4\u4f30\u3001\u751f\u4ea7\u8d28\u91cf\u4f53\u7cfb\u5ba1\u6838\uff0c\u7ecf\u8fc7\u6280\u672f\u5ba1\u8bc4\uff0c\u5ba1\u6279\u901a\u8fc7\u540e\u624d\u80fd\u53d6\u5f97\u300a\u6ce8\u518c\u8bc1\u300b\u3002</li> </ul>"},{"location":"tools/19.%E8%8D%AF%E7%9B%91%E5%B1%80%E6%95%B0%E6%8D%AE%E5%BA%93%E6%9F%A5%E8%AF%A2/#4","title":"4. \u603b\u7ed3","text":"<ul> <li>\u5907\u6848 = \u201c\u544a\u77e5\u6027\u7ba1\u7406\u201d\uff0c\u98ce\u9669\u4f4e\uff0c\u653f\u5e9c\u53ea\u662f\u7559\u6863\uff0c\u4e3b\u8981\u9760\u4f01\u4e1a\u81ea\u5f8b\u3002</li> <li>\u6ce8\u518c = \u201c\u8bb8\u53ef\u6027\u7ba1\u7406\u201d\uff0c\u98ce\u9669\u9ad8\uff0c\u653f\u5e9c\u8981\u4e25\u683c\u5ba1\u67e5\u540e\u624d\u5141\u8bb8\u4e0a\u5e02</li> </ul>"},{"location":"tools/2.%E8%A7%A3%E5%86%B3github%E6%8E%A8%E9%80%81%E8%87%AA%E5%AE%9A%E4%B9%89%E5%9F%9F%E5%90%8D%E5%A4%B1%E6%95%88/","title":"2.\u89e3\u51b3github\u63a8\u9001\u81ea\u5b9a\u4e49\u57df\u540d\u5931\u6548","text":"<p>\u53d1\u73b0\u5728\u66f4\u65b0\u65f6\u5019\uff0cgithub pages\u7684\u81ea\u5b9a\u4e49\u57df\u540d\u4f1a\u5931\u6548</p>"},{"location":"tools/2.%E8%A7%A3%E5%86%B3github%E6%8E%A8%E9%80%81%E8%87%AA%E5%AE%9A%E4%B9%89%E5%9F%9F%E5%90%8D%E5%A4%B1%E6%95%88/#_1","title":"\u8be6\u7ec6\u539f\u56e0","text":"<ul> <li>GitHub Pages \u7ed1\u5b9a\u81ea\u5b9a\u4e49\u57df\u540d\u65f6\uff0c\u4f1a\u5728\u4ed3\u5e93\u7684\u53d1\u5e03\u76ee\u5f55\uff08\u6bd4\u5982 gh-pages \u5206\u652f\u6216 publish_dir \u76ee\u5f55\uff09\u4e0b\u81ea\u52a8\u751f\u6210\u4e00\u4e2a <code>CNAME</code> \u6587\u4ef6\u3002</li> <li>\u53ea\u8981 <code>CNAME</code> \u6587\u4ef6\u88ab\u5220\u9664\u3001\u8986\u76d6\u3001\u6ca1\u540c\u6b65\uff0c\u6216\u8005\u4f60\u91cd\u65b0\u90e8\u7f72\u65f6\u6ca1\u5305\u542b\u5b83\uff0cGitHub Pages \u7684\u81ea\u5b9a\u4e49\u57df\u540d\u5c31\u4f1a\u5931\u6548\uff08\u53d8\u6210\u7a7a\u6216\u8005\u4f60\u7684 .github.io \u57df\u540d\uff09\u3002</li> <li>\u4f7f\u7528 Actions \u81ea\u52a8\u90e8\u7f72\u65f6\uff0c\u5982\u679c\u4f60\u53ea\u90e8\u7f72 <code>blogs</code> \u76ee\u5f55\uff0c\u800c\u6ca1\u6709\u5728 <code>blogs</code> \u76ee\u5f55\u4e0b\u5305\u542b <code>CNAME</code> \u6587\u4ef6\uff0c\u6bcf\u6b21\u65b0\u6784\u5efa\u540e\uff0cGitHub Pages \u90fd\u4f1a\u628a\u57df\u540d\u8bbe\u56de\u9ed8\u8ba4\u3002</li> </ul>"},{"location":"tools/2.%E8%A7%A3%E5%86%B3github%E6%8E%A8%E9%80%81%E8%87%AA%E5%AE%9A%E4%B9%89%E5%9F%9F%E5%90%8D%E5%A4%B1%E6%95%88/#_2","title":"\u89e3\u51b3\u529e\u6cd5","text":""},{"location":"tools/2.%E8%A7%A3%E5%86%B3github%E6%8E%A8%E9%80%81%E8%87%AA%E5%AE%9A%E4%B9%89%E5%9F%9F%E5%90%8D%E5%A4%B1%E6%95%88/#1-cname-publish_dir-blogs","title":"1. \u786e\u4fdd\u6bcf\u6b21\u90e8\u7f72\u65f6\u90fd\u5305\u542b <code>CNAME</code> \u6587\u4ef6\u5728 publish_dir \u76ee\u5f55\u4e0b\uff08\u5982 blogs/\uff09","text":"<ul> <li>\u505a\u6cd51\uff1a\u4ed3\u5e93\u6839\u76ee\u5f55\u4e0b\u6709 <code>CNAME</code> \u6587\u4ef6\uff0c\u81ea\u52a8\u88ab\u5e26\u5165\u90e8\u7f72\u76ee\u5f55\u3002</li> <li>\u505a\u6cd52\uff1a\u5728\u81ea\u52a8\u5316\u811a\u672c\uff08\u5982 2.process_html.py\uff09\u91cc\u81ea\u52a8\u751f\u6210 <code>blogs/CNAME</code> \u6587\u4ef6\uff0c\u5185\u5bb9\u5c31\u662f\u4f60\u7684\u57df\u540d\uff0c\u6bd4\u5982 <code>blogs.hedejiang.top</code>\u3002</li> <li>\u505a\u6cd53\uff1a\u5728 Actions workflow \u91cc\u4e13\u95e8\u52a0\u4e00\u6b65\u5199\u5165 CNAME \u6587\u4ef6\uff1a</li> </ul> <pre><code>- name: \u5199\u5165 CNAME \u6587\u4ef6\n  run: echo 'blogs.hedejiang.top' &gt; blogs/CNAME\n</code></pre> <p>\u5b8c\u6574yaml</p> <pre><code>name: Build &amp; Deploy GitHub Pages\n\non:\n  push:\n    branches: [ master ]\n  workflow_dispatch:\n\njobs:\n  build-and-deploy:\n    runs-on: ubuntu-latest\n\n    steps:\n      - name: \u68c0\u51fa\u4ed3\u5e93\n        uses: actions/checkout@v4\n\n      - name: \u8bbe\u7f6e Python \u73af\u5883\n        uses: actions/setup-python@v5\n        with:\n          python-version: '3.11'\n\n      - name: \u5b89\u88c5\u4f9d\u8d56\n        run: |\n          pip install markdown\n\n      - name: \u6e05\u7406\u6240\u6709 html \u6587\u4ef6\n        run: python delete_html_files.py\n\n      - name: \u6267\u884c Markdown \u8f6c HTML\n        run: python 1.md_2_html.py\n\n      - name: \u751f\u6210\u4e3b\u9875\n        run: python 2.process_html.py\n\n      - name: \u5199\u5165 CNAME \u6587\u4ef6\n        run: echo 'blogs.hedejiang.top' &gt; blogs/CNAME\n\n      - name: \u90e8\u7f72\u5230 GitHub Pages\n        uses: peaceiris/actions-gh-pages@v4\n        with:\n          github_token: ${{ secrets.GITHUB_TOKEN }}\n          publish_dir: ./blogs\n</code></pre>"},{"location":"tools/20.iSCSI%20%E5%9D%97%E5%AD%98%E5%82%A8/","title":"20.iSCSI \u5757\u5b58\u50a8","text":""},{"location":"tools/20.iSCSI%20%E5%9D%97%E5%AD%98%E5%82%A8/#_1","title":"\u5757\u5b58\u50a8","text":"<p>\u5728 A \u4e3b\u673a\u4e0a\u76f4\u63a5\u8fd0\u884c\u7a0b\u5e8f\u5e76\u628a B \u670d\u52a1\u5668\u5f53\u6210\u672c\u5730\u76d8\u4e00\u6837\u4f7f\u7528\uff0c\u540c\u65f6\u8fd8\u8981\u7528\u4e8e\u4e0b\u8f7d\u6587\u4ef6\uff0c\u5efa\u8bae\u8d70 \u5757\u7ea7\u5b58\u50a8\u65b9\u6848\uff08iSCSI \u6216 NBD\uff09\uff0c\u56e0\u4e3a\u5b83\u6bd4\u6587\u4ef6\u5171\u4eab\u66f4\u8d34\u8fd1\u672c\u5730\u76d8\u7684\u4f53\u9a8c\u3002</p>"},{"location":"tools/20.iSCSI%20%E5%9D%97%E5%AD%98%E5%82%A8/#iscsi","title":"\u63a8\u8350\u65b9\u6848\uff1aiSCSI\uff08\u9996\u9009\uff09","text":""},{"location":"tools/20.iSCSI%20%E5%9D%97%E5%AD%98%E5%82%A8/#_2","title":"\u4f18\u70b9","text":"<ul> <li>\u8868\u73b0\u63a5\u8fd1\u672c\u5730\u78c1\u76d8</li> <li>\u517c\u5bb9\u6027\u597d\uff0cLinux \u539f\u751f\u652f\u6301</li> <li>\u53ef\u4ee5\u683c\u5f0f\u5316\u4e3a ext4/xfs \u7b49\u6587\u4ef6\u7cfb\u7edf</li> <li>\u7a33\u5b9a\u6027\u548c\u6062\u590d\u673a\u5236\u8f83\u597d</li> </ul>"},{"location":"tools/20.iSCSI%20%E5%9D%97%E5%AD%98%E5%82%A8/#1-b","title":"1. B \u670d\u52a1\u5668\uff08\u4f5c\u4e3a\u5b58\u50a8\u670d\u52a1\u5668\uff09\u914d\u7f6e","text":"<p>\u5b89\u88c5 iSCSI Target \u670d\u52a1\uff1a</p> <pre><code>sudo apt update &amp;&amp; sudo apt install tgt -y\n</code></pre> <p>\u521b\u5efa\u5b58\u50a8\u76ee\u5f55\uff1a</p> <ul> <li>\u521b\u5efa\u4e00\u4e2a\u5927\u5c0f\u4e3a 100 GB \u7684\u7a7a\u767d\u955c\u50cf\u6587\u4ef6\uff0c\u8fd9\u4e2a\u6587\u4ef6\u4f1a\u4f5c\u4e3a iSCSI \u7684\u201c\u865a\u62df\u78c1\u76d8\u201d</li> </ul> <pre><code>sudo mkdir -p /data/iscsi\nsudo dd if=/dev/zero of=/data/iscsi/disk1.img bs=1G count=100\n</code></pre> <p>\u914d\u7f6e iSCSI\uff1a</p> <pre><code>sudo nano /etc/tgt/conf.d/iscsi.conf\n</code></pre> <p>\u6dfb\u52a0\uff1a</p> <ul> <li>your_password \u9700\u8981\u8bbe\u7f6e\u81ea\u5df1\u7684\u767b\u5f55\u5bc6\u7801</li> </ul> <pre><code>&lt;target iqn.2025-08.local:storage.disk1&gt;\n    backing-store /data/iscsi/disk1.img\n    initiator-address ALL\n    incominguser iscsiuser your_password\n&lt;/target&gt;\n</code></pre> <p>\u542f\u52a8\u670d\u52a1\uff1a</p> <pre><code>sudo systemctl enable tgt --now\n</code></pre> <pre><code>sudo systemctl restart tgt\nsudo tgtadm --mode target --op show\n</code></pre> <p>\u67e5\u770b\u72b6\u6001</p> <pre><code>systemctl status tgt\n</code></pre> <p></p>"},{"location":"tools/20.iSCSI%20%E5%9D%97%E5%AD%98%E5%82%A8/#3260","title":"\u5f00\u653e3260\u7aef\u53e3","text":""},{"location":"tools/20.iSCSI%20%E5%9D%97%E5%AD%98%E5%82%A8/#2-a","title":"2. A \u4e3b\u673a\uff08\u4f5c\u4e3a\u5ba2\u6237\u7aef\uff09\u914d\u7f6e","text":"<p>\u5b89\u88c5 iSCSI \u5ba2\u6237\u7aef\uff1a</p> <pre><code>sudo apt install open-iscsi -y\n</code></pre> <p>\u53d1\u73b0 B \u4e3b\u673a\u7684 iSCSI \u76ee\u6807\uff1a</p> <pre><code>sudo iscsiadm -m discovery -t sendtargets -p 142.171.255.55\n</code></pre> <p></p> <p>\u767b\u5f55\uff1a</p> <ul> <li>your_password \u9700\u8981\u6539\u5199\u81ea\u5df1\u8bbe\u7f6e\u7684\u767b\u5f55\u5bc6\u7801</li> </ul> <pre><code># \u5199\u5165 CHAP \u8ba4\u8bc1\u53c2\u6570\nsudo iscsiadm -m node -T iqn.2025-08.local:storage.disk1 -p 142.171.255.55 \\\n  --op update -n node.session.auth.authmethod -v CHAP\nsudo iscsiadm -m node -T iqn.2025-08.local:storage.disk1 -p 142.171.255.55 \\\n  --op update -n node.session.auth.username -v iscsiuser\nsudo iscsiadm -m node -T iqn.2025-08.local:storage.disk1 -p 142.171.255.55 \\\n  --op update -n node.session.auth.password -v 'your_password'\n\n# \u767b\u5f55\nsudo iscsiadm -m node -T iqn.2025-08.local:storage.disk1 -p 142.171.255.55 --login\n</code></pre> <pre><code>root@s16396 ~ # sudo iscsiadm -m node -T iqn.2025-08.local:storage.disk1 -p 142.171.255.55 --login\nLogging in to [iface: default, target: iqn.2025-08.local:storage.disk1, portal: 142.171.255.55,3260]\nLogin to [iface: default, target: iqn.2025-08.local:storage.disk1, portal: 142.171.255.55,3260] successful.\n</code></pre> <p>\u67e5\u770b\u6302\u8f7d\u7684\u5757\u8bbe\u5907\uff1a</p> <pre><code>lsblk\n</code></pre> <pre><code>root@s16396 ~ # lsblk\nNAME   MAJ:MIN RM  SIZE RO TYPE MOUNTPOINTS\nsda      8:0    0  100G  0 disk \nsr0     11:0    1    4M  0 rom  \nsr1     11:1    1 1024M  0 rom  \nvda    252:0    0   15G  0 disk \n\u2514\u2500vda1 252:1    0   15G  0 part /\n</code></pre> <ul> <li>sda 100G</li> </ul> <p>\u786e\u8ba4\u78c1\u76d8\u4fe1\u606f</p> <pre><code>root@s16396 ~ # sudo fdisk -l\nDisk /dev/vda: 15 GiB, 16106127360 bytes, 31457280 sectors\nUnits: sectors of 1 * 512 = 512 bytes\nSector size (logical/physical): 512 bytes / 512 bytes\nI/O size (minimum/optimal): 512 bytes / 512 bytes\nDisklabel type: dos\nDisk identifier: 0xbeefbeef\n\nDevice     Boot Start      End  Sectors Size Id Type\n/dev/vda1  *     2048 31457246 31455199  15G 83 Linux\n\n\nDisk /dev/sda: 100 GiB, 107374182400 bytes, 209715200 sectors\nDisk model: VIRTUAL-DISK    \nUnits: sectors of 1 * 512 = 512 bytes\nSector size (logical/physical): 512 bytes / 4096 bytes\nI/O size (minimum/optimal): 4096 bytes / 4096 bytes\n</code></pre> <p>\u683c\u5f0f\u5316\uff1a</p> <pre><code>sudo mkfs.ext4 /dev/sda\n</code></pre> <p>\u6302\u8f7d\uff1a</p> <pre><code>sudo mkdir -p /mnt/iscsi\nsudo mount /dev/sda /mnt/iscsi\n</code></pre> <p>\u6d4b\u8bd5</p> <pre><code>df -h | grep iscsi\n</code></pre>"},{"location":"tools/20.iSCSI%20%E5%9D%97%E5%AD%98%E5%82%A8/#4","title":"4. \u5f00\u673a\u81ea\u52a8\u6302\u8f7d","text":"<p>\u7f16\u8f91 <code>/etc/fstab</code>\uff1a</p> <pre><code>sudo nano /etc/fstab\n</code></pre> <p>\u6dfb\u52a0\uff1a</p> <pre><code>/dev/sda   /mnt/iscsi   ext4   _netdev   0  0\n</code></pre> <p>\u4fdd\u5b58\u540e\u6d4b\u8bd5\uff1a</p> <pre><code>sudo mount -a\n</code></pre>"},{"location":"tools/20.iSCSI%20%E5%9D%97%E5%AD%98%E5%82%A8/#5-iscsi","title":"5. \u81ea\u52a8\u767b\u5f55 iSCSI","text":"<p>\u786e\u4fdd iSCSI \u5728\u5f00\u673a\u81ea\u52a8\u767b\u5f55\uff1a</p> <pre><code>sudo iscsiadm -m node -T iqn.2025-08.local:storage.disk1 -p 142.171.255.55 --op update -n node.startup -v automatic\n</code></pre> <p>\u7136\u540e\u68c0\u67e5\u662f\u5426\u8bbe\u7f6e\u6210\u529f\uff1a</p> <pre><code>sudo iscsiadm -m node\n</code></pre> <p>\u5b8c\u6210\u540e\uff0c\u8fd9\u5757 100G \u7684\u8fdc\u7a0b\u78c1\u76d8\u5c31\u4f1a\u50cf\u672c\u5730\u78c1\u76d8\u4e00\u6837\u4f7f\u7528\uff0c\u53ef\u4ee5\u7528\u6765\uff1a</p> <ul> <li>\u5b58\u653e\u4e0b\u8f7d\u6587\u4ef6</li> <li>\u505a Docker \u6570\u636e\u5377</li> <li>\u5b58\u653e\u6570\u636e\u5e93\u6216\u7a0b\u5e8f\u6570\u636e</li> </ul>"},{"location":"tools/20.iSCSI%20%E5%9D%97%E5%AD%98%E5%82%A8/#_3","title":"\u6700\u7ec8\u6d4b\u8bd5\uff1a","text":""},{"location":"tools/20.iSCSI%20%E5%9D%97%E5%AD%98%E5%82%A8/#1-dd","title":"1. \u987a\u5e8f\u5199\u5165/\u8bfb\u53d6\u6d4b\u8bd5\uff08<code>dd</code>\uff09","text":""},{"location":"tools/20.iSCSI%20%E5%9D%97%E5%AD%98%E5%82%A8/#_4","title":"\u987a\u5e8f\u5199\u6d4b\u8bd5","text":"<pre><code>sudo dd if=/dev/zero of=/mnt/iscsi/testfile bs=100M count=1 oflag=direct\n</code></pre> <ul> <li> <p><code>oflag=direct</code> \u8df3\u8fc7\u7cfb\u7edf\u7f13\u5b58\uff0c\u76f4\u63a5\u5199\u5230\u78c1\u76d8</p> </li> <li> <p>\u7ed3\u679c\u4f1a\u663e\u793a\u5199\u5165\u901f\u5ea6\uff0c\u4f8b\u5982\uff1a</p> </li> </ul>"},{"location":"tools/20.iSCSI%20%E5%9D%97%E5%AD%98%E5%82%A8/#_5","title":"\u987a\u5e8f\u8bfb\u6d4b\u8bd5","text":"<pre><code>sudo dd if=/mnt/iscsi/testfile of=/dev/null bs=100M count=1 iflag=direct\n</code></pre> <ul> <li>\u76f4\u63a5\u4ece\u78c1\u76d8\u8bfb\u53d6\uff0c\u4e0d\u8d70\u7f13\u5b58\u3002</li> </ul>"},{"location":"tools/20.iSCSI%20%E5%9D%97%E5%AD%98%E5%82%A8/#2-fio","title":"2. \u4f7f\u7528 <code>fio</code> \u505a\u66f4\u771f\u5b9e\u7684\u538b\u529b\u6d4b\u8bd5","text":"<p>\u5982\u679c\u6ca1\u6709 <code>fio</code>\uff0c\u5148\u5b89\u88c5\uff1a</p> <pre><code>sudo apt install fio -y\n</code></pre>"},{"location":"tools/20.iSCSI%20%E5%9D%97%E5%AD%98%E5%82%A8/#_6","title":"\u968f\u673a\u8bfb\u5199\u6df7\u5408\u6d4b\u8bd5","text":"<pre><code>fio --name=iscsi-test --filename=/mnt/iscsi/fio_testfile --size=100M --bs=4k --rw=randrw --rwmixread=70 --iodepth=32 --numjobs=4 --direct=1 --runtime=60 --group_reporting\n</code></pre> <p>\u53c2\u6570\u89e3\u91ca\uff1a</p> \u53c2\u6570 \u542b\u4e49 <code>--size=100M</code> \u6d4b\u8bd5\u6587\u4ef6\u5927\u5c0f <code>--bs=4k</code> \u5757\u5927\u5c0f 4KB <code>--rw=randrw</code> \u968f\u673a\u8bfb\u5199 <code>--rwmixread=70</code> 70% \u8bfb\uff0c30% \u5199 <code>--iodepth=32</code> \u5e76\u53d1\u6df1\u5ea6 <code>--numjobs=4</code> 4 \u4e2a\u5e76\u53d1\u4efb\u52a1 <code>--direct=1</code> \u76f4\u63a5 I/O\uff0c\u4e0d\u8d70\u7f13\u5b58 <code>--runtime=60</code> \u6301\u7eed 60 \u79d2\u6d4b\u8bd5 <p>\u8f93\u51fa\u793a\u4f8b\uff1a</p> <p></p> <pre><code>\u6d4b\u8bd5 read  write \u8bfb\u5199\u6027\u80fd\u8f83\u5dee\n</code></pre>"},{"location":"tools/20.iSCSI%20%E5%9D%97%E5%AD%98%E5%82%A8/#3-hdparm","title":"3. \u4f7f\u7528 <code>hdparm</code> \u6d4b\u8bd5\u987a\u5e8f\u8bfb\u53d6\u901f\u5ea6","text":"<p>\u5982\u679c\u60f3\u5355\u6d4b\u5757\u8bbe\u5907 <code>/dev/sda</code> \u7684\u8bfb\u53d6\uff1a</p> <pre><code>sudo hdparm -tT /dev/sda\n</code></pre> <p>\u8f93\u51fa</p> <p></p>"},{"location":"tools/20.iSCSI%20%E5%9D%97%E5%AD%98%E5%82%A8/#4_1","title":"4. \u6e05\u7406\u6d4b\u8bd5\u6587\u4ef6","text":"<p>\u6d4b\u8bd5\u5b8c\u6210\u540e\u5220\u9664\u751f\u6210\u7684\u6587\u4ef6\uff1a</p> <pre><code>sudo rm -f /mnt/iscsi/testfile /mnt/iscsi/fio_testfile\n</code></pre>"},{"location":"tools/21.ntopng%E7%BD%91%E7%BB%9C%E7%AE%A1%E7%90%86/","title":"1) \u5b89\u88c5\uff08\u5b98\u65b9\u7a33\u5b9a\u4ed3\u5e93\uff09","text":""},{"location":"tools/21.ntopng%E7%BD%91%E7%BB%9C%E7%AE%A1%E7%90%86/#1","title":"1) \u5b89\u88c5\uff08\u5b98\u65b9\u7a33\u5b9a\u4ed3\u5e93\uff09","text":"<pre><code># (A) \u51c6\u5907\nsudo apt-get update\nsudo apt-get install -y wget software-properties-common\n\n# (B) \u6dfb\u52a0 ntop \u5b98\u65b9\u7a33\u5b9a\u4ed3\u5e93\uff08Ubuntu 22.04 \u793a\u4f8b\uff0c\u5176\u5b83\u7248\u672c\u5728\u6587\u6863\u9875\u91cc\u4e00\u952e\u590d\u5236\uff09\nwget https://packages.ntop.org/apt-stable/22.04/all/apt-ntop-stable.deb\nsudo apt-get install -y ./apt-ntop-stable.deb\nsudo apt-get update\n\n# (C) \u5b89\u88c5 ntopng\uff08\u4f1a\u81ea\u52a8\u62c9\u8d77 Redis \u4f5c\u4e3a\u540e\u7aef\uff09\nsudo apt-get install -y ntopng\n</code></pre> <p>\u5b98\u65b9\u5b89\u88c5\u8bf4\u660e\u4e0e 24.04 \u8f6f\u4ef6\u4ed3\u5e93\u53c2\u8003\u8fd9\u91cc\uff08\u7a33\u5b9a\u7248\uff0c\u9002\u5408\u751f\u4ea7\u73af\u5883\uff09\u3002ntopNtop Packages</p> <p>\u4ee5\u5b88\u62a4\u8fdb\u7a0b\u8fd0\u884c\u65f6\uff0c\u4e3b\u914d\u7f6e\u6587\u4ef6\u5728 /etc/ntopng/ntopng.conf</p> <p>\u7f16\u8f91 /etc/ntopng/ntopng.conf\uff08\u793a\u4f8b\uff09\uff1a</p> <pre><code># \u8fdb\u7a0b\u4e0e\u57fa\u7840\n-G=/var/run/ntopng.pid\n-d=/var/lib/ntopng\n\n# \u91c7\u96c6\u63a5\u53e3\uff1a\u4f60\u7684\u5916\u7f51\u53e3\n--interface=eth0\n\n# \u53ea\u91c7\u96c6\u8fd9\u4e9b\u7aef\u53e3\uff08BPF \u8bed\u6cd5\uff09\uff1b\u9700\u8981\u66f4\u591a\u7aef\u53e3\u6309 \u201cor port XXXX\u201d \u8ffd\u52a0\n--packet-filter=(port 443 or port 11182)\n\n# \u6807\u6ce8\u672c\u5730\u7f51\u6bb5\uff08\u7528\u4e8e\u62a5\u8868\u5185\u5916\u533a\u5206\uff09\n--local-networks=31.57.172.0/24,2a12:bec0:689:1155::/64\n\n# DNS \u89e3\u6790\u6a21\u5f0f\uff1a\u89e3\u7801DNS\u5e76\u89e3\u6790\u6240\u6709IP\uff08\u9762\u677f\u663e\u793a\u66f4\u53cb\u597d\uff09\n--dns-mode=1\n\n# Web \u9762\u677f\u76d1\u542c\uff08\u5b89\u5168\u8d77\u89c1\u4ec5\u672c\u673a\uff0c\u914d\u53cd\u5411\u4ee3\u7406\u6216SSH\u96a7\u9053\u8bbf\u95ee\uff09\n--http-port=127.0.0.1:3000\n# \u82e5\u60f3\u81ea\u5e26HTTPS\uff08\u907f\u514d\u5360\u7528\u4f60\u7684443\uff09\uff0c\u53ef\u4ee5\u6539\u6210\uff1a\n--http-port=0\n--https-port=3443\n\n# \u82e5\u7528\u5b50\u8def\u5f84\u53cd\u4ee3\uff0c\u53ef\u5f00\u542f\u524d\u7f00\uff08\u4e0eNginx location\u4e00\u81f4\uff09\n# --http-prefix=/ntopng\n\n # \u89e3\u6790\u6240\u6709 IP\uff0c\u754c\u9762\u663e\u793a\u57df\u540d\u66f4\u53cb\u597d\n--dns-mode=1\n--local-networks=31.57.172.0/24,2a12:bec0:689:1155::/64\n</code></pre> <p>\u60f3\u8fdb\u4e00\u6b65\u53ea\u770b\u201c\u672c\u673a\u4f5c\u4e3a\u670d\u52a1\u7aef\u7684\u6d41\u91cf\u201d\uff08\u4e25\u683c\u610f\u4e49\u7684\u201c\u76d1\u542c\u5f00\u653e\u7aef\u53e3\u201d\uff09\uff0c\u53ef\u4ee5\u628a <code>--packet-filter</code> \u6362\u6210\u4e0b\u9762\u8fd9\u4e00\u6761\uff0c\u4ec5\u5339\u914d\u76ee\u7684\u4e3a\u672c\u673a\u7684 443/11182 \u5165\u7ad9\u6d41\u91cf\uff08\u4ee5\u53ca\u672c\u673a\u53d1\u51fa\u7684\u5bf9\u5e94\u51fa\u7ad9\u56de\u5305\uff09\uff1a</p>"},{"location":"tools/21.ntopng%E7%BD%91%E7%BB%9C%E7%AE%A1%E7%90%86/#_1","title":"\u542f\u52a8 / \u751f\u6548","text":"<pre><code>sudo systemctl enable --now ntopng\nsudo systemctl restart ntopng\nsudo systemctl status ntopng --no-pager\n</code></pre>"},{"location":"tools/21.ntopng%E7%BD%91%E7%BB%9C%E7%AE%A1%E7%90%86/#3443","title":"\u8bbf\u95ee3443\u7aef\u53e3","text":"<pre><code>https://ip:3443\n</code></pre> <p>\u767b\u5f55\uff1a\u9ed8\u8ba4\u7528\u6237\u5bc6\u7801\u90fd\u662fadmin</p> <p></p> <ul> <li>\u7b2c\u4e00\u6b21\u8fdb\u5165\u53ef\u4ee5\u9009\u62e9\u8bed\u8a00\u4e0e\u8bbe\u7f6e\u65b0\u5bc6\u7801</li> </ul> <p></p> <p>\u8fdb\u5165\u9996\u9875</p> <p></p> <p>\u6d41\u91cf\u5206\u6790\u5c31\u51fa\u6765\u4e86</p> <p></p>"},{"location":"tools/22.vfs%E6%94%AF%E6%8C%81fafts%E4%B8%8Elitefs/","title":"VFS + FATFS + LittleFS (Ubuntu demo)","text":""},{"location":"tools/22.vfs%E6%94%AF%E6%8C%81fafts%E4%B8%8Elitefs/#vfs-fatfs-littlefs-ubuntu-demo","title":"VFS + FATFS + LittleFS (Ubuntu demo)","text":"<p>https://github.com/newbie-jiang/file_systems</p> <p>\u8fd9\u662f\u4e00\u4e2a\u53ef\u4ee5\u5728 Ubuntu \u4e0a\u76f4\u63a5\u8fd0\u884c\u7684 VFS \u6f14\u793a\uff0c\u6302\u8f7d FATFS \u548c LittleFS \u4e24\u4e2a\u6587\u4ef6\u7cfb\u7edf\uff0c \u7528\u78c1\u76d8\u6587\u4ef6\u6a21\u62df\u5b58\u50a8\u4ecb\u8d28\uff08\u65e0 MCU \u786c\u4ef6\u4f9d\u8d56\uff09\u3002</p>"},{"location":"tools/22.vfs%E6%94%AF%E6%8C%81fafts%E4%B8%8Elitefs/#_1","title":"\u5feb\u901f\u5f00\u59cb","text":"<pre><code>sudo apt-get update &amp;&amp; sudo apt-get install -y build-essential git\ncd vfs-fatfs-littlefs-demo\n\n# \u62c9\u53d6\u4f9d\u8d56\n./bootstrap.sh\n\n# \u7f16\u8bd1\nmake -j\n\n# \u8fd0\u884c\n./build/vfs_demo\n</code></pre>"},{"location":"tools/23.ymodem%E5%B7%A5%E5%85%B7/","title":"\u4f7f\u7528ymodem\u534f\u8bae\u5728windwos\u4e0a\u9a8c\u8bc1\u6536\u53d1","text":""},{"location":"tools/23.ymodem%E5%B7%A5%E5%85%B7/#ymodemwindwos","title":"\u4f7f\u7528ymodem\u534f\u8bae\u5728windwos\u4e0a\u9a8c\u8bc1\u6536\u53d1","text":"<p>https://github.com/newbie-jiang/ymodem-tools/tree/master</p>"},{"location":"tools/23.ymodem%E5%B7%A5%E5%85%B7/#_1","title":"\u521b\u5efa\u865a\u62df\u4e32\u53e3","text":"<p>tools  https://freevirtualserialports.com/</p> <p></p>"},{"location":"tools/23.ymodem%E5%B7%A5%E5%85%B7/#_2","title":"\u9a8c\u8bc1\u6536\u53d1","text":""},{"location":"tools/23.ymodem%E5%B7%A5%E5%85%B7/#c","title":"\u547d\u4ee4\u884c\u5347\u7ea7\uff08c\u8bed\u8a00\u5b9e\u73b0\uff09","text":"<p>\u7f16\u8bd1\u4ee3\u7801</p> <pre><code>gcc -o yymodem yymodem.c\n</code></pre>"},{"location":"tools/23.ymodem%E5%B7%A5%E5%85%B7/#ymodem","title":"ymodem\u5b9e\u9a8c","text":""},{"location":"tools/23.ymodem%E5%B7%A5%E5%85%B7/#1","title":"\u542f\u52a8\u63a5\u6536\u7aef\uff08\u547d\u4ee4\u884c 1\uff09","text":"<ul> <li>recv \u63a5\u6536</li> <li>G:\\desktop\\windwos_ymodem\\recv \u63a5\u6536\u6587\u4ef6\u5b58\u653e\u8def\u52b2</li> </ul> <pre><code>.\\yymodem.exe recv COM2 G:\\desktop\\ymodem_tools\\recv 115200\n</code></pre>"},{"location":"tools/23.ymodem%E5%B7%A5%E5%85%B7/#2","title":"\u542f\u52a8\u53d1\u9001\u7aef\uff08\u547d\u4ee4\u884c 2\uff09","text":"<ul> <li> <p>send \u53d1\u9001</p> </li> <li> <p>G:\\desktop\\windwos_ymodem\\send\\test1.bin  \u53d1\u9001\u6587\u4ef6\u8def\u5f84</p> </li> </ul> <pre><code>.\\yymodem.exe send COM3 G:\\desktop\\ymodem_tools\\send\\test1.bin G:\\desktop\\ymodem_tools\\send\\test2.bin 115200\n</code></pre> <p>\u7a0b\u5e8f\u4f1a\u6309 YMODEM \u534f\u8bae\u63e1\u624b\u4f20\u8f93\uff0c\u6700\u540etest1.bin test2.bin\u6587\u4ef6\u4f1a\u4fdd\u5b58\u5728 G:\\desktop\\windwos_ymodem\\recv</p>"},{"location":"tools/23.ymodem%E5%B7%A5%E5%85%B7/#uipython","title":"ui\u5347\u7ea7\uff08\u57fa\u4e8epython\u5b9e\u73b0\uff09","text":""},{"location":"tools/24.%E5%AE%9D%E5%A1%94%E9%9D%A2%E6%9D%BF%E4%B8%8E3xui%E9%9D%A2%E6%9D%BF%E5%85%B1%E5%AD%98/","title":"24.\u5b9d\u5854\u9762\u677f\u4e0e3xui\u9762\u677f\u5171\u5b58","text":""},{"location":"tools/24.%E5%AE%9D%E5%A1%94%E9%9D%A2%E6%9D%BF%E4%B8%8E3xui%E9%9D%A2%E6%9D%BF%E5%85%B1%E5%AD%98/#443","title":"\u5b9d\u5854\u9762\u677f\u6b63\u5e38\u642d\u5efa\u4e86\u4e00\u4e2a\u7f51\u5740\u5360\u7528443\u7aef\u53e3","text":"<p>\u8fd9\u662f\u4e00\u79cd \u901a\u8fc7 Nginx \u53cd\u5411\u4ee3\u7406 \u7684\u5171\u5b58\u65b9\u5f0f\uff0c\u8ba9\uff1a</p> <ul> <li>\u5b9d\u5854\u9762\u677f\uff08Nginx\uff09\u7ee7\u7eed\u5360\u7528 443 \u7aef\u53e3 \u63d0\u4f9b\u7f51\u7ad9\u8bbf\u95ee</li> <li>3x-ui \u8282\u70b9\uff08vmess+ws \u6216 vless+ws\uff09 \u7684\u6d41\u91cf\u901a\u8fc7 Nginx \u8f6c\u53d1\u5230\u672c\u5730\u7684 3x-ui \u76d1\u542c\u7aef\u53e3\uff08\u5982 <code>127.0.0.1:10000</code>\uff09</li> </ul>"},{"location":"tools/24.%E5%AE%9D%E5%A1%94%E9%9D%A2%E6%9D%BF%E4%B8%8E3xui%E9%9D%A2%E6%9D%BF%E5%85%B1%E5%AD%98/#_1","title":"\u8fd9\u79cd\u65b9\u5f0f\u7684\u7279\u70b9","text":"<ol> <li>\u5355\u7aef\u53e3\u5171\u5b58</li> <li>\u5b9d\u5854\u7f51\u7ad9\u548c 3x-ui \u8282\u70b9\u90fd\u901a\u8fc7\u540c\u4e00\u4e2a 443 \u7aef\u53e3 \u5de5\u4f5c\u3002</li> <li>\u5916\u90e8\u8bbf\u95ee\u770b\u8d77\u6765\u90fd\u8d70 HTTPS\uff0cTLS \u7531 Nginx \u7edf\u4e00\u5904\u7406\u3002</li> <li>\u53cd\u5411\u4ee3\u7406\u8f6c\u53d1\u8282\u70b9\u6d41\u91cf</li> <li>Nginx \u68c0\u6d4b\u8def\u5f84\uff08\u5982 <code>/vmess</code>\uff09\uff0c\u628a\u8be5\u8bf7\u6c42\u8f6c\u53d1\u5230\u672c\u5730\u7684 x-ui/3x-ui \u7aef\u53e3\u3002</li> <li>\u5176\u4ed6\u8def\u5f84\u5219\u7ee7\u7eed\u4f5c\u4e3a\u7f51\u7ad9\u670d\u52a1\u3002</li> </ol>"},{"location":"tools/24.%E5%AE%9D%E5%A1%94%E9%9D%A2%E6%9D%BF%E4%B8%8E3xui%E9%9D%A2%E6%9D%BF%E5%85%B1%E5%AD%98/#_2","title":"\u6d41\u7a0b","text":"<ul> <li>\u5b89\u88c53x-ui\u9762\u677f</li> </ul> <pre><code>apt update -y &amp;&amp; apt install -y curl &amp;&amp; apt install -y socat\nbash &lt;(curl -Ls https://raw.githubusercontent.com/xeefei/3x-ui/master/install.sh)\n</code></pre> <ul> <li>\u5b89\u88c5x-ui\u6216\u80053x-ui\uff0c\u914d\u7f6evmess+ws</li> </ul> <p>\u627e\u5230\u7f51\u7ad9\u7684\u914d\u7f6e\u6587\u4ef6\u6dfb\u52a0\u5982\u4e0b</p> <ul> <li>\u6ce8\u610f\u6b64\u5904\u7aef\u53e3\u8981\u4e0ex-ui\u5f00\u653e\u7684\u7aef\u53e3\u76f8\u5bf9\u5e94</li> </ul> <pre><code>location /vmess\n    {\n        proxy_pass http://127.0.0.1:10000;\n        proxy_redirect off;\n        proxy_http_version 1.1;\n        proxy_set_header Upgrade $http_upgrade;\n        proxy_set_header Connection \"upgrade\";\n        proxy_set_header Host $http_host;\n        proxy_read_timeout 300s;\n    }\n</code></pre> <p>\u5bfc\u5165\u8282\u70b9</p> <ul> <li> <p>\u5c06ip\u66f4\u6539\u4e3a\u57df\u540d\uff0c\u4f7f\u80fdtls</p> </li> <li> <p>\u586b\u5199\u4f2a\u88c5\u57df\u540d\u548c\u8def\u5f84\u4e0ex-ui\u9762\u677f\u8bbe\u7f6e\u4e00\u81f4</p> </li> </ul>"},{"location":"tools/25.ubuntu%E5%AE%89%E8%A3%85yt-dlp%E6%9C%80%E6%96%B0%E7%89%88/","title":"25.ubuntu\u5b89\u88c5yt dlp\u6700\u65b0\u7248","text":"<p>Ubuntu \u4e0a\u83b7\u53d6 yt-dlp \u6700\u65b0\u7248 \u7684\u6700\u7b80\u5355\u3001\u7a33\u59a5\u505a\u6cd5\uff08\u5b98\u65b9\u63a8\u8350\u7684\u201c\u5355\u6587\u4ef6\u4e8c\u8fdb\u5236\u201d\u65b9\u5f0f\uff09\uff0c\u987a\u5e26\u7ed9\u51fa\u5347\u7ea7\u4e0e\u5378\u8f7d\u65e7\u7248\u672c\u7684\u65b9\u6cd5\u3002</p>"},{"location":"tools/25.ubuntu%E5%AE%89%E8%A3%85yt-dlp%E6%9C%80%E6%96%B0%E7%89%88/#1-pip","title":"1) \u5148\u5378\u8f7d\u65e7\u7684\u4ed3\u5e93\u7248/ pip \u7248\uff08\u907f\u514d\u8def\u5f84\u51b2\u7a81\uff09","text":"<pre><code>sudo apt remove -y yt-dlp || true\npython3 -m pip uninstall -y yt-dlp || true\nhash -r\n</code></pre>"},{"location":"tools/25.ubuntu%E5%AE%89%E8%A3%85yt-dlp%E6%9C%80%E6%96%B0%E7%89%88/#2-ffmpeg","title":"2) \u5b89\u88c5 ffmpeg\uff08\u5408\u5e76\u97f3\u89c6\u9891\u5f3a\u70c8\u5efa\u8bae\u88c5\uff09","text":"<pre><code>sudo apt update\nsudo apt install -y ffmpeg\n</code></pre> <p>\uff08yt-dlp \u4e0b\u8f7d\u9ad8\u7801\u7387\u65f6\u5e38\u4f1a\u5206\u79bb\u97f3\u8f68\u548c\u753b\u9762\uff0c\u9700\u8981 ffmpeg \u5408\u5e76\u3002GitHub+1\uff09</p>"},{"location":"tools/25.ubuntu%E5%AE%89%E8%A3%85yt-dlp%E6%9C%80%E6%96%B0%E7%89%88/#3-yt-dlp","title":"3) \u4e00\u6761\u547d\u4ee4\u5b89\u88c5\u201c\u6700\u65b0\u7a33\u5b9a\u7248\u201d yt-dlp","text":"<pre><code>sudo curl -L https://github.com/yt-dlp/yt-dlp/releases/latest/download/yt-dlp \\\n  -o /usr/local/bin/yt-dlp\nsudo chmod a+rx /usr/local/bin/yt-dlp\n</code></pre> <p>\u8fd9\u662f\u5b98\u65b9 Wiki \u7684\u5b89\u88c5\u65b9\u5f0f\uff0c\u4e0b\u8f7d\u7684\u662f \u6700\u65b0\u53d1\u5e03 \u7684\u4e8c\u8fdb\u5236\u6587\u4ef6\u3002GitHub  \u622a\u81f3\u4eca\u5929\uff082025-08-24\uff0c\u4e1c\u4eac\uff09\uff0c\u6700\u65b0\u7248\u672c\u53f7\u4e3a 2025.08.22\u3002GitHub</p>"},{"location":"tools/25.ubuntu%E5%AE%89%E8%A3%85yt-dlp%E6%9C%80%E6%96%B0%E7%89%88/#4","title":"4) \u9a8c\u8bc1","text":"<pre><code>yt-dlp --version\nwhich yt-dlp\n</code></pre>"},{"location":"tools/25.ubuntu%E5%AE%89%E8%A3%85yt-dlp%E6%9C%80%E6%96%B0%E7%89%88/#5","title":"5) \u4ee5\u540e\u5982\u4f55\u5347\u7ea7\u5230\u201c\u6700\u65b0\u201d","text":"<pre><code>yt-dlp -U\n</code></pre> <p>\uff08\u7528\u5b98\u65b9\u4e8c\u8fdb\u5236\u5b89\u88c5\u540e\u53ef\u81ea\u66f4\u65b0\uff1b\u82e5\u662f\u901a\u8fc7 apt \u88c5\u7684\uff0cDebian/Ubuntu \u4f1a\u7981\u7528\u81ea\u66f4\u65b0\u5e76\u63d0\u793a\u7528 apt \u5347\u7ea7\u3002GitHub+1\uff09</p>"},{"location":"tools/26.%E5%BC%80%E6%94%BEapi%E7%9A%84%E4%BA%91%E7%9B%98%E5%8E%82%E5%95%86/","title":"26.\u5f00\u653eapi\u7684\u4e91\u76d8\u5382\u5546","text":""},{"location":"tools/26.%E5%BC%80%E6%94%BEapi%E7%9A%84%E4%BA%91%E7%9B%98%E5%8E%82%E5%95%86/#apioauthsdk","title":"\u4e00\u3001\u56fd\u9645\u4e3b\u6d41\uff08\u5b98\u65b9\u516c\u5f00 API\u3001OAuth/SDK \u5b8c\u5584\uff09","text":"<ul> <li>Google Drive \u2014 Google Drive API v3\uff08REST\uff09\uff0c\u8986\u76d6\u4e0a\u4f20/\u4e0b\u8f7d\u3001\u6743\u9650\u3001\u641c\u7d22\u7b49\u3002Google for Developers</li> <li>Dropbox \u2014 API v2\uff08REST\uff09\uff0c\u6587\u4ef6/\u5171\u4eab/\u641c\u7d22\u7b49\uff0c\u63d0\u4f9b\u591a\u8bed\u8a00 SDK \u4e0e API Explorer\u3002dropbox.comdropbox.github.io</li> <li>Microsoft OneDrive / SharePoint\uff08Microsoft Graph\uff09 \u2014 \u901a\u8fc7 Graph Files/DriveItem \u63a5\u53e3\u7edf\u4e00\u8bbf\u95ee\u4e2a\u4eba OneDrive\u3001\u4f01\u4e1a OneDrive for Business \u4e0e SharePoint \u6587\u6863\u5e93\u3002Microsoft Learn+1</li> <li>Box \u2014 Content API\uff08REST\uff09\uff0c\u6587\u4ef6\u3001\u6743\u9650\u3001\u641c\u7d22\u3001Webhook\u3001\u5143\u6570\u636e\u7b49\u4f01\u4e1a\u80fd\u529b\u3002developer.box.com</li> <li>pCloud \u2014 \u5b98\u65b9 pCloud API\uff08REST\uff09\u3002\uff08\u53e6\uff1apCloud \u4e5f\u652f\u6301 WebDAV\uff0c\u4f46\u4ee5 API \u6587\u6863\u4e3a\u4e3b\u3002\uff09 GitHub</li> <li>Yandex Disk \u2014 \u63d0\u4f9b REST API \u4e0eWebDAV \u4e24\u5957\u63a5\u53e3\uff0c\u9002\u5408\u811a\u672c\u6216\u901a\u7528\u6302\u8f7d\u3002Yandex+1</li> <li>MEGA \u2014 \u5b98\u65b9\u63d0\u4f9b API/SDK\uff08\u591a\u8bed\u8a00\u793e\u533a SDK \u4e5f\u5f88\u6d3b\u8dc3\uff09\u3002ctyun.cn</li> </ul>"},{"location":"tools/26.%E5%BC%80%E6%94%BEapi%E7%9A%84%E4%BA%91%E7%9B%98%E5%8E%82%E5%95%86/#api-webdav","title":"\u4e8c\u3001\u81ea\u5efa/\u79c1\u6709\u90e8\u7f72\uff08\u5b98\u65b9 API / WebDAV\uff0c\u6613\u4e8e\u81ea\u6258\u7ba1\uff09","text":"<ul> <li>Nextcloud \u2014 \u5b8c\u6574 WebDAV \u6587\u4ef6\u63a5\u53e3\u4e0e OCS API\uff08\u5206\u4eab\u7b49\uff09\u3002Nextcloud+1</li> <li>ownCloud \u2014 WebDAV \u4e0e OCS\uff08\u5206\u4eab\u3001\u7528\u6237\u7b49\uff09API\u3002ownClouddoc.owncloud.com</li> <li>Seafile \u2014 \u5b98\u65b9 REST Web API\uff08v2.1 \u7b49\uff09\u3002Seafile</li> </ul>"},{"location":"tools/26.%E5%BC%80%E6%94%BEapi%E7%9A%84%E4%BA%91%E7%9B%98%E5%8E%82%E5%95%86/#_1","title":"\u4e09\u3001\u56fd\u5185\u5e38\u89c1\uff08\u6709\u5b98\u65b9\u5f00\u653e\u5e73\u53f0\uff0c\u4f46\u901a\u5e38\u9700\u7533\u8bf7/\u6709\u8303\u56f4\u9650\u5236\uff09","text":"<ul> <li>\u963f\u91cc\u4e91\u76d8 \u2014 \u4f9d\u6258\u963f\u91cc\u4e91\u300c\u7f51\u76d8\u4e0e\u76f8\u518c\u670d\u52a1\uff08PDS\uff09\u300d\u5f00\u653e API\uff08\u5f00\u653e\u5e73\u53f0/\u5408\u4f5c\u63a5\u5165\uff09\u3002open.jdl.com</li> <li>\u767e\u5ea6\u7f51\u76d8 \u2014 \u5b98\u65b9\u5f00\u653e\u5e73\u53f0\u5df2\u5408\u5e76\u5347\u7ea7\uff1b\u5f00\u653e\u80fd\u529b\u6309\u573a\u666f\u63d0\u4f9b\uff0c\u90e8\u5206\u63a5\u53e3\uff08\u5982\u6587\u4ef6\u5206\u4eab\uff09\u5bf9\u4e2a\u4eba\u5f00\u53d1\u8005\u4e0d\u5f00\u653e\u6216\u9700\u4f01\u4e1a\u8d44\u8d28\u3002\u767e\u5ea6\u7f51\u76d8\u767e\u5ea6\u5f00\u53d1\u8005\u4e2d\u5fc3</li> <li>\u5929\u7ffc\u4e91\u76d8\uff08\u4e2d\u56fd\u7535\u4fe1\uff09 \u2014 \u300c\u5929\u7ffc\u8d26\u53f7\u5f00\u653e\u5e73\u53f0\u300d\u5185\u542b\u4e2a\u4eba\u4e91\u6587\u4ef6\u4fe1\u606f/\u7ba1\u7406/\u4e0a\u4f20/\u4e0b\u8f7d\u7b49\u63a5\u53e3\u6587\u6863\uff08\u9700\u5f00\u53d1\u8005\u5165\u9a7b\uff09\u3002\u5929\u7ffc\u6570\u5b57\u751f\u6d3b+1</li> <li>123 \u4e91\u76d8 \u2014 \u5b98\u65b9\u63a8\u51fa 123 Open \u5f00\u653e\u5e73\u53f0\uff0c\u53ef\u7533\u8bf7\u5bc6\u94a5\u5bf9\u63a5\uff08\u7b2c\u4e09\u65b9\u6587\u6863\u4e0e\u9a71\u52a8\u5df2\u652f\u6301\uff09\u3002123\u4e91\u76d8AList Docs</li> </ul>"},{"location":"tools/26.%E5%BC%80%E6%94%BEapi%E7%9A%84%E4%BA%91%E7%9B%98%E5%8E%82%E5%95%86/#_2","title":"\u56db\u3001\u901a\u7528\u534f\u8bae\u63d0\u793a","text":"<ul> <li>\u8bb8\u591a\u4e91\u76d8/\u81ea\u5efa\u76d8\u652f\u6301 WebDAV\uff08\u4f8b\u5982 Yandex Disk\u3001Nextcloud\u3001ownCloud\uff09\uff0c\u53ef\u76f4\u63a5\u5f53\u4f5c\u7f51\u7edc\u78c1\u76d8\u4f7f\u7528\u6216\u63a5\u5165\u81ea\u52a8\u5316\u5de5\u5177\u3002YandexNextcloudownCloud</li> </ul>"},{"location":"tools/26.%E5%BC%80%E6%94%BEapi%E7%9A%84%E4%BA%91%E7%9B%98%E5%8E%82%E5%95%86/#icloud-drive","title":"\u4e94\u3001\u5173\u4e8e iCloud Drive\uff08\u5e38\u89c1\u8bef\u89e3\uff09","text":"<ul> <li>iCloud Drive \u6ca1\u6709\u50cf Google Drive/Dropbox \u90a3\u6837\u7684\u901a\u7528\u516c\u5f00 REST API \u53ef\u8ba9\u7b2c\u4e09\u65b9\u4efb\u610f\u8bbf\u95ee\u7528\u6237\u6574\u4e2a\u4e91\u76d8\u3002Apple \u63d0\u4f9b\u7684\u662f CloudKit\uff08\u539f\u751f/JS/Web Services\uff09\u7528\u4e8e\u8bbf\u95ee\u4f60\u81ea\u5df1 App \u7684 iCloud \u5bb9\u5668\u6570\u636e\uff0c\u5e76\u975e\u7528\u6237 iCloud Drive \u7684\u901a\u7528\u6587\u4ef6\u7cfb\u7edf\u63a5\u53e3</li> </ul>"},{"location":"tools/27.linux%E4%B8%8A%E7%99%BE%E5%BA%A6%E7%BD%91%E7%9B%98%E5%91%BD%E4%BB%A4%E8%A1%8C%E4%B8%8B%E8%BD%BD/","title":"27.linux\u4e0a\u767e\u5ea6\u7f51\u76d8\u547d\u4ee4\u884c\u4e0b\u8f7d","text":""},{"location":"tools/27.linux%E4%B8%8A%E7%99%BE%E5%BA%A6%E7%BD%91%E7%9B%98%E5%91%BD%E4%BB%A4%E8%A1%8C%E4%B8%8B%E8%BD%BD/#1bypy","title":"1\u3001\u5b89\u88c5bypy\u5de5\u5177","text":"<pre><code>pip install bypy\n</code></pre>"},{"location":"tools/27.linux%E4%B8%8A%E7%99%BE%E5%BA%A6%E7%BD%91%E7%9B%98%E5%91%BD%E4%BB%A4%E8%A1%8C%E4%B8%8B%E8%BD%BD/#2","title":"2\u3001\u8ba4\u8bc1\u81ea\u5df1\u7684\u7f51\u76d8\u8d26\u53f7","text":"<pre><code>bypy info\n</code></pre>"},{"location":"tools/27.linux%E4%B8%8A%E7%99%BE%E5%BA%A6%E7%BD%91%E7%9B%98%E5%91%BD%E4%BB%A4%E8%A1%8C%E4%B8%8B%E8%BD%BD/#3","title":"3.\u590d\u5236\u8ba4\u8bc1\u5730\u5740\u5230\u6d4f\u89c8\u5668\u4e0b\u8f7d","text":""},{"location":"tools/27.linux%E4%B8%8A%E7%99%BE%E5%BA%A6%E7%BD%91%E7%9B%98%E5%91%BD%E4%BB%A4%E8%A1%8C%E4%B8%8B%E8%BD%BD/#4","title":"4.\u7c98\u8d34\u8ba4\u8bc1\u7801\u56de\u8f66","text":"<ul> <li>\u767b\u5f55\u6210\u529f\u4f1a\u663e\u793a\u7f51\u76d8\u5bb9\u91cf</li> </ul> <p>\u6ce8:\u6b64\u79cd\u65b9\u5f0f\u53ea\u5141\u8bb8\u8bbf\u95ee\u7f51\u76d8\u4e0a\u7279\u5b9a\u76ee\u5f55\uff0c\u53ef\u4ee5\u5148\u4e0a\u4f20\u4e00\u4e2a\u6587\u4ef6\uff0c\u627e\u5230\u8fd9\u4e2a\u76ee\u5f55\uff0c\u5c06\u8981\u4e0b\u8f7d\u7684\u6587\u4ef6\u653e\u5230\u8be5\u76ee\u5f55</p> <p>\u4e0a\u4f20\u6587\u4ef6\uff0c</p> <pre><code>bypy upload exec_recipe.log\n</code></pre> <p>\u67e5\u770b\u76ee\u5f55\u4e0b\u6587\u4ef6</p> <pre><code>bypy list\n</code></pre> <p>\u4e0b\u8f7d\u6587\u4ef6</p> <pre><code>bypy downfile &lt;remotefile&gt; [localpath] \u4ece\u767e\u5ea6\u7f51\u76d8\u4e0b\u8f7d\u5355\u4e2a\u6587\u4ef6\nbypy downdir [remotedir] [localdir] \u4ece\u767e\u5ea6\u7f51\u76d8\u4e0b\u8f7d\u6574\u4e2a\u6587\u4ef6\u5939\n</code></pre> <pre><code>bypy downfile exec_recipe.log\n</code></pre>"},{"location":"tools/28.ffmpeg%E4%B8%B2%E6%B5%81/","title":"28.ffmpeg\u4e32\u6d41","text":"<p>\u5b89\u88c5ffmpeg</p> <pre><code># \u5f00\u653e 9999/UDP\uff08\u5982\u7528 UFW\uff09\nsudo ufw allow 9999/udp\n\n# \u7528 ffmpeg \u76d1\u542c\u5e76\u9001\u51fa SRT\uff08\u539f\u6837\u4e0d\u8f6c\u7801\uff09\nffmpeg -re -stream_loop -1 -i 800x480_30.mp4 \\\n  -c copy -f mpegts \\\n  \"srt://0.0.0.0:9999?mode=listener&amp;latency=120000&amp;pkt_size=1316\"\n</code></pre> <p>\u8bf4\u660e</p> <ul> <li><code>latency=120000</code>\uff08120ms\uff09\u53ef\u6309\u7f51\u7edc\u72b6\u51b5\u8c03\u5927\u4e9b\uff08\u5982 200\u2013300ms\uff09\u63d0\u5347\u6297\u6296\u52a8\u3002</li> <li>SRT \u8d70 UDP</li> </ul> <p>vlc\u63a5\u6536</p> <pre><code>srt://31.57.172.156:9999\n</code></pre>"},{"location":"tools/3.%E5%88%87%E9%99%A4git%E5%8E%86%E5%8F%B2/","title":"\u5207\u9664git\u5386\u53f2","text":""},{"location":"tools/3.%E5%88%87%E9%99%A4git%E5%8E%86%E5%8F%B2/#git","title":"\u5207\u9664git\u5386\u53f2","text":"<p>\u8981\u5f7b\u5e95\u5220\u9664\u201c\u6700\u65e9\u7684\u51e0\u6b21\u63d0\u4ea4\u201d\uff0c\u53ea\u4fdd\u7559\u6700\u8fd1\u7684\u67d0\u6b21\u63d0\u4ea4\u53ca\u4e4b\u540e\u7684\u5185\u5bb9\uff0c\u5386\u53f2\u7684\u7b2c\u4e00\u6b65\u53d8\u6210\u4f60\u9009\u5b9a\u7684\u90a3\u6b21\u63d0\u4ea4\u3002</p> <p>\u4e3e\u4f8b\uff1a</p> <pre><code>A -- B -- C -- D -- E (HEAD)\n</code></pre> <p>\u4f60\u60f3\u8ba9\u4ed3\u5e93\u5386\u53f2\u76f4\u63a5\u53d8\u6210</p> <pre><code>       C -- D -- E (HEAD)\n</code></pre> <p>A\u3001B \u4e24\u6b21\u4ee5\u53ca\u5bf9\u5e94\u7684\u6240\u6709\u6587\u4ef6\u5f7b\u5e95\u6d88\u5931\uff0c\u8ba9C\u53d8\u6210\u65b0\u7684\u201c\u5386\u53f2\u8d77\u70b9\u201d\u3002</p>"},{"location":"tools/3.%E5%88%87%E9%99%A4git%E5%8E%86%E5%8F%B2/#git_1","title":"\u8fd9\u53eb\u505a\u5207\u9664 Git \u5386\u53f2\uff08\u526a\u88c1\u5386\u53f2\uff09","text":"<p>\u9700\u8981\u7528 <code>git filter-branch</code>\u3001<code>git filter-repo</code> \u6216 BFG Repo-Cleaner \u7b49\u9ad8\u7ea7\u5de5\u5177\u6765\u201c\u4e22\u5f03\u6240\u6709\u5386\u53f2\uff0c\u53ea\u4fdd\u7559\u4ece\u67d0\u4e2a\u63d0\u4ea4\u5f00\u59cb\u7684\u65b0\u4ed3\u5e93\u201d\u3002</p>"},{"location":"tools/3.%E5%88%87%E9%99%A4git%E5%8E%86%E5%8F%B2/#filter-repo","title":"\u6700\u7b80\u5355\u505a\u6cd5\uff08\u63a8\u8350\u65b9\u5f0f\uff1a\u65b0\u4ed3\u5e93+filter-repo\uff09","text":""},{"location":"tools/3.%E5%88%87%E9%99%A4git%E5%8E%86%E5%8F%B2/#a-filter-repo","title":"\u65b9\u6848A\uff1a\u7528 filter-repo \u64cd\u4f5c","text":""},{"location":"tools/3.%E5%88%87%E9%99%A4git%E5%8E%86%E5%8F%B2/#1-commit-c","title":"1. \u627e\u5230\u60f3\u8981\u4f5c\u4e3a\u65b0\u8d77\u70b9\u7684 commit\uff08\u5982 C\uff09","text":"<pre><code>git log --oneline\n# \u8bb0\u4e0b\u4f60\u60f3\u4fdd\u7559\u7684\u7b2c\u4e00\u4e2a commit \u54c8\u5e0c\uff0c\u6bd4\u5982 0123456\n</code></pre>"},{"location":"tools/3.%E5%88%87%E9%99%A4git%E5%8E%86%E5%8F%B2/#2-filter-repo","title":"2. \u4f7f\u7528 filter-repo \u88c1\u526a\u5386\u53f2","text":"<p>\u5982\u679c\u6ca1\u88c5 filter-repo\uff0c\u5148\uff1a<code>pip install git-filter-repo</code></p> <pre><code>git filter-repo --force --refs 0123456..HEAD\n</code></pre> <p>\u8fd9\u6837\u5c31\u53ea\u4fdd\u7559\u4ece 0123456\uff08\u4e0d\u5305\u62ec\u8fd9\u4e2a\u63d0\u4ea4\uff0c\u5982\u679c\u8981\u5305\u62ec\uff0c\u52a0\u4e0a --include-refs\uff09\u5230\u5f53\u524d\u7684\u6240\u6709 commit\uff0c\u524d\u9762\u7684\u5386\u53f2\u5168\u90e8\u5220\u9664\u3002</p>"},{"location":"tools/3.%E5%88%87%E9%99%A4git%E5%8E%86%E5%8F%B2/#3","title":"3. \u5f3a\u5236\u63a8\u9001\u8986\u76d6\u8fdc\u7a0b","text":"<pre><code>git push --force\n</code></pre>"},{"location":"tools/3.%E5%88%87%E9%99%A4git%E5%8E%86%E5%8F%B2/#b","title":"\u65b9\u6848B\uff1a\u624b\u52a8\u5bfc\u51fa\u5f53\u524d\u5185\u5bb9\u5e76\u65b0\u5efa\u4ed3\u5e93","text":"<ol> <li>\u65b0\u5efa\u4e00\u4e2a\u7a7a\u76ee\u5f55</li> <li>\u590d\u5236\u60f3\u4fdd\u7559\u7684\u5185\u5bb9\u8fdb\u53bb</li> <li>\u91cd\u65b0 git init\uff0c\u7136\u540e add/commit/push</li> </ol>"},{"location":"tools/3.%E5%88%87%E9%99%A4git%E5%8E%86%E5%8F%B2/#a","title":"\u65b9\u6848A\u5177\u4f53\u547d\u4ee4\u4e3e\u4f8b","text":"<p>\u5047\u5982\u60f3\u8ba9 <code>C</code>\uff08\u5047\u8bbe\u54c8\u5e0c\u4e3a <code>abcdef1</code>\uff09\u6210\u4e3a\u65b0\u5386\u53f2\u7684\u7b2c\u4e00\u4e2a\u63d0\u4ea4\uff1a</p> <pre><code>pip install git-filter-repo  # \u5982\u672a\u5b89\u88c5\n\n# \u53ea\u4fdd\u7559C\u53ca\u4e4b\u540e\u7684\u63d0\u4ea4\uff08\u5047\u8bbeC\u662fabcdef1\uff09\ngit filter-repo --force --refs abcdef1..HEAD\n\n# \u5f3a\u63a8\ngit push --force\n</code></pre> <p>\u6ce8\u610f\uff1a\u8fd9\u79cd\u64cd\u4f5c\u4f1a\u5f7b\u5e95\u6539\u5199\u6574\u4e2a\u4ed3\u5e93\u5386\u53f2\uff0c\u8fdc\u7a0b\u534f\u4f5c\u8005pull\u4f1a\u51b2\u7a81\uff0c\u9700\u8981\u5927\u5bb6\u914d\u5408\u3002</p>"},{"location":"tools/3.%E5%88%87%E9%99%A4git%E5%8E%86%E5%8F%B2/#b_1","title":"\u65b9\u6848B\uff1a\u53ea\u4fdd\u7559\u5f53\u524d\u6700\u65b0\u4e00\u6b21\u7684\u4ee3\u7801","text":"<p>\u5982\u679c\u4f60\u53ea\u662f\u60f3\u201c\u5386\u53f2\u53ea\u7559\u4e00\u6761\u63d0\u4ea4\u201d\uff0c\u53ef\u4ee5\uff1a</p> <pre><code># \u4fdd\u5b58\u5f53\u524d\u6587\u4ef6\u72b6\u6001\ngit checkout HEAD .\n\n# \u6e05\u7a7a\u6240\u6709\u5386\u53f2\uff0c\u91cd\u65b0\u521d\u59cb\u5316\nrm -rf .git\ngit init\ngit remote add origin https://github.com/yourname/yourrepo.git\ngit add .\ngit commit -m \"\u65b0\u8d77\u70b9\"\ngit push --force\n</code></pre> <p>\u8fd9\u6837\u5386\u53f2\u5c31\u53ea\u5269\u4f60\u6700\u65b0\u8fd9\u4e00\u6b21\u3002</p>"},{"location":"tools/4.%E6%8B%86%E5%88%86pdf/","title":"4.\u62c6\u5206pdf","text":""},{"location":"tools/4.%E6%8B%86%E5%88%86pdf/#_1","title":"\u5b89\u88c5\u4f9d\u8d56\u5e93","text":"<pre><code>pip install pypdf\n</code></pre>"},{"location":"tools/4.%E6%8B%86%E5%88%86pdf/#_2","title":"\u62c6\u5206\u811a\u672c","text":"<ul> <li>\u5c06\u6b64\u811a\u672c\u4e0e\u8981\u62c6\u5206\u7684pdf\u653e\u5728\u540c\u4e00\u76ee\u5f55</li> <li>\u6b64\u811a\u672c\u53ea\u62c6\u5206\u4e00\u7ea7\u6807\u7b7e</li> </ul> <pre><code>import os\nfrom pypdf import PdfReader, PdfWriter\n\ndef sanitize_filename(name):\n    return \"\".join(c if c.isalnum() or c in (' ', '.', '_', '-') else '_' for c in name).strip()\n\ndef get_level_1_bookmarks(outlines):\n    level1 = []\n    for item in outlines:\n        if isinstance(item, list):\n            continue\n        level1.append(item)\n    return level1\n\ndef get_page_number(reader, dest):\n    # pypdf &gt;= 3.0.0\n    return reader.get_destination_page_number(dest)\n\ndef split_pdf_by_level1_bookmarks(pdf_path, output_dir):\n    reader = PdfReader(pdf_path)\n    outlines = reader.outline\n    level1_bookmarks = get_level_1_bookmarks(outlines)\n\n    print(f\"\\n\u5904\u7406\u6587\u4ef6: {os.path.basename(pdf_path)}\")\n    print(f\"\u4e00\u7ea7\u4e66\u7b7e\u6570\u91cf\uff1a{len(level1_bookmarks)}\")\n    os.makedirs(output_dir, exist_ok=True)\n\n    for i, item in enumerate(level1_bookmarks):\n        title = sanitize_filename(item.title if hasattr(item, 'title') else str(item))\n        start_page = get_page_number(reader, item)\n        end_page = get_page_number(reader, level1_bookmarks[i+1]) if i+1 &lt; len(level1_bookmarks) else len(reader.pages)\n        writer = PdfWriter()\n        for page_num in range(start_page, end_page):\n            writer.add_page(reader.pages[page_num])\n        outpath = os.path.join(output_dir, f\"{i+1:02d}_{title}.pdf\")\n        with open(outpath, \"wb\") as f:\n            writer.write(f)\n        print(f\"  \u8f93\u51fa\u7ae0\u8282\uff1a{outpath} \uff08\u9875\u7801: {start_page+1}-{end_page}\uff09\")\n\nif __name__ == '__main__':\n    root_dir = os.path.dirname(os.path.abspath(__file__))\n    output_base_dir = os.path.join(root_dir, 'output_chapters')\n    os.makedirs(output_base_dir, exist_ok=True)\n    pdf_files = [f for f in os.listdir(root_dir) if f.lower().endswith('.pdf') and os.path.isfile(f)]\n\n    if not pdf_files:\n        print(\"\u5f53\u524d\u76ee\u5f55\u4e0b\u672a\u53d1\u73b0PDF\u6587\u4ef6\uff01\")\n    else:\n        for pdf_file in pdf_files:\n            pdf_name = os.path.splitext(pdf_file)[0]\n            pdf_output_dir = os.path.join(output_base_dir, pdf_name)\n            split_pdf_by_level1_bookmarks(pdf_file, pdf_output_dir)\n        print(\"\\n\u5168\u90e8\u5904\u7406\u5b8c\u6210\u3002\")\n</code></pre>"},{"location":"tools/4.%E6%8B%86%E5%88%86pdf/#_3","title":"\u62c6\u5206\u524d\u7684\u76ee\u5f55","text":""},{"location":"tools/4.%E6%8B%86%E5%88%86pdf/#_4","title":"\u62c6\u5206\u540e","text":""},{"location":"tools/5.pdf%E8%BD%AChtml/","title":"5.pdf\u8f6chtml","text":"<p>PDF\u8f6cHTML</p> <p>https://github.com/pdf2htmlEX/pdf2htmlEX/releases/tag/v0.18.8.rc1</p> <p>\u5728ubuntu\u4e0b\u8fdb\u884c\uff08\u6211\u7684\u73af\u5883ubuntu22\uff09</p> <ul> <li>\u4e0b\u8f7d pdf2htmlEX-0.18.8.rc1-master-20200630-Ubuntu-focal-x86_64.AppImage</li> <li>\u4f9d\u8d56</li> </ul> <pre><code>sudo apt update\nsudo apt install fuse\nsudo apt install libfuse2\n</code></pre> <p></p> <p>\u8f6c\u6362\u547d\u4ee4</p> <pre><code>./pdf2htmlEX-0.18.8.rc1-master-20200630-Ubuntu-focal-x86_64.AppImage test.pdf\n</code></pre> <p>\u5b9e\u9645\u6d4b\u8bd5\u4e0b\u6765\u6548\u679c\u4e0d\u9519\uff0c\u539f\u59cb\u6392\u7248</p> <p></p> <p>\u6279\u91cf\u8f6c\u811a\u672c</p> <pre><code>import os\nimport subprocess\n\n# \u6307\u5b9a\u4f60\u8981\u9012\u5f52\u67e5\u627e\u7684\u76ee\u5f55\uff0c\".\"\u8868\u793a\u5f53\u524d\u76ee\u5f55\nsearch_dir = \".\"\n\n# pdf2htmlEX \u7684 AppImage \u8def\u5f84\npdf2htmlex_app = \"./pdf2htmlEX-0.18.8.rc1-master-20200630-Ubuntu-focal-x86_64.AppImage\"\n\n# \u904d\u5386\u76ee\u5f55\u4e0b\u7684\u6240\u6709\u6587\u4ef6\uff0c\u9012\u5f52\u67e5\u627epdf\nfor root, dirs, files in os.walk(search_dir):\n    for file in files:\n        if file.lower().endswith('.pdf'):\n            pdf_path = os.path.join(root, file)\n            html_name = os.path.splitext(file)[0] + \".html\"\n            html_path = os.path.join(root, html_name)\n            if os.path.exists(html_path):\n                print(f\"\u5df2\u5b58\u5728: {html_path}\uff0c\u8df3\u8fc7\u3002\")\n                continue\n            print(f\"\u6b63\u5728\u8f6c\u6362: {pdf_path}\")\n            try:\n                subprocess.run([pdf2htmlex_app, pdf_path, html_path], check=True)\n                print(f\"\u6210\u529f: {html_path}\")\n            except subprocess.CalledProcessError:\n                print(f\"\u8f6c\u6362\u5931\u8d25: {pdf_path}\")\n</code></pre>"},{"location":"tools/6.windows%E4%B8%8B%E5%AE%89%E8%A3%85tree/","title":"6.windows\u4e0b\u5b89\u88c5tree","text":""},{"location":"tools/6.windows%E4%B8%8B%E5%AE%89%E8%A3%85tree/#windows-git-bash-tree","title":"windows  git bash \u4e0b\u4f7f\u7528 tree","text":"<p>\u4e0b\u8f7dtree\u4e8c\u8fdb\u5236\u6587\u4ef6  https://gnuwin32.sourceforge.net/packages/tree.htm</p> <p></p> <p>\u89e3\u538b\u7f29\u627e\u5230 tree.exe  \u6254\u8fdbgit bash\u7684\u547d\u4ee4\u76ee\u5f55 </p> <pre><code>C:\\Program Files\\Git\\usr\\bin   \n</code></pre> <p>\u6253\u5f00\u6d4b\u8bd5</p> <p></p> <p>\u6211\u6700\u5e38\u7528\u7684\u547d\u4ee4</p> <pre><code>tree -L 1   \u663e\u793a\u5f53\u524d\u5c42\u76ee\u5f55\u548c\u6587\u4ef6\ntree -L 2   \u663e\u793a\u5f53\u524d\u76ee\u5f55\u548c\u6587\u4ef6  \u4ee5\u53ca  \u9012\u5f521\u5c42\u7684\u76ee\u5f55\u548c\u6587\u4ef6\ntree -L 3   \u663e\u793a\u5f53\u524d\u76ee\u5f55\u548c\u6587\u4ef6  \u4ee5\u53ca  \u9012\u5f522\u5c42\u7684\u76ee\u5f55\u548c\u6587\u4ef6\n</code></pre> <ul> <li>\u4e2d\u6587\u5b57\u7b26\u663e\u793a\u4e0d\u51fa\u6765 \u52a0\u4e00\u4e2a -N  </li> </ul> <pre><code>tree -N -L 1   \u663e\u793a\u5f53\u524d\u5c42\u76ee\u5f55\u548c\u6587\u4ef6(\u4e2d\u6587\u6b63\u5e38\u6253\u5370)\n</code></pre>"},{"location":"tools/7.freerPDF%2CPDF%E7%BF%BB%E8%AF%91%E8%BD%AF%E4%BB%B6/","title":"7.freerPDF,PDF\u7ffb\u8bd1\u8f6f\u4ef6","text":"<p>\u4f5c\u8005 https://space.bilibili.com/472442675?spm_id_from=333.1369.opus.module_author_name.click</p> <p>https://github.com/zstar1003/FreePDF</p> <p>\u7ffb\u8bd1\u5f15\u64ce\u652f\u6301</p> <p></p> <p></p>"},{"location":"tools/8.QQ%E9%82%AE%E4%BB%B6SMTP%E6%9C%8D%E5%8A%A1/","title":"\u670d\u52a1\u5668\u914d\u7f6eqq\u90ae\u7bb1\u53d1\u9001\u4fe1\u606f","text":""},{"location":"tools/8.QQ%E9%82%AE%E4%BB%B6SMTP%E6%9C%8D%E5%8A%A1/#qq","title":"\u670d\u52a1\u5668\u914d\u7f6eqq\u90ae\u7bb1\u53d1\u9001\u4fe1\u606f","text":"<p>\u767b\u5f55\u7f51\u9875\u7248\u7684QQ\u90ae\u7bb1</p> <p>\uff08\u65e7\u7248\u90ae\u7bb1\uff09\u8bbe\u7f6e-\u8d26\u53f7-\u5f00\u542fSMTP</p> <p>\u8fd9\u65f6\u5019\u4f1a\u83b7\u53d6\u5230\u4e00\u4e2a \u6388\u6743\u7801  \u4fdd\u5b58\u5907\u7528</p> <p>\u5b89\u88c5\u90ae\u7bb1\u5ba2\u6237\u7aefPostfix</p> <pre><code>sudo apt-get install postfix\n</code></pre> <p>\u914d\u7f6ePostfix\uff1a\u7f16\u8f91Postfix\u7684\u4e3b\u8981\u914d\u7f6e\u6587\u4ef6 /etc/postfix/main.cf\uff0c\u5e76\u5728\u6700\u540e\u6dfb\u52a0\u4ee5\u4e0b\u53c2\u6570\uff1a</p> <p>\u5c4f\u853d\u6389</p> <pre><code>#relayhost = \n</code></pre> <pre><code>relayhost = [smtp.qq.com]:587\nsmtp_use_tls = yes\nsmtp_sasl_auth_enable = yes\nsmtp_sasl_password_maps = hash:/etc/postfix/sasl_passwd\nsmtp_sasl_security_options = noanonymous\nmaillog_file = /var/log/mail.log\ndebug_peer_level = 2\n</code></pre> <p>\u6700\u7ec8\u7684</p> <p></p> <p>/etc/postfix\u76ee\u5f55\u4e0b\u521b\u5efasasl_passwd \u6587\u4ef6\u5e76\u7f16\u8f91</p> <pre><code>[smtp.qq.com]:587  2995560796@qq.com:\u521a\u624d\u83b7\u53d6\u5230\u7684\u6388\u6743\u7801\n</code></pre> <p>\u786e\u4fdd\u6587\u4ef6\u53ef\u88ab\u8bfb\u53d6</p> <pre><code>sudo chmod 600 /etc/postfix/sasl_passwd\n</code></pre> <p>\u751f\u6210 sasl_passwd \u6587\u4ef6\u7684\u54c8\u5e0c\u6620\u5c04\uff1a</p> <pre><code>sudo postmap /etc/postfix/sasl_passwd\n</code></pre> <p>\u91cd\u65b0\u52a0\u8f7d Postfix \u914d\u7f6e\uff1a</p> <pre><code>sudo systemctl reload postfix\n</code></pre> <p>\u5b89\u88c5mailutils</p> <pre><code>apt-get install mailutils -y\n</code></pre> <p>\u6d4b\u8bd5\u53d1\u9001\uff08\u6ce8\u610f\u9632\u706b\u5899\u7aef\u53e3587\u5f00\u542f\uff09</p> <pre><code>echo \"This is a test email\"   | mail -s \"Test Email\" -r \"2995560796@qq.com\" 2995560796@qq.com\n</code></pre> <p></p> <p>\u53c2\u8003\uff1ahttps://blog.csdn.net/weixin_47540149/article/details/133958508</p>"},{"location":"tools/9.edge-tts%E6%B5%8B%E8%AF%95/","title":"9.edge tts\u6d4b\u8bd5","text":""},{"location":"tools/9.edge-tts%E6%B5%8B%E8%AF%95/#edge_tts","title":"edge_tts\u6d4b\u8bd5","text":"<p>\u5b98\u65b9\u6587\u6863\uff1ahttps://github.com/rany2/edge-tts</p> <p>\u4f9d\u8d56\u5e93</p> <pre><code>pip install edge-tts sounddevice soundfile numpy\n</code></pre> <p>\u5feb\u901f\u6d4b\u8bd5</p> <pre><code>edge-playback --text \"Hello, world!\"\n</code></pre> <p>\u67e5\u627e\u4e2d\u6587\u97f3\u8272\uff0c\u5e76\u8bfb\u53d6\u6587\u5b57\u81ea\u52a8\u64ad\u653e</p> <pre><code>import edge_tts\nimport asyncio\nimport time\nimport io\nimport sys\nimport numpy as np\nimport sounddevice as sd\nimport soundfile as sf\n\nTEXT = \"\u4f60\u597d\uff0c\u8fd9\u662f\u4e00\u6bb5\u97f3\u8272\u8bd5\u542c\u793a\u4f8b\u3002\u652f\u6301\u591a\u79cd\u58f0\u97f3\u98ce\u683c\uff0c\u4f60\u53ef\u4ee5\u9009\u62e9\u559c\u6b22\u7684\u58f0\u97f3\u3002\"\n\nasync def list_zh_voices():\n    voices = await edge_tts.list_voices()\n    zh_voices = [v for v in voices if v[\"Locale\"].startswith(\"zh-\")]\n    return zh_voices\n\nasync def main():\n    voices = await list_zh_voices()\n    print(f\"\u5171\u627e\u5230 {len(voices)} \u4e2a\u4e2d\u6587\u97f3\u8272\\n\")\n    for idx, v in enumerate(voices):\n        name = v.get(\"ShortName\")\n        gender = v.get(\"Gender\", \"?\")\n        display_name = v.get(\"DisplayName\") or v.get(\"FriendlyName\") or v.get(\"ShortName\")\n        voice_type = v.get(\"VoiceType\", \"?\")\n        style_list = v.get(\"StyleList\", [])\n        locale = v.get(\"Locale\", \"?\")\n        # \u6253\u5370\u8be6\u7ec6\u97f3\u8272\u4fe1\u606f\n        print(f\"\\n[{idx+1}/{len(voices)}] \u8bd5\u542c\u4eba\u7269: {display_name}\")\n        print(f\"  - \u6280\u672f\u540d: {name}\")\n        print(f\"  - \u6027\u522b: {gender}\")\n        print(f\"  - \u7c7b\u578b: {voice_type}\")\n        print(f\"  - \u8bed\u8a00: {locale}\")\n        print(f\"  - \u98ce\u683c: {', '.join(style_list) if style_list else '\u65e0'}\")\n\n        try:\n            communicate = edge_tts.Communicate(TEXT, voice=name)\n            # \u83b7\u53d6\u751f\u6210\u7684\u97f3\u9891\u6d41\n            audio_bytes = b''\n            async for chunk in communicate.stream():\n                if chunk[\"type\"] == \"audio\":\n                    audio_bytes += chunk[\"data\"]\n\n            # \u4f7f\u7528 soundfile \u548c sounddevice \u64ad\u653e\u5185\u5b58\u4e2d\u7684 wav\n            audio_buffer = io.BytesIO(audio_bytes)\n            data, samplerate = sf.read(audio_buffer, dtype='float32')\n            print(\"\u5408\u6210\u5b8c\u6bd5\uff0c\u51c6\u5907\u64ad\u653e...\")\n            sd.play(data, samplerate)\n            sd.wait()\n            print(\"\u64ad\u653e\u5b8c\u6210\u3002\")\n        except Exception as e:\n            print(f\"\u97f3\u8272 {name} \u5408\u6210\u6216\u64ad\u653e\u5931\u8d25: {e}\")\n        time.sleep(1)  # \u6bcf\u6bb5\u4e4b\u95f4\u505c1\u79d2\n\nasyncio.run(main())\n</code></pre> <p></p>"},{"location":"yolo/yolo%E5%AE%89%E8%A3%85/","title":"Yolo\u5b89\u88c5","text":""},{"location":"yolo/yolo%E5%AE%89%E8%A3%85/#yolov5-pytorch-gpu-cuda","title":"yolov5 + PyTorch GPU CUDA\u52a0\u901f\u63a8\u7406","text":"<p>\u672a\u5b89\u88c5cuda\u9700\u81ea\u884c\u5b89\u88c5cuda</p> <ul> <li>\u67e5\u770bcuda\u7248\u672c</li> </ul> <pre><code>C:\\Users\\29955&gt;nvcc --version                                                                                           \nnvcc: NVIDIA (R) Cuda compiler driver                                                                                   \nCopyright (c) 2005-2025 NVIDIA Corporation                                                                              \nBuilt on Fri_Feb_21_20:42:46_Pacific_Standard_Time_2025                                                                 \nCuda compilation tools, release 12.8, V12.8.93                                                                          \nBuild cuda_12.8.r12.8/compiler.35583870_0 \n</code></pre> <ul> <li>\u5b89\u88c5\u652f\u6301 CUDA 12.8 \u7684 PyTorch GPU \u7248\u672c\uff08Windows\uff09 </li> </ul> <p>\u8fd9\u91cc\u7684<code>cu121</code>\u662f\u652f\u6301CUDA 12.1\u7684\u7248\u672c\uff0c\u76ee\u524d12.8\u7684CUDA\u57fa\u672c\u517c\u5bb912.1\u7684\u8fd0\u884c\u65f6\u3002\u5982\u679c\u6709\u5b98\u65b912.8\u652f\u6301\uff0c\u540e\u7eed\u4f1a\u66f4\u65b0\u3002</p> <pre><code>pip install torch torchvision torchaudio --index-url https://download.pytorch.org/whl/cu121\n</code></pre> <ul> <li>\u5b89\u88c5Ultralytics YOLO\uff08Python\u7248\uff09</li> </ul> <pre><code>pip install ultralytics\n</code></pre> <ul> <li>\u9a8c\u8bc1 PyTorch GPU \u652f\u6301</li> </ul> <p>test_pytorch_cuda.py</p> <pre><code>import torch\n\nprint(\"PyTorch version:\", torch.__version__)\nprint(\"CUDA version PyTorch is built with:\", torch.version.cuda)\nprint(\"Is CUDA available:\", torch.cuda.is_available())\nif torch.cuda.is_available():\n    print(\"CUDA device name:\", torch.cuda.get_device_name(0))\nelse:\n    print(\"CUDA is not available. Check your installation.\")\n</code></pre> <p>\u8f93\u51fa\u8bf4\u660e</p> <ul> <li><code>PyTorch version</code>\uff1a\u663e\u793aPyTorch\u7248\u672c\u53f7</li> <li><code>CUDA version PyTorch is built with</code>\uff1a\u663e\u793aPyTorch\u7ed1\u5b9a\u7684CUDA\u8fd0\u884c\u65f6\u7248\u672c</li> <li><code>Is CUDA available</code>\uff1a\u5982\u679c\u662f<code>True</code>\uff0c\u8bf4\u660ePyTorch\u80fd\u68c0\u6d4b\u5230\u4f60\u7684GPU\u548cCUDA\u73af\u5883\u6b63\u5e38</li> <li>\u5982\u679c\u53ef\u7528\uff0c\u4f1a\u6253\u5370\u663e\u5361\u540d\u79f0</li> </ul> <p></p> <ul> <li>\u6d4b\u8bd5\u63a8\u7406,\u7f16\u5199\u6d4b\u8bd5\u811a\u672c\uff0c\u4f7f\u7528\u5b98\u65b9\u7684yolov5s.pt\u6a21\u578b</li> </ul> <p>yolo_video_test.py  \u4f1a\u81ea\u52a8\u4e0b\u8f7dyolov5s.pt\u6a21\u578b</p> <pre><code>import cv2\nfrom ultralytics import YOLO\n\n# \u52a0\u8f7d\u6a21\u578b\uff08\u81ea\u52a8\u4e0b\u8f7dyolov5s\u6743\u91cd\uff09\nmodel = YOLO('yolov5s.pt')\n\n# \u6253\u5f00\u89c6\u9891\u6587\u4ef6\u6216\u6444\u50cf\u5934\ncap = cv2.VideoCapture('test_video.mp4')  # \u6216 0 \u8868\u793a\u6444\u50cf\u5934\n\nwhile cap.isOpened():\n    ret, frame = cap.read()\n    if not ret:\n        break\n\n    # \u4f7f\u7528YOLO\u6a21\u578b\u63a8\u7406\uff0c\u8fd4\u56de\u68c0\u6d4b\u7ed3\u679c\n    results = model(frame)\n\n    # \u5728\u56fe\u50cf\u4e0a\u7ed8\u5236\u68c0\u6d4b\u6846\u548c\u6807\u7b7e\n    annotated_frame = results[0].plot()\n\n    # \u663e\u793a\u7ed3\u679c\n    cv2.imshow('YOLO Video', annotated_frame)\n\n    # \u6309q\u9000\u51fa\n    if cv2.waitKey(1) &amp; 0xFF == ord('q'):\n        break\n\ncap.release()\ncv2.destroyAllWindows()\n</code></pre> <p>\u5c06\u4e00\u4e2a\u89c6\u9891\u653e\u5728\u540c\u76ee\u5f55\u5e76\u66f4\u540d\u4e3atest_video.mp4</p> <pre><code>python yolo_video_test.py\n</code></pre> <p></p> <p>9ms\u5de6\u53f3\u4e00\u5e27</p>"},{"location":"zephyr/1.zephyr%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/1.zephyr%E9%85%8D%E7%BD%AE%E5%AE%89%E8%A3%85-%E5%AE%98%E6%96%B9%E5%AE%89%E8%A3%85/","title":"1.zephyr RTOS\u5b98\u65b9\u914d\u7f6e\u5b89\u88c5","text":""},{"location":"zephyr/1.zephyr%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/1.zephyr%E9%85%8D%E7%BD%AE%E5%AE%89%E8%A3%85-%E5%AE%98%E6%96%B9%E5%AE%89%E8%A3%85/#1zephyr-rtos","title":"1.zephyr RTOS\u5b98\u65b9\u914d\u7f6e\u5b89\u88c5","text":"<ul> <li>zephyr\u4f7f\u7528camke\u6765\u7ba1\u7406\u9879\u76ee\uff0c\u8de8\u5e73\u53f0\uff0c \u652f\u6301 windows\uff0cMac, Linux</li> </ul> <p>\u3010\u4e0d\u63a8\u8350\u6b64\u79cd\u65b9\u5f0f\u5b89\u88c5\u3011\u81ea\u5df1\u6d4b\u8bd5\u4e0b\u6765\u4e0b\u8f7d\u975e\u5e38\u6162\uff0c\u4e14\u9700\u8981\u79d1\u5b66\u4e0a\u7f51\u73af\u5883\uff08\u63a8\u8350\u770b\u4e00\u904d\u5982\u4f55\u5b89\u88c5\uff0c\u4e86\u89e3\u4f9d\u8d56\u5de5\u5177\uff09</p>"},{"location":"zephyr/1.zephyr%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/1.zephyr%E9%85%8D%E7%BD%AE%E5%AE%89%E8%A3%85-%E5%AE%98%E6%96%B9%E5%AE%89%E8%A3%85/#_1","title":"\u5b98\u65b9\u4e0b\u8f7d\u914d\u7f6e\u65b9\u5f0f","text":"<p>https://docs.zephyrproject.org/latest/develop/getting_started/index.html</p> <p>\u6309\u7167\u6b64\u6587\u6863\uff0c\u4e00\u6b65\u6b65\u6765\u5c31\u53ef\u4ee5\u4e86\uff0c</p> <p>\u6211\u662f\u5728windws \u4e0a\u5b89\u88c5\uff0c\u9700\u8981\u6ce8\u610f</p> <ul> <li> <p>7z.exe\u7684\u76ee\u5f55\u653e\u5230 \u7cfb\u7edf\u73af\u5883\u53d8\u91cf\u4e2d</p> </li> <li> <p>\u6700\u597d\u79d1\u5b66\u4e0a\u7f51\uff0c\u4e0b\u8f7d\u901f\u5ea6\u611f\u4eba</p> </li> <li> <p>west update  \u547d\u4ee4\u65f6  \u82e5\u9047\u5230\u67d0\u4e2a\u5e93\u4e0b\u8f7d\u901f\u5ea6\u6162 \u53ef\u4ee5\u4e2d\u65ad\u91cd\u65b0\u4e0b\u8f7d\uff0c\u53ef\u4ee5\u63d0\u901f</p> </li> <li> <p>\u76f4\u63a5\u4e0b\u8f7dZephyr SDK\u592a\u6162\u4e86 (Zephyr SDK\u662f\u7f16\u8bd1\u73af\u5883\u5305)\uff0c\u4e14\u53ef\u80fd\u5931\u8d25\uff0c\u53bb\u5b98\u7f51\u4e0bsdk\u5305\u89e3\u538b\u8fd0\u884c  \u8fd9\u79cd\u65b9\u5f0f \u9700\u8981\u6ce8\u610f\u7248\u672c\uff0c\u5fc5\u987b\u67e5\u770bZephyr\u6e90\u7801\u4e0b\u7684SDK_VERSION\uff0c\u4e0e\u5176\u7248\u672c\u4e00\u81f4</p> </li> </ul> <p></p>"},{"location":"zephyr/1.zephyr%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/2.zephyr%E9%85%8D%E7%BD%AE%E5%AE%89%E8%A3%85-%E4%BD%BF%E7%94%A8%E5%AE%89%E8%A3%85%E5%A5%BD%E7%9A%84%E5%8C%85%E7%9B%B4%E6%8E%A5%E8%A7%A3%E5%8E%8B%E4%BD%BF%E7%94%A8/","title":"windows\u4e0b\u4f7f\u7528","text":""},{"location":"zephyr/1.zephyr%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/2.zephyr%E9%85%8D%E7%BD%AE%E5%AE%89%E8%A3%85-%E4%BD%BF%E7%94%A8%E5%AE%89%E8%A3%85%E5%A5%BD%E7%9A%84%E5%8C%85%E7%9B%B4%E6%8E%A5%E8%A7%A3%E5%8E%8B%E4%BD%BF%E7%94%A8/#windows","title":"windows\u4e0b\u4f7f\u7528","text":"<p>\u6b64\u65b9\u5f0f\u5c31\u662f\u7b14\u8005\u4e0b\u8f7d\u597d\u4e86 zephyr\u6e90\u7801\u548csdk\u7f16\u8bd1\u5de5\u5177\u94fe\uff0c\u6253\u5305\u6210\u538b\u7f29\u5305\uff0c\u4e0b\u8f7d\u5931\u8d25\u6216\u8005\u592a\u6162  \u5fcd\u53d7\u4e0d\u4e86\u53ef\u4ee5\u4f7f\u7528\u8fd9\u79cd\u65b9\u5f0f</p> <p>\u6309\u7167\u5982\u4e0b\u64cd\u4f5c</p>"},{"location":"zephyr/1.zephyr%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/2.zephyr%E9%85%8D%E7%BD%AE%E5%AE%89%E8%A3%85-%E4%BD%BF%E7%94%A8%E5%AE%89%E8%A3%85%E5%A5%BD%E7%9A%84%E5%8C%85%E7%9B%B4%E6%8E%A5%E8%A7%A3%E5%8E%8B%E4%BD%BF%E7%94%A8/#1winget","title":"1.\u66f4\u65b0winget","text":"<p>\u4e0b\u8f7d\u94fe\u63a5  https://github.com/microsoft/winget-cli/releases/download/v1.8.1911/Microsoft.DesktopAppInstaller_8wekyb3d8bbwe.msixbundle</p> <p>\u70b9\u51fb\u8fd0\u884c\u5b89\u88c5\u5305  Microsoft.DesktopAppInstaller_8wekyb3d8bbwe.msixbundle</p>"},{"location":"zephyr/1.zephyr%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/2.zephyr%E9%85%8D%E7%BD%AE%E5%AE%89%E8%A3%85-%E4%BD%BF%E7%94%A8%E5%AE%89%E8%A3%85%E5%A5%BD%E7%9A%84%E5%8C%85%E7%9B%B4%E6%8E%A5%E8%A7%A3%E5%8E%8B%E4%BD%BF%E7%94%A8/#2github","title":"2.\u73af\u5883\u5b89\u88c5\uff08\u5927\u591a\u662fgithub\u7684\u5730\u5740\uff0c\u4e0b\u8f7d\u6162\u6216\u8005\u4e0b\u8f7d\u5931\u8d25\u9700\u8981\u79d1\u5b66\uff09","text":"<pre><code>winget install Kitware.CMake Ninja-build.Ninja oss-winget.gperf python Git.Git oss-winget.dtc wget 7zip.7zip\n</code></pre> <p>\u786e\u8ba4\u5168\u90e8\u5b89\u88c5\u5b8c\u6210\u540e  \u5c067z.exe\u7684\u76ee\u5f55\u6dfb\u52a0\u5230\u73af\u5883\u53d8\u91cf   \u9ed8\u8ba4\u8def\u5f84 \u5728  C:\\Program Files\\7-Zip</p>"},{"location":"zephyr/1.zephyr%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/2.zephyr%E9%85%8D%E7%BD%AE%E5%AE%89%E8%A3%85-%E4%BD%BF%E7%94%A8%E5%AE%89%E8%A3%85%E5%A5%BD%E7%9A%84%E5%8C%85%E7%9B%B4%E6%8E%A5%E8%A7%A3%E5%8E%8B%E4%BD%BF%E7%94%A8/#3zephyrproject","title":"3.\u5c06zephyrproject\u89e3\u538b","text":"<p>\u4e0b\u8f7d \uff1a  https://cloud.hedejiang.top:5001/sharing/jb7cqUBr3</p> <p>\u6211\u89e3\u538b\u540e\u653e\u5728\u4e86\u684c\u9762\u4e0a  C:\\Users\\29955\\Desktop\\zephyrproject</p> <p>\u8fd9\u65f6\u5019\u6253\u5f00cmd\u547d\u4ee4\uff0c\u6b64\u65f6\u76ee\u5f55\u9700\u8981\u5207\u6362\u5728  C:\\Users\\29955\\Desktop\\      \uff08\u5fc5\u987b\u4fdd\u8bc1\u5f53\u524d\u76ee\u5f55\u5728zephyrproject\u7684\u4e0a\u4e00\u7ea7\u76ee\u5f55\uff09</p>"},{"location":"zephyr/1.zephyr%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/2.zephyr%E9%85%8D%E7%BD%AE%E5%AE%89%E8%A3%85-%E4%BD%BF%E7%94%A8%E5%AE%89%E8%A3%85%E5%A5%BD%E7%9A%84%E5%8C%85%E7%9B%B4%E6%8E%A5%E8%A7%A3%E5%8E%8B%E4%BD%BF%E7%94%A8/#4","title":"4.\u914d\u7f6e\u865a\u62df\u73af\u5883","text":"<pre><code>python -m venv zephyrproject\\.venv\nzephyrproject\\.venv\\Scripts\\activate.bat\n</code></pre>"},{"location":"zephyr/1.zephyr%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/2.zephyr%E9%85%8D%E7%BD%AE%E5%AE%89%E8%A3%85-%E4%BD%BF%E7%94%A8%E5%AE%89%E8%A3%85%E5%A5%BD%E7%9A%84%E5%8C%85%E7%9B%B4%E6%8E%A5%E8%A7%A3%E5%8E%8B%E4%BD%BF%E7%94%A8/#5west","title":"5.\u4e0b\u8f7dwest","text":"<pre><code>pip install west\n</code></pre>"},{"location":"zephyr/1.zephyr%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/2.zephyr%E9%85%8D%E7%BD%AE%E5%AE%89%E8%A3%85-%E4%BD%BF%E7%94%A8%E5%AE%89%E8%A3%85%E5%A5%BD%E7%9A%84%E5%8C%85%E7%9B%B4%E6%8E%A5%E8%A7%A3%E5%8E%8B%E4%BD%BF%E7%94%A8/#6zephyrprojectzephyr-cmake-package","title":"6.\u6253\u5f00zephyrproject\u5bfc\u51faZephyr CMake package","text":"<pre><code>cd zephyrproject\nwest zephyr-export\n</code></pre>"},{"location":"zephyr/1.zephyr%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/2.zephyr%E9%85%8D%E7%BD%AE%E5%AE%89%E8%A3%85-%E4%BD%BF%E7%94%A8%E5%AE%89%E8%A3%85%E5%A5%BD%E7%9A%84%E5%8C%85%E7%9B%B4%E6%8E%A5%E8%A7%A3%E5%8E%8B%E4%BD%BF%E7%94%A8/#7python","title":"7.\u5b89\u88c5\u4f9d\u8d56Python(\u4e0b\u8f7d\u8f83\u6162\uff0c\u79d1\u5b66)","text":"<pre><code>west packages pip --install\n</code></pre>"},{"location":"zephyr/1.zephyr%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/2.zephyr%E9%85%8D%E7%BD%AE%E5%AE%89%E8%A3%85-%E4%BD%BF%E7%94%A8%E5%AE%89%E8%A3%85%E5%A5%BD%E7%9A%84%E5%8C%85%E7%9B%B4%E6%8E%A5%E8%A7%A3%E5%8E%8B%E4%BD%BF%E7%94%A8/#8sdk","title":"8.\u914d\u7f6esdk(\u7f16\u8bd1\u5de5\u5177\u94fe)","text":"<pre><code>cd zephyr\ncd zephyr-sdk-0.17.0\nsetup.cmd\n</code></pre>"},{"location":"zephyr/1.zephyr%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/2.zephyr%E9%85%8D%E7%BD%AE%E5%AE%89%E8%A3%85-%E4%BD%BF%E7%94%A8%E5%AE%89%E8%A3%85%E5%A5%BD%E7%9A%84%E5%8C%85%E7%9B%B4%E6%8E%A5%E8%A7%A3%E5%8E%8B%E4%BD%BF%E7%94%A8/#9","title":"9.\u7f16\u8bd1\u4e00\u4e2a\u793a\u4f8b","text":"<pre><code>cd ..\nwest build -p always -b stm32n6570_dk samples\\basic\\blinky\n</code></pre> <p>\u67e5\u770b\u6240\u6709 boards\u53ef\u4f7f\u7528\u5982\u4e0b\u547d\u4ee4</p> <pre><code>west boards\n</code></pre>"},{"location":"zephyr/2.zephyr%E5%88%9B%E5%BB%BAboards/3.zephyr%E5%88%9B%E5%BB%BA%E8%87%AA%E5%B7%B1%E7%9A%84board_stm32h750xb/","title":"3.zephyr\u521b\u5efa\u81ea\u5df1\u7684board stm32h750xb","text":""},{"location":"zephyr/2.zephyr%E5%88%9B%E5%BB%BAboards/3.zephyr%E5%88%9B%E5%BB%BA%E8%87%AA%E5%B7%B1%E7%9A%84board_stm32h750xb/#zephyrboard","title":"zephyr\u521b\u5efa\u81ea\u5df1\u7684board","text":"<p>\u6ce8\uff1a\u5f53\u524d\u4f7f\u7528\u7684\u7248\u672c\u4e3a 4.10</p> <p>\u8fd9\u91cc\u5148\u8bf4\u4e00\u4e0b\u7f16\u8bd1board\u7684\u547d\u4ee4\uff1a</p> <pre><code>west build -p always -b &lt;your-board-name&gt; samples\\basic\\blinky\n</code></pre> <p>\u8fd9\u91cc\u7684 \u53ef\u4ee5\u66ff\u6362\u4e3a boards\u76ee\u5f55\u91cc\u7684\u4efb\u610f\u4e00\u4e2a\u5f00\u53d1\u677f    samples\\basic\\blinky \u76ee\u5f55\u53ef\u4ee5\u66ff\u6362\u4e3a\u5176\u4ed6\u793a\u4f8b </p> <ul> <li>west boards \u547d\u4ee4\u53ef\u67e5\u770b\u6240\u6709\u5f00\u53d1\u677f</li> </ul> <p>\u9996\u5148\u5c1d\u8bd5\u7f16\u8bd1\u4e00\u4e0b stm32h750_dk</p> <pre><code>west build -p always -b stm32h750_dk samples\\basic\\blinky\n</code></pre> <p></p> <p>\u4e0a\u8ff0\u4e2d\u53ef\u4ee5\u770b\u5230\u7f16\u8bd1\u6210\u529f\u4e86\uff0c\u6253\u5370\u4fe1\u606f\u4e5f\u53ef\u4ee5\u770b\u5230\u7f16\u8bd1\u51fa\u7684\u6587\u4ef6\u8def\u5f84\u5728 zephyrproject/zephyr/build/zephyr/</p> <p></p>"},{"location":"zephyr/2.zephyr%E5%88%9B%E5%BB%BAboards/3.zephyr%E5%88%9B%E5%BB%BA%E8%87%AA%E5%B7%B1%E7%9A%84board_stm32h750xb/#stm32h750_dk-board","title":"\u4f7f\u7528stm32h750_dk \u6539\u9020\u81ea\u5df1\u7684board","text":"<p>\u590d\u5236\u76f8\u540c\u82af\u7247\u7684board\u6216\u8005\u76f8\u8fd1\u7684\u82af\u7247board</p> <p>\u5f00\u53d1\u677f\u4f7f\u7528\u7684\u662fART-PI    \u82af\u7247\u578b\u53f7\u4e3aSTM32H750XB   \uff0c\u5b98\u65b9\u7684\u4ed3\u5e93\u4e2d\u6b63\u597d\u6709\u8fd9\u4e2a\u82af\u7247\uff0c\u62ff\u8fc7\u6765\u76f4\u63a5\u7528\uff0c\u5c0f\u6539\u4e00\u4e0b</p> <p></p>"},{"location":"zephyr/2.zephyr%E5%88%9B%E5%BB%BAboards/3.zephyr%E5%88%9B%E5%BB%BA%E8%87%AA%E5%B7%B1%E7%9A%84board_stm32h750xb/#_1","title":"\u66f4\u6539\u6587\u4ef6\u540d","text":"<p>\u590d\u5236  stm32h750b_dk\u6574\u4e2a\u76ee\u5f55\u5230\u540c\u7ea7\u76ee\u5f55 \u5e76\u66f4\u540d\u79f0\u4e3aart_pi\uff0c\u6253\u5f00\u8be5\u76ee\u5f55</p> <p>\u5c06\u539f\u672c\u7684\u6587\u4ef6\u540d\u79f0\u66f4\u6539  \uff0c\u8fd9\u91cc\u9700\u8981\u66f4\u65394\u4e2a\u6587\u4ef6\u540d\uff0c\u5982\u4e0b</p> <ul> <li>\u66f4\u6539\u524d</li> </ul> <p></p> <ul> <li>\u66f4\u6539\u540e</li> </ul> <p></p>"},{"location":"zephyr/2.zephyr%E5%88%9B%E5%BB%BAboards/3.zephyr%E5%88%9B%E5%BB%BA%E8%87%AA%E5%B7%B1%E7%9A%84board_stm32h750xb/#boards","title":"boards\u6587\u4ef6\u89e3\u6790","text":"<pre><code>.\n|-- Kconfig.art_pi \n|-- Kconfig.defconfig\n|-- arduino_r3_connector.dtsi\n|-- art_pi.dts\n|-- art_pi.yaml\n|-- art_pi_defconfig\n|-- board.cmake\n|-- board.yml\n|-- doc\n|   |-- img\n|   `-- index.rst\n`-- support\n    `-- openocd.cfg\n</code></pre>"},{"location":"zephyr/2.zephyr%E5%88%9B%E5%BB%BAboards/3.zephyr%E5%88%9B%E5%BB%BA%E8%87%AA%E5%B7%B1%E7%9A%84board_stm32h750xb/#_2","title":"\u6587\u4ef6\u7b80\u4ecb","text":""},{"location":"zephyr/2.zephyr%E5%88%9B%E5%BB%BAboards/3.zephyr%E5%88%9B%E5%BB%BA%E8%87%AA%E5%B7%B1%E7%9A%84board_stm32h750xb/#1-kconfig","title":"1. Kconfig \u6587\u4ef6","text":"<ol> <li>Kconfig.art_pi</li> <li>\u58f0\u660e\u6216\u5b9a\u4e49\u4e0e\u6b64\u677f\u5361\u76f8\u5173\u7684 Kconfig \u9009\u9879\uff0c\u6bd4\u5982\u677f\u5361\u7279\u5b9a\u7684\u5916\u8bbe\u529f\u80fd\u5f00\u5173\u7b49\u3002</li> <li>\u53ef\u4ee5\u5728\u8fd9\u91cc\u4f7f\u7528 <code>config XYZ ...</code> \u7684\u65b9\u5f0f\u7ed9\u677f\u5361\u63d0\u4f9b\u53ef\u9009\u914d\u7f6e\uff08\u4e0d\u4e00\u5b9a\u6240\u6709\u677f\u90fd\u9700\u8981\u5355\u72ec\u4e00\u4e2a Kconfig.xx \u6587\u4ef6\uff0c\u5177\u4f53\u770b\u9700\u6c42\uff09\u3002</li> <li>Kconfig.defconfig</li> <li>\u5b9a\u4e49\u6b64\u677f\u5361\u9ed8\u8ba4\u542f\u7528\u6216\u7981\u7528\u7684 Kconfig \u9009\u9879\uff08defconfig\uff09\u3002</li> <li>\u5f53\u7528\u6237\u6307\u5b9a <code>BOARD=art_pi</code> \u65f6\uff0c\u7cfb\u7edf\u4f1a\u81ea\u52a8\u8bfb\u53d6\u8fd9\u91cc\u7684\u914d\u7f6e\uff0c\u5408\u5e76\u5230\u6700\u7ec8\u7684 <code>.config</code> \u4e2d\u3002</li> <li>\u5e38\u89c1\u7528\u6cd5\u662f\u7ed9\u4e00\u4e9b\u9009\u9879\u8d4b\u9ed8\u8ba4\u503c\uff0c\u6bd4\u5982 <code>CONFIG_UART_CONSOLE=y</code>\uff0c\u4ee5\u4fdd\u8bc1\u677f\u5361\u6700\u57fa\u672c\u7684\u529f\u80fd\u53ef\u7528\u3002</li> <li>art_pi_defconfig</li> <li>\u6709\u65f6\u4e5f\u7528\u6765\u653e\u7f6e\u9ed8\u8ba4\u7684 Kconfig \u8bbe\u7f6e\uff0c\u548c <code>Kconfig.defconfig</code> \u7c7b\u4f3c\uff0c\u5177\u4f53\u53d6\u51b3\u4e8e\u5de5\u7a0b\u7ec4\u7ec7\u65b9\u5f0f\u3002</li> <li>\u4e0d\u540c\u9879\u76ee\u4e2d\u53ef\u80fd\u547d\u540d\u65b9\u5f0f\u6709\u5dee\u5f02\uff0c\u91cd\u8981\u7684\u662f\u5b83\u7528\u4e8e\u58f0\u660e\u677f\u5361\u7684\u9ed8\u8ba4\u914d\u7f6e\u3002</li> </ol>"},{"location":"zephyr/2.zephyr%E5%88%9B%E5%BB%BAboards/3.zephyr%E5%88%9B%E5%BB%BA%E8%87%AA%E5%B7%B1%E7%9A%84board_stm32h750xb/#2-device-tree","title":"2. \u8bbe\u5907\u6811 (Device Tree) \u6587\u4ef6","text":"<ol> <li>art_pi.dts</li> <li>\u6b64\u677f\u5361\u7684\u4e3b\u8bbe\u5907\u6811\u6587\u4ef6\uff0c\u63cf\u8ff0\u786c\u4ef6\u7684\u8d44\u6e90\u6620\u5c04\u3001\u5916\u8bbe\u5730\u5740\u3001\u5f15\u811a\u914d\u7f6e\u7b49\u3002</li> <li>Zephyr \u7f16\u8bd1\u65f6\u4f1a\u6839\u636e <code>.dts</code> \u6587\u4ef6\u751f\u6210\u5bf9\u5e94\u7684 C \u5934\u6587\u4ef6\u6765\u7ba1\u7406\u786c\u4ef6\u521d\u59cb\u5316\u3002</li> <li>\u91cc\u9762\u901a\u5e38\u5305\u542b CPU\u3001\u65f6\u949f\u3001\u4e32\u53e3\u3001GPIO\u3001SPI\u3001I2C \u7b49\u5916\u8bbe\u8282\u70b9\u3002</li> <li>arduino_r3_connector.dtsi</li> <li><code>.dtsi</code> \u8868\u793a Device Tree \u201cinclude\u201d \u6587\u4ef6\uff0c\u662f\u53ef\u4ee5\u88ab\u5176\u4ed6 <code>.dts</code> \u6587\u4ef6\u5305\u542b\u7684\u516c\u7528\u7247\u6bb5\u3002</li> <li>\u901a\u5e38\u7528\u4e8e\u63cf\u8ff0\u901a\u7528\u7684\u786c\u4ef6\u63a5\u53e3\u6216\u6269\u5c55\u63a5\u53e3\uff08\u5982 Arduino R3 \u63a5\u53e3\u7684\u5f15\u811a\u6620\u5c04\uff09\uff0c\u518d\u5728 <code>art_pi.dts</code> \u4e2d <code>#include</code> \u8fdb\u53bb\u3002</li> <li>\u597d\u5904\u662f\u53ef\u4ee5\u590d\u7528\u6216\u5355\u72ec\u7ef4\u62a4\u8fd9\u4e9b\u63a5\u53e3\u7247\u6bb5\u3002</li> </ol>"},{"location":"zephyr/2.zephyr%E5%88%9B%E5%BB%BAboards/3.zephyr%E5%88%9B%E5%BB%BA%E8%87%AA%E5%B7%B1%E7%9A%84board_stm32h750xb/#3","title":"3. \u677f\u5361\u5143\u6570\u636e\u548c\u6784\u5efa\u4fe1\u606f","text":"<ol> <li>art_pi.yaml</li> <li>\u63cf\u8ff0\u677f\u5361\u7684\u5143\u6570\u636e\uff0c\u6bd4\u5982\u540d\u79f0\u3001\u67b6\u6784\u3001SOC \u578b\u53f7\u3001RAM/FLASH \u5927\u5c0f\u3001\u8c03\u8bd5\u4fe1\u606f\u7b49\u3002</li> <li>\u88ab Zephyr \u7684\u6784\u5efa\u7cfb\u7edf\u3001\u6d4b\u8bd5\u5de5\u5177\u3001\u6587\u6863\u7cfb\u7edf\uff08\u5982 <code>twister</code>\uff09\u7528\u6765\u8bc6\u522b\u5e76\u7ba1\u7406\u677f\u5361\u3002</li> <li>\u5e38\u89c1\u5b57\u6bb5\u5305\u62ec <code>board:</code>, <code>name:</code>, <code>arch:</code>, <code>toolchain:</code>, <code>ram:</code> \u7b49\u3002</li> <li>board.cmake</li> <li>\u9488\u5bf9\u8be5\u677f\u5361\u53ef\u80fd\u9700\u8981\u7684\u4e00\u4e9b\u7279\u5b9a CMake \u6784\u5efa\u903b\u8f91\u3001\u7f16\u8bd1\u6807\u5fd7\u6216\u989d\u5916\u811a\u672c\u3002</li> <li>\u4e00\u822c\u53ef\u4ee5\u5728\u8fd9\u91cc\u505a\u677f\u5361\u4e13\u7528\u7684\u7f16\u8bd1\u9009\u9879\u6216\u94fe\u63a5\u9009\u9879\u914d\u7f6e\u3002</li> <li>\u6709\u4e9b\u677f\u5361\u65e0\u9700\u6b64\u6587\u4ef6\uff0c\u5982\u679c\u6ca1\u6709\u7279\u6b8a\u7f16\u8bd1\u9700\u6c42\u5c31\u53ef\u4ee5\u7701\u7565\u3002</li> <li>board.yml</li> <li>\u8fd9\u662f\u53e6\u4e00\u4e2a\u7528\u6765\u63cf\u8ff0\u677f\u5361\u4fe1\u606f\u7684 YAML \u6587\u4ef6\uff0c\u548c <code>art_pi.yaml</code> \u4f5c\u7528\u76f8\u4f3c\u6216\u8005\u662f\u914d\u5408\u4f7f\u7528\uff0c\u53d6\u51b3\u4e8e\u9879\u76ee\u7ec4\u7ec7\u3002</li> <li>\u53ef\u80fd\u88ab Zephyr \u7684\u6d4b\u8bd5\u6846\u67b6\u6216\u6587\u6863\u7cfb\u7edf\u7528\u6765\u6807\u8bb0\u677f\u5361\u7684\u7279\u5f81\u4e0e\u5206\u7c7b\uff08\u4f8b\u5982\uff1a\u662f\u5426\u652f\u6301 BLE\u3001\u662f\u5426\u6709\u4ee5\u592a\u7f51\u7b49\uff09\u3002</li> </ol>"},{"location":"zephyr/2.zephyr%E5%88%9B%E5%BB%BAboards/3.zephyr%E5%88%9B%E5%BB%BA%E8%87%AA%E5%B7%B1%E7%9A%84board_stm32h750xb/#4","title":"4. \u6587\u6863\u76f8\u5173","text":"<ol> <li>doc/ \u76ee\u5f55</li> <li>\u5b58\u653e\u6b64\u677f\u5361\u7684\u4f7f\u7528\u8bf4\u660e\u3001\u539f\u7406\u56fe\u6216\u63a5\u7ebf\u56fe\u7b49\u6587\u6863\u8d44\u6599\u3002</li> <li>\u901a\u5e38\u6709\u4e00\u4e2a <code>index.rst</code> \u5165\u53e3\uff0c\u7528 reStructuredText \u683c\u5f0f\u5199\u6587\u6863\uff0c\u53ef\u88ab Sphinx \u6216 Zephyr \u5b98\u65b9\u6587\u6863\u7cfb\u7edf\u89e3\u6790\u3002</li> <li><code>img/</code> \u53ef\u4ee5\u653e\u677f\u5361\u56fe\u7247\u3001\u63a5\u53e3\u793a\u610f\u56fe\u7b49\u3002</li> <li>doc/index.rst</li> <li>\u8be5\u677f\u5361\u6587\u6863\u7684\u4e3b\u5165\u53e3\uff0c\u4e00\u822c\u4f1a\u5728\u5176\u4e2d\u4ecb\u7ecd\uff1a<ul> <li>\u677f\u5361\u7684\u786c\u4ef6\u6982\u89c8\uff08CPU\u3001\u5916\u8bbe\u3001\u5b58\u50a8\u7b49\uff09</li> <li>\u4f9d\u8d56\u7684\u5de5\u5177\u94fe\u3001\u7f16\u8bd1\u65b9\u6cd5</li> <li>\u5982\u4f55\u4e0b\u8f7d\u56fa\u4ef6\u3001\u8c03\u8bd5</li> </ul> </li> <li>\u5982\u679c\u96c6\u6210\u5230 Zephyr \u5b98\u65b9\u6587\u6863\u4e2d\uff0c\u53ef\u4ee5\u901a\u8fc7 Sphinx \u751f\u6210\u5728\u7ebf\u6587\u6863\u3002</li> </ol>"},{"location":"zephyr/2.zephyr%E5%88%9B%E5%BB%BAboards/3.zephyr%E5%88%9B%E5%BB%BA%E8%87%AA%E5%B7%B1%E7%9A%84board_stm32h750xb/#5","title":"5. \u8c03\u8bd5/\u70e7\u5f55\u76f8\u5173","text":"<ol> <li>support/openocd.cfg</li> <li>\u9488\u5bf9\u8be5\u677f\u5361\u7684 OpenOCD \u914d\u7f6e\u811a\u672c\uff0c\u7528\u4e8e\u8c03\u8bd5\u6216\u70e7\u5f55\u3002</li> <li>\u5305\u542b\u786c\u4ef6\u590d\u4f4d\u3001JTAG/SWD \u5f15\u811a\u3001Flash \u8bbe\u7f6e\u7b49\u4fe1\u606f\uff0c\u8ba9 OpenOCD \u77e5\u9053\u5982\u4f55\u548c\u6b64\u677f\u5361\u4ea4\u4e92\u3002</li> <li>Zephyr \u53ef\u4ee5\u5728\u7f16\u8bd1\u5b8c\u6210\u540e\uff0c\u4f7f\u7528 <code>west flash</code> / <code>west debug</code> \u81ea\u52a8\u8c03\u7528\u8fd9\u4e2a\u811a\u672c\u8fdb\u884c\u4e0b\u8f7d\u6216\u5355\u6b65\u8c03\u8bd5\uff08\u5982\u679c\u4f60\u914d\u7f6e\u4e86 OpenOCD\uff09\u3002</li> </ol>"},{"location":"zephyr/2.zephyr%E5%88%9B%E5%BB%BAboards/3.zephyr%E5%88%9B%E5%BB%BA%E8%87%AA%E5%B7%B1%E7%9A%84board_stm32h750xb/#_3","title":"\u603b\u7ed3","text":"<ul> <li>Kconfig.xxx / defconfig\uff1a\u5728\u7f16\u8bd1\u914d\u7f6e\u5c42\u9762\u63a7\u5236\u677f\u5361\u53ef\u9009\u529f\u80fd\u3002</li> <li>.dts / .dtsi\uff1a\u5728\u8bbe\u5907\u6811\u5c42\u9762\u63cf\u8ff0\u786c\u4ef6\u8d44\u6e90\u3002</li> <li>.yaml / .yml\uff1a\u8bb0\u5f55\u677f\u5361\u5143\u4fe1\u606f\uff0c\u4f9b\u6784\u5efa\u7cfb\u7edf\u548c\u6d4b\u8bd5\u6587\u6863\u7cfb\u7edf\u8bc6\u522b\u3002</li> <li>board.cmake\uff1a\u81ea\u5b9a\u4e49\u7f16\u8bd1\u903b\u8f91\uff08\u82e5\u6709\u9700\u8981\uff09\u3002</li> <li>doc/\uff1a\u677f\u5361\u6587\u6863\u3001\u56fe\u7247\u3001\u793a\u4f8b\u8bf4\u660e\u7b49\u3002</li> <li>support/openocd.cfg\uff1a\u8c03\u8bd5/\u70e7\u5f55\u6240\u9700\u7684\u811a\u672c\u3002</li> </ul> <p>\u8fd9\u4e9b\u6587\u4ef6\u5171\u540c\u7ec4\u6210\u4e86 Zephyr \u5bf9\u8be5\u677f\u5361\u7684\u5b8c\u6574\u652f\u6301\uff0c\u6db5\u76d6\u4ece\u7f16\u8bd1\u914d\u7f6e\u3001\u786c\u4ef6\u62bd\u8c61\u5230\u6587\u6863\u4e0e\u8c03\u8bd5\u7684\u65b9\u65b9\u9762\u9762\u3002</p>"},{"location":"zephyr/2.zephyr%E5%88%9B%E5%BB%BAboards/3.zephyr%E5%88%9B%E5%BB%BA%E8%87%AA%E5%B7%B1%E7%9A%84board_stm32h750xb/#board","title":"\u7f16\u8f91\u66f4\u6539board\u4fe1\u606f","text":"<p>\u5177\u4f53\u53ef\u4ee5\u770b\u6211\u7684\u6587\u4ef6\uff0c\u4e0d\u8d34\u51fa\u6765\u4e86</p>"},{"location":"zephyr/2.zephyr%E5%88%9B%E5%BB%BAboards/3.zephyr%E5%88%9B%E5%BB%BA%E8%87%AA%E5%B7%B1%E7%9A%84board_stm32h750xb/#_4","title":"\u521b\u5efa\u5e94\u7528","text":"<p>\u7f16\u8bd1\u793a\u4f8bdemo\u662f\u4f7f\u7528  samples\\basic\\blinky\uff0c\u521b\u5efa\u4e00\u4e2a\u81ea\u5df1\u7684\u9879\u76ee\u653e\u5728\u90a3\u91cc\uff1f</p> <p>\u4e00\u822c\u6765\u8bf4\u653e\u5728 zephyr\u7684\u540c\u7ea7\u76ee\u5f55\uff0c zephyr\u53ef\u4ee5\u66f4\u65b0\u5230\u6700\u65b0\u7248\uff0c\u4e0d\u5f71\u54cd\u81ea\u5df1\u7684\u5e94\u7528\uff0c\u5982\u4e0b\uff0c\u521b\u5efa\u4e00\u4e2a\u9879\u76ee\u6587\u4ef6\u5939art_pi_app</p> <p></p> <p>\u5c06blinky\u76ee\u5f55\u4e0b\u7684\u6240\u6709\u6587\u4ef6\u62f7\u8d1d\u8fc7\u6765\uff0c\u5c0f\u6539\u4e00\u4e0bdts\u6587\u4ef6 \u5373\u53ef\uff0c\u5f53\u524d\u4e3b\u8981\u662fLED\u7684\u9002\u914d\u4e0euart\u9002\u914d\u5177\u4f53\u53ef\u770b\u6e90\u7801</p> <p>\u7f16\u8bd1\uff1a</p> <pre><code>west build -p always -b art_pi ..\\art_pi_app\n\nwest build -p always -b art_pi samples\\basic\\blinky\n</code></pre> <p>.. \u8868\u793a\u4e0a\u4e00\u7ea7\u76ee\u5f55</p> <p></p> <p>\u81f3\u6b64\u7f16\u8bd1\u5b8c\u6210\uff0c\u70b9\u4eae\u4e00\u4e2aled\u9700\u8981\u9075\u5faa blinky \u5bf9\u8bbe\u5907\u6811\u7684\u63cf\u8ff0\uff0c\u5f53\u524d\u4f7f\u7528STM32CubeProgrammer \u4e0b\u8f7dbin\u6587\u4ef6\uff0c\u70e7\u5f55\u540e\u7cfb\u7edf\u65e0\u53cd\u5e94\uff0c\u4e0b\u4e00\u8282\u89e3\u51b3</p>"},{"location":"zephyr/2.zephyr%E5%88%9B%E5%BB%BAboards/4.zephyr%E5%88%9B%E5%BB%BA%E8%87%AA%E5%B7%B1%E7%9A%84board%E8%BF%90%E8%A1%8C%E4%B8%8D%E8%B5%B7%E6%9D%A5%E8%A7%A3%E5%86%B3/","title":"4.zephyr\u521b\u5efa\u81ea\u5df1\u7684board\u8fd0\u884c\u4e0d\u8d77\u6765\u89e3\u51b3","text":"<p>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510 \u2502 \u7cfb\u7edf\u4e0d\u8fd0\u884c\uff1f  \u2502 \u2514\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518      \u25bc   \ud83d\udd53 \u65f6\u949f\u5931\u8d25     \u2514\u2500\u25b6 HSE\u672a\u8d77\u632f\uff1fbypass\u914d\u7f6e\u9519\uff1f      \u25bc   \ud83e\udded \u542f\u52a8\u5730\u5740\u9519\u8bef     \u2514\u2500\u25b6 FLASH\u5730\u5740\u4e0d\u5bf9\uff1fLinker\u4e0eDTS\u4e0d\u5339\u914d\uff1fBOOT0\u672a\u62c9\u4f4e\uff1f      \u25bc   \ud83d\udd0c \u7535\u6e90/\u590d\u4f4d\u95ee\u9898     \u2514\u2500\u25b6 BOOT\u5f15\u811a\u63a5\u6cd5\u9519\u8bef\uff1f\u4f9b\u7535\u4e0d\u8db3\uff1f\u590d\u4f4d\u5f15\u811a\u60ac\u7a7a\uff1f</p> <p>\u5982\u679c Zephyr \u7a0b\u5e8f\u70e7\u5f55\u6210\u529f\u5374\u4e0d\u8fd0\u884c\uff0c99% \u662f\u56e0\u4e3a HSE \u65f6\u949f\u914d\u7f6e\u5931\u8d25\u3001Flash\u542f\u52a8\u5730\u5740\u9519\u8bef\u6216 BOOT0 \u5f15\u811a\u62c9\u9ad8\u8fdb\u5165\u4e86 Bootloader\uff0c\u5efa\u8bae\u9010\u4e00\u9a8c\u8bc1\u65f6\u949f\u8f93\u5165\u3001\u542f\u52a8\u5185\u5b58\u3001\u5f15\u811a\u914d\u7f6e\uff0c\u5e76\u4f7f\u7528 UART \u8f93\u51fa\u8f85\u52a9\u8c03\u8bd5\u3002</p> <ul> <li>\u6700\u7ec8\u53d1\u73b0\u662f\u65f6\u949f\u7684\u95ee\u9898   \u901a\u8fc7\u4fee\u6539\u65f6\u949f\u6765\u89e3\u51b3\u7cfb\u7edf\u4e0d\u8fd0\u884c</li> </ul>"},{"location":"zephyr/3.zephyr%E9%80%9A%E7%94%A8%E5%9F%BA%E7%A1%80/10.linux%E4%B8%8Bcubeprogrammer%E5%AE%89%E8%A3%85%E5%B9%B6%E6%B7%BB%E5%8A%A0%E5%88%B0%E7%8E%AF%E5%A2%83%E5%8F%98%E9%87%8F/","title":"linux\u4e0bcube Programmer\u5b89\u88c5\u5e76\u6dfb\u52a0\u5230\u73af\u5883\u53d8\u91cf","text":""},{"location":"zephyr/3.zephyr%E9%80%9A%E7%94%A8%E5%9F%BA%E7%A1%80/10.linux%E4%B8%8Bcubeprogrammer%E5%AE%89%E8%A3%85%E5%B9%B6%E6%B7%BB%E5%8A%A0%E5%88%B0%E7%8E%AF%E5%A2%83%E5%8F%98%E9%87%8F/#linuxcube-programmer","title":"linux\u4e0bcube Programmer\u5b89\u88c5\u5e76\u6dfb\u52a0\u5230\u73af\u5883\u53d8\u91cf","text":"<p>\u4e0b\u8f7d\u538b\u7f29\u5305 stm32cubeprg-lin-v2-20-0.zip</p> <p>\u89e3\u538b\u540e</p> <p></p>"},{"location":"zephyr/3.zephyr%E9%80%9A%E7%94%A8%E5%9F%BA%E7%A1%80/10.linux%E4%B8%8Bcubeprogrammer%E5%AE%89%E8%A3%85%E5%B9%B6%E6%B7%BB%E5%8A%A0%E5%88%B0%E7%8E%AF%E5%A2%83%E5%8F%98%E9%87%8F/#_1","title":"\u7ed9\u6743\u9650","text":"<pre><code>sudo chmod 775 SetupSTM32CubeProgrammer-2.20.0.linux\nsudo chmod 775 -R jre\n</code></pre>"},{"location":"zephyr/3.zephyr%E9%80%9A%E7%94%A8%E5%9F%BA%E7%A1%80/10.linux%E4%B8%8Bcubeprogrammer%E5%AE%89%E8%A3%85%E5%B9%B6%E6%B7%BB%E5%8A%A0%E5%88%B0%E7%8E%AF%E5%A2%83%E5%8F%98%E9%87%8F/#_2","title":"\u5b89\u88c5","text":"<pre><code>sudo ./SetupSTM32CubeProgrammer-2.20.0.linux\n</code></pre> <p>\u4e00\u8def\u5b89\u88c5\u9009 1 \u6216\u8005 Y ,\u73af\u5883\u53d8\u91cf\u8bbe\u7f6e\u76f4\u63a5\u56de\u8f66\uff0c\u9ed8\u8ba4\u8def\u5f84</p> <pre><code>/usr/local/STMicroelectronics/STM32Cube/STM32CubeProgrammer/\n</code></pre>"},{"location":"zephyr/3.zephyr%E9%80%9A%E7%94%A8%E5%9F%BA%E7%A1%80/10.linux%E4%B8%8Bcubeprogrammer%E5%AE%89%E8%A3%85%E5%B9%B6%E6%B7%BB%E5%8A%A0%E5%88%B0%E7%8E%AF%E5%A2%83%E5%8F%98%E9%87%8F/#_3","title":"\u9a8c\u8bc1\u662f\u5426\u5b89\u88c5\u6210\u529f","text":"<pre><code>/usr/local/STMicroelectronics/STM32Cube/STM32CubeProgrammer/bin/STM32_Programmer_CLI --version\n</code></pre>"},{"location":"zephyr/3.zephyr%E9%80%9A%E7%94%A8%E5%9F%BA%E7%A1%80/10.linux%E4%B8%8Bcubeprogrammer%E5%AE%89%E8%A3%85%E5%B9%B6%E6%B7%BB%E5%8A%A0%E5%88%B0%E7%8E%AF%E5%A2%83%E5%8F%98%E9%87%8F/#_4","title":"\u6dfb\u52a0\u5230\u7528\u6237\u7684\u73af\u5883\u53d8\u91cf\uff08\u6c38\u4e45\u6dfb\u52a0\uff09","text":"<p>\u6bcf\u4e2a\u7528\u6237\u90fd\u6709\u7684\u73af\u5883\u53d8\u91cf\u914d\u7f6e\u6587\u4ef6</p> <pre><code>~/.bashrc\n</code></pre> <p></p> <p>\u7f16\u8f91 <code>~/.bashrc</code> \u6587\u4ef6\uff0c\u5728\u672b\u5c3e\u52a0\u4e00\u884c\uff1a</p> <pre><code>export PATH=$PATH:/usr/local/STMicroelectronics/STM32Cube/STM32CubeProgrammer/bin\n</code></pre> <p>\u7136\u540e\u4f7f\u5176\u751f\u6548\uff1a</p> <pre><code>source ~/.bashrc\n</code></pre> <p>\u65b0\u6253\u5f00\u4e00\u4e2a\u7ec8\u7aef\uff0c\u9a8c\u8bc1</p> <pre><code>STM32_Programmer_CLI --version\n</code></pre> <p></p>"},{"location":"zephyr/3.zephyr%E9%80%9A%E7%94%A8%E5%9F%BA%E7%A1%80/11.linux%E4%B8%8Bcubeprogrammer%E4%B8%8B%E8%BD%BD%E9%97%AE%E9%A2%98/","title":"linux\u4e0b\u4f7f\u7528cubeprogrammer\u4e0b\u8f7d\u95ee\u9898","text":""},{"location":"zephyr/3.zephyr%E9%80%9A%E7%94%A8%E5%9F%BA%E7%A1%80/11.linux%E4%B8%8Bcubeprogrammer%E4%B8%8B%E8%BD%BD%E9%97%AE%E9%A2%98/#linuxcubeprogrammer","title":"linux\u4e0b\u4f7f\u7528cubeprogrammer\u4e0b\u8f7d\u95ee\u9898","text":"<ul> <li>STM32CubeProgrammer/STM32 ST-LINK \u5728 Linux \u4e0b\u5e38\u89c1\u7684\u201c\u65e0\u6743\u9650\u8bbf\u95ee USB \u8bbe\u5907\u8282\u70b9\u201d\u95ee\u9898</li> </ul> <pre><code>hdj@hdj-virtual-machine:~/zephyrproject/zephyr$ sudo west flash\n[sudo] password for hdj: \nsudo: west: command not found\nhdj@hdj-virtual-machine:~/zephyrproject/zephyr$ west flash\n-- west flash: rebuilding\nninja: no work to do.\n-- west flash: using runner stm32cubeprogrammer\n      -------------------------------------------------------------------\n                        STM32CubeProgrammer v2.20.0                  \n      -------------------------------------------------------------------\n\nlibusb: error [get_usbfs_fd] libusb couldn't open USB device /dev/bus/usb/002/004, errno=13\nlibusb: error [get_usbfs_fd] libusb requires write access to USB device nodes\nlibusb: error [get_usbfs_fd] libusb couldn't open USB device /dev/bus/usb/002/004, errno=13\nlibusb: error [get_usbfs_fd] libusb requires write access to USB device nodes\nlibusb: error [get_usbfs_fd] libusb couldn't open USB device /dev/bus/usb/002/004, errno=13\nlibusb: error [get_usbfs_fd] libusb requires write access to USB device nodes\nlibusb: error [get_usbfs_fd] libusb couldn't open USB device /dev/bus/usb/002/004, errno=13\nlibusb: error [get_usbfs_fd] libusb requires write access to USB device nodes\nlibusb: error [get_usbfs_fd] libusb couldn't open USB device /dev/bus/usb/002/004, errno=13\nlibusb: error [get_usbfs_fd] libusb requires write access to USB device nodes\nlibusb: error [get_usbfs_fd] libusb couldn't open USB device /dev/bus/usb/002/004, errno=13\nlibusb: error [get_usbfs_fd] libusb requires write access to USB device nodes\nlibusb: error [get_usbfs_fd] libusb couldn't open USB device /dev/bus/usb/002/004, errno=13\nlibusb: error [get_usbfs_fd] libusb requires write access to USB device nodes\nlibusb: error [get_usbfs_fd] libusb couldn't open USB device /dev/bus/usb/002/004, errno=13\nlibusb: error [get_usbfs_fd] libusb requires write access to USB device nodes\nlibusb: error [get_usbfs_fd] libusb couldn't open USB device /dev/bus/usb/002/004, errno=13\nlibusb: error [get_usbfs_fd] libusb requires write access to USB device nodes\nlibusb: error [get_usbfs_fd] libusb couldn't open USB device /dev/bus/usb/002/004, errno=13\nlibusb: error [get_usbfs_fd] libusb requires write access to USB device nodes\nlibusb: error [get_usbfs_fd] libusb couldn't open USB device /dev/bus/usb/002/004, errno=13\nlibusb: error [get_usbfs_fd] libusb requires write access to USB device nodes\nlibusb: error [get_usbfs_fd] libusb couldn't open USB device /dev/bus/usb/002/004, errno=13\nlibusb: error [get_usbfs_fd] libusb requires write access to USB device nodes\nST-LINK error (DEV_CONNECT_ERR)\nFATAL ERROR: command exited with status 1: /usr/local/STMicroelectronics/STM32Cube/STM32CubeProgrammer/bin/STM32_Programmer_CLI --connect 'port=swd reset=HWrst' --download /home/hdj/zephyrproject/zephyr/build/zephyr/zephyr.hex --start\nhdj@hdj-virtual-machine:~/zephyrproject/zephyr$ \n</code></pre>"},{"location":"zephyr/3.zephyr%E9%80%9A%E7%94%A8%E5%9F%BA%E7%A1%80/11.linux%E4%B8%8Bcubeprogrammer%E4%B8%8B%E8%BD%BD%E9%97%AE%E9%A2%98/#udev","title":"udev \u89c4\u5219\u6587\u4ef6\u6765\u6e90","text":"<p>STM32CubeProgrammer \u7684 udev \u89c4\u5219\u6587\u4ef6\u901a\u5e38\u5728\u5b89\u88c5\u8def\u5f84\u4e0b\u7684 <code>Drivers/rules/</code> \u76ee\u5f55\uff0c</p> <pre><code>/usr/local/STMicroelectronics/STM32Cube/STM32CubeProgrammer/Drivers/rules/\n</code></pre> <pre><code>hdj@hdj-virtual-machine:/usr/local/STMicroelectronics/STM32Cube/STM32CubeProgrammer/Drivers/rules$ pwd\n/usr/local/STMicroelectronics/STM32Cube/STM32CubeProgrammer/Drivers/rules\nhdj@hdj-virtual-machine:/usr/local/STMicroelectronics/STM32Cube/STM32CubeProgrammer/Drivers/rules$ ls -al\ntotal 56\ndrwxr-xr-x 2 root root  4096  8\u6708  1 20:06 .\ndrwxr-xr-x 4 root root  4096  8\u6708  1 20:06 ..\n-rw-r--r-- 1 root root   604  7\u6708 19  2024 49-stlinkv2-1.rules\n-rw-r--r-- 1 root root   480  7\u6708 19  2024 49-stlinkv2.rules\n-rw-r--r-- 1 root root   982  7\u6708 19  2024 49-stlinkv3.rules\n-rw-r--r-- 1 root root    97  7\u6708 19  2024 50-usb-conf.rules\n-rw-r--r-- 1 root root 21179  7\u6708 19  2024 99-jlink.rules\n-rw-r--r-- 1 root root   220  7\u6708 19  2024 Readme.txt\n-rw-r--r-- 1 root root     5  7\u6708 19  2024 version.txt\n</code></pre> <p>\u5c06\u8fd9\u4e9b <code>.rules</code> \u6587\u4ef6\u62f7\u8d1d\u5230\u7cfb\u7edf\u7684 udev \u76ee\u5f55\uff08\u901a\u5e38 <code>/etc/udev/rules.d/</code> \u6216 <code>/lib/udev/rules.d/</code>\uff0c\u63a8\u8350\u540e\u8005\uff09</p> <p>\u8fd9\u91cc\u6211\u5168\u90e8\u62f7\u8d1d\u4e86</p> <pre><code>sudo cp /usr/local/STMicroelectronics/STM32Cube/STM32CubeProgrammer/Drivers/rules/*.rules /etc/udev/rules.d/\nsudo cp /usr/local/STMicroelectronics/STM32Cube/STM32CubeProgrammer/Drivers/rules/*.rules /lib/udev/rules.d/\n</code></pre>"},{"location":"zephyr/3.zephyr%E9%80%9A%E7%94%A8%E5%9F%BA%E7%A1%80/11.linux%E4%B8%8Bcubeprogrammer%E4%B8%8B%E8%BD%BD%E9%97%AE%E9%A2%98/#udev_1","title":"\u91cd\u65b0\u52a0\u8f7d udev \u89c4\u5219","text":"<pre><code>sudo udevadm control --reload-rules\nsudo udevadm trigger\n</code></pre>"},{"location":"zephyr/3.zephyr%E9%80%9A%E7%94%A8%E5%9F%BA%E7%A1%80/11.linux%E4%B8%8Bcubeprogrammer%E4%B8%8B%E8%BD%BD%E9%97%AE%E9%A2%98/#st-link-usb","title":"\u62d4\u63d2\u4f60\u7684 ST-LINK \u6216\u5f00\u53d1\u677f\u7684 USB\uff0c\u518d\u5c1d\u8bd5\u4e0b\u8f7d","text":"<pre><code>west flash\n</code></pre> <p>zephyr \u4e0b\u8f7d\u6210\u529f\u65e5\u5fd7</p> <pre><code>hdj@hdj-virtual-machine:~/zephyrproject/zephyr$ west flash\n-- west flash: rebuilding\nninja: no work to do.\n-- west flash: using runner stm32cubeprogrammer\n      -------------------------------------------------------------------\n                        STM32CubeProgrammer v2.20.0                  \n      -------------------------------------------------------------------\n\nST-LINK SN  : 0024001B3033510135393935\nST-LINK FW  : V3J16M7\nBoard       : STM32H7S78-DK\nVoltage     : 3.28V\nSWD freq    : 8000 KHz\nConnect mode: Under Reset\nReset mode  : Hardware reset\nDevice ID   : 0x485\nRevision ID : Rev Y\nDevice name : STM32H7RSxx\nFlash size  : 64 KBytes (default)\nDevice type : MCU\nDevice CPU  : Cortex-M7\nBL Version  : 0xE3\n\n\n\nOpening and parsing file: zephyr.hex\n\n\nMemory Programming ...\n  File          : zephyr.hex\n  Size          : 19.13 KB \n  Address       : 0x08000000\n\n\nErasing memory corresponding to segment 0:\nErasing internal memory sectors [0 2]\nDownload in Progress:\n[==================================================] 100% \n\nFile download complete\nTime elapsed during download operation: 00:00:00.529\n\nRUNNING Program ... \n  Address:      : 0x8000000\nApplication is running, Please Hold on...\nStart operation achieved successfully\n</code></pre> <p>\u53c2\u8003</p> <p>https://community.st.com/t5/stm32cubeprogrammer-mcus/error-connecting-with-st-link-in-linux/m-p/691460#M6688</p>"},{"location":"zephyr/3.zephyr%E9%80%9A%E7%94%A8%E5%9F%BA%E7%A1%80/12.zephyr%E7%BC%96%E8%AF%91%E5%91%BD%E4%BB%A4/","title":"zephyr\u7f16\u8bd1\u547d\u4ee4","text":""},{"location":"zephyr/3.zephyr%E9%80%9A%E7%94%A8%E5%9F%BA%E7%A1%80/12.zephyr%E7%BC%96%E8%AF%91%E5%91%BD%E4%BB%A4/#zephyr","title":"zephyr\u7f16\u8bd1\u547d\u4ee4","text":""},{"location":"zephyr/3.zephyr%E9%80%9A%E7%94%A8%E5%9F%BA%E7%A1%80/12.zephyr%E7%BC%96%E8%AF%91%E5%91%BD%E4%BB%A4/#demo","title":"\u7f16\u8bd1\u652f\u6301\u7684\u677f\u4e0edemo","text":"<p>\u5728zephyr\u76ee\u5f55\u4e0b\u7f16\u8bd1\u547d\u4ee4</p> <pre><code>west build -p always -b &lt;your-board-name&gt; samples/basic/blinky\n</code></pre> <ul> <li>\u66ff\u6362\u4e3a\u652f\u6301\u7684\u5f00\u53d1\u677f</li> <li>samples/basic/blinky \u4e3a\u7f16\u8bd1\u7684demo</li> <li>\u67e5\u627e\u652f\u6301\u7684\u5f00\u53d1\u677f</li> </ul> <pre><code>west boards\n</code></pre> <p>\u6bd4\u5982\u7f16\u8bd1stm32h7s78_dk\u5f00\u53d1\u677f \u7684  samples/basic/blinky   </p> <pre><code>west build -p always -b stm32h7s78_dk samples/basic/blinky\n</code></pre>"},{"location":"zephyr/3.zephyr%E9%80%9A%E7%94%A8%E5%9F%BA%E7%A1%80/12.zephyr%E7%BC%96%E8%AF%91%E5%91%BD%E4%BB%A4/#demo_1","title":"\u7f16\u8bd1\u81ea\u5df1\u7684\u677f\u4e0edemo","text":"<p>\u521b\u5efa\u6587\u4ef6\u5939\uff0ch7s78-dk-example \u518d\u521b\u5efa\u4e00\u4e2a\u5b50\u76ee\u5f55boards</p> <p></p>"},{"location":"zephyr/3.zephyr%E9%80%9A%E7%94%A8%E5%9F%BA%E7%A1%80/12.zephyr%E7%BC%96%E8%AF%91%E5%91%BD%E4%BB%A4/#boards","title":"\u6dfb\u52a0\u81ea\u5df1\u7684boards","text":"<p>\u590d\u5236\u6b64\u76ee\u5f55\u4e0b\u7684 stm32h7s78_dk \u5230 h7s78-dk-example\\boards\u76ee\u5f55\u4e0b </p> <p></p> <p></p>"},{"location":"zephyr/3.zephyr%E9%80%9A%E7%94%A8%E5%9F%BA%E7%A1%80/12.zephyr%E7%BC%96%E8%AF%91%E5%91%BD%E4%BB%A4/#demo_2","title":"\u6dfb\u52a0\u81ea\u5df1\u7684demo","text":"<p>\u5c06zephyrproject\\zephyr\\samples\\basic\u8def\u5f84\u4e0b\u7684blinky \u76ee\u5f55\u590d\u5236\u5230zephyrproject\\h7s78-dk-example \u5e76\u91cd\u547d\u540d\u4e3a1.blinky</p> <p></p> <p></p> <p>\u73b0\u5728\u6709\u4e86\u81ea\u5df1\u7684boards\uff0c\u7531\u4e8e\u6211\u4eec\u7684boards\u4e0e\u5b98\u65b9\u7684\u4e00\u81f4\uff0c\u7f16\u8bd1\u4f1a\u6709\u9519\u8bef\uff0c\u4e0b\u4e00\u8282\u66f4\u6539\u81ea\u5df1\u7684boards</p>"},{"location":"zephyr/3.zephyr%E9%80%9A%E7%94%A8%E5%9F%BA%E7%A1%80/13.zephyr%E5%88%9B%E5%BB%BA%E8%87%AA%E5%B7%B1%E7%9A%84board/","title":"zephyr\u521b\u5efa\u81ea\u5df1\u7684board","text":""},{"location":"zephyr/3.zephyr%E9%80%9A%E7%94%A8%E5%9F%BA%E7%A1%80/13.zephyr%E5%88%9B%E5%BB%BA%E8%87%AA%E5%B7%B1%E7%9A%84board/#zephyrboard","title":"zephyr\u521b\u5efa\u81ea\u5df1\u7684board","text":"<p>\u53c2\u8003\u5b98\u65b9\u8bf4\u660e https://docs.zephyrproject.org/latest/hardware/porting/board_porting.html#board-porting-guide</p> <p>\u4e0a\u4e00\u8282\u5728\u539fzephyr\u5de5\u7a0b\u4e2d\u521b\u5efa\u4e86\u4e00\u4e2a\u81ea\u5df1\u7684\u76ee\u5f55\u4ee5\u4fbf\u5f00\u53d1</p> <ul> <li>\u67e5\u627e\u81ea\u5df1mcu\u662f\u5426\u652f\u6301zephyr https://docs.zephyrproject.org/latest/boards/index.html#    </li> <li>\u6216\u8005\u5728zephyr\u7684boards\u76ee\u5f55\u4e2d\u67e5\u770b</li> <li>\u76ee\u524d\u4e3b\u8981\u652f\u6301 nordic  ST \u4ee5\u53caNXP\uff0cintel \u745e\u8428    \u8046\u601d\u79d1\u6280\u8981\u53bb\u5b98\u7f51\u4e0b\u8f7d\u4ed6\u4eec\u7684sdk   nordic\u5b8c\u5168\u652f\u6301zephyr\u4e86\uff0c\u4e5f\u662f\u8981\u53bb\u5b98\u7f51\u4e0b\u8f7d\u4ed6\u4eec\u7684sdk</li> <li>\u56fd\u4ea7\u82af\u7247\u5382\u5927\u591a\u6570\u90fd\u6ca1\u6709</li> </ul> <p></p> <p>\u6211\u4f7f\u7528\u7684\u662fstm32h7s78-dk,\u5728boards\u5185\u6709\u652f\u6301\uff0c\u6240\u4ee5\u76f4\u63a5\u4f7f\u7528\u5c31\u597d\u4e86\uff0c\u53ea\u9700\u8981\u66f4\u6539\u4e00\u4e0b\u540d\u5b57\u5c31\u597d\u4e86</p> <p>\u4e00\u822c\u6765\u8bf4\u9002\u914d\u81ea\u5df1\u7684boards\u9996\u5148\u770b\u82af\u7247\u6709\u6ca1\u6709\u652f\u6301\uff0c\u6709\u652f\u6301\u518d\u627e\u540c\u6837\u82af\u7247\u7684board\u6216\u8005\u76f8\u8fd1\u4f3c\u7684board\uff0c\u66f4\u6539\u540d\u5b57\u4ee5\u53ca\u8bbe\u5907\u6811</p> <p>\u4e3b\u677f\u76ee\u5f55\u540d\u65e0\u9700\u4e0e\u4e3b\u677f\u540d\u79f0\u4e00\u81f4\u3002\u751a\u81f3\u53ef\u4ee5\u5c06\u591a\u4e2a\u4e3b\u677f\u5b9a\u4e49\u5728\u4e00\u4e2a\u76ee\u5f55\u4e2d</p> <p>board \u76ee\u5f55\u5e94\u5982\u4e0b\u6240\u793a\uff1a</p> <pre><code>boards/&lt;VENDOR&gt;/plank\n\u251c\u2500\u2500 board.yml\n\u251c\u2500\u2500 board.cmake\n\u251c\u2500\u2500 CMakeLists.txt\n\u251c\u2500\u2500 doc\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 plank.webp\n\u2502\u00a0\u00a0 \u2514\u2500\u2500 index.rst\n\u251c\u2500\u2500 Kconfig.plank\n\u251c\u2500\u2500 Kconfig.defconfig\n\u251c\u2500\u2500 plank_&lt;qualifiers&gt;_defconfig\n\u251c\u2500\u2500 plank_&lt;qualifiers&gt;.dts\n\u2514\u2500\u2500 plank_&lt;qualifiers&gt;.yaml\n</code></pre> <p>\u5fc5\u9700\u7684\u6587\u4ef6\u5305\u62ec\uff1a</p> <ol> <li><code>board.yml</code>\uff1a\u4e00\u4e2a YAML \u6587\u4ef6\uff0c\u7528\u4e8e\u63cf\u8ff0\u5f00\u53d1\u677f\u7684\u9ad8\u7ea7\u5143\u6570\u636e\uff0c\u4f8b\u5982\u5f00\u53d1\u677f\u540d\u79f0\u3001SoC \u53ca\u5176\u53d8\u4f53\u3002\u591a\u6838 SoC \u7684 CPU \u96c6\u7fa4\u672a\u5728\u6b64\u6587\u4ef6\u4e2d\u63cf\u8ff0\uff0c\u56e0\u4e3a\u5b83\u4eec\u7ee7\u627f\u81ea SoC \u7684 YAML \u63cf\u8ff0\u3002</li> <li><code>plank_&lt;qualifiers&gt;.dts</code>\uff1a\u8bbe\u5907\u6811\u683c\u5f0f\u7684\u786c\u4ef6\u63cf\u8ff0\u3002\u5b83\u58f0\u660e\u4e86\u60a8\u7684 SoC\u3001\u8fde\u63a5\u5668\u4ee5\u53ca\u4efb\u4f55\u5176\u4ed6\u786c\u4ef6\u7ec4\u4ef6\uff0c\u4f8b\u5982 LED\u3001\u6309\u94ae\u3001\u4f20\u611f\u5668\u6216\u901a\u4fe1\u5916\u8bbe\uff08USB\u3001\u84dd\u7259\u63a7\u5236\u5668\u7b49\uff09\u3002</li> <li><code>Kconfig.plank</code>\uff1a\u7528\u4e8e\u9009\u62e9 SoC \u4ee5\u53ca\u5176\u4ed6\u5f00\u53d1\u677f\u548c SoC \u76f8\u5173\u8bbe\u7f6e\u7684\u57fa\u672c\u8f6f\u4ef6\u914d\u7f6e\u3002\u4e0d\u5f97\u9009\u62e9\u5f00\u53d1\u677f\u548c SoC \u6811\u4e4b\u5916\u7684 Kconfig \u8bbe\u7f6e\u3002\u8981\u9009\u62e9\u5e38\u89c4 Zephyr Kconfig \u8bbe\u7f6e\uff0c<code>Kconfig</code>\u5fc5\u987b\u4f7f\u7528\u8be5\u6587\u4ef6\u3002</li> </ol> <p>\u53ef\u9009\u6587\u4ef6\u5305\u62ec\uff1a</p> <ul> <li><code>Kconfig</code>\uff0c\u914d\u7f6e\u7cfb\u7edf (Kconfig)<code>Kconfig.defconfig</code>\u683c\u5f0f\u7684\u8f6f\u4ef6\u914d\u7f6e \u3002\u8fd9\u4e3a\u8f6f\u4ef6\u529f\u80fd\u548c\u5916\u8bbe\u9a71\u52a8\u7a0b\u5e8f\u63d0\u4f9b\u4e86\u9ed8\u8ba4\u8bbe\u7f6e\u3002</li> <li><code>plank_defconfig</code>\u548c<code>plank_&lt;qualifiers&gt;_defconfig</code>\uff1aKconfig \u683c\u5f0f\u7684\u8f6f\u4ef6\u914d\u7f6e<code>.conf</code>\u3002</li> <li><code>board.cmake</code>\uff1a\u7528\u4e8eFlash \u548c\u8c03\u8bd5\u652f\u6301</li> <li><code>CMakeLists.txt</code>\uff1a\u5982\u679c\u60a8\u9700\u8981\u5411\u60a8\u7684\u6784\u5efa\u6dfb\u52a0\u989d\u5916\u7684\u6e90\u6587\u4ef6\u3002</li> <li><code>doc/index.rst</code>\uff0c<code>doc/plank.webp</code>\uff1a\u5f00\u53d1\u677f\u7684\u6587\u6863\u548c\u56fe\u7247\u3002\u53ea\u6709\u5f53\u4f60\u5c06\u5f00\u53d1\u677f\u8d21\u732e\u7ed9 Zephyr \u65f6\u624d\u9700\u8981\u8fd9\u4e9b\u3002</li> <li><code>plank_&lt;qualifiers&gt;.yaml</code>\uff1a\u5305\u542b\u6d4b\u8bd5\u8fd0\u884c\u5668\uff08Twister\uff09\u4f7f\u7528\u7684\u5404\u79cd\u5143\u6570\u636e\u7684 YAML \u6587\u4ef6\u3002</li> </ul> <p>\u5f62\u5f0f\u4e3a \u7684\u677f\u9650\u5b9a\u7b26<code>&lt;soc&gt;/&lt;cpucluster&gt;/&lt;variant&gt;</code>\u88ab\u89c4\u8303\u5316\uff0c\u4ee5\u4fbf\u5728\u7528\u4e8e\u6587\u4ef6\u540d\u65f6<code>/</code>\u88ab\u66ff\u6362\u4e3a<code>_</code>\uff0c\u4f8b\u5982\uff1a \u5728\u7528\u4e8e\u6587\u4ef6\u540d\u65f6<code>soc1/foo</code>\u53d8\u4e3a\u3002<code>soc1_foo</code></p>"},{"location":"zephyr/3.zephyr%E9%80%9A%E7%94%A8%E5%9F%BA%E7%A1%80/13.zephyr%E5%88%9B%E5%BB%BA%E8%87%AA%E5%B7%B1%E7%9A%84board/#1board","title":"1.\u66f4\u6539board\u6587\u4ef6\u540d\u5b57","text":"<p>\u66f4\u6539board\u540d\u5b57\uff0c\u867d\u7136\u53ef\u4ee5\u4e0e\u76ee\u5f55\u4e0d\u4e00\u81f4\uff0c\u4f46\u662f\u4e3a\u4e86\u65b9\u4fbf\u67e5\u627e\uff0c\u6700\u597d\u8fd8\u662f\u4e00\u81f4\u5427</p>"},{"location":"zephyr/3.zephyr%E9%80%9A%E7%94%A8%E5%9F%BA%E7%A1%80/13.zephyr%E5%88%9B%E5%BB%BA%E8%87%AA%E5%B7%B1%E7%9A%84board/#2boardyml","title":"2.\u66f4\u6539board.yml\u6587\u4ef6","text":"<p>\u539f\u6587\u4ef6</p> <pre><code>board:\n  name: stm32h7s78_dk\n  full_name: STM32H7S78-DK Discovery\n  vendor: st\n  socs:\n    - name: stm32h7s7xx\n</code></pre> <p>\u66f4\u6539\u540e</p> <ul> <li>\u66f4\u6539 name: h7s78</li> </ul> <pre><code>board:\n  name: h7s78\n  full_name: STM32H7S78-DK Discovery\n  vendor: st\n  socs:\n    - name: stm32h7s7xx\n</code></pre>"},{"location":"zephyr/3.zephyr%E9%80%9A%E7%94%A8%E5%9F%BA%E7%A1%80/13.zephyr%E5%88%9B%E5%BB%BA%E8%87%AA%E5%B7%B1%E7%9A%84board/#3-h7s78yaml","title":"3.\u66f4\u6539 h7s78.yaml","text":"<p>\u66f4\u6539\u524d</p> <pre><code>identifier: stm32h7s78_dk\nname: ST STM32H7S78 Discovery Kit\ntype: mcu\narch: arm\ntoolchain:\n  - zephyr\nram: 640\nflash: 64\nsupported:\n  - arduino_gpio\n  - gpio\n  - uart\n  - watchdog\n  - entropy\n  - adc\n  - octospi\n  - usbd\n  - memc\nvendor: st\n</code></pre> <p>\u66f4\u6539\u540e</p> <ul> <li>\u66f4\u6539 identifier: h7s78</li> </ul> <pre><code>identifier: h7s78\nname: ST STM32H7S78 Discovery Kit\ntype: mcu\narch: arm\ntoolchain:\n  - zephyr\nram: 640\nflash: 64\nsupported:\n  - arduino_gpio\n  - gpio\n  - uart\n  - watchdog\n  - entropy\n  - adc\n  - octospi\n  - usbd\n  - memc\nvendor: st\n</code></pre>"},{"location":"zephyr/3.zephyr%E9%80%9A%E7%94%A8%E5%9F%BA%E7%A1%80/13.zephyr%E5%88%9B%E5%BB%BA%E8%87%AA%E5%B7%B1%E7%9A%84board/#4kconfigdefconfig","title":"4.\u66f4\u6539Kconfig.defconfig","text":"<p>\u66f4\u6539\u524d</p> <pre><code># STM32H7S78 DISCOVERY KIT board configuration\n#\n# Copyright (c) 2024 STMicroelectronics\n#\n# SPDX-License-Identifier: Apache-2.0\n#\n\nif BOARD_STM32H7S78_DK\n\nif NETWORKING\n\nconfig NET_L2_ETHERNET\n    default y\n\nendif # NETWORKING\n\nendif # BOARD_STM32H7S78_DK\n</code></pre> <p>\u66f4\u6539\u540e</p> <pre><code># STM32H7S78 DISCOVERY KIT board configuration\n#\n# Copyright (c) 2024 STMicroelectronics\n#\n# SPDX-License-Identifier: Apache-2.0\n#\n\nif BOARD_H7S78\n\nif NETWORKING\n\nconfig NET_L2_ETHERNET\n    default y\n\nendif # NETWORKING\n\nendif # BOARD_H7S78\n</code></pre>"},{"location":"zephyr/3.zephyr%E9%80%9A%E7%94%A8%E5%9F%BA%E7%A1%80/13.zephyr%E5%88%9B%E5%BB%BA%E8%87%AA%E5%B7%B1%E7%9A%84board/#5kconfigh7s78","title":"5.\u66f4\u6539Kconfig.h7s78","text":"<p>\u66f4\u6539\u524d</p> <pre><code># STM32H7S78-DK Discovery kit board configuration\n#\n# Copyright (c) 2024 STMicroelectronics\n#\n# SPDX-License-Identifier: Apache-2.0\n#\n\nconfig BOARD_STM32H7S78_DK\n    select SOC_STM32H7S7XX\n</code></pre> <p>\u66f4\u6539\u540e</p> <pre><code># STM32H7S78-DK Discovery kit board configuration\n#\n# Copyright (c) 2024 STMicroelectronics\n#\n# SPDX-License-Identifier: Apache-2.0\n#\n\nconfig BOARD_H7S78\n    select SOC_STM32H7S7XX\n</code></pre>"},{"location":"zephyr/3.zephyr%E9%80%9A%E7%94%A8%E5%9F%BA%E7%A1%80/13.zephyr%E5%88%9B%E5%BB%BA%E8%87%AA%E5%B7%B1%E7%9A%84board/#_1","title":"\u7f16\u8bd1\u547d\u4ee4","text":"<ul> <li>\u5728\u54ea\u4e00\u4e2a\u76ee\u5f55\u7f16\u8bd1\u5c31\u4f1a\u5c06\u7f16\u8bd1\u7684\u4fe1\u606f\u751f\u6210\u5230\u8be5\u76ee\u5f55</li> </ul> <p>zephyrproject/h7s78-dk-example \u76ee\u5f55\u4e0b   \uff08\u6b64\u5904\u6700\u597d\u4f7f\u7528\u7edd\u5bf9\u8def\u5f84\u6765\u5236\u5b9aboards\uff09 </p> <pre><code> west build -p always -b h7s78 1.blinky -DBOARD_ROOT=/home/hdj/zephyrproject/h7s78-dk-example\n</code></pre> <p></p> <p>zephyrproject/h7s78-dk-example/1.blinky \u76ee\u5f55</p> <pre><code>west build -p always -b h7s78 ../1.blinky -DBOARD_ROOT=/home/hdj/zephyrproject/h7s78-dk-example\n</code></pre>"},{"location":"zephyr/3.zephyr%E9%80%9A%E7%94%A8%E5%9F%BA%E7%A1%80/14.ubuntu%E4%B8%8A%E6%9F%A5%E7%9C%8B%E4%B8%B2%E5%8F%A3%E4%BF%A1%E6%81%AF/","title":"14.ubuntu\u4e0a\u67e5\u770b\u4e32\u53e3\u4fe1\u606f","text":"<p>west flash\u540e\u8981\u67e5\u770b\u4e32\u53e3\u4fe1\u606f</p> <pre><code># \u627e\u5230\u4e32\u53e3\u540d\nls /dev/ttyUSB* /dev/ttyACM*\n\n# \u7528 picocom \u6253\u5f00\uff08115200 \u6ce2\u7279\u7387\uff09\npicocom -b 115200 /dev/ttyACM0\n</code></pre> <p>\u9000\u51fa</p> <p><code>picocom</code> \u9000\u51fa\u7684\u65b9\u6cd5\u662f\u6309 <code>Ctrl</code> + <code>A</code>\uff0c\u7136\u540e\u6309 <code>Ctrl</code> + <code>X</code>\u3002</p> <p>\u5177\u4f53\u6d41\u7a0b\uff1a</p> <ol> <li>\u5728 <code>picocom</code> \u8fd0\u884c\u754c\u9762\u540c\u65f6\u6309\u4e0b Ctrl + A\uff08\u8fdb\u5165\u547d\u4ee4\u6a21\u5f0f\uff09\uff1b</li> <li>\u677e\u5f00\u540e\u518d\u6309 Ctrl + X\uff08\u9000\u51fa\u547d\u4ee4\u6a21\u5f0f\u5e76\u5173\u95ed\u4e32\u53e3\uff09\uff1b</li> <li>\u7ec8\u7aef\u4f1a\u56de\u5230\u4f60\u7684 shell \u63d0\u793a\u7b26\u3002</li> </ol> <p>\u53e6\u5916\u51e0\u4e2a\u5e38\u7528\u7684 <code>picocom</code> \u5feb\u6377\u952e\uff1a</p> <ul> <li>Ctrl + A, Ctrl + Q \u2192 \u6302\u8d77\u4e32\u53e3\uff0c\u4e0d\u9000\u51fa</li> <li>Ctrl + A, Ctrl + Z \u2192 \u5e2e\u52a9\u83dc\u5355</li> <li>Ctrl + A, Ctrl + X \u2192 \u9000\u51fa\u5e76\u5173\u95ed\u8bbe\u5907</li> </ul>"},{"location":"zephyr/3.zephyr%E9%80%9A%E7%94%A8%E5%9F%BA%E7%A1%80/15.zephyr%E4%B8%AD%E5%A6%82%E4%BD%95%E5%BF%AB%E9%80%9F%E6%89%BE%E5%88%B0%E5%AE%8F%E5%AE%9A%E4%B9%89%E9%85%8D%E7%BD%AE/","title":"15.zephyr\u4e2d\u5982\u4f55\u5feb\u901f\u627e\u5230\u5b8f\u5b9a\u4e49\u914d\u7f6e","text":"<p>\u62ff\u6587\u4ef6\u7cfb\u7edf\u6765\u8bf4\uff0c</p> <ul> <li>\u67e5\u770b\u6587\u4ef6\u7cfb\u7edf\u7684kconfig\u6587\u4ef6 \uff08\u6700\u76f4\u63a5\uff09</li> <li>\u770b\u6587\u4ef6\u7cfb\u7edf\u7684cmake\u6587\u4ef6</li> <li>\u770b\u5b50\u7cfb\u7edf\u7684\u6d4b\u8bd5\uff08\u4f7f\u7528\u65f6\u53ef\u4ee5\u53c2\u8003\uff09\uff08\u5c5e\u4e8e Zephyr \u7684\u81ea\u52a8\u5316\u6d4b\u8bd5\u7528\u4f8b \u914d\u7f6e\u6587\u4ef6\uff0c\u4e0d\u662f\u666e\u901a\u7684\u793a\u4f8b\uff0c\u7ef4\u62a4\u4eba\u5458\u76f8\u5173\u7684\u6d4b\u8bd5\u3002\uff09</li> </ul> <p></p> <p></p> <p>Z:\\zephyrproject\\zephyr\\subsys\\fs\\CMakeLists.txt</p> <pre><code># SPDX-License-Identifier: Apache-2.0\n\nif(CONFIG_FILE_SYSTEM_LIB_LINK)\n  zephyr_interface_library_named(FS)\n\n  if(CONFIG_FILE_SYSTEM)\n    zephyr_library()\n    zephyr_library_include_directories(${CMAKE_CURRENT_SOURCE_DIR})\n    zephyr_library_sources(fs.c fs_impl.c)\n    zephyr_library_sources_ifdef(CONFIG_FAT_FILESYSTEM_ELM   fat_fs.c)\n    zephyr_library_sources_ifdef(CONFIG_FILE_SYSTEM_LITTLEFS littlefs_fs.c)\n    zephyr_library_sources_ifdef(CONFIG_FILE_SYSTEM_SHELL    shell.c)\n\n    zephyr_library_compile_definitions_ifdef(CONFIG_FILE_SYSTEM_LITTLEFS\n                                            LFS_CONFIG=zephyr_lfs_config.h\n    )\n  endif()\n\n  add_subdirectory_ifdef(CONFIG_FILE_SYSTEM_EXT2 ext2)\n  add_subdirectory_ifdef(CONFIG_FUSE_CLIENT fuse_client)\n  add_subdirectory_ifdef(CONFIG_FILE_SYSTEM_VIRTIOFS virtiofs)\n\n  zephyr_library_link_libraries(FS)\n\n  target_link_libraries_ifdef(CONFIG_FAT_FILESYSTEM_ELM   FS INTERFACE ELMFAT)\n  target_link_libraries_ifdef(CONFIG_FILE_SYSTEM_LITTLEFS FS INTERFACE LITTLEFS)\n  target_link_libraries_ifdef(CONFIG_FILE_SYSTEM_EXT2     FS INTERFACE EXT2)\n  target_link_libraries_ifdef(CONFIG_FUSE_CLIENT          FS INTERFACE FUSE_CLIENT)\n  target_link_libraries_ifdef(CONFIG_FILE_SYSTEM_VIRTIOFS FS INTERFACE VIRTIOFS)\nendif()\n\nadd_subdirectory_ifdef(CONFIG_FCB  ./fcb)\nadd_subdirectory_ifdef(CONFIG_NVS  ./nvs)\nadd_subdirectory_ifdef(CONFIG_ZMS  ./zms)\n\nif(CONFIG_FUSE_FS_ACCESS)\n  zephyr_library_named(FS_FUSE)\n  find_package(PkgConfig REQUIRED)\n  pkg_search_module(FUSE REQUIRED fuse)\n  zephyr_include_directories(${FUSE_INCLUDE_DIRS})\n  target_link_options(native_simulator INTERFACE \"-l${FUSE_LIBRARIES}\")\n  target_sources(native_simulator INTERFACE fuse_fs_access_bottom.c)\n  target_compile_options(native_simulator INTERFACE \"-D_FILE_OFFSET_BITS=64\")\n  zephyr_library_sources(fuse_fs_access.c)\nendif()\n</code></pre> <p><code>subsys/fs/CMakeLists.txt</code> \u5c31\u662f\u7f16\u8bd1\u9636\u6bb5\u6839\u636e <code>CONFIG_...</code> \u9009\u62e9\u54ea\u4e9b\u6e90\u7801\u53c2\u4e0e\u6784\u5efa\u7684\u201c\u603b\u5f00\u5173\u201d\u3002  \u4e0d\u8fc7\u8981\u628a\u5168\u8c8c\u641e\u6e05\u695a\uff0c\u5efa\u8bae\u628a\u4e09\u5904\u4fe1\u606f\u914d\u5408\u8d77\u6765\u770b\uff1a</p>"},{"location":"zephyr/3.zephyr%E9%80%9A%E7%94%A8%E5%9F%BA%E7%A1%80/15.zephyr%E4%B8%AD%E5%A6%82%E4%BD%95%E5%BF%AB%E9%80%9F%E6%89%BE%E5%88%B0%E5%AE%8F%E5%AE%9A%E4%B9%89%E9%85%8D%E7%BD%AE/#1-config_-kconfig","title":"1) \u8c01\u5b9a\u4e49\u8fd9\u4e9b <code>CONFIG_...</code>\uff1f\u2014\u2014\u770b Kconfig","text":"<ul> <li>\u6e90\uff1a<code>subsys/fs/Kconfig</code>\u3001<code>subsys/fs/ext2/Kconfig</code>\u3001<code>modules/fs/fatfs/Kconfig</code>\u3001<code>modules/fs/littlefs/Kconfig</code> \u7b49\u3002</li> <li>\u4f5c\u7528\uff1a\u5b9a\u4e49 <code>CONFIG_FILE_SYSTEM</code>\u3001<code>CONFIG_FAT_FILESYSTEM_ELM</code>\u3001<code>CONFIG_FILE_SYSTEM_LITTLEFS</code>\u3001<code>CONFIG_FILE_SYSTEM_EXT2</code>\u3001<code>CONFIG_FILE_SYSTEM_MKFS</code> \u7b49\u5f00\u5173\u672c\u8eab\uff0c\u4ee5\u53ca\u5b83\u4eec\u7684\u4f9d\u8d56\u548c\u5e2e\u52a9\u6587\u672c\u3002</li> <li>\u5b9e\u7528\u547d\u4ee4\uff1a</li> <li><code>west build -t menuconfig</code>\uff08\u6216 <code>guiconfig</code>\uff09\u4ea4\u4e92\u67e5\u770b/\u5207\u6362</li> <li><code>grep -R \"config FILE_SYSTEM_LITTLEFS\" zephyr/ modules/</code> \u5feb\u901f\u5b9a\u4f4d\u5b9a\u4e49\u5904</li> </ul>"},{"location":"zephyr/3.zephyr%E9%80%9A%E7%94%A8%E5%9F%BA%E7%A1%80/15.zephyr%E4%B8%AD%E5%A6%82%E4%BD%95%E5%BF%AB%E9%80%9F%E6%89%BE%E5%88%B0%E5%AE%8F%E5%AE%9A%E4%B9%89%E9%85%8D%E7%BD%AE/#2-cmakeliststxt","title":"2) \u8fd9\u4e9b\u5f00\u5173\u5982\u4f55\u5f71\u54cd\u7f16\u8bd1\uff1f\u2014\u2014\u770b CMakeLists.txt","text":"<p>\u4f60\u8d34\u7684\u8fd9\u6bb5\u6b63\u662f\u5173\u952e\u903b\u8f91\uff08\u7b80\u5316\u8bf4\u660e\uff09\uff1a</p> <ul> <li><code>zephyr_library_sources_ifdef(CONFIG_FAT_FILESYSTEM_ELM fat_fs.c)</code>    \u2192 \u9009\u4e86 FATFS \u5c31\u628a <code>fat_fs.c</code> \u7f16\u8fdb\u6765</li> <li><code>zephyr_library_sources_ifdef(CONFIG_FILE_SYSTEM_LITTLEFS littlefs_fs.c)</code>    \u2192 \u9009\u4e86 littlefs \u5c31\u628a\u9002\u914d\u5c42\u7f16\u8fdb\u6765</li> <li><code>add_subdirectory_ifdef(CONFIG_FILE_SYSTEM_EXT2 ext2)</code>    \u2192 \u9009\u4e86 ext2 \u5c31\u8fdb\u5165 <code>subsys/fs/ext2/</code> \u5b50\u76ee\u5f55\u7ee7\u7eed\u6784\u5efa</li> <li><code>target_link_libraries_ifdef(CONFIG_FAT_FILESYSTEM_ELM FS INTERFACE ELMFAT)</code>    \u2192 \u9009\u4e86 FATFS \u5c31\u628a ELMFAT \u6a21\u5757\u5e93\u94fe\u63a5\u8fdb\u6765\uff08\u5bf9\u5e94 <code>modules/fatfs/</code>\uff09</li> <li><code>zephyr_library_compile_definitions_ifdef(CONFIG_FILE_SYSTEM_LITTLEFS LFS_CONFIG=zephyr_lfs_config.h)</code>    \u2192 \u7ed9 littlefs \u589e\u52a0\u4e86\u7f16\u8bd1\u5b8f <code>LFS_CONFIG=...</code></li> </ul> <p>\u540c\u6837\u5730\uff0cext2\u3001fatfs\u3001littlefs \u76ee\u5f55\u4e0b\u8fd8\u6709\u5404\u81ea\u7684 <code>CMakeLists.txt</code>\uff0c\u4f1a\u7ee7\u7eed\u7ec6\u5206\u54ea\u4e9b\u6e90\u6587\u4ef6\u88ab\u7f16\u8bd1\u3002</p>"},{"location":"zephyr/3.zephyr%E9%80%9A%E7%94%A8%E5%9F%BA%E7%A1%80/15.zephyr%E4%B8%AD%E5%A6%82%E4%BD%95%E5%BF%AB%E9%80%9F%E6%89%BE%E5%88%B0%E5%AE%8F%E5%AE%9A%E4%B9%89%E9%85%8D%E7%BD%AE/#3","title":"3) \u6700\u7ec8\u54ea\u4e9b\u5f00\u5173\u662f\u201c\u751f\u6548\u201d\u7684\uff1f\u2014\u2014\u770b \u6784\u5efa\u4ea7\u7269","text":"<ul> <li><code>build/zephyr/.config</code>\uff1aKconfig \u7684\u6700\u7ec8\u7ed3\u679c\uff08\u4eba\u8bfb\u6700\u65b9\u4fbf\uff09</li> <li><code>build/zephyr/include/generated/autoconf.h</code>\uff1a\u540c\u6837\u7684\u5f00\u5173\u4ee5 <code>#define CONFIG_xxx</code> \u5f62\u5f0f\u63d0\u4f9b\u7ed9 C \u4ee3\u7801</li> <li>\u60f3\u770b\u7a76\u7adf\u54ea\u4e9b\u6587\u4ef6\u88ab\u7f16\u8bd1\uff1a</li> <li><code>ninja -v</code>\uff08\u5728 build \u76ee\u5f55\uff09\u6253\u5370\u6240\u6709\u7f16\u8bd1\u547d\u4ee4</li> <li>\u6216\u67e5 <code>build/zephyr/compile_commands.json</code></li> </ul>"},{"location":"zephyr/3.zephyr%E9%80%9A%E7%94%A8%E5%9F%BA%E7%A1%80/15.zephyr%E4%B8%AD%E5%A6%82%E4%BD%95%E5%BF%AB%E9%80%9F%E6%89%BE%E5%88%B0%E5%AE%8F%E5%AE%9A%E4%B9%89%E9%85%8D%E7%BD%AE/#_1","title":"\u63a8\u8350\u6392\u67e5/\u7406\u89e3\u5957\u8def","text":"<ol> <li>\u5728\u6e90\u7801\u91cc\u627e\u5230\u8fd9\u4e2a <code>CONFIG_...</code> \u7684 Kconfig \u5b9a\u4e49\uff08\u770b\u4f9d\u8d56/\u9ed8\u8ba4\u503c/\u5e2e\u52a9\uff09\u3002</li> <li>\u5728\u76f8\u5173 CMakeLists.txt \u770b\u5b83\u5982\u4f55\u63a7\u5236 <code>sources_ifdef / add_subdirectory_ifdef / link_libraries_ifdef</code>\u3002</li> <li><code>menuconfig</code> \u91cc\u5207\u6362 \u2192 \u91cd\u65b0\u6784\u5efa\uff0c\u68c0\u67e5 <code>.config</code> \u4e0e <code>ninja -v</code> \u7684\u53d8\u5316\u3002</li> </ol>"},{"location":"zephyr/3.zephyr%E9%80%9A%E7%94%A8%E5%9F%BA%E7%A1%80/15.zephyr%E4%B8%AD%E5%A6%82%E4%BD%95%E5%BF%AB%E9%80%9F%E6%89%BE%E5%88%B0%E5%AE%8F%E5%AE%9A%E4%B9%89%E9%85%8D%E7%BD%AE/#grep","title":"\u5e38\u89c1\u6587\u4ef6\u4f4d\u7f6e\u4e00\u89c8\uff08\u65b9\u4fbf grep\uff09","text":"<ul> <li>FATFS\uff1a<code>modules/fatfs/</code>\uff08ELM FatFs \u4e0a\u6e38\uff09 + <code>zephyr/modules/fatfs/</code>\uff08\u9002\u914d\u5c42\uff09</li> <li>littlefs\uff1a<code>modules/littlefs/</code> + <code>subsys/fs/littlefs_fs.c</code>\uff08\u9002\u914d\u5c42\uff09</li> <li>ext2\uff1a<code>subsys/fs/ext2/</code></li> <li>FS \u6846\u67b6\uff1a<code>subsys/fs/</code>\uff08<code>fs.c</code>, <code>fs_impl.c</code>, Kconfig\uff0c\u603b\u63a7 CMake \u5c31\u5728\u8fd9\u91cc\uff09</li> </ul> <p>\u7b80\u77ed\u7ed3\u8bba\uff1a  Kconfig \u5b9a\u4e49\u201c\u6709\u4ec0\u4e48\u5f00\u5173/\u4f9d\u8d56\u201d\uff0cCMake \u51b3\u5b9a\u201c\u5f00\u5173\u6253\u5f00\u540e\u7f16\u54ea\u4e9b\u6e90/\u8fde\u4ec0\u4e48\u5e93\u201d\uff0c.config/autoconf.h \u53cd\u6620\u201c\u6700\u540e\u54ea\u4e9b\u5f00\u5173\u771f\u7684\u6253\u5f00\u4e86\u201d\u3002\u4f60\u73b0\u5728\u770b CMake \u80fd\u6e05\u695a\u4e86\u89e3\u7f16\u8bd1\u6761\u4ef6\uff0c\u914d\u5408 Kconfig \u548c <code>.config</code> \u5c31\u80fd\u628a\u201c\u4e3a\u4f55\u5982\u6b64\u201d\u4e0e\u201c\u662f\u5426\u751f\u6548\u201d\u4e00\u5e76\u641e\u6e05\u695a\u3002</p>"},{"location":"zephyr/3.zephyr%E9%80%9A%E7%94%A8%E5%9F%BA%E7%A1%80/16.zephyr%E4%B8%AD%E6%88%91%E5%A6%82%E4%BD%95%E7%9F%A5%E9%81%93%E6%9F%90%E4%BA%9B%E6%A8%A1%E5%9D%97%E9%80%82%E7%94%A8%E4%BA%8E%E5%93%AA%E4%BA%9B%E5%85%B7%E4%BD%93%E5%9E%8B%E5%8F%B7%E5%8D%95%E7%89%87%E6%9C%BA/","title":"16.zephyr\u4e2d\u6211\u5982\u4f55\u77e5\u9053\u67d0\u4e9b\u6a21\u5757\u9002\u7528\u4e8e\u54ea\u4e9b\u5177\u4f53\u578b\u53f7\u5355\u7247\u673a","text":""},{"location":"zephyr/3.zephyr%E9%80%9A%E7%94%A8%E5%9F%BA%E7%A1%80/16.zephyr%E4%B8%AD%E6%88%91%E5%A6%82%E4%BD%95%E7%9F%A5%E9%81%93%E6%9F%90%E4%BA%9B%E6%A8%A1%E5%9D%97%E9%80%82%E7%94%A8%E4%BA%8E%E5%93%AA%E4%BA%9B%E5%85%B7%E4%BD%93%E5%9E%8B%E5%8F%B7%E5%8D%95%E7%89%87%E6%9C%BA/#zephyr","title":"zephyr\u4e2d\u6211\u5982\u4f55\u77e5\u9053\u67d0\u4e9b\u6a21\u5757\u9002\u7528\u4e8e\u54ea\u4e9b\u5177\u4f53\u578b\u53f7\u5355\u7247\u673a\uff1f","text":"<ul> <li>\u6bd4\u5982crypto\u4e2d\u7684Kconfig.stm32  \u6211\u5982\u4f55\u77e5\u9053\u54ea\u4e9b\u7cfb\u5217\u53ef\u4ee5\u4f7f\u7528</li> </ul> <p>drivers/crypto/Kconfig.stm32  \u5176\u5b9e\u662f\u5728\u7528 Devicetree \u7684\u201c\u662f\u5426\u5b58\u5728\u5e76\u542f\u7528\u67d0\u5916\u8bbe\u201d \u6765\u51b3\u5b9a\u9a71\u52a8\u662f\u5426\u53c2\u4e0e\u7f16\u8bd1\uff1a</p> <pre><code>depends on DT_HAS_ST_STM32_AES_ENABLED || DT_HAS_ST_STM32_CRYP_ENABLED\n</code></pre> <p>\u4e5f\u5c31\u662f\u8bf4\uff1a\u53ea\u8981\u5f53\u524d SoC \u7684 Devicetree \u91cc\u6709 <code>st,stm32-aes</code> \u6216 <code>st,stm32-cryp</code>\uff08\u4e14 status \u4e3a \"okay\"\uff09\u8fd9\u4e2a\u5916\u8bbe\u8282\u70b9\uff0cSTM32 \u7684 crypto \u9a71\u52a8\u5c31\u4f1a\u542f\u7528\u3002\u6240\u4ee5\u201c\u9002\u7528\u4e8e\u54ea\u4e9b\u5177\u4f53\u578b\u53f7\u5355\u7247\u673a\u201d\uff0c\u672c\u8d28\u4e0a\u770b\u54ea\u4e9b SoC DTS(I) \u5b9a\u4e49\u4e86\u8fd9\u4e9b compatible\u3002</p> <p>\u4e0b\u9762\u6709\u4e09\u4e2a\u5b9e\u7528\u7684\u201c\u5b9a\u4f4d\u65b9\u6cd5\u201d\uff0c\u4ece\u201c\u5168\u5c40\u627e\u7cfb\u5217\u201d\u5230\u201c\u5bf9\u67d0\u5757\u677f\u5b50\u9a8c\u8bc1\u201d\u3002</p>"},{"location":"zephyr/3.zephyr%E9%80%9A%E7%94%A8%E5%9F%BA%E7%A1%80/16.zephyr%E4%B8%AD%E6%88%91%E5%A6%82%E4%BD%95%E7%9F%A5%E9%81%93%E6%9F%90%E4%BA%9B%E6%A8%A1%E5%9D%97%E9%80%82%E7%94%A8%E4%BA%8E%E5%93%AA%E4%BA%9B%E5%85%B7%E4%BD%93%E5%9E%8B%E5%8F%B7%E5%8D%95%E7%89%87%E6%9C%BA/#1-dtsi","title":"\u65b9\u6cd5 1\uff1a\u5168\u5c40\u641c DTS(I) \u770b\u54ea\u4e9b\u7cfb\u5217/\u578b\u53f7\u6709\u8fd9\u4e2a\u5916\u8bbe","text":"<p>\u5728 Zephyr \u5de5\u4f5c\u533a\u91cc\u641c compatible \u51fa\u5904\uff08\u5927\u591a\u5728 ST \u7684 Cube DTSI \u5185\uff0c\u5c11\u91cf\u5728 Zephyr \u7684\u8865\u4e01 DTS \u4e2d\uff09\uff1a</p> <pre><code># \u627e CRYP \u5916\u8bbe\ngit grep -n 'compatible = \"st,stm32-cryp\"' -- dts modules/hal/stm32\n\n# \u627e AES \u5916\u8bbe\ngit grep -n 'compatible = \"st,stm32-aes\"'  -- dts modules/hal/stm32\n\n# \u627e HASH \u5916\u8bbe\ngit grep -n 'compatible = \"st,stm32-hash\"' -- dts modules/hal/stm32\n</code></pre> <p>\u547d\u4e2d\u7684 <code>.dtsi</code> \u8def\u5f84\u540d\u57fa\u672c\u5c31\u5bf9\u5e94\u7cfb\u5217/\u5b50\u7cfb\u5217\uff08\u5982 <code>stm32f4*.dtsi</code>\u3001<code>stm32h7*.dtsi</code> \u7b49\uff09\u3002\u628a\u8fd9\u4e9b\u6587\u4ef6\u540d\u5217\u51fa\u6765\uff0c\u5c31\u5f97\u5230\u201c\u54ea\u4e9b\u7cfb\u5217/\u5177\u4f53 SoC \u5e26\u8be5\u5916\u8bbe\u201d\u3002</p> <p>\u89c4\u5219\u5c0f\u6284\uff1a<code>compatible: \"st,stm32-xxx\"</code> \u2192 \u751f\u6210\u7684 Kconfig \u5b8f\u540d\u5c31\u662f <code>DT_HAS_ST_STM32_XXX_ENABLED</code>\uff08\u8fde\u5b57\u7b26\u8f6c\u4e0b\u5212\u7ebf\u3001\u9017\u53f7\u53bb\u6389\u5e76\u5927\u5199\uff09\u3002</p> <p></p>"},{"location":"zephyr/3.zephyr%E9%80%9A%E7%94%A8%E5%9F%BA%E7%A1%80/16.zephyr%E4%B8%AD%E6%88%91%E5%A6%82%E4%BD%95%E7%9F%A5%E9%81%93%E6%9F%90%E4%BA%9B%E6%A8%A1%E5%9D%97%E9%80%82%E7%94%A8%E4%BA%8E%E5%93%AA%E4%BA%9B%E5%85%B7%E4%BD%93%E5%9E%8B%E5%8F%B7%E5%8D%95%E7%89%87%E6%9C%BA/#2-soc","title":"\u65b9\u6cd5 2\uff1a\u5bf9\u201c\u67d0\u5757\u677f\u5b50/\u67d0\u4e2a SoC\u201d\u76f4\u63a5\u9a8c\u8bc1","text":"<p>\u6700\u9760\u8c31\u7684\u662f\u5b9e\u9645\u6784\u5efa\u4e00\u6b21\uff0c\u770b\u751f\u6210\u7ed3\u679c\uff1a</p> <pre><code>west build -b &lt;\u4f60\u7684\u677f\u5361&gt; path/to/your/app -DCMAKE_EXPORT_COMPILE_COMMANDS=ON\n# \u751f\u6210\u540e\u7684 Devicetree\uff1a\nless build/zephyr/zephyr.dts\n# \u6216\u770b\u751f\u6210\u7684 DT \u5b8f\uff1a\ngrep ST_STM32_.*_ENABLED build/zephyr/include/generated/devicetree_unfixed.h\n</code></pre> <ul> <li> <p>\u5982\u679c\u770b\u5230 <code>st,stm32-cryp</code>/<code>st,stm32-aes</code>/<code>st,stm32-hash</code> \u8282\u70b9\u4e14 <code>status = \"okay\"</code>\uff0c\u90a3\u4e48\u5bf9\u5e94 <code>DT_HAS_ST_STM32_*_ENABLED</code> \u5b8f\u4f1a\u5b58\u5728\uff0cKconfig \u4f9d\u8d56\u5c31\u6ee1\u8db3\uff0c\u9a71\u52a8\u4f1a\u88ab\u7f16\u8fdb\u53bb\u3002</p> </li> <li> <p>\u82e5\u8282\u70b9\u5b58\u5728\u4f46 <code>status = \"disabled\"</code>\uff0c\u53ef\u5728\u4f60\u7684 \u677f\u7ea7 overlay DTS \u91cc\u6253\u5f00\uff0c\u4f8b\u5982\uff1a</p> </li> </ul> <pre><code>&amp;cryp { status = \"okay\"; };\n&amp;aes  { status = \"okay\"; };\n&amp;hash { status = \"okay\"; };\n</code></pre>"},{"location":"zephyr/3.zephyr%E9%80%9A%E7%94%A8%E5%9F%BA%E7%A1%80/16.zephyr%E4%B8%AD%E6%88%91%E5%A6%82%E4%BD%95%E7%9F%A5%E9%81%93%E6%9F%90%E4%BA%9B%E6%A8%A1%E5%9D%97%E9%80%82%E7%94%A8%E4%BA%8E%E5%93%AA%E4%BA%9B%E5%85%B7%E4%BD%93%E5%9E%8B%E5%8F%B7%E5%8D%95%E7%89%87%E6%9C%BA/#3","title":"\u65b9\u6cd5 3\uff1a\u4ece \u5e93\u6587\u4ef6\u4e2d\u627e","text":"<ul> <li>\u6b64\u79cd\u65b9\u5f0f\u662f\u76f4\u63a5\u770b\u6e90\u7801\u662f\u5426\u652f\u6301\u6b64\u6a21\u5757\uff0c\u9700\u8981modules \u76ee\u5f55\u4e0b\u641c\uff0c\u4e3a\u4e86\u8282\u7701\u65f6\u95f4\uff0c\u6700\u597d\u5728\u81ea\u5df1\u60f3\u8981\u67e5\u627e\u7684\u5e93\u4e2d\u641c\u7d22</li> </ul> <pre><code>grep -R -n \"USE_STM32_HAL_CRYP\" /home/hdj/zephyrproject/modules/hal/stm32\n</code></pre>"},{"location":"zephyr/3.zephyr%E9%80%9A%E7%94%A8%E5%9F%BA%E7%A1%80/16.zephyr%E4%B8%AD%E6%88%91%E5%A6%82%E4%BD%95%E7%9F%A5%E9%81%93%E6%9F%90%E4%BA%9B%E6%A8%A1%E5%9D%97%E9%80%82%E7%94%A8%E4%BA%8E%E5%93%AA%E4%BA%9B%E5%85%B7%E4%BD%93%E5%9E%8B%E5%8F%B7%E5%8D%95%E7%89%87%E6%9C%BA/#_1","title":"\u603b\u7ed3","text":"<ul> <li>\u4e0a\u8ff0\u7684\u4e09\u79cd\u65b9\u6cd5\uff0c</li> <li>\u9996\u5148\u63a8\u8350\u7b2c\u4e00\u79cd\uff0c\u53ef\u4ee5\u5feb\u901f\u67e5\u627e\u5e94\u7528\uff0c\u6709\u73b0\u6210\u7684\u8bbe\u5907\u6811\u6587\u4ef6\u53ef\u4ee5\u6284\uff08\u6b64\u79cd\u65b9\u5f0f\u4f1a\u6f0f\u6389\u90e8\u5206\u82af\u7247\uff0c\u90e8\u5206\u82af\u7247\u5b9e\u9645\u652f\u6301\u4f46\u662f\u6ca1\u6709\u5199\u8bbe\u5907\u6811\u6587\u4ef6\uff09</li> <li>\u5176\u6b21\u662f\u6700\u540e\u4e00\u79cd\uff0c\u8fd9\u79cd\u65b9\u5f0f\u4ece\u6e90\u7801\u67e5\u6700\u7a33\uff0c</li> </ul>"},{"location":"zephyr/3.zephyr%E9%80%9A%E7%94%A8%E5%9F%BA%E7%A1%80/17.zephyr%20espHosted%20wifi%E5%8D%8F%E5%A4%84%E7%90%86%E5%99%A8/","title":"17.zephyr espHosted wifi\u534f\u5904\u7406\u5668","text":""},{"location":"zephyr/3.zephyr%E9%80%9A%E7%94%A8%E5%9F%BA%E7%A1%80/17.zephyr%20espHosted%20wifi%E5%8D%8F%E5%A4%84%E7%90%86%E5%99%A8/#zephyr","title":"zephyr \u5b98\u65b9\u4ecb\u7ecd","text":"<p>https://docs.zephyrproject.org/latest/build/dts/api/bindings/wifi/espressif%2Cesp-hosted.html?utm_source=chatgpt.com</p>"},{"location":"zephyr/3.zephyr%E9%80%9A%E7%94%A8%E5%9F%BA%E7%A1%80/17.zephyr%20espHosted%20wifi%E5%8D%8F%E5%A4%84%E7%90%86%E5%99%A8/#_1","title":"\u4e50\u946b\u5b98\u65b9\u4ecb\u7ecd","text":"<p>https://github.com/espressif/esp-hosted?utm_source=chatgpt.com</p> <p>https://github.com/espressif/esp-hosted-mcu</p>"},{"location":"zephyr/3.zephyr%E9%80%9A%E7%94%A8%E5%9F%BA%E7%A1%80/17.zephyr%20espHosted%20wifi%E5%8D%8F%E5%A4%84%E7%90%86%E5%99%A8/#spi","title":"spi\u534f\u8bae\u8bf4\u660e","text":"<p>https://github.com/espressif/esp-hosted/blob/master/esp_hosted_ng/docs/spi_protocol.md?utm_source=chatgpt.com</p>"},{"location":"zephyr/3.zephyr%E9%80%9A%E7%94%A8%E5%9F%BA%E7%A1%80/17.zephyr%20espHosted%20wifi%E5%8D%8F%E5%A4%84%E7%90%86%E5%99%A8/#edc22esp-hosted-esp32-wi-fibt-zephyr","title":"EDC22\uff1aESP-Hosted \u2014 \u7528 ESP32 \u505a Wi-Fi/BT \u534f\u5904\u7406\u5668\uff08\u6f14\u8bb2\uff0c\u6982\u5ff5/\u67b6\u6784/\u8fde\u63a5\u65b9\u5f0f\uff0c\u867d\u975e\u4e13\u8bb2 Zephyr\uff0c\u4f46\u5bf9\u6574\u4f53\u7406\u89e3\u5f88\u5173\u952e\uff09","text":"<p>https://www.youtube.com/watch?v=g14aEjnjRLw</p>"},{"location":"zephyr/3.zephyr%E9%80%9A%E7%94%A8%E5%9F%BA%E7%A1%80/17.zephyr%20espHosted%20wifi%E5%8D%8F%E5%A4%84%E7%90%86%E5%99%A8/#esp32-c3-esp32c2bug","title":"\u8046\u601d\u79d1\u6280\u7684\u793e\u533a\u8bb0\u5f55\uff08\u6700\u7ec8\u4f7f\u7528\u7684\u662fesp32 c3 \u534f\u5904\u7406\u5668\u65b9\u6848\uff0cesp32c2\u6709bug\uff09","text":"<p>https://github.com/espressif/esp-hosted/issues/519?utm_source=chatgpt.com</p>"},{"location":"zephyr/3.zephyr%E9%80%9A%E7%94%A8%E5%9F%BA%E7%A1%80/17.zephyr%20espHosted%20wifi%E5%8D%8F%E5%A4%84%E7%90%86%E5%99%A8/#mcu-zephyr-rtos","title":"\u7ef4\u62a4\u8005\u56de\u590d\u91cc\u660e\u786e\u63d0\u5230\u201c\u5df2\u7ecf\u628a MCU \u65b9\u6848\u79fb\u690d\u5230 Zephyr RTOS\u201d\uff0c\u53ef\u4f5c\u4e3a\u66fe\u88ab\u4f7f\u7528/\u79fb\u690d\u7684\u53c2\u8003","text":"<p>https://github.com/espressif/esp-hosted/issues/133?utm_source=chatgpt.com</p>"},{"location":"zephyr/3.zephyr%E9%80%9A%E7%94%A8%E5%9F%BA%E7%A1%80/17.zephyr%20espHosted%20wifi%E5%8D%8F%E5%A4%84%E7%90%86%E5%99%A8/#esp-hosted-mcuespressif-soc","title":"ESP-Hosted-MCU\uff1aEspressif SoC \u4f5c\u4e3a\u901a\u4fe1\u534f\u5904\u7406\u5668","text":""},{"location":"zephyr/3.zephyr%E9%80%9A%E7%94%A8%E5%9F%BA%E7%A1%80/17.zephyr%20espHosted%20wifi%E5%8D%8F%E5%A4%84%E7%90%86%E5%99%A8/#1","title":"1 \u7b80\u4ecb","text":"<p>ESP-Hosted-MCU \u662f\u4e00\u6b3e\u5f00\u6e90\u89e3\u51b3\u65b9\u6848\uff0c\u5141\u8bb8\u60a8\u4f7f\u7528\u4e50\u946b\u82af\u7247\u7ec4\u548c\u6a21\u7ec4\u4f5c\u4e3a\u901a\u4fe1\u534f\u5904\u7406\u5668\u3002\u8be5\u89e3\u51b3\u65b9\u6848\u4e3a\u4e3b\u673a\u5fae\u5904\u7406\u5668\u6216\u5fae\u63a7\u5236\u5668\u63d0\u4f9b\u65e0\u7ebf\u8fde\u63a5\uff08Wi-Fi \u548c\u84dd\u7259\uff09\uff0c\u4f7f\u5176\u80fd\u591f\u4e0e\u5176\u4ed6\u8bbe\u5907\u901a\u4fe1\u3002\u6b64\u5916\uff0c\u7528\u6237\u53ef\u4ee5\u5b8c\u5168\u63a7\u5236\u534f\u5904\u7406\u5668\u7684\u8d44\u6e90\u3002</p> <p>\u8be5\u9ad8\u7ea7\u6846\u56fe\u663e\u793a\u4e86 ESP-Hosted \u4e0e\u4e3b\u673a MCU \u548c\u4ece\u5c5e\u534f\u5904\u7406\u5668\u7684\u5173\u7cfb\u3002</p> <p></p> <p>Wi-Fi\u548c\u84dd\u7259\u7684\u8be6\u7ec6\u8bbe\u8ba1\u56fe\u53ef\u4ee5\u53c2\u8003\u4ee5\u4e0b\u8bbe\u8ba1\u6587\u6863\uff1a</p> <ul> <li>WiFi\u8bbe\u8ba1</li> <li>\u84dd\u7259\u8bbe\u8ba1</li> </ul> <p><code>esp-hosted-mcu</code>\u4e13\u7528\u4e8e\u4efb\u4f55\u4e3b\u673a\u4f5c\u4e3a MCU \u7684\u652f\u6301\u3002\u5982\u679c\u60a8\u5bf9 Linux \u4e3b\u673a\u611f\u5174\u8da3\uff0c\u8bf7\u53c2\u9605<code>esp-hosted</code>\u4ee3\u7801\u5e93\u3002</p>"},{"location":"zephyr/3.zephyr%E9%80%9A%E7%94%A8%E5%9F%BA%E7%A1%80/17.zephyr%20espHosted%20wifi%E5%8D%8F%E5%A4%84%E7%90%86%E5%99%A8/#2","title":"2 \u67b6\u6784","text":""},{"location":"zephyr/3.zephyr%E9%80%9A%E7%94%A8%E5%9F%BA%E7%A1%80/17.zephyr%20espHosted%20wifi%E5%8D%8F%E5%A4%84%E7%90%86%E5%99%A8/#_2","title":"\u6258\u7ba1\u534f\u5904\u7406\u5668","text":"<p>\u8fd9\u662f\u4e00\u4e2a\u63d0\u4f9bWi-Fi\u3001\u84dd\u7259\u548c\u5176\u4ed6\u529f\u80fd\u7684ESP\u82af\u7247\u3002\u5b83\u4e5f\u53ef\u4ee5<code>hosted-slave</code>\u4e92\u6362\u4f7f\u7528\u3002</p>"},{"location":"zephyr/3.zephyr%E9%80%9A%E7%94%A8%E5%9F%BA%E7%A1%80/17.zephyr%20espHosted%20wifi%E5%8D%8F%E5%A4%84%E7%90%86%E5%99%A8/#mcu","title":"\u4e3b\u673a MCU","text":"<p>\u8fd9\u53ef\u4ee5\u662f\u4efb\u4f55\u901a\u7528\u5fae\u63a7\u5236\u5668 (MCU)\u3002\u6211\u4eec\u6f14\u793a\u4e86\u4efb\u4f55 ESP \u4f5c\u4e3a\u4e3b\u673a\u7684\u60c5\u51b5\u3002\u4f7f\u7528\u7aef\u53e3\u5c42\uff0c\u4efb\u4f55\u4e3b\u673a\u90fd\u53ef\u4ee5\u5145\u5f53\u4e3b\u673a MCU\u3002</p>"},{"location":"zephyr/3.zephyr%E9%80%9A%E7%94%A8%E5%9F%BA%E7%A1%80/17.zephyr%20espHosted%20wifi%E5%8D%8F%E5%A4%84%E7%90%86%E5%99%A8/#_3","title":"\u6c9f\u901a","text":"<ul> <li>\u4e3b\u673a\u901a\u8fc7\u8fdc\u7a0b\u8fc7\u7a0b\u8c03\u7528 (RPC) \u6269\u5c55\u6258\u7ba1\u534f\u5904\u7406\u5668\u7684\u529f\u80fd\u3002\u4e3b\u673a MCU \u4f7f\u7528\u53ef\u9760\u7684\u901a\u4fe1\u603b\u7ebf\uff08\u4f8b\u5982 SPI\u3001SDIO \u6216 UART\uff09\u5c06\u8fd9\u4e9b RPC \u547d\u4ee4\u53d1\u9001\u5230\u6258\u7ba1\u534f\u5904\u7406\u5668\u3002\u6258\u7ba1\u534f\u5904\u7406\u5668\u968f\u540e\u5904\u7406 RPC \u5e76\u5411\u4e3b\u673a MCU \u63d0\u4f9b\u6240\u8bf7\u6c42\u7684\u529f\u80fd\u3002</li> <li>\u6570\u636e\uff08\u7f51\u7edc\u6216\u84dd\u7259\uff09\u5728\u4f20\u8f93\u5c42\u88ab\u6709\u6548\u5730\u6253\u5305\uff0c\u4ee5\u6700\u5927\u9650\u5ea6\u5730\u51cf\u5c11\u5728\u4e3b\u673a\u548c\u534f\u5904\u7406\u5668\u4e4b\u95f4\u4f20\u9012\u65f6\u7684\u5f00\u9500\u548c\u5ef6\u8fdf\u3002</li> <li>\u8fd9\u79cd\u6a21\u5757\u5316\u8bbe\u8ba1\u5141\u8bb8\u4efb\u4f55 MCU \u7528\u4f5c\u4e3b\u673a\uff0c\u4efb\u4f55\u5e26\u6709 Wi-Fi \u548c/\u6216\u84dd\u7259\u7684 ESP \u82af\u7247\u5747\u53ef\u7528\u4f5c\u4e3b\u673a\u534f\u5904\u7406\u5668\u3002RPC \u8c03\u7528\u4e5f\u53ef\u4ee5\u6269\u5c55\uff0c\u4ee5\u63d0\u4f9b\u4e3b\u673a\u6240\u9700\u7684\u4efb\u4f55\u529f\u80fd\uff0c\u53ea\u8981\u534f\u5904\u7406\u5668\u80fd\u591f\u652f\u6301\u5373\u53ef\u3002</li> </ul>"},{"location":"zephyr/3.zephyr%E9%80%9A%E7%94%A8%E5%9F%BA%E7%A1%80/17.zephyr%20espHosted%20wifi%E5%8D%8F%E5%A4%84%E7%90%86%E5%99%A8/#3","title":"3 \u89e3\u51b3\u65b9\u6848\u7075\u6d3b\u6027","text":"<ul> <li>\u4efb\u4f55 MCU \u90fd\u53ef\u4ee5\u4f5c\u4e3a\u4e3b\u673a</li> <li>\u60a8\u53ef\u4ee5\u5c06 ESP \u4f5c\u4e3a\u793a\u4f8b\u4e3b\u673a\u8fdb\u884c\u8bc4\u4f30\uff0c\u7136\u540e\u5c06 ESP-Hosted \u79fb\u690d\u5230\u60a8\u60f3\u8981\u7684 MCU\u3002</li> <li>\u4efb\u4f55 ESP \u82af\u7247\u90fd\u53ef\u4ee5\u4f5c\u4e3a\u534f\u5904\u7406\u5668</li> <li>\u4efb\u4f55\u652f\u6301 Wi-Fi \u548c/\u6216\u84dd\u7259\u7684 ESP \u82af\u7247\u7ec4\u90fd\u53ef\u4ee5\u9009\u62e9\u4f5c\u4e3a\u534f\u5904\u7406\u5668</li> <li>\u6839\u636e\u60a8\u7684\u4ea7\u54c1\u9700\u6c42\u9009\u62e9\u534f\u5904\u7406\u5668\u8bbe\u5907\u3002ESP\u4ea7\u54c1\u9009\u62e9\u5668\u53ef\u4ee5\u5e2e\u52a9\u60a8\u3002</li> <li>\u7075\u6d3b\u7684\u4f20\u8f93\u5c42\uff08SDIO\u3001SPI\u3001UART\uff09</li> <li>ESP-Hosted \u652f\u6301\u4e3b\u673a\u548c\u534f\u5904\u7406\u5668\u4e4b\u95f4\u7684\u5404\u79cd\u901a\u4fe1\u63a5\u53e3\uff0c\u8ba9\u60a8\u53ef\u4ee5\u6839\u636e\u81ea\u5df1\u7684\u5e94\u7528\u9009\u62e9\u6700\u5408\u9002\u7684\u63a5\u53e3\u3002</li> <li>\u4efb\u4f55\u5176\u4ed6\u65b0\u7684\u4f20\u8f93\u65b9\u5f0f\u4e5f\u53ef\u4ee5\u6dfb\u52a0\u5230\u5f00\u6e90\u4ee3\u7801\u4e2d</li> <li>\u5b8c\u5168\u63a7\u5236\u534f\u5904\u7406\u5668\u7684\u8d44\u6e90</li> <li>\u7528\u6237\u4e0d\u4ec5\u9650\u4e8e\u4f7f\u7528\u534f\u5904\u7406\u5668\u8fdb\u884c\u65e0\u7ebf\u8fde\u63a5\u3002\u4ed6\u4eec\u53ef\u4ee5\u5b8c\u5168\u63a7\u5236\u534f\u5904\u7406\u5668\u7684\u8d44\u6e90\uff0c\u4ece\u800c\u5b9e\u73b0\u66f4\u7075\u6d3b\u3001\u66f4\u5f3a\u5927\u7684\u7cfb\u7edf\u3002</li> <li>\u53ef\u6269\u5c55\u7684 RPC \u5e93</li> <li>ESP-Hosted \u4f7f\u7528\u7684\u8fdc\u7a0b\u8fc7\u7a0b\u8c03\u7528 (RPC) \u53ef\u4ee5\u6269\u5c55\uff0c\u4ee5\u63d0\u4f9b\u4e3b\u673a\u6240\u9700\u7684\u4efb\u4f55\u529f\u80fd\uff0c\u53ea\u8981\u534f\u5904\u7406\u5668\u80fd\u591f\u652f\u6301\u5373\u53ef\u3002\u76ee\u524d\uff0cESP-IDF Wi-Fi \u7684\u57fa\u672c\u529f\u80fd\u5df2\u5b9e\u73b0\u3002</li> </ul>"},{"location":"zephyr/3.zephyr%E9%80%9A%E7%94%A8%E5%9F%BA%E7%A1%80/17.zephyr%20espHosted%20wifi%E5%8D%8F%E5%A4%84%E7%90%86%E5%99%A8/#4-esp32-p4-function-ev-board","title":"4 \u4f7f\u7528 ESP32-P4-Function-EV-Board \u7684\u5feb\u901f\u6f14\u793a","text":"<p>\u8feb\u4e0d\u53ca\u5f85\u5730\u60f3\u6d4b\u8bd5\uff1f\u6211\u4eec\u5e2e\u60a8\u641e\u5b9a\uff01ESP32-P4-Function-EV-Board\u53ef\u7528\u4f5c\u4e3b\u673a MCU\uff0c\u5e76\u642d\u8f7d\u677f\u8f7dESP32-C6\u4f5c\u4e3a\u534f\u5904\u7406\u5668\uff0c\u4e24\u8005\u5df2\u901a\u8fc7 SDIO \u8fde\u63a5\u5e76\u4f5c\u4e3a\u4f20\u8f93\u63a5\u53e3\u3002\u524d\u63d0\u6761\u4ef6\uff1a\u60a8\u9700\u8981\u4e00\u5757 ESP32-P4-Function-EV-Board\u3002</p> <p>\u7b14\u8bb0</p> <p>\u5982\u679c\u60a8\u5df2\u7ecf\u8bbe\u7f6e\u4e86 ESP-IDF\uff08\u7248\u672c 5.3 \u6216\u66f4\u9ad8\u7248\u672c\uff09\uff0c\u5219\u53ef\u4ee5\u8df3\u81f35 \u6e90\u4ee3\u7801\u548c\u4f9d\u8d56\u9879\u3002</p>"},{"location":"zephyr/3.zephyr%E9%80%9A%E7%94%A8%E5%9F%BA%E7%A1%80/17.zephyr%20espHosted%20wifi%E5%8D%8F%E5%A4%84%E7%90%86%E5%99%A8/#41-esp-idf","title":"4.1 \u8bbe\u7f6e ESP-IDF","text":"<ul> <li>\u89c6\u7a97</li> <li>\u6309\u7167Windows \u5de5\u5177\u94fe\u6807\u51c6\u8bbe\u7f6e\u4e2d\u7684\u8bf4\u660e\uff0c\u5728 Windows \u4e0a\u5b89\u88c5\u5e76\u8bbe\u7f6e ESP-IDF \u3002</li> <li>\u4f7f\u7528 ESP-IDF Powershell \u547d\u4ee4\u63d0\u793a\u7b26\u79fb\u52a8\u5230\u9884\u671f</li> <li>Linux \u6216 MacOS</li> <li>\u72c2\u6b22</li> </ul> <pre><code>bash docs/setup_esp_idf__latest_stable__linux_macos.sh\n</code></pre> <ul> <li>\u9c7c</li> </ul> <pre><code>fish docs/setup_esp_idf__latest_stable__linux_macos.fish\n</code></pre>"},{"location":"zephyr/3.zephyr%E9%80%9A%E7%94%A8%E5%9F%BA%E7%A1%80/17.zephyr%20espHosted%20wifi%E5%8D%8F%E5%A4%84%E7%90%86%E5%99%A8/#42-c6-p4","title":"4.2 \u4f7f\u7528 C6 \u8bbe\u7f6e P4","text":"<p>\u4e3b\u673a ESP32-P4 \u7f3a\u4e4f\u539f\u751f Wi-Fi/\u84dd\u7259\u652f\u6301\u3002\u6211\u4eec\u7684\u5feb\u901f\u6f14\u793a\u5c06\u5e2e\u52a9\u60a8\u5728 P4-SDIO-C6 \u4e0a\u8fd0\u884c iperf\u3002</p>"},{"location":"zephyr/3.zephyr%E9%80%9A%E7%94%A8%E5%9F%BA%E7%A1%80/17.zephyr%20espHosted%20wifi%E5%8D%8F%E5%A4%84%E7%90%86%E5%99%A8/#43-esp32-p4-function-ev-board","title":"4.3 \u6ca1\u6709 ESP32-P4-Function-EV-Board\uff1f","text":"<p>\u5982\u679c\u60a8\u6ca1\u6709 ESP32-P4\uff0c\u4e5f\u4e0d\u7528\u62c5\u5fc3\u3002\u4e8b\u5b9e\u4e0a\uff0c\u5927\u591a\u6570\u7528\u6237\u90fd\u6ca1\u6709\u3002\u60a8\u53ef\u4ee5\u9009\u62e9\u5e76\u4f7f\u7528\u4efb\u610f\u4e24\u4e2a ESP \u82af\u7247\u7ec4/SoC/\u6a21\u5757/\u5f00\u53d1\u5957\u4ef6\u3002\u5f00\u53d1\u5957\u4ef6\u4f7f\u7528\u8d77\u6765\u5f88\u65b9\u4fbf\uff0c\u56e0\u4e3a\u5b83\u4eec\u5df2\u7ecf\u914d\u5907\u4e86 GPIO \u63a5\u53e3\u3002\u8fd9\u4e24\u4e2a ESP \u82af\u7247\u7ec4\u4e2d\uff0c\u4e00\u4e2a\u53ef\u4ee5\u5145\u5f53\u4e3b\u673a\uff0c\u53e6\u4e00\u4e2a\u53ef\u4ee5\u5145\u5f53\u4ece\u673a/\u534f\u5904\u7406\u5668\u3002\u4f46\u662f\uff0c\u7531\u4e8e\u5b83\u4eec\u5e76\u975e\u76f4\u63a5\u8fde\u63a5\uff0c\u60a8\u9700\u8981\u624b\u52a8\u8fde\u63a5\u4e00\u4e9b\u4f20\u8f93\u8bbe\u5907\uff0c\u8fd9\u5c06\u5728\u672c\u8282\u540e\u9762\u8fdb\u884c\u89e3\u91ca<code>Detailed Setup</code>\u3002</p>"},{"location":"zephyr/3.zephyr%E9%80%9A%E7%94%A8%E5%9F%BA%E7%A1%80/17.zephyr%20espHosted%20wifi%E5%8D%8F%E5%A4%84%E7%90%86%E5%99%A8/#5","title":"5 \u6e90\u4ee3\u7801\u548c\u4f9d\u8d56\u9879","text":""},{"location":"zephyr/3.zephyr%E9%80%9A%E7%94%A8%E5%9F%BA%E7%A1%80/17.zephyr%20espHosted%20wifi%E5%8D%8F%E5%A4%84%E7%90%86%E5%99%A8/#51-esp-hosted-mcu","title":"5.1 ESP-Hosted-MCU \u6e90\u4ee3\u7801","text":"<ul> <li><code>esp_hosted</code>ESP-Hosted-MCU \u4ee3\u7801\u53ef\u5728 Espressif Registry Component (ESP-Hosted)\u6216 GitHub repo\u4e2d\u627e\u5230<code>esp-hosted-mcu</code></li> <li>\u5982\u679c\u60a8\u6709 ESP \u4f5c\u4e3a\u4e3b\u673a\uff0c\u5219\u4e0d\u9700\u8981ESP-Hosted repo \u514b\u9686\u3002</li> <li>\u539f\u56e0\uff1aESP \u7ec4\u4ef6\u7ba1\u7406\u5668\u5728\u6784\u5efa\u65f6\u81ea\u52a8\u514b\u9686 esp \u6258\u7ba1\u7684\u7ec4\u4ef6\u3002</li> <li>\u4f46\u662f\uff0c\u5bf9\u4e8e\u975e ESP \u4e3b\u673a\u5f00\u53d1\uff0c\u60a8\u53ef\u4ee5\u4f7f\u7528\u547d\u4ee4\u514b\u9686 repo\uff1a</li> </ul> <pre><code>git clone --recurse-submodules --depth 1 https://github.com/espressif/esp-hosted-mcu.git\n</code></pre>"},{"location":"zephyr/3.zephyr%E9%80%9A%E7%94%A8%E5%9F%BA%E7%A1%80/17.zephyr%20espHosted%20wifi%E5%8D%8F%E5%A4%84%E7%90%86%E5%99%A8/#52","title":"5.2 \u4f9d\u8d56\u9879","text":"<p>ESP-Hosted-MCU \u89e3\u51b3\u65b9\u6848\u4f9d\u8d56\u4e8e<code>ESP-IDF</code>\uff0c<code>esp_wifi_remote</code>\u5e76\u4e14<code>protobuf-c</code></p>"},{"location":"zephyr/3.zephyr%E9%80%9A%E7%94%A8%E5%9F%BA%E7%A1%80/17.zephyr%20espHosted%20wifi%E5%8D%8F%E5%A4%84%E7%90%86%E5%99%A8/#esp-idf","title":"ESP-IDF","text":"<ul> <li><code>ESP-IDF</code>\u662f\u652f\u6301 Windows\u3001Linux \u548c macOS \u7684 Espressif SoC \u7684\u5f00\u53d1\u6846\u67b6</li> <li>ESP-Hosted-MCU \u89e3\u51b3\u65b9\u6848\u4ee5 ESP-IDF \u4e3a\u57fa\u7840\u8f6f\u4ef6\u3002ESP \u82af\u7247\u7ec4\u4f5c\u4e3a\u4e3b\u673a\u548c\u4ece\u673a\uff0c\u59cb\u7ec8\u81f4\u529b\u4e8e\u8bbe\u8ba1\u80fd\u591f\u590d\u7528 ESP-IDF \u7ec4\u4ef6\u7684\u65b9\u5f0f\u3002</li> <li>\u867d\u7136\u6211\u4eec\u5b8c\u5168\u7406\u89e3\uff0c\u5982\u679c\u4f7f\u7528\u975e ESP \u82af\u7247\u7ec4\uff0c\u4e3b\u673a MCU \u53ef\u80fd\u4e0d\u5e0c\u671b\u4f9d\u8d56 ESP-IDF\u3002\u7aef\u53e3\u5c42\u7684\u7f16\u5199\u65e8\u5728\u907f\u514d\u6b64\u7c7b\u4f9d\u8d56\u3002\u4e00\u4e9b\u5173\u952e\u7684 ESP-IDF \u7ec4\u4ef6\u4e5f\u53ef\u4ee5\u76f4\u63a5\u590d\u5236\u7c98\u8d34\uff0c\u4ee5\u52a0\u5feb\u975e ESP \u4e3b\u673a\u7684\u5f00\u53d1\u901f\u5ea6\u3002</li> </ul>"},{"location":"zephyr/3.zephyr%E9%80%9A%E7%94%A8%E5%9F%BA%E7%A1%80/17.zephyr%20espHosted%20wifi%E5%8D%8F%E5%A4%84%E7%90%86%E5%99%A8/#wi-fi","title":"Wi-Fi \u9065\u63a7\u5668","text":"<ul> <li><code>esp_wifi_remote</code>\u4f8b\u5982\uff0c\u201cWi-Fi Remote\u201d \u662f\u4e00\u4e2a\u975e\u5e38\u7cbe\u7b80\u7684\u63a5\u53e3\uff0c\u7531 ESP-IDF \u63d0\u4f9b\u7684 Wi-Fi API \u7ec4\u6210\uff0c\u8fd9\u4e9b API \u7684\u5b9a\u4e49\u975e\u5e38\u7a7a\u6d1e\u3002\u8fd9\u4e9b API \u7684\u5b9e\u9645\u5b9a\u4e49\u7531 ESP-Hosted-MCU \u63d0\u4f9b\u3002</li> <li>Wi-Fi \u8fdc\u7a0b\u4ee3\u7801\u53ef\u4ee5\u5728GitHub Repo\u6216Espressif Registry Component\u4e2d\u627e\u5230</li> </ul>"},{"location":"zephyr/3.zephyr%E9%80%9A%E7%94%A8%E5%9F%BA%E7%A1%80/17.zephyr%20espHosted%20wifi%E5%8D%8F%E5%A4%84%E7%90%86%E5%99%A8/#protobuf","title":"Protobuf","text":"<ul> <li><code>protobuf-c</code>\u662fGoogle\u63d0\u4f9b\u7684\u6570\u636e\u5e8f\u5217\u5316\u6846\u67b6\uff0c\u4e3b\u673a\u548c\u4ece\u673a\u4e4b\u95f4\u901a\u4fe1\u7684RPC\u6d88\u606f\u91c7\u7528protobuf\u7f16\u7801\u3002</li> <li>\u5b83\u6709\u52a9\u4e8e\u907f\u514d\u624b\u52a8\u5e8f\u5217\u5316\u6216\u5b57\u8282\u987a\u5e8f\u8f6c\u6362\u3002</li> <li>\u4e3a\u7528\u6237\u63d0\u4f9b\u7075\u6d3b\u6027\uff0c\u5c06 ESP-Hosted-MCU RPC \u6846\u67b6\u79fb\u690d\u5230\u4efb\u4f55\u652f\u6301 protobuf \u7684\u7f16\u7a0b\u8bed\u8a00\u4e2d</li> <li>\u4ee3\u7801\u4f5c\u4e3a\u5b50\u6a21\u5757\u7b7e\u51fa\u4e8e<code>common/protobuf-c</code></li> </ul>"},{"location":"zephyr/3.zephyr%E9%80%9A%E7%94%A8%E5%9F%BA%E7%A1%80/17.zephyr%20espHosted%20wifi%E5%8D%8F%E5%A4%84%E7%90%86%E5%99%A8/#521","title":"5.2.1 \u4f9d\u8d56\u5173\u7cfb\u5982\u4f55\u534f\u540c\u5de5\u4f5c\uff08\u7b80\u77ed\u89e3\u91ca\uff09","text":"<ul> <li>RPC\u8bf7\u6c42-\u54cd\u5e94</li> <li>Wi-Fi Remote \u662f\u4e00\u4e2a API \u5c42\u6216\u63a5\u53e3\uff0c\u5b83\u4e3a\u5e94\u7528\u7a0b\u5e8f\u63d0\u4f9b\u6807\u51c6 ESP-IDF Wi-Fi \u8c03\u7528\uff08<code>esp_wifi_init()</code>\u7b49\uff09</li> <li>Wi-Fi Remote \u5c06 Wi-Fi \u8c03\u7528\u8f6c\u53d1\u5230 ESP-Hosted\uff0c\u56e0\u4e3a ESP-Hosted\u201c\u5b9e\u73b0\u201d\u4e86 Wi-Fi Remote \u63a5\u53e3\u63d0\u4f9b\u7684 API\u3002</li> <li>ESP-Hosted \u4e3b\u673a MCU \u521b\u5efa protobuf \u7f16\u7801\u7684 RPC \u8bf7\u6c42\u5e76\u901a\u8fc7\u4f20\u8f93\uff08SPI/SDIO \u7b49\uff09\u53d1\u9001\u7ed9\u4ece\u5c5e\u8bbe\u5907\u3002</li> <li>\u4ece\u5c5e\u8bbe\u5907\u5bf9 protobuf RPC \u8bf7\u6c42\u8fdb\u884c\u53cd\u5e8f\u5217\u5316\uff0c\u5e76\u901a\u8fc7\u4f20\u8f93\u5c06\u54cd\u5e94\u53d1\u9001\u56de\u4e3b\u673a\uff0c\u540c\u6837\u4f7f\u7528 protobuf \u5e8f\u5217\u5316\u3002</li> <li>\u4f20\u8f93\u8fc7\u7a0b\u4e2d\u6536\u5230\u7684\u54cd\u5e94\u8fd4\u56de\u5230 Wi-Fi Remote\uff0c\u540e\u8005\u5c06\u54cd\u5e94\u8fd4\u56de\u5230\u4e3b\u673a\u4e0a\u7684\u8c03\u7528\u5e94\u7528\u7a0b\u5e8f</li> <li>\u5bf9\u4e8e\u5e94\u7528\u7a0b\u5e8f\u6765\u8bf4\uff0c\u8fd9\u5c31\u50cf\u8fdb\u884c\u4e86\u6807\u51c6 ESP-IDF Wi-Fi API \u8c03\u7528\u4e00\u6837\u3002</li> <li>RPC\u4e8b\u4ef6</li> <li>\u8ba2\u9605\u65f6\u5f02\u6b65 Wi-Fi \u4e8b\u4ef6\u7531\u4ece\u5c5e\u8bbe\u5907\u53d1\u9001\u7ed9\u4e3b\u673a\u3002</li> <li>\u8fd9\u4e9b\u4e8b\u4ef6\u5728\u4e3b\u673a\u4e0a\u7684\u6807\u51c6 ESP-IDF \u4e8b\u4ef6\u5faa\u73af\u4e2d\u7ec8\u6b62</li> <li>\u8bf7\u6ce8\u610f\uff0c\u53ea\u6709 RPC \u6570\u636e\u5305\uff08\u5373\u63a7\u5236\u6570\u636e\u5305\uff09\u4f1a\u88ab\u5e8f\u5217\u5316\u3002\u6570\u636e\u5305\u6c38\u8fdc\u4e0d\u4f1a\u88ab\u5e8f\u5217\u5316\uff0c\u56e0\u4e3a\u5b83\u4eec\u4e0d\u9700\u8981\u5b57\u8282\u5e8f\u8f6c\u6362\u3002</li> </ul>"},{"location":"zephyr/3.zephyr%E9%80%9A%E7%94%A8%E5%9F%BA%E7%A1%80/17.zephyr%20espHosted%20wifi%E5%8D%8F%E5%A4%84%E7%90%86%E5%99%A8/#6","title":"6 \u786e\u5b9a\u4e3b\u673a\u548c\u4ece\u673a\u4e4b\u95f4\u7684\u901a\u4fe1\u603b\u7ebf","text":"<p>\u4e3b\u673a\u548c\u4ece\u673a\u4e4b\u95f4\u9700\u8981\u6b63\u786e\u8bbe\u7f6e\u901a\u4fe1\u603b\u7ebf\u3002\u6211\u4eec\u79f0\u4e4b\u4e3a<code>transport medium</code>\u6216\u7b80\u79f0<code>transport</code>\u3002</p> <p>ESP-Hosted-MCU \u652f\u6301 SPI/SDIO/UART \u4f20\u8f93\u534f\u8bae\u3002\u7528\u6237\u53ef\u4ee5\u81ea\u884c\u9009\u62e9\u4f7f\u7528\u54ea\u79cd\u4f20\u8f93\u534f\u8bae\u3002\u5177\u4f53\u9009\u62e9\u54ea\u79cd\u4f20\u8f93\u534f\u8bae\u53d6\u51b3\u4e8e\u4ee5\u4e0b\u56e0\u7d20\uff1a\u9ad8\u6027\u80fd\u3001\u6613\u4e8e\u5feb\u901f\u6d4b\u8bd5\u3001\u4f7f\u7528\u7684 GPIO \u6570\u91cf\uff0c\u6216\u8005\u4ec5\u4ec5\u662f\u534f\u5904\u7406\u5668\u7684\u504f\u597d\u3002</p> <p>\u4e0b\u9762\u662f\u8fd0\u8f93\u4ecb\u8d28\u6bd4\u8f83\u56fe\u8868\u3002</p> <p>\u56fe\u4f8b\uff1a</p> <ul> <li> <p><code>FD</code>\uff1a\u5168\u53cc\u5de5\u901a\u4fe1</p> </li> <li> <p><code>HD</code>\uff1a\u534a\u53cc\u5de5\u901a\u4fe1</p> </li> <li> <p><code>BT</code>\uff1a \u84dd\u7259</p> </li> <li> <p><code>+2   </code></p><pre><code>\u5728\u5217\u4e2d\n</code></pre><code>   Num of GPIOs</code><p></p> </li> <li> <p>\u6709\u4e24\u4e2a\u989d\u5916\u7684 GPIO \u9002\u7528\u4e8e\u6240\u6709\u4f20\u8f93</p> </li> <li>\uff081\uff09\u534f\u5904\u7406\u5668\u590d\u4f4d\uff1a\u4e3b\u673a\u9700\u8981\u4e00\u4e2a\u989d\u5916\u7684\u5f15\u811a\u8fde\u63a5\u5230\u534f\u5904\u7406\u5668\u7684<code>RST</code>/\u5f15\u811a\uff0c\u4ee5\u4fbf\u5728\u542f\u52a8\u65f6\u590d\u4f4d<code>EN</code></li> <li>\uff082\uff09\u5730\uff1a\u4e24\u4e2a\u82af\u7247\u7ec4\u7684\u5730\u9700\u8981\u8fde\u63a5\u3002</li> <li> <p>\u5982\u679c\u4f7f\u7528\u8df3\u7ebf\u8fde\u63a5\uff0c\u8bf7\u5728\u4e24\u5757\u677f\u4e4b\u95f4\u8fde\u63a5\u5c3d\u53ef\u80fd\u591a\u7684\u63a5\u5730\uff0c\u4ee5\u5b9e\u73b0\u66f4\u597d\u7684\u566a\u58f0\u6d88\u9664\u3002</p> </li> <li> <p><code>Any_Slave</code></p> </li> <li> <p>\u652f\u6301\u7684\u534f\u5904\u7406\u5668\uff1aESP32\u3001ESP32-C2\u3001ESP32-C3\u3001ESP32-C5\u3001ESP32-C6\u3001ESP32-S2\u3001ESP32-S3</p> </li> <li>\u7ecf\u5178 ESP32 \u652f\u6301\u201c\u7ecf\u5178 BT\u201d\u3001\u201cBLE 4.2\u201d\u548c\u201cBTDM\u201d</li> <li> <p>\u5176\u4f59\u6240\u6709\u82af\u7247\u7ec4\u4ec5\u652f\u6301 BLE\u3002\u652f\u6301\u7684 BLE \u7248\u672c\u4e3a 5.0 \u53ca\u4ee5\u4e0a\u3002\u5177\u4f53\u84dd\u7259\u7248\u672c\u4fe1\u606f\u8bf7\u53c2\u8003ESP \u4ea7\u54c1\u9009\u62e9\u5668\u9875\u9762\u3002</p> </li> <li> <p><code>Dedicated platforms</code></p> </li> <li> <p>\u84dd\u7259\u4f7f\u7528\u4e13\u7528\u5e73\u53f0\uff0cUART \u548c Wi-Fi \u4f7f\u7528\u4efb\u4f55\u5176\u4ed6\u57fa\u7840\u4f20\u8f93</p> </li> <li>\u5728\u5176\u4ed6\u5e73\u53f0\u4e2d\uff0c\u84dd\u7259\u548c Wi-Fi \u91cd\u590d\u4f7f\u7528\u76f8\u540c\u7684\u5e73\u53f0\uff0c\u56e0\u6b64\u4f7f\u7528\u66f4\u5c11\u7684 GPIO\uff0c\u5e76\u4e14\u4e0d\u592a\u590d\u6742</li> <li> <p>\u8fd9\u79cd\u4f20\u8f93\u7ec4\u5408\u5141\u8bb8\u84dd\u7259\u4f7f\u7528\u4e13\u7528 uart \u4f20\u8f93\uff0c\u5e76\u6839\u636e\u786c\u4ef6\u6d41\u63a7\u5236\u989d\u5916\u589e\u52a0 2 \u4e2a\u6216 4 \u4e2a\u3002</p> </li> <li> <p>(S) \uff1a\u5c4f\u853d\u76d2\u8bfb\u6570</p> </li> <li> <p>(O) \uff1a\u65e0\u7ebf\u8bfb\u53d6</p> </li> <li> <p>TBD\uff1a\u5f85\u5b9a</p> </li> <li> <p>iperf\uff1aiperf2 \u7684\u6d4b\u8bd5\u7ed3\u679c\uff08\u4ee5 mbps \u4e3a\u5355\u4f4d\uff09</p> </li> </ul> <p>\u7b14\u8bb0</p> <p>\u5bf9\u4e8e\u4f7f\u7528 (S) \u8fdb\u884c\u7684\u5c4f\u853d\u76d2\u8bfb\u6570\uff0c\u5b8c\u6574\u7684\u7f51\u7edc\u8bbe\u7f6e\u5728\u5c4f\u853d\u76d2\u6d4b\u8bd5\u8bbe\u7f6e\u4e2d\u8fdb\u884c\u4e86\u8bf4\u660e</p> <p>\u4e3b\u673a\u53ef\u4ee5\u662f\u4efb\u4f55 ESP \u82af\u7247\u7ec4\u6216\u4efb\u4f55\u975e ESP MCU\u3002</p>"},{"location":"zephyr/3.zephyr%E9%80%9A%E7%94%A8%E5%9F%BA%E7%A1%80/17.zephyr%20espHosted%20wifi%E5%8D%8F%E5%A4%84%E7%90%86%E5%99%A8/#_4","title":"\u6258\u7ba1\u4f20\u8f93\u8868","text":"\u8fd0\u8f93 \u7c7b\u578b GPIO\u6570\u91cf \u8bbe\u7f6e \u652f\u6301\u534f\u5904\u7406\u5668 \u4e3b\u673a Tx iperf \u4e3b\u673a Rx iperf \u8bc4\u8bba \u6807\u51c6SPI FD 6 \u8df3\u7ebf\u6216 PCB \u4efb\u610f\u4ece\u5c5e udp\uff1a24 tcp\uff1a22 udp\uff1a25 tcp\uff1a22 \u6700\u7b80\u5355\u7684\u5feb\u901f\u6d4b\u8bd5\u89e3\u51b3\u65b9\u6848 \u53ccSPI \u9ad8\u6e05 5 \u8df3\u7ebf\u6216 PCB \u4efb\u610f\u4ece\u5c5e [1] udp\uff1a32 tcp\uff1a26\uff08O\uff09 udp\uff1a33 tcp\uff1a25\uff08O\uff09 \u541e\u5410\u91cf\u66f4\u9ad8\uff0c\u4f46\u91c7\u7528\u534a\u53cc\u5de5 \u56db\u8def SPI \u9ad8\u6e05 7 \u4ec5 PCB \u4efb\u610f\u4ece\u5c5e [1] udp\uff1a41 tcp\uff1a29\uff08O\uff09 udp\uff1a42 tcp\uff1a28\uff08O\uff09 \u7531\u4e8e\u4fe1\u53f7\u5b8c\u6574\u6027\uff0cPCB \u662f\u5fc5\u9700\u7684 SDIO 1\u4f4d \u9ad8\u6e05 4 \u8df3\u7ebf\u6216 PCB ESP32\u3001ESP32-C6\u3001ESP32-C5 [3] \u5f85\u5b9a \u5f85\u5b9a \u57fa\u4e8e PCB \u7684 SDIO 4 \u4f4d\u57ab\u811a\u77f3 SDIO 4\u4f4d \u9ad8\u6e05 6 \u4ec5 PCB ESP32\u3001ESP32-C6\u3001ESP32-C5 [3] udp\uff1a79.5 tcp\uff1a53.4\uff08\u79d2\uff09 udp\uff1a68.1 tcp\uff1a44\uff08S\uff09 \u6700\u9ad8\u6027\u80fd \u4ec5\u9650 UART \u4e0a\u7684 BT FD 2 \u6216 4 \u8df3\u7ebf\u6216 PCB \u4efb\u610f\u4ece\u5c5e \u4e0d\u9002\u7528 \u4e0d\u9002\u7528 \u4e13\u7528\u84dd\u7259 UART \u5f15\u811a \u901a\u7528\u5f02\u6b65\u6536\u53d1\u5668 FD 2 \u8df3\u7ebf\u6216 PCB \u4efb\u610f\u4ece\u5c5e udp\uff1a0.68 tcp\uff1a0.67\uff08O\uff09 udp\uff1a0.68 tcp\uff1a0.60\uff08O\uff09 \u84dd\u7259\u548cWi-Fi\u4e13\u7528UART [2] \u4e13\u7528\u5e73\u53f0 FD \u989d\u5916 2 \u6216 4 \u8df3\u7ebf\u6216 PCB \u4efb\u610f\u4ece\u5c5e \u4e0d\u9002\u7528 \u4e0d\u9002\u7528 UART \u4e13\u7528\u4e8e\u4efb\u4f55\u5176\u4ed6\u4f20\u8f93\u65b9\u5f0f\u7684 BT \u548c Wi-Fi <p>\u7b14\u8bb0</p> <ul> <li>[1] ESP32 \u4e0d\u652f\u6301\u53cc/\u56db SPI</li> <li>[2] UART \u4ec5\u9002\u7528\u4e8e\u4f4e\u541e\u5410\u91cf\u73af\u5883</li> <li>[3] \u76ee\u524d\u5904\u4e8e BETA \u9636\u6bb5\uff0c\u652f\u6301 ESP32-C5\uff08<code>--preview</code>\u4f4d\u4e8e ESP-IDF master \u5206\u652f\uff09</li> </ul> <p>\u4f7f\u7528\u8df3\u7ebf\uff0c\u201c\u6807\u51c6 SPI\u201d\u548c\u201c\u53cc SPI\u201d\u89e3\u51b3\u65b9\u6848\u6700\u5bb9\u6613\u8bc4\u4f30\uff0c\u4e14\u5bf9\u786c\u4ef6\u6ca1\u6709\u592a\u591a\u4f9d\u8d56\u3002SDIO 1-Bit \u53ef\u4ee5\u4f7f\u7528\u8df3\u7ebf\u8fdb\u884c\u6d4b\u8bd5\uff0c\u4f46\u9700\u8981\u4e00\u4e9b\u989d\u5916\u7684\u786c\u4ef6\u914d\u7f6e\uff0c\u4f8b\u5982\u5b89\u88c5\u5916\u90e8\u4e0a\u62c9\u5bc4\u5b58\u5668\u3002</p> <p>\u5bf9\u4e8e\u4e13\u7528\u5e73\u53f0\uff0c\u84dd\u7259\u4f7f\u7528\u57fa\u4e8e UART \u7684\u6807\u51c6 HCI\u3002\u5728\u5176\u4ed6\u60c5\u51b5\u4e0b\uff0c\u84dd\u7259\u548c Wi-Fi \u4f7f\u7528\u76f8\u540c\u7684\u4f20\u8f93\u65b9\u5f0f\uff0c\u56e0\u6b64 GPIO \u66f4\u5c11\uff0c\u590d\u6742\u6027\u4e5f\u66f4\u4f4e\u3002\u5728\u5171\u4eab\u6a21\u5f0f\u4e0b\uff0c\u84dd\u7259\u4ee5 Hosted HCI\uff08\u591a\u8def\u590d\u7528\u6a21\u5f0f\uff09\u8fd0\u884c\u3002</p>"},{"location":"zephyr/3.zephyr%E9%80%9A%E7%94%A8%E5%9F%BA%E7%A1%80/17.zephyr%20espHosted%20wifi%E5%8D%8F%E5%A4%84%E7%90%86%E5%99%A8/#7-esp-hosted-mcu","title":"7 ESP-Hosted-MCU \u5934\u6587\u4ef6","text":""},{"location":"zephyr/3.zephyr%E9%80%9A%E7%94%A8%E5%9F%BA%E7%A1%80/17.zephyr%20espHosted%20wifi%E5%8D%8F%E5%A4%84%E7%90%86%E5%99%A8/#71-esp","title":"7.1 ESP \u6258\u7ba1\u6807\u5934","text":"<p>\u4e3b\u673a\u548c\u4ece\u673a\u603b\u662f\u5728\u6bcf\u4e00\u5e27\u5f00\u59cb\u65f6\u586b\u5145\u4e0b\u9762\u7684\u6807\u9898\uff0c\u800c\u4e0d\u7ba1\u6709\u6548\u8f7d\u8377\u4e2d\u7684\u5b9e\u9645\u6570\u636e\u6216\u865a\u62df\u6570\u636e\u3002</p> \u573a\u5730 \u7c7b\u578b \u4f4d \u5f3a\u5236\u7684\uff1f \u63cf\u8ff0 \u5982\u679c\u7c7b\u578b uint8_t 4 \u7c73 \u63a5\u53e3\u7c7b\u578b \u5982\u679c_num uint8_t 4 \u7c73 \u63a5\u53e3\u7f16\u53f7 \u65d7\u5e1c uint8_t 8 \u7c73 \u9644\u52a0\u4fe1\u606f\u6807\u5fd7 len uint16_t 16 \u7c73 \u6709\u6548\u8f7d\u8377\u7684\u957f\u5ea6 \u62b5\u6d88 uint16_t 16 \u7c73 \u6709\u6548\u8f7d\u8377\u7684\u504f\u79fb\u91cf \u6821\u9a8c\u548c uint16_t 16 \u7c73 \u9519\u8bef\u68c0\u6d4b\u7684\u6821\u9a8c\u548c\uff08\u5982\u679c\u7981\u7528\u6821\u9a8c\u548c\uff0c\u5219\u4e3a 0\uff09 \u5e8f\u5217\u53f7 uint16_t 16 \u54e6 \u8ddf\u8e2a\u6570\u636e\u5305\u7684\u5e8f\u5217\u53f7\uff08\u5728\u8c03\u8bd5\u65f6\u6709\u7528\uff09 throttle_cmd uint8_t 0 \u6216 2 \u54e6 \u6d41\u63a7\u547d\u4ee4 \u4fdd\u75592 uint8_t 6\u62168 \u7c73 \u4fdd\u7559\u4f4d \u4fdd\u75593 uint8_t 8 \u7c73 \u4fdd\u7559\u5b57\u8282\uff08\u8054\u5408\u5b57\u6bb5\uff09 hci_pkt_type \u6216 priv_pkt_type uint8_t 8 \u7c73 HCI \u63a5\u53e3\u7684\u6570\u636e\u5305\u7c7b\u578b\uff08\u8054\u5408\u5b57\u6bb5\uff09"},{"location":"zephyr/3.zephyr%E9%80%9A%E7%94%A8%E5%9F%BA%E7%A1%80/17.zephyr%20espHosted%20wifi%E5%8D%8F%E5%A4%84%E7%90%86%E5%99%A8/#72","title":"7.2 \u63a5\u53e3\u7c7b\u578b","text":"<p>\u62a5\u5934\u7684\u5f00\u59cb\u8868\u660e\u6b63\u5728\u627f\u8f7d\u54ea\u79cd\u7c7b\u578b\u7684\u5e27\u3002</p> \u63a5\u53e3\u7c7b\u578b \u4ef7\u503c \u63cf\u8ff0 ESP_INVALID_IF 0 \u65e0\u6548\u63a5\u53e3 ESP_STA_IF 1 \u7ad9\u67b6 ESP_AP_IF 2 SoftAP\u5e27 ESP_SERIAL_IF 3 \u63a7\u5236\u5e27 ESP_HCI_IF 4 \u84dd\u7259\u6258\u7ba1HCI\u6846\u67b6 ESP_PRIV_IF 5 \u4ece\u7ad9\u4e0e\u4e3b\u673a\u4e4b\u95f4\u7684\u79c1\u4eba\u901a\u4fe1 ESP_TEST_IF 6 \u4f20\u8f93\u541e\u5410\u91cf\u6d4b\u8bd5 ESP_ETH_IF 7 \u65e0\u6548\u7684 ESP_MAX_IF 8 \u865a\u62df\u6216\u7a7a\u6846\u67b6\u4e2d\u63d0\u5230\u7684\u7c7b\u578b"},{"location":"zephyr/3.zephyr%E9%80%9A%E7%94%A8%E5%9F%BA%E7%A1%80/17.zephyr%20espHosted%20wifi%E5%8D%8F%E5%A4%84%E7%90%86%E5%99%A8/#8","title":"8 \u8be6\u7ec6\u8bbe\u7f6e","text":"<p>\u4e00\u65e6\u60a8\u51b3\u5b9a\u4f7f\u7528\u54ea\u79cd\u4f20\u8f93\u65b9\u5f0f\uff0c\u672c\u8282\u5c06\u6307\u5bfc\u60a8\u5982\u4f55\u8bbe\u7f6e\u8be5\u4f20\u8f93\u65b9\u5f0f\uff0c\u5305\u62ec\u786c\u4ef6\u8fde\u63a5\u3001\u914d\u7f6e\u548c\u9a8c\u8bc1\u3002\u7528\u6237\u53ef\u4ee5\u5148\u8bc4\u4f30\u4e00\u79cd\u4f20\u8f93\u65b9\u5f0f\uff0c\u7136\u540e\u518d\u5c1d\u8bd5\u5176\u4ed6\u4f20\u8f93\u65b9\u5f0f\u3002</p> <p>\u91cd\u8981\u7684</p> <p>\u5728\u9009\u62e9\u4efb\u4f55\u4f20\u8f93\u65b9\u6848\u4e4b\u524d\uff0c\u53ef\u4ee5\u53c2\u8003\u4ee5\u4e0b\u8bbe\u8ba1\u6ce8\u610f\u4e8b\u9879\u3002\u53c2\u8003\u8fd9\u4e9b\u6ce8\u610f\u4e8b\u9879\u6709\u52a9\u4e8e\u60a8\u66f4\u5feb\u5730\u627e\u5230\u89e3\u51b3\u65b9\u6848\uff0c\u5e76\u4f7f\u60a8\u7684\u8bbe\u8ba1\u66f4\u52a0\u7a33\u5b9a\uff0c\u5e76\u51cf\u5c11\u9519\u8bef\u3002</p> <p>\u65e0\u8bba\u9009\u62e9\u54ea\u79cd\u8fd0\u8f93\u65b9\u5f0f\uff0c\u90fd\u9700\u8981\u6267\u884c\u4ee5\u4e0b\u6b65\u9aa4\uff0c\u6bcf\u79cd\u8fd0\u8f93\u65b9\u5f0f\u90fd\u4f1a\u9010\u6b65\u89e3\u91ca\u3002</p> <ol> <li>\u8bbe\u7f6e\u6258\u7ba1\u4f20\u8f93</li> <li> <p>\u4ece\u5c5e\u95ea\u70c1</p> </li> <li> <p>\u4ece\u5c5e\u9879\u76ee\u521b\u5efa</p> </li> <li>\u4ece\u5c5e\u914d\u7f6e</li> <li>\u4ece\u5c5e\u95ea\u70c1</li> <li> <p>\u4ece\u5c5e\u65e5\u5fd7</p> </li> <li> <p>\u4e3b\u673a\u95ea\u70c1</p> </li> <li> <p>\u4e3b\u673a\u9879\u76ee\u4e0e ESP-IDF \u96c6\u6210\u793a\u4f8b</p> </li> <li>\u4e3b\u673a\u914d\u7f6e</li> <li>\u4e3b\u673a\u95ea\u70c1</li> <li>\u4e3b\u673a\u65e5\u5fd7</li> <li>\u6807\u51c6SPI\uff08\u5168\u53cc\u5de5\uff09</li> <li>SPI - \u53cc/\u56db\u534a\u53cc\u5de5</li> <li>SDIO\uff081 \u4f4d / 4 \u4f4d\uff09</li> <li>\u7528\u4e8e Wi-Fi \u548c\u84dd\u7259\u7684 UART</li> </ol>"},{"location":"zephyr/3.zephyr%E9%80%9A%E7%94%A8%E5%9F%BA%E7%A1%80/17.zephyr%20espHosted%20wifi%E5%8D%8F%E5%A4%84%E7%90%86%E5%99%A8/#9","title":"9 \u4e2a\u4f8b\u5b50","text":"<p>\u68c0\u67e5\u793a\u4f8b\u76ee\u5f55\u4e2d\u4f7f\u7528 ESP-Hosted \u7684\u793a\u4f8b\u5e94\u7528\u7a0b\u5e8f\u3002</p> <ul> <li> <p><code>examples/host_bluedroid_ble_compatibility_test</code></p> </li> <li> <p>\u6258\u7ba1BlueDroid\u84dd\u7259\u793a\u4f8b\u6765\u6d4b\u8bd5\u84dd\u7259\u4e0e\u624b\u673a\u7684\u517c\u5bb9\u6027</p> </li> <li> <p><code>examples/host_bluedroid_bt_hid_mouse_device</code></p> </li> <li> <p>\u6258\u7ba1 BlueDroid \u84dd\u7259\u793a\u4f8b\uff0c\u5c55\u793a\u5982\u4f55\u4f7f\u7528\u7ecf\u5178\u84dd\u7259 HID \u914d\u7f6e\u6587\u4ef6\u63d0\u4f9b\u7684 API \u5b9e\u73b0\u84dd\u7259 HID \u8bbe\u5907</p> </li> <li> <p><code>examples/host_bluedroid_host_only</code></p> </li> <li> <p>\u4e3b\u673a BlueDroid \u84dd\u7259\u793a\u4f8b\u84dd\u7259\u4e3b\u673a\u4f7f\u7528 ESP-Hosted \u4f5c\u4e3a BT \u63a7\u5236\u5668\u7684 HCI IO</p> </li> <li> <p><code>examples/host_nimble_bleprph_host_only_vhci</code></p> </li> <li> <p>\u6258\u7ba1 NimBLE \u84dd\u7259\u793a\u4f8b\uff0c\u65e0\u9700\u989d\u5916\u7684 GPIO \u8fdb\u884c HCI \u4f20\u8f93</p> </li> </ul>"},{"location":"zephyr/3.zephyr%E9%80%9A%E7%94%A8%E5%9F%BA%E7%A1%80/17.zephyr%20espHosted%20wifi%E5%8D%8F%E5%A4%84%E7%90%86%E5%99%A8/#10","title":"10 \u6545\u969c\u6392\u9664","text":"<p>\u5982\u679c\u60a8\u5728\u4f7f\u7528 ESP-Hosted \u65f6\u9047\u5230\u95ee\u9898\uff0c\u8bf7\u53c2\u9605\u4ee5\u4e0b\u6307\u5357\uff1a</p> <ul> <li>\u6545\u969c\u6392\u9664\u6307\u5357</li> </ul>"},{"location":"zephyr/3.zephyr%E9%80%9A%E7%94%A8%E5%9F%BA%E7%A1%80/17.zephyr%20espHosted%20wifi%E5%8D%8F%E5%A4%84%E7%90%86%E5%99%A8/#11","title":"11 \u53c2\u8003\u6587\u732e","text":"<ul> <li>ESP \u4ea7\u54c1\u9009\u62e9\u5668\u9875\u9762</li> <li>ESP-IDF \u5165\u95e8\u6307\u5357</li> <li>ESP-IDF Wi-Fi API</li> <li>ESP-IDF Iperf \u793a\u4f8b</li> <li>ESP-IDF NimBLE</li> <li>ESP \u7ec4\u4ef6\u6ce8\u518c\u8868</li> <li>\u6ce8\u518c\u8868\u7ec4\u4ef6\uff1aesp_wifi_remote</li> <li>\u6ce8\u518c\u8868\u7ec4\u4ef6\uff1aesp_hosted</li> </ul>"},{"location":"zephyr/3.zephyr%E9%80%9A%E7%94%A8%E5%9F%BA%E7%A1%80/5.zephyr%E7%9B%AE%E5%BD%95%E7%BB%93%E6%9E%84/","title":"5.zephyr\u76ee\u5f55\u7ed3\u6784","text":""},{"location":"zephyr/3.zephyr%E9%80%9A%E7%94%A8%E5%9F%BA%E7%A1%80/5.zephyr%E7%9B%AE%E5%BD%95%E7%BB%93%E6%9E%84/#zephyr","title":"zephyr \u76ee\u5f55\u7ed3\u6784","text":"<pre><code>|-- arch\n|-- boards\n|-- build\n|-- cmake\n|-- doc\n|-- drivers\n|-- dts\n|-- include\n|-- kernel\n|-- lib\n|-- misc\n|-- modules\n|-- samples\n|-- scripts\n|-- share\n|-- snippets\n|-- soc\n|-- submanifests\n|-- subsys\n|-- tests\n</code></pre>"},{"location":"zephyr/3.zephyr%E9%80%9A%E7%94%A8%E5%9F%BA%E7%A1%80/5.zephyr%E7%9B%AE%E5%BD%95%E7%BB%93%E6%9E%84/#arch","title":"arch/","text":"<p>\u5b58\u653e\u4e0e\u5904\u7406\u5668\u67b6\u6784\u76f8\u5173\u7684\u4ee3\u7801\uff0c\u6bcf\u4e2a\u5904\u7406\u5668\u67b6\u6784\u90fd\u6709\u4e00\u4e2a\u72ec\u7acb\u7684\u5b50\u76ee\u5f55\uff0c\u5982 <code>arm/</code>\u3001<code>x86/</code>\u3001<code>riscv/</code> \u7b49\uff0c\u5305\u62ec\u542f\u52a8\u4ee3\u7801\u3001\u6c47\u7f16\u903b\u8f91\u3001\u4e0a\u4e0b\u6587\u5207\u6362\u3001\u67b6\u6784\u7279\u5b9a\u7684\u5185\u6838\u63a5\u53e3\u5b9e\u73b0\u7b49\u3002  </p> <ul> <li>\u652f\u6301\u67b6\u6784\u5982\u4e0b</li> </ul> <p></p>"},{"location":"zephyr/3.zephyr%E9%80%9A%E7%94%A8%E5%9F%BA%E7%A1%80/5.zephyr%E7%9B%AE%E5%BD%95%E7%BB%93%E6%9E%84/#boards","title":"boards/","text":"<p>\u5b58\u653e\u677f\u7ea7\u652f\u6301\u5305\uff08BSP\uff09\uff0c\u4e3a\u4e0d\u540c\u5f00\u53d1\u677f\u63d0\u4f9b\u5bf9\u5e94\u7684\u914d\u7f6e\u3001\u5f15\u811a\u5b9a\u4e49\u3001\u8bbe\u5907\u6811\uff08\u6216\u8bbe\u5907\u6811\u7247\u6bb5\uff09\u3001\u7f16\u8bd1\u9009\u9879\u7b49\u3002</p> <ul> <li>\u6bcf\u5757\u677f\u90fd\u6709\u4e00\u4e2a\u5355\u72ec\u7684\u76ee\u5f55\uff0c\u5176\u4e0b\u5305\u542b <code>Kconfig</code>\u3001<code>defconfig</code>\u3001<code>board.cmake</code>\u3001<code>dts</code> \u7b49\uff0c\u7528\u4e8e\u63cf\u8ff0\u786c\u4ef6\u8d44\u6e90\u3001\u7f16\u8bd1\u53c2\u6570\u548c\u5f15\u5bfc\u6d41\u7a0b\u3002</li> </ul> <p>\u4e00\u4e9b\u662f\u82af\u7247\u5382\u5546\u7684\u7684\u6d4b\u8bd5\u677f\uff0c\u4e00\u4e9b\u662f\u7b2c\u4e09\u65b9\u7684\u677f</p> <p>\u4ee5\u4e00\u4e2aboard\u4e3a\u4f8b\uff0c\u5b9a\u4e49\u6587\u4ef6\u5982\u4e0b</p> <p></p>"},{"location":"zephyr/3.zephyr%E9%80%9A%E7%94%A8%E5%9F%BA%E7%A1%80/5.zephyr%E7%9B%AE%E5%BD%95%E7%BB%93%E6%9E%84/#build","title":"build/","text":"<p>\u901a\u5e38\u662f\u7f16\u8bd1\u751f\u6210\u7684\u4e2d\u95f4\u6587\u4ef6\u548c\u6700\u7ec8\u4ea7\u7269\u8f93\u51fa\u76ee\u5f55\uff08\u7f16\u8bd1\u540e\u4ea7\u751f\u7684\u76ee\u5f55\uff0c\u9ed8\u8ba4\u7531 CMake \u751f\u6210\uff09\u3002</p> <ul> <li>\u5728 Zephyr \u7684\u793a\u4f8b\u5de5\u7a0b\u6216\u5e94\u7528\u5de5\u7a0b\u4e2d\uff0c\u6700\u597d\u5728\u5de5\u7a0b\u7684\u6839\u76ee\u5f55\u4e4b\u5916\u6216\u6307\u5b9a\u4f4d\u7f6e\u521b\u5efa <code>build/</code> \u6587\u4ef6\u5939\uff0c\u7528\u4e8e\u5b58\u653e\u4e34\u65f6\u5bf9\u8c61\u6587\u4ef6\u548c\u6700\u7ec8\u7684\u53ef\u6267\u884c/\u955c\u50cf\u6587\u4ef6\uff0c\u907f\u514d\u6c61\u67d3\u6e90\u7801\u3002</li> </ul>"},{"location":"zephyr/3.zephyr%E9%80%9A%E7%94%A8%E5%9F%BA%E7%A1%80/5.zephyr%E7%9B%AE%E5%BD%95%E7%BB%93%E6%9E%84/#cmake","title":"cmake/","text":"<p>Zephyr \u7684 CMake \u811a\u672c\u548c\u6a21\u5757\u96c6\u5408\uff0c\u5305\u542b\u6784\u5efa\u7cfb\u7edf\u7684\u6838\u5fc3\u903b\u8f91\u3001\u5de5\u5177\u94fe\u914d\u7f6e\u3001\u7f16\u8bd1\u89c4\u5219\u7b49\u3002</p> <ul> <li>\u7528\u4e8e\u8bbe\u7f6e\u5404\u4e2a\u67b6\u6784\u7684\u7f16\u8bd1\u9009\u9879\u3001\u751f\u6210\u6700\u7ec8\u955c\u50cf\u6216\u5e93\u6587\u4ef6\u6240\u9700\u8981\u7684\u811a\u672c\u3002</li> </ul>"},{"location":"zephyr/3.zephyr%E9%80%9A%E7%94%A8%E5%9F%BA%E7%A1%80/5.zephyr%E7%9B%AE%E5%BD%95%E7%BB%93%E6%9E%84/#doc","title":"doc/","text":"<p>\u5b58\u653e Zephyr \u5b98\u65b9\u6587\u6863\u7684\u6e90\u6587\u4ef6\uff08\u901a\u5e38\u4f7f\u7528 reStructuredText / Sphinx \u8fdb\u884c\u751f\u6210\uff09\u3002</p> <ul> <li>\u5305\u62ec\u7528\u6237\u6307\u5357\u3001API \u6587\u6863\u3001\u5f00\u53d1\u8005\u624b\u518c\u3001\u6559\u7a0b\u793a\u4f8b\u7b49\u3002</li> </ul>"},{"location":"zephyr/3.zephyr%E9%80%9A%E7%94%A8%E5%9F%BA%E7%A1%80/5.zephyr%E7%9B%AE%E5%BD%95%E7%BB%93%E6%9E%84/#drivers","title":"drivers/","text":"<p>\u5b58\u653e\u5404\u79cd\u786c\u4ef6\u5916\u8bbe\u9a71\u52a8\uff0c\u5305\u62ec UART\u3001SPI\u3001I2C\u3001GPIO\u3001\u95ea\u5b58\u3001\u4f20\u611f\u5668\u7b49\u8bbe\u5907\u7684\u9a71\u52a8\u5b9e\u73b0\u3002</p> <ul> <li>\u901a\u5e38\u4ee5\u529f\u80fd\u6216\u603b\u7ebf\u8fdb\u884c\u5206\u7c7b\uff0c\u5982 <code>sensor/</code>\u3001<code>serial/</code>\u3001<code>gpio/</code> \u7b49\uff0c\u4ee3\u7801\u4e2d\u5b9e\u73b0\u8bbe\u5907\u62bd\u8c61\u5c42 (HAL) \u6216\u66f4\u4e0a\u5c42\u7684\u9a71\u52a8\u63a5\u53e3\u3002</li> </ul> <p></p>"},{"location":"zephyr/3.zephyr%E9%80%9A%E7%94%A8%E5%9F%BA%E7%A1%80/5.zephyr%E7%9B%AE%E5%BD%95%E7%BB%93%E6%9E%84/#dts","title":"dts/","text":"<p>\u5b58\u653e\u516c\u7528\u7684\u8bbe\u5907\u6811\u6587\u4ef6\u7247\u6bb5\uff08Device Tree Sources\uff09\uff0c\u7528\u4e8e\u63cf\u8ff0\u786c\u4ef6\u8d44\u6e90\u3001\u5916\u8bbe\u4fe1\u606f\u3002</p> <ul> <li>Zephyr \u91c7\u7528 Devicetree \u6765\u914d\u7f6e\u8bbe\u5907\u4e0e\u9a71\u52a8\uff0c\u901a\u8fc7 <code>dts/</code> \u4e0b\u7684 <code>.dtsi</code> \u6587\u4ef6\u4e0e <code>boards/</code> \u4e0b\u7684\u7279\u5b9a\u6587\u4ef6\u7ed3\u5408\uff0c\u6700\u7ec8\u751f\u6210\u7f16\u8bd1\u6240\u9700\u7684\u5934\u6587\u4ef6\u3002</li> </ul>"},{"location":"zephyr/3.zephyr%E9%80%9A%E7%94%A8%E5%9F%BA%E7%A1%80/5.zephyr%E7%9B%AE%E5%BD%95%E7%BB%93%E6%9E%84/#include","title":"include/","text":"<p>Zephyr \u7684\u516c\u5171\u5934\u6587\u4ef6\u76ee\u5f55\uff0c\u4f9b\u5185\u6838\u3001\u5b50\u7cfb\u7edf\u4ee5\u53ca\u5e94\u7528\u4f7f\u7528\u3002</p> <ul> <li>\u5305\u542b\u5404\u79cd\u516c\u5171 API\u3001\u5185\u6838\u5b9a\u4e49\u3001\u5185\u7f6e\u5b8f\u548c\u5e38\u91cf\u7b49\uff0c\u5982 <code>kernel.h</code>\u3001<code>device.h</code>\u3001<code>sys/</code> \u7b49\u5b50\u76ee\u5f55\u3002</li> </ul>"},{"location":"zephyr/3.zephyr%E9%80%9A%E7%94%A8%E5%9F%BA%E7%A1%80/5.zephyr%E7%9B%AE%E5%BD%95%E7%BB%93%E6%9E%84/#kernel","title":"kernel/","text":"<p>Zephyr \u5185\u6838\u7684\u6838\u5fc3\u90e8\u5206\uff0c\u5305\u62ec\u4efb\u52a1\u8c03\u5ea6\u3001\u7ebf\u7a0b\u7ba1\u7406\u3001\u5185\u5b58\u7ba1\u7406\u3001\u540c\u6b65\u673a\u5236\u3001\u4e2d\u65ad\u7ba1\u7406\u7b49\u6838\u5fc3\u6a21\u5757\u7684\u5b9e\u73b0\u3002</p> <ul> <li>\u8fd9\u91cc\u662f\u6574\u4e2a\u64cd\u4f5c\u7cfb\u7edf\u7684\u6700\u57fa\u7840\u903b\u8f91\uff0c\u51b3\u5b9a\u4e86 Zephyr \u7684\u5b9e\u65f6\u6027\u548c\u591a\u4efb\u52a1\u80fd\u529b\u3002</li> </ul>"},{"location":"zephyr/3.zephyr%E9%80%9A%E7%94%A8%E5%9F%BA%E7%A1%80/5.zephyr%E7%9B%AE%E5%BD%95%E7%BB%93%E6%9E%84/#lib","title":"lib/","text":"<p>\u7cfb\u7edf\u6216\u7b2c\u4e09\u65b9\u901a\u7528\u529f\u80fd\u7684\u5e93\u6587\u4ef6\uff0c\u5982 C \u6807\u51c6\u5e93\u7684\u90e8\u5206\u5b9e\u73b0\u3001\u6570\u5b66\u5e93\u3001\u5b57\u7b26\u4e32\u5904\u7406\u7b49\u3002</p> <ul> <li>\u901a\u5e38\u662f\u4e0e\u786c\u4ef6\u65e0\u5173\u7684\u901a\u7528\u529f\u80fd\u96c6\u5408\uff0c\u53ef\u4ee5\u88ab\u5185\u6838\u3001\u9a71\u52a8\u548c\u5e94\u7528\u7edf\u4e00\u4f7f\u7528\u3002</li> </ul> <p></p>"},{"location":"zephyr/3.zephyr%E9%80%9A%E7%94%A8%E5%9F%BA%E7%A1%80/5.zephyr%E7%9B%AE%E5%BD%95%E7%BB%93%E6%9E%84/#misc","title":"misc/","text":"<p>\u5b58\u653e\u4e00\u4e9b\u96f6\u6563\u7684\u3001\u96be\u4ee5\u5f52\u7c7b\u6216\u901a\u7528\u7684\u811a\u672c\u3001\u5de5\u5177\u6216\u793a\u4f8b\u914d\u7f6e\u6587\u4ef6\uff08\u5728\u540e\u7eed\u7248\u672c\u4e2d\u6709\u53ef\u80fd\u4f1a\u8c03\u6574\u6216\u5408\u5e76\u5230\u66f4\u5408\u9002\u7684\u4f4d\u7f6e\uff09\u3002</p>"},{"location":"zephyr/3.zephyr%E9%80%9A%E7%94%A8%E5%9F%BA%E7%A1%80/5.zephyr%E7%9B%AE%E5%BD%95%E7%BB%93%E6%9E%84/#modules","title":"modules/","text":"<p>\u5b58\u653e\u4e0e Zephyr \u96c6\u6210\u7684\u5916\u90e8\u7ec4\u4ef6\u6216\u5b50\u6a21\u5757\uff08\u4f8b\u5982\u5176\u4ed6\u5f00\u6e90\u5e93\u3001\u7b2c\u4e09\u65b9\u534f\u8bae\u6808\u7b49\uff09\u3002</p> <ul> <li>\u901a\u8fc7 <code>west</code> \u6216\u8005 Git submodule \u5f15\u5165\u7684\u7ec4\u4ef6\uff0c\u901a\u5e38\u5728\u6b64\u8fdb\u884c\u7edf\u4e00\u7ba1\u7406\u548c\u914d\u7f6e\u3002</li> </ul> <p></p>"},{"location":"zephyr/3.zephyr%E9%80%9A%E7%94%A8%E5%9F%BA%E7%A1%80/5.zephyr%E7%9B%AE%E5%BD%95%E7%BB%93%E6%9E%84/#samples","title":"samples/","text":"<p>Zephyr \u63d0\u4f9b\u7684\u5b98\u65b9\u793a\u4f8b\u4ee3\u7801\uff0c\u7528\u4e8e\u6f14\u793a\u5404\u79cd\u529f\u80fd\u3001\u5b50\u7cfb\u7edf\u548c\u9a71\u52a8\u7684\u4f7f\u7528\u65b9\u5f0f\u3002</p> <ul> <li>\u76ee\u5f55\u4e0b\u901a\u5e38\u6309\u529f\u80fd\u6216\u4e3b\u9898\u8fdb\u884c\u5206\u7c7b\uff0c\u4f8b\u5982 <code>hello_world/</code>\u3001<code>basic/</code>\u3001<code>bluetooth/</code>\u3001<code>drivers/</code> \u7b49\u3002</li> </ul> <p></p>"},{"location":"zephyr/3.zephyr%E9%80%9A%E7%94%A8%E5%9F%BA%E7%A1%80/5.zephyr%E7%9B%AE%E5%BD%95%E7%BB%93%E6%9E%84/#scripts","title":"scripts/","text":"<p>\u5b58\u653e\u6784\u5efa\u3001\u6d4b\u8bd5\u3001\u4ee3\u7801\u68c0\u67e5\u7b49\u76f8\u5173\u811a\u672c\uff0c\u4ee5\u53ca\u4e00\u4e9b\u8f85\u52a9\u6027\u7684 Python \u5de5\u5177\u3001CMake \u6269\u5c55\u811a\u672c\u7b49\u3002</p>"},{"location":"zephyr/3.zephyr%E9%80%9A%E7%94%A8%E5%9F%BA%E7%A1%80/5.zephyr%E7%9B%AE%E5%BD%95%E7%BB%93%E6%9E%84/#share","title":"share/","text":"<p>\u4e00\u4e9b\u5171\u4eab\u8d44\u6e90\u6587\u4ef6\u6216\u5de5\u5177\u6240\u9700\u8981\u7684\u9644\u52a0\u8d44\u6e90\uff08\u53ef\u80fd\u5305\u542b\u6587\u6863\u3001\u811a\u672c\u6216\u793a\u4f8b\u5de5\u7a0b\u6587\u4ef6\uff09\uff0c\u4f9b Zephyr \u5185\u90e8\u6216\u5916\u90e8\u5de5\u5177\u4f7f\u7528\u3002</p>"},{"location":"zephyr/3.zephyr%E9%80%9A%E7%94%A8%E5%9F%BA%E7%A1%80/5.zephyr%E7%9B%AE%E5%BD%95%E7%BB%93%E6%9E%84/#snippets","title":"snippets/","text":"<p>\u5b58\u653e\u4ee3\u7801\u7247\u6bb5\u6216\u6f14\u793a\u7247\u6bb5\uff0c\u4e00\u822c\u7528\u4e8e\u6587\u6863\u793a\u4f8b\u6216\u77ed\u5c0f\u7684\u529f\u80fd\u6f14\u793a\u3002</p>"},{"location":"zephyr/3.zephyr%E9%80%9A%E7%94%A8%E5%9F%BA%E7%A1%80/5.zephyr%E7%9B%AE%E5%BD%95%E7%BB%93%E6%9E%84/#soc","title":"soc/","text":"<p>\u4e0e SoC (System on Chip) \u76f8\u5173\u7684\u4ee3\u7801\uff0c\u6bd4\u5982\u7279\u5b9a\u5382\u5546\u6216\u7279\u5b9a\u7cfb\u5217\u82af\u7247\u7684\u521d\u59cb\u5316\u3001\u65f6\u949f\u914d\u7f6e\u3001\u5bc4\u5b58\u5668\u5b9a\u4e49\u7b49\u3002</p> <ul> <li>\u8be5\u76ee\u5f55\u4e0b\u4f1a\u7ec6\u5206\u4e0d\u540c\u5382\u5546\uff08\u5982 <code>nxp/</code>\u3001<code>stm32/</code> \u7b49\uff09\uff0c\u6bcf\u4e2a\u5382\u5546\u518d\u7ec6\u5206\u4e0d\u540c\u7cfb\u5217\u548c\u5177\u4f53 SoC\u3002</li> </ul>"},{"location":"zephyr/3.zephyr%E9%80%9A%E7%94%A8%E5%9F%BA%E7%A1%80/5.zephyr%E7%9B%AE%E5%BD%95%E7%BB%93%E6%9E%84/#submanifests","title":"submanifests/","text":"<p>\u5b58\u653e Zephyr \u4e2d\u4e00\u4e9b\u4f9d\u8d56\u6216\u5b50\u6a21\u5757\u7684 <code>west.yml</code>\u3001<code>manifest.yml</code> \u7b49\uff0c\u7ba1\u7406\u591a\u4ed3\u5e93\u7684\u4f9d\u8d56\u5173\u7cfb\u3002</p> <ul> <li>\u7528\u4e8e Zephyr \u7684\u7ec4\u4ef6\u5316\u5f00\u53d1\uff0c\u65b9\u4fbf\u5c06\u591a\u4e2a\u4ed3\u5e93\u7684\u4f9d\u8d56\u8fdb\u884c\u7edf\u4e00\u7684\u7248\u672c\u7ba1\u7406\u3002</li> </ul>"},{"location":"zephyr/3.zephyr%E9%80%9A%E7%94%A8%E5%9F%BA%E7%A1%80/5.zephyr%E7%9B%AE%E5%BD%95%E7%BB%93%E6%9E%84/#subsys","title":"subsys/","text":"<p>Zephyr \u7684\u5404\u4e2a\u5b50\u7cfb\u7edf\uff0c\u6bd4\u5982\u7f51\u7edc\u6808 (<code>net/</code>)\u3001\u84dd\u7259 (<code>bluetooth/</code>)\u3001\u7535\u6e90\u7ba1\u7406 (<code>pm/</code>)\u3001\u6587\u4ef6\u7cfb\u7edf (<code>fs/</code>)   shell \u7b49\u90fd\u5728\u8fd9\u91cc\u5b9e\u73b0\u3002</p> <ul> <li>\u6bcf\u4e2a\u5b50\u7cfb\u7edf\u90fd\u5305\u542b\u4e86\u5b83\u81ea\u5df1\u7684 API\u3001\u5185\u90e8\u903b\u8f91\u4ee5\u53ca\u4e0e\u5185\u6838\u7684\u96c6\u6210\u3002</li> </ul> <p></p>"},{"location":"zephyr/3.zephyr%E9%80%9A%E7%94%A8%E5%9F%BA%E7%A1%80/5.zephyr%E7%9B%AE%E5%BD%95%E7%BB%93%E6%9E%84/#tests","title":"tests/","text":"<p>Zephyr \u63d0\u4f9b\u7684\u5b98\u65b9\u6d4b\u8bd5\u7528\u4f8b\u548c\u6d4b\u8bd5\u6846\u67b6\uff0c\u7528\u4e8e\u9a8c\u8bc1\u5185\u6838\u3001\u9a71\u52a8\u548c\u5404\u4e2a\u5b50\u7cfb\u7edf\u7684\u529f\u80fd\u3001\u6027\u80fd\u548c\u7a33\u5b9a\u6027\u3002</p> <ul> <li>\u4e5f\u5305\u62ec\u4e0e Continuous Integration (CI) \u7ed3\u5408\u7684\u81ea\u52a8\u6d4b\u8bd5\u914d\u7f6e\uff0c\u5f00\u53d1\u8005\u53ef\u4ee5\u57fa\u4e8e\u8fd9\u4e9b\u5355\u5143\u6d4b\u8bd5\u6216\u96c6\u6210\u6d4b\u8bd5\u8fdb\u884c\u53c2\u8003\u6216\u6269\u5c55\u3002</li> </ul>"},{"location":"zephyr/3.zephyr%E9%80%9A%E7%94%A8%E5%9F%BA%E7%A1%80/6.zephyr%E6%94%AF%E6%8C%81%E7%9A%84arm%E8%8A%AF%E7%89%87%E5%8E%82%E5%95%86/","title":"6.zephyr\u652f\u6301\u7684arm\u82af\u7247\u5382\u5546","text":""},{"location":"zephyr/3.zephyr%E9%80%9A%E7%94%A8%E5%9F%BA%E7%A1%80/6.zephyr%E6%94%AF%E6%8C%81%E7%9A%84arm%E8%8A%AF%E7%89%87%E5%8E%82%E5%95%86/#zephyr-arm","title":"Zephyr \u652f\u6301\u7684arm \u82af\u7247","text":"<p>\u8bbe\u5907\u6811\u53ef\u4ee5\u770b\u5230zephyr \u652f\u6301\u7684\u82af\u7247\u5382\u5546</p> <p>\u6700\u65b0\u7684\u76f4\u63a5\u770b\u4e3b\u7ebf\u6e90\u7801 \uff08\u7b80\u5355\u7c97\u66b4\uff09\uff1ahttps://github.com/zephyrproject-rtos/zephyr/tree/main/dts/arm</p> <p>\u4e0b\u9762\u7684\u662f4.1\u7248\u672c</p> <p>zephyr\\dts\\arm\u76ee\u5f55\u4e2d\u67e5\u770b</p> <p></p> <pre><code>$ tree -L 1\n.\n|-- acsip\n|-- adi\n|-- ambiq\n|-- antmicro\n|-- armv6-m.dtsi\n|-- armv7-a.dtsi\n|-- armv7-m.dtsi\n|-- armv7-r.dtsi\n|-- armv8-m.dtsi\n|-- armv8-r.dtsi\n|-- armv8.1-m.dtsi\n|-- aspeed\n|-- atmel\n|-- broadcom\n|-- cortex_r8_virt.dtsi\n|-- ene\n|-- gd\n|-- infineon\n|-- intel_socfpga_std\n|-- microchip\n|-- nordic\n|-- nuvoton\n|-- nxp\n|-- oct\n|-- olimex\n|-- quicklogic\n|-- rakwireless\n|-- raspberrypi\n|-- realtek\n|-- renesas\n|-- seeed_studio\n|-- silabs\n|-- st\n|-- ti\n|-- we\n-- xilinx \n</code></pre>"},{"location":"zephyr/3.zephyr%E9%80%9A%E7%94%A8%E5%9F%BA%E7%A1%80/6.zephyr%E6%94%AF%E6%8C%81%E7%9A%84arm%E8%8A%AF%E7%89%87%E5%8E%82%E5%95%86/#8","title":"\ud83c\udde8\ud83c\uddf3 \u56fd\u4ea7\u82af\u7247\u5382\u5546\uff088\u4e2a\uff09","text":"\u6587\u4ef6\u5939/\u540d\u5b57 \u5382\u5546\u540d \u7b80\u4ecb gd GigaDevice\uff08\u5146\u6613\u521b\u65b0\uff09 \u4ee5 GD32 MCU \u7cfb\u5217\u4e3a\u4e3b\uff0c\u662f STM32 \u7684\u56fd\u4ea7\u66ff\u4ee3\u54c1 nuvoton \u65b0\u5510\u79d1\u6280\uff08Nuvoton\uff09 \u6765\u81ea\u53f0\u6e7e\u7684\u82af\u7247\u516c\u53f8\uff0c\u63d0\u4f9b M0\u3001M4 \u7cfb\u5217 realtek \u745e\u6631\uff08Realtek\uff09 WiFi/\u97f3\u9891/\u5d4c\u5165\u5f0f SoC \u4f9b\u5e94\u5546\uff0c\u5982 RTL87xx seeed_studio Seeed Studio\uff08\u77fd\u9012\u79d1\u6280\uff09 \u867d\u7136\u662f\u5e73\u53f0\u5546\uff0c\u4f46\u4e5f\u6709\u5b9a\u5236\u56fd\u4ea7\u82af\u7247\u6a21\u7ec4 rakwireless RAK \u65e0\u7ebf \u4e3b\u8981\u505a LoRa \u65e0\u7ebf\u6a21\u5757\uff0c\u57fa\u4e8e\u56fd\u4ea7\u6216\u56fd\u9645\u82af\u7247 we \u82af\u65fa\u5fae\uff08WinnerMicro\uff09 WiFi MCU\uff0c\u5df2\u88ab\u963f\u91cc\u5df4\u5df4\u6536\u8d2d\uff08\u5982 W800/W801\uff09 oct \u5f00\u53d1\u5e73\u53f0 OCT \u5f88\u53ef\u80fd\u662f\u56fd\u4ea7\u5b9a\u5236\u82af\u7247\u5e73\u53f0\uff08\u4e0d\u5e38\u89c1\uff09 ene \u6b23\u9896\u7535\u5b50\uff08ENE\uff09 \u53f0\u6e7e\u5382\u5546\uff0c\u505a EC\uff08\u5d4c\u5165\u5f0f\u63a7\u5236\u5668\uff09\u82af\u7247"},{"location":"zephyr/3.zephyr%E9%80%9A%E7%94%A8%E5%9F%BA%E7%A1%80/6.zephyr%E6%94%AF%E6%8C%81%E7%9A%84arm%E8%8A%AF%E7%89%87%E5%8E%82%E5%95%86/#18","title":"\ud83c\udf0d \u975e\u56fd\u4ea7/\u56fd\u9645\u4e3b\u6d41\u82af\u7247\u5382\u5546\uff0818\u4e2a\uff09","text":"\u6587\u4ef6\u5939/\u540d\u5b57 \u5382\u5546\u540d \u7b80\u4ecb acsip AcSiP \u65e0\u7ebf\u6a21\u7ec4\u5382\u5546\uff0c\u57fa\u4e8e Nordic \u7b49\u82af\u7247 adi Analog Devices \u6a21\u62df\u82af\u7247\u548c MCU \u65b9\u6848\uff08\u5982 ADuCM \u7cfb\u5217\uff09 ambiq Ambiq Micro \u8d85\u4f4e\u529f\u8017 ARM Cortex-M \u7cfb\u5217\uff0c\u5982 Apollo3 antmicro Antmicro \u5d4c\u5165\u5f0f\u5e73\u53f0\u516c\u53f8\uff0c\u4e0e Zephyr \u793e\u533a\u5bc6\u5207\u5408\u4f5c armv6-m.dtsi \uff5e armv8.1-m.dtsi Arm ARM \u67b6\u6784\u901a\u7528\u5b9a\u4e49\uff0c\u4e0d\u5c5e\u4e8e\u5177\u4f53\u5382\u5546 aspeed ASPEED BMC \u82af\u7247\u4f9b\u5e94\u5546\uff08\u670d\u52a1\u5668\u7ba1\u7406\u63a7\u5236\u5668\uff09 atmel Atmel\uff08\u5df2\u88ab Microchip \u6536\u8d2d\uff09 \u7ecf\u5178 AVR/M0/M4 \u82af\u7247 broadcom Broadcom \u4e3b\u8981\u662f\u7f51\u7edc\u82af\u7247\u548c Raspberry Pi SoC infineon Infineon\uff08\u82f1\u98de\u51cc\uff09 \u6c7d\u8f66\u548c\u5de5\u4e1a\u7ea7 MCU\uff08\u6536\u8d2d\u4e86 Cypress\uff09 intel_socfpga_std Intel FPGA + ARM SoC\uff08\u5982 Cyclone V SoC\uff09 microchip Microchip AVR, PIC, SAM \u7cfb\u5217 nordic Nordic Semiconductor BLE \u4e3b\u6253\uff0cnRF51/nRF52/nRF53/nRF91 nxp NXP \u6069\u667a\u6d66 Cortex-M\u3001i.MX RT\u3001Kinetis \u7cfb\u5217 olimex Olimex \u677f\u5361\u5382\u5546\uff0c\u4f7f\u7528 Allwinner/NXP \u7b49\u82af\u7247 quicklogic QuickLogic \u8d85\u4f4e\u529f\u8017 FPGA / MCU \u65b9\u6848 raspberrypi Raspberry Pi BCM283x \u7cfb\u5217\u82af\u7247 renesas \u745e\u8428\u7535\u5b50 RX/RA \u7cfb\u5217 MCU\u3001\u6c7d\u8f66 SoC silabs Silicon Labs Zigbee/Thread/WiFi SoC\uff0c\u5982 EFR32 st STMicroelectronics STM32 \u7cfb\u5217\uff08F0~H7\uff09 ti Texas Instruments MSP430, CC13xx/26xx, Sitara \u7cfb\u5217 xilinx Xilinx\uff08\u5df2\u88ab AMD \u6536\u8d2d\uff09 Zynq SoC\uff08ARM + FPGA\uff09"},{"location":"zephyr/3.zephyr%E9%80%9A%E7%94%A8%E5%9F%BA%E7%A1%80/6.zephyr%E6%94%AF%E6%8C%81%E7%9A%84arm%E8%8A%AF%E7%89%87%E5%8E%82%E5%95%86/#qemu","title":"\ud83e\uddea \u5176\u4ed6\u6216\u865a\u62df\u5e73\u53f0QEMU","text":"\u6587\u4ef6\u5939/\u540d\u5b57 \u542b\u4e49 \u5907\u6ce8 armv6-m.dtsi \u7b49 \u67b6\u6784\u7ea7\u8bbe\u5907\u6811\u7247\u6bb5 ARM \u67b6\u6784\u901a\u7528\u5b9a\u4e49\uff0c\u7528\u4e8e SoC \u7ee7\u627f cortex_r8_virt.dtsi \u865a\u62df Cortex-R8 \u5e73\u53f0 \u901a\u5e38\u662f\u6d4b\u8bd5\u6216\u6a21\u62df\u5e73\u53f0 antmicro\u3001seeed_studio\u3001rakwireless \u53ef\u80fd\u662f\u677f\u5361\u5e73\u53f0\u96c6\u6210\u5546 \u5e76\u4e0d\u76f4\u63a5\u5236\u9020\u82af\u7247"},{"location":"zephyr/3.zephyr%E9%80%9A%E7%94%A8%E5%9F%BA%E7%A1%80/6.zephyr%E6%94%AF%E6%8C%81%E7%9A%84arm%E8%8A%AF%E7%89%87%E5%8E%82%E5%95%86/#_1","title":"\u603b\u7ed3","text":"<p>\u76ee\u524d\u6765\u770b\u56fd\u4ea7\u7684\u82af\u7247\u53bb\u9002\u914d Zephyr\u7684\u8fd8\u662f\u6bd4\u8f83\u5c11\uff0c\u5927\u591a\u6570\u662f\u7528freertos(\u79fb\u690d\u4e00\u4e0b\u5c31\u5b8c\u4e8b\u4e86)\uff0c\u53bb\u9002\u914d Zephyr\u7684\u786c\u4ef6\u62bd\u8c61\u5c42\u8981\u82b1\u8d39\u5f88\u4e45\u65f6\u95f4\u548c\u7cbe\u529b</p> <ul> <li>\u5bf9\u5927\u5382\u652f\u6301\u6bd4\u8f83\u53cb\u597d\uff1a    ST  TI    \u6069\u667a\u6d66   \u745e\u8428   </li> <li>\u56fd\u4ea7\u7684\u652f\u6301\u8f83\u597d\u7684            \u65b0\u5510    \u5146\u6613    \u6c81\u6052</li> </ul>"},{"location":"zephyr/3.zephyr%E9%80%9A%E7%94%A8%E5%9F%BA%E7%A1%80/7.zephyr%E9%A9%B1%E5%8A%A8%E6%A1%86%E6%9E%B6/","title":"7.zephyr\u9a71\u52a8\u6846\u67b6","text":""},{"location":"zephyr/3.zephyr%E9%80%9A%E7%94%A8%E5%9F%BA%E7%A1%80/7.zephyr%E9%A9%B1%E5%8A%A8%E6%A1%86%E6%9E%B6/#gpio","title":"GPIO\u9a71\u52a8\u6846\u67b6\u5206\u6790\uff0c\u9876\u5c42\u5230\u5e95\u5c42","text":"<p>gpio\u793a\u4f8b\u5206\u6790      zephyr\\samples\\basic\\blinky\\src\\main.c        \u4f7f\u7528stm32</p> <pre><code>#include &lt;stdio.h&gt;\n#include &lt;zephyr/kernel.h&gt;\n#include &lt;zephyr/drivers/gpio.h&gt;\n\n/* 1000 msec = 1 sec */\n#define SLEEP_TIME_MS   1000\n\n/* The devicetree node identifier for the \"led0\" alias. */\n#define LED0_NODE DT_ALIAS(led0)\n\n/*\n * A build error on this line means your board is unsupported.\n * See the sample documentation for information on how to fix this.\n */\nstatic const struct gpio_dt_spec led = GPIO_DT_SPEC_GET(LED0_NODE, gpios);\n\nint main(void)\n{\n    int ret;\n    bool led_state = true;\n\n    if (!gpio_is_ready_dt(&amp;led)) {\n        return 0;\n    }\n\n    ret = gpio_pin_configure_dt(&amp;led, GPIO_OUTPUT_ACTIVE);\n    if (ret &lt; 0) {\n        return 0;\n    }\n\n    while (1) {\n        ret = gpio_pin_toggle_dt(&amp;led);\n        if (ret &lt; 0) {\n            return 0;\n        }\n\n        led_state = !led_state;\n        printf(\"LED state: %s\\n\", led_state ? \"ON\" : \"OFF\");\n        k_msleep(SLEEP_TIME_MS);  \n    }\n    return 0;\n}\n</code></pre> <p>\u4f7f\u7528\u4e0a\u8ff0\u4e2d\u7684\u793a\u4f8b\uff0c\u5206\u6790GPIO\u7684\u9a71\u52a8\u6846\u67b6</p>"},{"location":"zephyr/3.zephyr%E9%80%9A%E7%94%A8%E5%9F%BA%E7%A1%80/7.zephyr%E9%A9%B1%E5%8A%A8%E6%A1%86%E6%9E%B6/#_1","title":"\u7b2c\u4e00\u5c42","text":"<p>zephyr\\samples\\basic\\blinky\\src\\main.c</p> <pre><code>gpio_pin_configure_dt(&amp;led, GPIO_OUTPUT_ACTIVE); \n</code></pre> <p>\u5e94\u7528\u5c42\u62bd\u8c61 (Devicetree \u5c01\u88c5)</p> <ul> <li> <p>\u628a \u8bbe\u5907\u6811\uff08Devicetree\uff09\u4e2d\u5b9a\u4e49\u7684 GPIO \u63a7\u5236\u5668\u3001\u5f15\u811a\u53f7\u3001\u6807\u5fd7\u4f4d \u7ec4\u5408\u4e3a\u4e00\u4e2a <code>gpio_dt_spec</code> \u5bf9\u8c61</p> </li> <li> <p>\u8c03\u7528 <code>gpio_pin_configure()</code>\uff0c\u4f20\u5165\u7ed3\u6784\u4f53\u4e2d\u63d0\u53d6\u7684 <code>port</code>\u3001<code>pin</code>\u3001<code>flags</code></p> </li> <li> <p>\u5b9e\u73b0\u5e73\u53f0\u65e0\u5173\u3001\u5f15\u811a\u62bd\u8c61\u3001\u5e94\u7528\u903b\u8f91\u6e05\u6670</p> </li> </ul> <pre><code>struct gpio_dt_spec {\n    /** GPIO device controlling the pin */\n    const struct device *port;\n    /** The pin's number on the device */\n    gpio_pin_t pin;\n    /** The pin's configuration flags as specified in devicetree */\n    gpio_dt_flags_t dt_flags;\n};\n\nstatic inline int gpio_pin_configure_dt(const struct gpio_dt_spec *spec,\n                    gpio_flags_t extra_flags)\n{\n    return gpio_pin_configure(spec-&gt;port,\n                  spec-&gt;pin,\n                  spec-&gt;dt_flags | extra_flags);\n}\n</code></pre>"},{"location":"zephyr/3.zephyr%E9%80%9A%E7%94%A8%E5%9F%BA%E7%A1%80/7.zephyr%E9%A9%B1%E5%8A%A8%E6%A1%86%E6%9E%B6/#_2","title":"\u7b2c\u4e8c\u5c42","text":"<p>zephyr\\build\\zephyr\\include\\generated\\zephyr\\syscalls\\gpio.h</p> <pre><code>static inline int gpio_pin_configure(const struct device * port, gpio_pin_t pin, gpio_flags_t flags)\n</code></pre> <p>\u901a\u7528\u5b50\u7cfb\u7edf\u63a5\u53e3 (GPIO API \u5c42)</p> <ul> <li> <p>\u901a\u8fc7 <code>z_impl_gpio_pin_configure()</code> \u5b9e\u73b0 \u903b\u8f91\u6821\u9a8c\u3001\u53c2\u6570\u89c4\u8303\u5316\u5904\u7406</p> </li> <li> <p>\u662f\u6240\u6709 GPIO \u5b50\u7cfb\u7edf\u7684\u7edf\u4e00\u63a5\u53e3\uff0c\u63d0\u4f9b\u4e00\u81f4\u6027\uff08\u65e0\u8bba\u4f60\u662f STM32 \u8fd8\u662f Nordic\uff09</p> </li> <li> </li> </ul> <pre><code>/**\n * @brief Runtime device structure (in ROM) per driver instance\n */\nstruct device {\n    /** Name of the device instance */\n    const char *name;\n    /** Address of device instance config information */\n    const void *config;\n    /** Address of the API structure exposed by the device instance */\n    const void *api;\n    /** Address of the common device state */\n    struct device_state *state;\n    /** Address of the device instance private data */\n    void *data;\n    /** Device operations */\n    struct device_ops ops;\n    /** Device flags */\n    device_flags_t flags;\n#if defined(CONFIG_DEVICE_DEPS) || defined(__DOXYGEN__)\n    /**\n     * Optional pointer to dependencies associated with the device.\n     *\n     * This encodes a sequence of sets of device handles that have some\n     * relationship to this node. The individual sets are extracted with\n     * dedicated API, such as device_required_handles_get(). Only available\n     * if @kconfig{CONFIG_DEVICE_DEPS} is enabled.\n     */\n    Z_DEVICE_DEPS_CONST device_handle_t *deps;\n#endif /* CONFIG_DEVICE_DEPS */\n#if defined(CONFIG_PM_DEVICE) || defined(__DOXYGEN__)\n    /**\n     * Reference to the device PM resources (only available if\n     * @kconfig{CONFIG_PM_DEVICE} is enabled).\n     */\n    union {\n        struct pm_device_base *pm_base;\n        struct pm_device *pm;\n        struct pm_device_isr *pm_isr;\n    };\n#endif\n#if defined(CONFIG_DEVICE_DT_METADATA) || defined(__DOXYGEN__)\n    const struct device_dt_metadata *dt_meta;\n#endif /* CONFIG_DEVICE_DT_METADATA */\n};\n\n\ntypedef uint8_t gpio_pin_t;\ntypedef uint32_t gpio_flags_t;\n\n#define compiler_barrier() do { \\\n    __asm__ __volatile__ (\"\" ::: \"memory\"); \\\n} while (false)\n\n\n__syscall int gpio_pin_configure(const struct device *port,\n                 gpio_pin_t pin,\n                 gpio_flags_t flags);\n\n\nstatic inline int gpio_pin_configure(const struct device * port, gpio_pin_t pin, gpio_flags_t flags)\n{\n#ifdef CONFIG_USERSPACE\n    if (z_syscall_trap()) {\n        union { uintptr_t x; const struct device * val; } parm0 = { .val = port };\n        union { uintptr_t x; gpio_pin_t val; } parm1 = { .val = pin };\n        union { uintptr_t x; gpio_flags_t val; } parm2 = { .val = flags };\n        return (int) arch_syscall_invoke3(parm0.x, parm1.x, parm2.x, K_SYSCALL_GPIO_PIN_CONFIGURE);\n    }\n#endif\n    compiler_barrier();\n    return z_impl_gpio_pin_configure(port, pin, flags);\n}\n</code></pre>"},{"location":"zephyr/3.zephyr%E9%80%9A%E7%94%A8%E5%9F%BA%E7%A1%80/7.zephyr%E9%A9%B1%E5%8A%A8%E6%A1%86%E6%9E%B6/#_3","title":"\u7279\u6027\uff1a","text":"<p>\u68c0\u67e5 flag \u5408\u6cd5\u6027\uff08\u4e0d\u80fd\u540c\u65f6\u4e0a\u62c9\u548c\u4e0b\u62c9\u3001\u4e0d\u80fd\u65e2\u8f93\u51fa\u9ad8\u53c8\u8f93\u51fa\u4f4e\u7b49\uff09</p> <p>\u5904\u7406 <code>GPIO_ACTIVE_LOW</code> / <code>GPIO_OUTPUT_INIT_LOGICAL</code> \u7b49\u7279\u6b8a\u60c5\u51b5</p> <p>\u8bbe\u7f6e\u8fd0\u884c\u65f6\u6570\u636e\u7ed3\u6784 <code>invert</code> \u4f4d</p> <p>\u8c03\u7528\u7b2c\u4e09\u5c42\u9a71\u52a8\u63a5\u53e3\u8868\u4e2d\u7684\u51fd\u6570\u6307\u9488</p>"},{"location":"zephyr/3.zephyr%E9%80%9A%E7%94%A8%E5%9F%BA%E7%A1%80/7.zephyr%E9%A9%B1%E5%8A%A8%E6%A1%86%E6%9E%B6/#_4","title":"\u7b2c\u4e09\u5c42","text":"<p>zephyr\\include\\zephyr\\drivers\\gpio.h</p> <pre><code>static inline int z_impl_gpio_pin_configure(const struct device *port,\n                        gpio_pin_t pin,\n                        gpio_flags_t flags)\n</code></pre> <p>\u9a71\u52a8\u7ed1\u5b9a\u63a5\u53e3\uff08\u9a71\u52a8\u51fd\u6570\u8868\uff09</p> <ul> <li> <p>\u5b9a\u4e49 <code>gpio_driver_api</code> \u7684\u7ed3\u6784\u4f53\uff0c\u628a\u5e95\u5c42\u9a71\u52a8\u51fd\u6570\u586b\u8fdb\u53bb</p> </li> <li> <p>\u6ce8\u518c\u9a71\u52a8\u51fd\u6570\u8868\uff08\u51fd\u6570\u6307\u9488\u8868\uff09\u4f9b\u7cfb\u7edf\u7edf\u4e00\u8c03\u5ea6</p> </li> <li> <p>\u8ba9\u4e0d\u540c\u82af\u7247\u5382\u5546\u7684 GPIO \u9a71\u52a8\uff0c\u90fd\u80fd\u7edf\u4e00\u63a5\u5165 Zephyr API</p> </li> </ul> <pre><code>__subsystem struct gpio_driver_api {\n    int (*pin_configure)(const struct device *port, gpio_pin_t pin,\n                 gpio_flags_t flags);\n#ifdef CONFIG_GPIO_GET_CONFIG\n    int (*pin_get_config)(const struct device *port, gpio_pin_t pin,\n                  gpio_flags_t *flags);\n#endif\n    int (*port_get_raw)(const struct device *port,\n                gpio_port_value_t *value);\n    int (*port_set_masked_raw)(const struct device *port,\n                   gpio_port_pins_t mask,\n                   gpio_port_value_t value);\n    int (*port_set_bits_raw)(const struct device *port,\n                 gpio_port_pins_t pins);\n    int (*port_clear_bits_raw)(const struct device *port,\n                   gpio_port_pins_t pins);\n    int (*port_toggle_bits)(const struct device *port,\n                gpio_port_pins_t pins);\n    int (*pin_interrupt_configure)(const struct device *port,\n                       gpio_pin_t pin,\n                       enum gpio_int_mode mode,\n                       enum gpio_int_trig trig);\n    int (*manage_callback)(const struct device *port,\n                   struct gpio_callback *cb,\n                   bool set);\n    uint32_t (*get_pending_int)(const struct device *dev);\n#ifdef CONFIG_GPIO_GET_DIRECTION\n    int (*port_get_direction)(const struct device *port, gpio_port_pins_t map,\n                  gpio_port_pins_t *inputs, gpio_port_pins_t *outputs);\n#endif /* CONFIG_GPIO_GET_DIRECTION */\n};\n\n\nstatic DEVICE_API(gpio, gpio_stm32_driver) = {\n    .pin_configure = gpio_stm32_config,\n#if defined(CONFIG_GPIO_GET_CONFIG) &amp;&amp; !defined(CONFIG_SOC_SERIES_STM32F1X)\n    .pin_get_config = gpio_stm32_get_config,\n#endif /* CONFIG_GPIO_GET_CONFIG */\n    .port_get_raw = gpio_stm32_port_get_raw,\n    .port_set_masked_raw = gpio_stm32_port_set_masked_raw,\n    .port_set_bits_raw = gpio_stm32_port_set_bits_raw,\n    .port_clear_bits_raw = gpio_stm32_port_clear_bits_raw,\n    .port_toggle_bits = gpio_stm32_port_toggle_bits,\n    .pin_interrupt_configure = gpio_stm32_pin_interrupt_configure,\n    .manage_callback = gpio_stm32_manage_callback,\n};\n\nstatic inline int z_impl_gpio_pin_configure(const struct device *port,\n                        gpio_pin_t pin,\n                        gpio_flags_t flags)\n{\n    const struct gpio_driver_api *api =\n        (const struct gpio_driver_api *)port-&gt;api;\n    __unused const struct gpio_driver_config *const cfg =\n        (const struct gpio_driver_config *)port-&gt;config;\n    struct gpio_driver_data *data =\n        (struct gpio_driver_data *)port-&gt;data;\n    int ret;\n\n    SYS_PORT_TRACING_FUNC_ENTER(gpio_pin, configure, port, pin, flags);\n\n    __ASSERT((flags &amp; GPIO_INT_MASK) == 0,\n         \"Interrupt flags are not supported\");\n\n    __ASSERT((flags &amp; (GPIO_PULL_UP | GPIO_PULL_DOWN)) !=\n         (GPIO_PULL_UP | GPIO_PULL_DOWN),\n         \"Pull Up and Pull Down should not be enabled simultaneously\");\n\n    __ASSERT(!((flags &amp; GPIO_INPUT) &amp;&amp; !(flags &amp; GPIO_OUTPUT) &amp;&amp; (flags &amp; GPIO_SINGLE_ENDED)),\n         \"Input cannot be enabled for 'Open Drain', 'Open Source' modes without Output\");\n\n    __ASSERT_NO_MSG((flags &amp; GPIO_SINGLE_ENDED) != 0 ||\n            (flags &amp; GPIO_LINE_OPEN_DRAIN) == 0);\n\n    __ASSERT((flags &amp; (GPIO_OUTPUT_INIT_LOW | GPIO_OUTPUT_INIT_HIGH)) == 0\n         || (flags &amp; GPIO_OUTPUT) != 0,\n         \"Output needs to be enabled to be initialized low or high\");\n\n    __ASSERT((flags &amp; (GPIO_OUTPUT_INIT_LOW | GPIO_OUTPUT_INIT_HIGH))\n         != (GPIO_OUTPUT_INIT_LOW | GPIO_OUTPUT_INIT_HIGH),\n         \"Output cannot be initialized low and high\");\n\n    if (((flags &amp; GPIO_OUTPUT_INIT_LOGICAL) != 0)\n        &amp;&amp; ((flags &amp; (GPIO_OUTPUT_INIT_LOW | GPIO_OUTPUT_INIT_HIGH)) != 0)\n        &amp;&amp; ((flags &amp; GPIO_ACTIVE_LOW) != 0)) {\n        flags ^= GPIO_OUTPUT_INIT_LOW | GPIO_OUTPUT_INIT_HIGH;\n    }\n\n    flags &amp;= ~GPIO_OUTPUT_INIT_LOGICAL;\n\n    __ASSERT((cfg-&gt;port_pin_mask &amp; (gpio_port_pins_t)BIT(pin)) != 0U,\n         \"Unsupported pin\");\n\n    if ((flags &amp; GPIO_ACTIVE_LOW) != 0) {\n        data-&gt;invert |= (gpio_port_pins_t)BIT(pin);\n    } else {\n        data-&gt;invert &amp;= ~(gpio_port_pins_t)BIT(pin);\n    }\n\n    ret = api-&gt;pin_configure(port, pin, flags);\n    SYS_PORT_TRACING_FUNC_EXIT(gpio_pin, configure, port, pin, ret);\n    return ret;\n}\n</code></pre> <p>\u8c03\u7528  ret = api-&gt;pin_configure(port, pin, flags);   \u8fdb\u5165\u4e0b\u4e00\u5c42</p>"},{"location":"zephyr/3.zephyr%E9%80%9A%E7%94%A8%E5%9F%BA%E7%A1%80/7.zephyr%E9%A9%B1%E5%8A%A8%E6%A1%86%E6%9E%B6/#_5","title":"\u7b2c\u56db\u5c42","text":"<p>zephyr\\drivers\\gpio\\gpio_stm32.c</p> <pre><code>static int gpio_stm32_config(const struct device *dev,\n                 gpio_pin_t pin, gpio_flags_t flags)\n</code></pre> <ul> <li>\u786c\u4ef6\u9a71\u52a8\u5b9e\u73b0\uff08\u82af\u7247\u5382\u5546\u76f8\u5173\u4ee3\u7801\uff09</li> </ul> <pre><code>/**\n * @brief Configure pin or port\n */\nstatic int gpio_stm32_config(const struct device *dev,\n                 gpio_pin_t pin, gpio_flags_t flags)\n{\n    int err;\n    uint32_t pincfg;\n    struct gpio_stm32_data *data = dev-&gt;data;\n\n    /* figure out if we can map the requested GPIO\n     * configuration\n     */\n    err = gpio_stm32_flags_to_conf(flags, &amp;pincfg);\n    if (err != 0) {\n        return err;\n    }\n\n    /* Enable device clock before configuration (requires bank writes) */\n    if ((((flags &amp; GPIO_OUTPUT) != 0) || ((flags &amp; GPIO_INPUT) != 0)) &amp;&amp;\n        !(data-&gt;pin_has_clock_enabled &amp; BIT(pin))) {\n        err = pm_device_runtime_get(dev);\n        if (err &lt; 0) {\n            return err;\n        }\n        data-&gt;pin_has_clock_enabled |= BIT(pin);\n    }\n\n    if ((flags &amp; GPIO_OUTPUT) != 0) {\n        if ((flags &amp; GPIO_OUTPUT_INIT_HIGH) != 0) {\n            gpio_stm32_port_set_bits_raw(dev, BIT(pin));\n        } else if ((flags &amp; GPIO_OUTPUT_INIT_LOW) != 0) {\n            gpio_stm32_port_clear_bits_raw(dev, BIT(pin));\n        }\n    }\n\n    gpio_stm32_configure_raw(dev, pin, pincfg, 0);\n\n#ifdef CONFIG_STM32_WKUP_PINS\n    if (flags &amp; STM32_GPIO_WKUP) {\n#ifdef CONFIG_POWEROFF\n        struct gpio_dt_spec gpio_dt_cfg = {\n            .port = dev,\n            .pin = pin,\n            .dt_flags = (gpio_dt_flags_t)flags,\n        };\n\n        if (stm32_pwr_wkup_pin_cfg_gpio((const struct gpio_dt_spec *)&amp;gpio_dt_cfg)) {\n            LOG_ERR(\"Could not configure GPIO %s pin %d as a wake-up source\",\n                    gpio_dt_cfg.port-&gt;name, gpio_dt_cfg.pin);\n        }\n#else\n        LOG_DBG(\"STM32_GPIO_WKUP flag has no effect when CONFIG_POWEROFF=n\");\n#endif /* CONFIG_POWEROFF */\n    }\n#endif /* CONFIG_STM32_WKUP_PINS */\n\n    /* Decrement GPIO usage count only if pin is now disconnected after being connected */\n    if (((flags &amp; GPIO_OUTPUT) == 0) &amp;&amp; ((flags &amp; GPIO_INPUT) == 0) &amp;&amp;\n        (data-&gt;pin_has_clock_enabled &amp; BIT(pin))) {\n        err = pm_device_runtime_put(dev);\n        if (err &lt; 0) {\n            return err;\n        }\n        data-&gt;pin_has_clock_enabled &amp;= ~BIT(pin);\n    }\n\n    return 0;\n}\n</code></pre>"},{"location":"zephyr/3.zephyr%E9%80%9A%E7%94%A8%E5%9F%BA%E7%A1%80/7.zephyr%E9%A9%B1%E5%8A%A8%E6%A1%86%E6%9E%B6/#syscall","title":"syscall \u673a\u5236","text":"<p>\u53c2\u8003\u94fe\u63a5\uff1ahttps://www.cnblogs.com/ttwards/p/18449137</p> <p>\u4e0a\u8ff0\u4e2d\u53d1\u73b0\uff0c\u51fd\u6570  gpio_pin_configure   \u8def\u5f84\u4e3a    zephyr\\build\\zephyr\\include\\generated\\zephyr\\syscalls\\gpio.h</p> <pre><code>static inline int gpio_pin_configure(const struct device * port, gpio_pin_t pin, gpio_flags_t flags)\n</code></pre> <p>zephyr\\build \u8fd9\u4e2a\u8def\u5f84\u662f\u7f16\u8bd1\u540e\u7684\u8def\u5f84\uff0c\u96be\u9053\u662f\u7f16\u8bd1\u5148\u751f\u6210 gpio.h\u6587\u4ef6   \u518d\u7ee7\u7eed\u7f16\u8bd1 \uff1f</p> <ul> <li> <p>\u51fd\u6570 \u4e0d\u662f\u7531\u5199\u7684\u4ee3\u7801\u81ea\u52a8\u751f\u6210\u7684\uff0c\u800c\u662f\u7531 Zephyr \u7684 syscall \u673a\u5236 \u751f\u6210\u4e86\u4e00\u4e2a\u5c01\u88c5\u7248\u672c</p> </li> <li> <p>Zephyr \u652f\u6301\u7528\u6237\u7a7a\u95f4\u548c\u5185\u6838\u7a7a\u95f4\u7684\u5206\u79bb\uff0c\u7528\u6237\u7a7a\u95f4\u4ee3\u7801\u4e0d\u80fd\u76f4\u63a5\u8c03\u7528\u5185\u6838\u7a7a\u95f4\u7684\u51fd\u6570\u3002</p> </li> </ul> <p>\u4e3a\u4e86\u5b9e\u73b0\u8fd9\u4e00\u70b9\uff0cZephyr \u4f7f\u7528\u7cfb\u7edf\u8c03\u7528\u673a\u5236\uff0c\u5141\u8bb8\u7528\u6237\u7a7a\u95f4\u4ee3\u7801\u901a\u8fc7\u7279\u5b9a\u7684\u63a5\u53e3\u8c03\u7528\u5185\u6838\u7a7a\u95f4\u7684\u51fd\u6570\u3002\u8fd9\u6837\u4e5f\u63d0\u5347\u4e86\u7a33\u5b9a\u6027\u548c\u53ef\u7ef4\u62a4\u6027\u3002</p> <p><code>__syscall</code> \u5173\u952e\u5b57\u7528\u4e8e\u6807\u8bb0\u4e00\u4e2a\u51fd\u6570\u4e3a\u7cfb\u7edf\u8c03\u7528\u51fd\u6570\u3002\u5b83\u544a\u8bc9\u7f16\u8bd1\u5668\u548c <code>gen_syscalls.py</code> \u811a\u672c\uff0c\u8fd9\u4e2a\u51fd\u6570\u9700\u8981\u751f\u6210\u7cfb\u7edf\u8c03\u7528\u63a5\u53e3</p> <p><code>gen_syscalls.py</code> \u811a\u672c\u4f1a\u751f\u6210\u4e00\u4e2a\u5185\u8054\u51fd\u6570\uff0c\u7528\u4e8e\u5728\u7528\u6237\u7a7a\u95f4\u8c03\u7528\u8be5\u7cfb\u7edf\u8c03\u7528\u51fd\u6570\u3002 \u8fd9\u4e2a\u5185\u8054\u51fd\u6570\u4f1a\u68c0\u67e5\u662f\u5426\u5728\u7528\u6237\u7a7a\u95f4\u73af\u5883\u4e0b\u8fd0\u884c\uff0c\u5982\u679c\u662f\uff0c\u5219\u901a\u8fc7\u7cfb\u7edf\u8c03\u7528\u673a\u5236\u8f6c\u53d1\u5230\u5185\u6838\u7a7a\u95f4\u7684\u51fd\u6570\u3002</p> <p>Zephyr \u7684 syscall \u673a\u5236\u5982\u4f55\u5de5\u4f5c\uff1f</p> <p>\u5f53\u5728 Zephyr \u4e2d\u5199\u4e0b\uff1a</p> <pre><code>__syscall int gpio_pin_configure(const struct device *port, gpio_pin_t pin, gpio_flags_t flags);\n</code></pre> <p>\u8fd9\u6761\u58f0\u660e\u544a\u8bc9 Zephyr\uff1a</p> <p>\u201c\u8fd9\u662f\u4e00\u4e2a\u652f\u6301\u7528\u6237\u7a7a\u95f4\u8c03\u7528\u7684 API\uff0c\u6211\u5e0c\u671b\u5b83\u80fd\u5728\u7528\u6237\u6001\u6216\u5185\u6838\u6001\u90fd\u5b89\u5168\u8fd0\u884c\u3002\u201d</p> <p>\u7136\u540e\u6784\u5efa\u7cfb\u7edf\uff08\u501f\u52a9 Python \u811a\u672c\u3001CMake \u548c devicetree \u7f16\u8bd1\u5668\uff09\u4f1a\uff1a</p> <ol> <li>\u751f\u6210 syscall \u8df3\u8f6c\u4ee3\u7801</li> <li>\u751f\u6210 <code>z_impl_gpio_pin_configure()</code> \u7684\u8c03\u7528\u5c01\u88c5</li> <li>\u751f\u6210\u4e00\u4e2a\u5c01\u88c5\u7684 inline \u51fd\u6570\uff0c\u653e\u5165 <code>build/zephyr/include/generated/zephyr/syscalls/gpio.h</code></li> </ol> <p>\ud83e\udde0 \u6240\u4ee5\u4f60\u770b\u5230\u7684\u8fd9\u4e2a\u51fd\u6570\uff1a</p> <pre><code>static inline int gpio_pin_configure(const struct device *port,\n                     gpio_pin_t pin,\n                     gpio_flags_t flags)\n{\n    return z_impl_gpio_pin_configure(port, pin, flags);\n}\n</code></pre> <p>\u81ea\u52a8\u751f\u6210\u7684\uff0c\u5c5e\u4e8e\u201csyscall wrapper\u201d\uff0c\u5b83\u7684\u672c\u8d28\u5c31\u662f\u4e00\u4e2a dispatcher \u51fd\u6570\u3002</p> <p>\ud83d\udd0d \u81ea\u52a8\u751f\u6210\u7684\u8def\u5f84\u7ed3\u6784\u5982\u4e0b\uff1a</p> <pre><code>build/\n\u2514\u2500\u2500 zephyr/\n    \u2514\u2500\u2500 include/\n        \u2514\u2500\u2500 generated/\n            \u2514\u2500\u2500 zephyr/\n                \u2514\u2500\u2500 syscalls/\n                    \u2514\u2500\u2500 gpio.h    \u2190 \u2605\u770b\u5230\u7684\u90a3\u4e2a\n</code></pre> <p>\u91cc\u9762\u5305\u542b\u6240\u6709\u5e26\u6709 <code>__syscall</code> \u7684 API \u7684\u81ea\u52a8\u5c01\u88c5\u3002</p> <p>\u2705 \u4e3a\u4ec0\u4e48 Zephyr \u8981\u8fd9\u4e48\u505a\uff1f</p> <p>\u8fd9\u662f\u4e3a\u4e86\u652f\u6301\u8fd9\u4e24\u4e2a\u6838\u5fc3\u80fd\u529b\uff1a</p> \u573a\u666f \u884c\u4e3a \u5185\u6838\u7ebf\u7a0b\u8c03\u7528 API \u76f4\u63a5 inline \u8c03\u7528 <code>z_impl_gpio_pin_configure()</code>\uff08\u9ad8\u6548\uff09 \u7528\u6237\u7ebf\u7a0b\u8c03\u7528 API \u81ea\u52a8\u901a\u8fc7 <code>arch_syscall_invokeX()</code> \u8fdb\u5165\u5185\u6838\uff08\u9694\u79bb\u3001\u5b89\u5168\uff09 <p>\u6240\u4ee5\u81ea\u52a8\u751f\u6210\u7684\u8fd9\u4e2a\u5c01\u88c5\u51fd\u6570\uff0c\u5176\u4f5c\u7528\u5c31\u662f\u7edf\u4e00\u5c01\u88c5\u8def\u5f84\uff0c\u786e\u4fdd syscall \u8c03\u5ea6\u673a\u5236\u6b63\u786e\u65e0\u8bef\u4e14\u9ad8\u6548\u8fd0\u884c\u3002</p>"},{"location":"zephyr/3.zephyr%E9%80%9A%E7%94%A8%E5%9F%BA%E7%A1%80/8.zephyr%E6%A8%A1%E6%8B%9F%E5%99%A8%E8%BF%90%E8%A1%8C/","title":"8.zephyr\u6a21\u62df\u5668\u8fd0\u884c","text":"<p>west boards \u547d\u4ee4\u53ef\u67e5\u770b\u652f\u6301\u7684qumu\u6709\u54ea\u4e9b</p> <pre><code>(.venv) hdj@hdj-virtual-machine:~/zephyrproject/zephyr$ west boards\n</code></pre> <p></p> <p>\u6b64\u5904\u4f7f\u7528qemu_cortex_m3</p> <p>\u6784\u5efa shell \u793a\u4f8b</p> <pre><code>west build -b qemu_cortex_m3 samples/subsys/shell/shell_module -p\nwest build -b qemu_cortex_m3 samples/basic/minimal -p\n</code></pre> <p>\u8fd0\u884c</p> <pre><code>west build -t run\n</code></pre> <p>Tab\u952e\u53ef\u67e5\u770b\u5f53\u524d\u7684\u6240\u6709\u547d\u4ee4\uff0ctab\u952e\u4f4d \u652f\u6301\u81ea\u52a8\u8865\u5168</p> <p></p> <p>twister \u81ea\u52a8\u5316\u6d4b\u8bd5</p> <pre><code>west twister -T tests/subsys/shell -p qemu_cortex_m3 --enable-tests\n</code></pre>"},{"location":"zephyr/3.zephyr%E9%80%9A%E7%94%A8%E5%9F%BA%E7%A1%80/9.zephyr%E5%90%AF%E5%8A%A8%E8%AF%A6%E8%A7%A3/","title":"9.zephyr\u542f\u52a8\u8be6\u89e3","text":""},{"location":"zephyr/3.zephyr%E9%80%9A%E7%94%A8%E5%9F%BA%E7%A1%80/9.zephyr%E5%90%AF%E5%8A%A8%E8%AF%A6%E8%A7%A3/#zephyr","title":"zephyr\u542f\u52a8\u8be6\u89e3","text":""},{"location":"zephyr/3.zephyr%E9%80%9A%E7%94%A8%E5%9F%BA%E7%A1%80/9.zephyr%E5%90%AF%E5%8A%A8%E8%AF%A6%E8%A7%A3/#_1","title":"\u600e\u4e48\u770b\u5982\u4f55\u542f\u52a8\u7684\uff1f","text":"<p>\u6211\u7684\u7ecf\u9a8c\u662f\uff0c\u7f16\u8bd1\u4e00\u4e2a\u57fa\u7840demo\uff0c\u7136\u540e\u770b\u53c2\u4e0e\u7f16\u8bd1\u7528\u5230\u4e86\u54ea\u4e9b\u4ee3\u7801\uff0c\u5206\u6790\u8fd9\u90e8\u5206\u4ee3\u7801</p>"},{"location":"zephyr/3.zephyr%E9%80%9A%E7%94%A8%E5%9F%BA%E7%A1%80/9.zephyr%E5%90%AF%E5%8A%A8%E8%AF%A6%E8%A7%A3/#demo","title":"\u7f16\u8bd1\u4e00\u4e2a\u57fa\u7840demo","text":"<pre><code>west build -p always -b nucleo_f103rb samples\\basic\\blinky\n</code></pre>"},{"location":"zephyr/3.zephyr%E9%80%9A%E7%94%A8%E5%9F%BA%E7%A1%80/9.zephyr%E5%90%AF%E5%8A%A8%E8%AF%A6%E8%A7%A3/#compile_commandsjson","title":"\u5206\u6790compile_commands.json","text":"<p>build\u76ee\u5f55\u4f1a\u6709\u4e00\u4e2ajson\u6587\u4ef6\uff0ccompile_commands.json  \u8be5\u6587\u4ef6\u4e2d\u63cf\u8ff0\u51fa\u4e86\u53c2\u4e0e\u7f16\u8bd1\u7684\u6587\u4ef6</p> <p></p> <pre><code>{\n\"directory\": xxxxxxxxxxxxxxxxxx\n\"command\":xxxxxxxxxxxx\n\"file\":xxxxxxxxxxxx\n\"output\":xxxxxxxxxxxx\n}  \n</code></pre>"},{"location":"zephyr/3.zephyr%E9%80%9A%E7%94%A8%E5%9F%BA%E7%A1%80/9.zephyr%E5%90%AF%E5%8A%A8%E8%AF%A6%E8%A7%A3/#_2","title":"\u5b57\u6bb5\u89e3\u91ca","text":"\u5b57\u6bb5\u540d \u542b\u4e49 \u793a\u4f8b/\u8bf4\u660e <code>\"directory\"</code> \u7f16\u8bd1\u547d\u4ee4\u8fd0\u884c\u65f6\u7684\u5de5\u4f5c\u76ee\u5f55\uff08\u5373 <code>gcc</code>/<code>clang</code> \u7b49\u6267\u884c\u65f6\u7684 <code>cwd</code>\uff09 \u6bd4\u5982\uff1a<code>\"/home/you/project/build\"</code> <code>\"command\"</code> \u5b9e\u9645\u5b8c\u6574\u7684\u7f16\u8bd1\u547d\u4ee4\u884c\uff08\u542b\u7f16\u8bd1\u5668\u8def\u5f84\u3001\u6240\u6709\u53c2\u6570\u548c\u6587\u4ef6\u540d\uff09 \u6bd4\u5982\uff1a<code>\"arm-none-eabi-gcc -I... -D... -c ../src/main.c -o main.o\"</code> <code>\"file\"</code> \u88ab\u7f16\u8bd1\u7684\u6e90\u4ee3\u7801\u6587\u4ef6\u8def\u5f84\uff08\u901a\u5e38\u4e3a\u76f8\u5bf9\u6216\u7edd\u5bf9\u8def\u5f84\uff09 \u6bd4\u5982\uff1a<code>\"../src/main.c\"</code> <code>\"output\"</code> \u6b64\u6e90\u6587\u4ef6\u7f16\u8bd1\u540e\u751f\u6210\u7684\u76ee\u6807\u6587\u4ef6\u8def\u5f84 \u6bd4\u5982\uff1a<code>\"CMakeFiles/app.dir/src/main.c.obj\"</code> \u6216 <code>\"main.o\"</code> <p>\u5199\u4e00\u4e2a\u811a\u672c\u53ea\u83b7\u53d6  file \u5b57\u6bb5 \u6765\u770b\u5b9e\u9645\u53c2\u4e0e\u7f16\u8bd1\u7684\u6587\u4ef6\uff0c\u5f53\u524d\u7684compile_commands.json\u6587\u4ef6\u592a\u591a\u4e86\u4e0d\u597d\u89c2\u5bdf</p> <ul> <li>\u8fd0\u884c\u540e\u4f1a\u751f\u6210 <code>files.txt</code></li> </ul> <pre><code>import json\n\n# 1. \u8bfb\u53d6 compile_commands.json\nwith open('compile_commands.json', 'r', encoding='utf-8') as f:\n    data = json.load(f)\n\n# 2. \u83b7\u53d6\u6240\u6709\u6587\u4ef6\nfiles = [entry['file'] for entry in data]\n\n# 3. \u627e\u51fa\u6240\u6709 .s/.S \u6587\u4ef6\uff08\u5927\u5c0f\u5199\u4e0d\u654f\u611f\uff09\ns_files = [file for file in files if file.lower().endswith('.s')]\n\n# 4. \u5199\u5165 files.txt\nwith open('files.txt', 'w', encoding='utf-8') as f:\n    for file in files:\n        f.write(file + '\\n')\n\n    # \u7a7a\u4e09\u884c\n    f.write('\\n' * 3)\n\n    # \u5199\u5165\u6240\u6709\u7684.s\u6587\u4ef6\u8def\u5f84\n    for s_file in s_files:\n        f.write(s_file + '\\n')\n</code></pre> <p></p> <p>\u67e5\u770bfiles.txt</p> <ul> <li>\u4f9d\u7167\u76ee\u5f55\u6765\u5206\u6790\u53c2\u4e0e\u7f16\u8bd1\u7684\u6587\u4ef6\u8fd9\u6837\u5c31\u597d\u5206\u6790\u7684\u591a\u4e86</li> </ul> <pre><code>G:\\desktop\\zephyrproject\\zephyr\\samples\\basic\\blinky\\src\\main.c\nG:\\desktop\\zephyrproject\\zephyr\\lib\\heap\\heap.c\nG:\\desktop\\zephyrproject\\zephyr\\lib\\os\\cbprintf_packaged.c\nG:\\desktop\\zephyrproject\\zephyr\\lib\\os\\printk.c\nG:\\desktop\\zephyrproject\\zephyr\\lib\\os\\sem.c\nG:\\desktop\\zephyrproject\\zephyr\\lib\\os\\thread_entry.c\nG:\\desktop\\zephyrproject\\zephyr\\lib\\os\\cbprintf_complete.c\nG:\\desktop\\zephyrproject\\zephyr\\lib\\os\\assert.c\nG:\\desktop\\zephyrproject\\zephyr\\lib\\os\\reboot.c\nG:\\desktop\\zephyrproject\\zephyr\\lib\\utils\\dec.c\nG:\\desktop\\zephyrproject\\zephyr\\lib\\utils\\hex.c\nG:\\desktop\\zephyrproject\\zephyr\\lib\\utils\\rb.c\nG:\\desktop\\zephyrproject\\zephyr\\lib\\utils\\timeutil.c\nG:\\desktop\\zephyrproject\\zephyr\\lib\\utils\\bitarray.c\nG:\\desktop\\zephyrproject\\zephyr\\lib\\utils\\ring_buffer.c\nG:\\desktop\\zephyrproject\\zephyr\\build\\zephyr\\misc\\generated\\configs.c\nG:\\desktop\\zephyrproject\\zephyr\\soc\\st\\stm32\\common\\stm32cube_hal.c\nG:\\desktop\\zephyrproject\\zephyr\\soc\\st\\stm32\\common\\soc_config.c\nG:\\desktop\\zephyrproject\\zephyr\\soc\\st\\stm32\\stm32f1x\\soc.c\nG:\\desktop\\zephyrproject\\zephyr\\subsys\\tracing\\tracing_none.c\nG:\\desktop\\zephyrproject\\zephyr\\arch\\arm\\core\\offsets\\offsets.c\nG:\\desktop\\zephyrproject\\zephyr\\misc\\empty_file.c\nG:\\desktop\\zephyrproject\\zephyr\\misc\\empty_file.c\nG:\\desktop\\zephyrproject\\zephyr\\build\\zephyr\\isr_tables.c\nG:\\desktop\\zephyrproject\\zephyr\\arch\\common\\sw_isr_common.c\nG:\\desktop\\zephyrproject\\zephyr\\arch\\common\\isr_tables.c\nG:\\desktop\\zephyrproject\\zephyr\\arch\\arm\\core\\fatal.c\nG:\\desktop\\zephyrproject\\zephyr\\arch\\arm\\core\\nmi.c\nG:\\desktop\\zephyrproject\\zephyr\\arch\\arm\\core\\nmi_on_reset.S\nG:\\desktop\\zephyrproject\\zephyr\\arch\\arm\\core\\tls.c\nG:\\desktop\\zephyrproject\\zephyr\\arch\\arm\\core\\cortex_m\\exc_exit.c\nG:\\desktop\\zephyrproject\\zephyr\\arch\\arm\\core\\cortex_m\\fault.c\nG:\\desktop\\zephyrproject\\zephyr\\arch\\arm\\core\\cortex_m\\fault_s.S\nG:\\desktop\\zephyrproject\\zephyr\\arch\\arm\\core\\cortex_m\\fpu.c\nG:\\desktop\\zephyrproject\\zephyr\\arch\\arm\\core\\cortex_m\\reset.S\nG:\\desktop\\zephyrproject\\zephyr\\arch\\arm\\core\\cortex_m\\scb.c\nG:\\desktop\\zephyrproject\\zephyr\\arch\\arm\\core\\cortex_m\\thread_abort.c\nG:\\desktop\\zephyrproject\\zephyr\\arch\\arm\\core\\cortex_m\\vector_table.S\nG:\\desktop\\zephyrproject\\zephyr\\arch\\arm\\core\\cortex_m\\swap_helper.S\nG:\\desktop\\zephyrproject\\zephyr\\arch\\arm\\core\\cortex_m\\irq_manage.c\nG:\\desktop\\zephyrproject\\zephyr\\arch\\arm\\core\\cortex_m\\prep_c.c\nG:\\desktop\\zephyrproject\\zephyr\\arch\\arm\\core\\cortex_m\\thread.c\nG:\\desktop\\zephyrproject\\zephyr\\arch\\arm\\core\\cortex_m\\cpu_idle.c\nG:\\desktop\\zephyrproject\\zephyr\\arch\\arm\\core\\cortex_m\\irq_init.c\nG:\\desktop\\zephyrproject\\zephyr\\arch\\arm\\core\\cortex_m\\isr_wrapper.c\nG:\\desktop\\zephyrproject\\zephyr\\arch\\arm\\core\\cortex_m\\__aeabi_read_tp.S\nG:\\desktop\\zephyrproject\\zephyr\\lib\\libc\\picolibc\\assert.c\nG:\\desktop\\zephyrproject\\zephyr\\lib\\libc\\picolibc\\cbprintf.c\nG:\\desktop\\zephyrproject\\zephyr\\lib\\libc\\picolibc\\chk_fail.c\nG:\\desktop\\zephyrproject\\zephyr\\lib\\libc\\picolibc\\errno_wrap.c\nG:\\desktop\\zephyrproject\\zephyr\\lib\\libc\\picolibc\\exit.c\nG:\\desktop\\zephyrproject\\zephyr\\lib\\libc\\picolibc\\locks.c\nG:\\desktop\\zephyrproject\\zephyr\\lib\\libc\\picolibc\\stdio.c\nG:\\desktop\\zephyrproject\\zephyr\\lib\\libc\\common\\source\\stdlib\\abort.c\nG:\\desktop\\zephyrproject\\zephyr\\lib\\libc\\common\\source\\stdlib\\malloc.c\nG:\\desktop\\zephyrproject\\zephyr\\misc\\empty_file.c\nG:\\desktop\\zephyrproject\\zephyr\\drivers\\interrupt_controller\\intc_exti_stm32.c\nG:\\desktop\\zephyrproject\\zephyr\\drivers\\clock_control\\clock_stm32_ll_common.c\nG:\\desktop\\zephyrproject\\zephyr\\drivers\\clock_control\\clock_stm32f1.c\nG:\\desktop\\zephyrproject\\zephyr\\drivers\\console\\uart_console.c\nG:\\desktop\\zephyrproject\\zephyr\\drivers\\gpio\\gpio_stm32.c\nG:\\desktop\\zephyrproject\\zephyr\\drivers\\pinctrl\\common.c\nG:\\desktop\\zephyrproject\\zephyr\\drivers\\pinctrl\\pinctrl_stm32.c\nG:\\desktop\\zephyrproject\\zephyr\\drivers\\reset\\reset_stm32.c\nG:\\desktop\\zephyrproject\\zephyr\\drivers\\serial\\uart_stm32.c\nG:\\desktop\\zephyrproject\\zephyr\\drivers\\timer\\sys_clock_init.c\nG:\\desktop\\zephyrproject\\zephyr\\drivers\\timer\\cortex_m_systick.c\nG:\\desktop\\zephyrproject\\modules\\hal\\stm32\\stm32cube\\stm32f1xx\\soc\\system_stm32f1xx.c\nG:\\desktop\\zephyrproject\\modules\\hal\\stm32\\stm32cube\\stm32f1xx\\drivers\\src\\stm32f1xx_hal.c\nG:\\desktop\\zephyrproject\\modules\\hal\\stm32\\stm32cube\\stm32f1xx\\drivers\\src\\stm32f1xx_hal_rcc.c\nG:\\desktop\\zephyrproject\\modules\\hal\\stm32\\stm32cube\\stm32f1xx\\drivers\\src\\stm32f1xx_hal_rcc_ex.c\nG:\\desktop\\zephyrproject\\modules\\hal\\stm32\\stm32cube\\stm32f1xx\\drivers\\src\\stm32f1xx_ll_utils.c\nG:\\desktop\\zephyrproject\\zephyr\\kernel\\main_weak.c\nG:\\desktop\\zephyrproject\\zephyr\\kernel\\banner.c\nG:\\desktop\\zephyrproject\\zephyr\\kernel\\busy_wait.c\nG:\\desktop\\zephyrproject\\zephyr\\kernel\\device.c\nG:\\desktop\\zephyrproject\\zephyr\\kernel\\errno.c\nG:\\desktop\\zephyrproject\\zephyr\\kernel\\fatal.c\nG:\\desktop\\zephyrproject\\zephyr\\kernel\\init.c\nG:\\desktop\\zephyrproject\\zephyr\\kernel\\init_static.c\nG:\\desktop\\zephyrproject\\zephyr\\kernel\\kheap.c\nG:\\desktop\\zephyrproject\\zephyr\\kernel\\mem_slab.c\nG:\\desktop\\zephyrproject\\zephyr\\kernel\\float.c\nG:\\desktop\\zephyrproject\\zephyr\\kernel\\version.c\nG:\\desktop\\zephyrproject\\zephyr\\kernel\\idle.c\nG:\\desktop\\zephyrproject\\zephyr\\kernel\\mailbox.c\nG:\\desktop\\zephyrproject\\zephyr\\kernel\\msg_q.c\nG:\\desktop\\zephyrproject\\zephyr\\kernel\\mutex.c\nG:\\desktop\\zephyrproject\\zephyr\\kernel\\queue.c\nG:\\desktop\\zephyrproject\\zephyr\\kernel\\sem.c\nG:\\desktop\\zephyrproject\\zephyr\\kernel\\stack.c\nG:\\desktop\\zephyrproject\\zephyr\\kernel\\system_work_q.c\nG:\\desktop\\zephyrproject\\zephyr\\kernel\\work.c\nG:\\desktop\\zephyrproject\\zephyr\\kernel\\condvar.c\nG:\\desktop\\zephyrproject\\zephyr\\kernel\\thread.c\nG:\\desktop\\zephyrproject\\zephyr\\kernel\\sched.c\nG:\\desktop\\zephyrproject\\zephyr\\kernel\\pipe.c\nG:\\desktop\\zephyrproject\\zephyr\\kernel\\timeslicing.c\nG:\\desktop\\zephyrproject\\zephyr\\kernel\\xip.c\nG:\\desktop\\zephyrproject\\zephyr\\kernel\\timeout.c\nG:\\desktop\\zephyrproject\\zephyr\\kernel\\timer.c\nG:\\desktop\\zephyrproject\\zephyr\\kernel\\mempool.c\nG:\\desktop\\zephyrproject\\zephyr\\kernel\\dynamic_disabled.c\n\n\n\nG:\\desktop\\zephyrproject\\zephyr\\arch\\arm\\core\\nmi_on_reset.S\nG:\\desktop\\zephyrproject\\zephyr\\arch\\arm\\core\\cortex_m\\fault_s.S\nG:\\desktop\\zephyrproject\\zephyr\\arch\\arm\\core\\cortex_m\\reset.S\nG:\\desktop\\zephyrproject\\zephyr\\arch\\arm\\core\\cortex_m\\vector_table.S\nG:\\desktop\\zephyrproject\\zephyr\\arch\\arm\\core\\cortex_m\\swap_helper.S\nG:\\desktop\\zephyrproject\\zephyr\\arch\\arm\\core\\cortex_m\\__aeabi_read_tp.S\n</code></pre> <p>\u6309\u7167\u53c2\u4e0e\u76ee\u5f55\u5927\u81f4\u5206\u6790</p>"},{"location":"zephyr/3.zephyr%E9%80%9A%E7%94%A8%E5%9F%BA%E7%A1%80/9.zephyr%E5%90%AF%E5%8A%A8%E8%AF%A6%E8%A7%A3/#1-art_pi_appsrc","title":"1. <code>art_pi_app/src/</code>","text":"<ul> <li>\u5e94\u7528\u7a0b\u5e8f\u4ee3\u7801\uff08\u5982 <code>main.c</code>\uff09\u3002</li> <li>\u901a\u5e38\u662f\u7528\u6237\u4e1a\u52a1\u903b\u8f91\u3001\u5165\u53e3\u3001main loop \u7b49\u3002</li> </ul>"},{"location":"zephyr/3.zephyr%E9%80%9A%E7%94%A8%E5%9F%BA%E7%A1%80/9.zephyr%E5%90%AF%E5%8A%A8%E8%AF%A6%E8%A7%A3/#2-zephyrlib","title":"2. <code>zephyr/lib/</code>","text":"<ul> <li>\u901a\u7528\u5e93\u51fd\u6570\u4e0e\u64cd\u4f5c\u7cfb\u7edf\u57fa\u7840\u529f\u80fd\u3002</li> <li>\u5982 <code>heap.c</code>\u3001<code>cbprintf_*</code>\u3001<code>printk.c</code>\u3001<code>assert.c</code> \u7b49\uff0c\u6d89\u53ca\u52a8\u6001\u5185\u5b58\u3001\u6253\u5370\u3001\u65ad\u8a00\u3001\u4fe1\u53f7\u91cf\u3001\u7ebf\u7a0b\u5165\u53e3\u7b49\u3002</li> <li><code>utils/</code>\uff1a\u5e38\u7528\u5de5\u5177\u7c7b\uff08\u5982 hex/dec/rb/bitarray/ring_buffer \u7b49\u5faa\u73af\u7f13\u51b2\u3001\u6570\u7ec4\u5904\u7406\u5de5\u5177\uff09\u3002</li> </ul>"},{"location":"zephyr/3.zephyr%E9%80%9A%E7%94%A8%E5%9F%BA%E7%A1%80/9.zephyr%E5%90%AF%E5%8A%A8%E8%AF%A6%E8%A7%A3/#3-zephyrbuildzephyr-zephyrmisc","title":"3. <code>zephyr/build/zephyr/</code> &amp; <code>zephyr/misc/</code>","text":"<ul> <li>\u81ea\u52a8\u751f\u6210\u6587\u4ef6\u3001\u914d\u7f6e\u6587\u4ef6\u7b49\u8f85\u52a9\u4ee3\u7801\u3002</li> <li>\u5982 <code>configs.c</code>\u3001<code>isr_tables.c</code>\u3001<code>empty_file.c</code> \u7b49\uff0c\u53ef\u80fd\u4e3a\u6784\u5efa\u751f\u6210\u7684\u521d\u59cb\u5316\u914d\u7f6e\u6216\u4e2d\u65ad\u8868\u3002</li> </ul>"},{"location":"zephyr/3.zephyr%E9%80%9A%E7%94%A8%E5%9F%BA%E7%A1%80/9.zephyr%E5%90%AF%E5%8A%A8%E8%AF%A6%E8%A7%A3/#4-zephyrsocststm32","title":"4. <code>zephyr/soc/st/stm32/</code>","text":"<ul> <li>\u76ee\u6807 SoC\uff08\u5982 STM32\uff09\u76f8\u5173\u7684\u9002\u914d\u548c\u5e95\u5c42\u4ee3\u7801\u3002</li> <li><code>common/</code>\u3001<code>stm32h7x/</code>\u7b49\uff1a\u5305\u542bHAL\u9002\u914d\u3001SoC\u914d\u7f6e\u3001\u7279\u5b9a\u5904\u7406\u5668\u529f\u80fd\uff08\u5982 <code>soc_config.c</code>\u3001<code>mpu_regions.c</code>\uff09\u3002</li> </ul>"},{"location":"zephyr/3.zephyr%E9%80%9A%E7%94%A8%E5%9F%BA%E7%A1%80/9.zephyr%E5%90%AF%E5%8A%A8%E8%AF%A6%E8%A7%A3/#5-zephyrsubsys","title":"5. <code>zephyr/subsys/</code>","text":"<ul> <li>Zephyr\u5b50\u7cfb\u7edf\u4ee3\u7801\u3002</li> <li>\u5982 <code>mem_mgmt/</code>\uff08\u5185\u5b58\u7ba1\u7406\uff09\u3001<code>tracing/</code>\uff08\u8ffd\u8e2a\u65e5\u5fd7/\u8c03\u8bd5\u5b50\u7cfb\u7edf\u7b49\uff09\u3002</li> </ul>"},{"location":"zephyr/3.zephyr%E9%80%9A%E7%94%A8%E5%9F%BA%E7%A1%80/9.zephyr%E5%90%AF%E5%8A%A8%E8%AF%A6%E8%A7%A3/#6-zephyrarch","title":"6. <code>zephyr/arch/</code>","text":"<ul> <li>\u67b6\u6784\u76f8\u5173\u4ee3\u7801\uff08\u6b64\u5904\u662f ARM \u67b6\u6784\uff09\u3002</li> <li><code>arm/core/</code>\u3001<code>core/cortex_m/</code>\u3001<code>core/mpu/</code> \u7b49\uff1a\u6d89\u53caCPU\u5f02\u5e38\u3001\u4e0a\u4e0b\u6587\u5207\u6362\u3001MPU\u3001ISR\u3001fault/\u4e2d\u65ad/\u5411\u91cf\u8868\u3001\u7a7a\u95f2\u3001\u7ebf\u7a0b\u7ba1\u7406\u3001\u67b6\u6784\u9002\u914d\u7b49\u3002</li> <li><code>.S</code> \u6587\u4ef6\u4e3a ARM \u6c47\u7f16\u5b9e\u73b0\u7684\u5e95\u5c42\u542f\u52a8\u6216\u5173\u952e\u6027\u80fd\u51fd\u6570\u3002</li> </ul>"},{"location":"zephyr/3.zephyr%E9%80%9A%E7%94%A8%E5%9F%BA%E7%A1%80/9.zephyr%E5%90%AF%E5%8A%A8%E8%AF%A6%E8%A7%A3/#7-zephyrkernel","title":"7. <code>zephyr/kernel/</code>","text":"<ul> <li>Zephyr\u5185\u6838\u6838\u5fc3\u4ee3\u7801\u3002</li> <li>\u6d89\u53ca\u4efb\u52a1\u8c03\u5ea6\uff08<code>sched.c</code>\uff09\u3001\u7ebf\u7a0b\uff08<code>thread.c</code>\uff09\u3001\u4fe1\u53f7\u91cf\uff08<code>sem.c</code>\uff09\u3001\u961f\u5217\u3001\u4e92\u65a5\u9501\u3001\u5b9a\u65f6\u5668\u3001\u5de5\u4f5c\u961f\u5217\uff08<code>work.c</code>\uff09\u3001\u4e3b\u5165\u53e3\uff08<code>main_weak.c</code>\uff09\u3001\u9519\u8bef\u5904\u7406\uff08<code>fatal.c</code>\uff09\u3001\u65f6\u949f\uff08<code>timer.c</code>\uff09\u3001\u5185\u5b58\u6c60\u3001\u6d6e\u70b9\u652f\u6301\u7b49\u3002</li> <li>\u8fd9\u662fRTOS\u6700\u5173\u952e\u7684\u90e8\u5206\u3002</li> </ul>"},{"location":"zephyr/3.zephyr%E9%80%9A%E7%94%A8%E5%9F%BA%E7%A1%80/9.zephyr%E5%90%AF%E5%8A%A8%E8%AF%A6%E8%A7%A3/#8-zephyrdrivers","title":"8. <code>zephyr/drivers/</code>","text":"<ul> <li>\u8bbe\u5907\u9a71\u52a8\u5c42\u3002</li> <li><code>interrupt_controller/</code>\uff1a\u4e2d\u65ad\u63a7\u5236\u5668</li> <li><code>clock_control/</code>\uff1a\u65f6\u949f\u9a71\u52a8</li> <li><code>console/</code>\uff1a\u4e32\u53e3/\u63a7\u5236\u53f0</li> <li><code>gpio/</code>\uff1a\u901a\u7528IO</li> <li><code>pinctrl/</code>\uff1a\u5f15\u811a\u590d\u7528/\u914d\u7f6e</li> <li><code>reset/</code>\uff1a\u82af\u7247\u590d\u4f4d</li> <li><code>serial/</code>\uff1a\u4e32\u53e3\u901a\u4fe1</li> <li><code>timer/</code>\uff1a\u5b9a\u65f6\u5668</li> </ul>"},{"location":"zephyr/3.zephyr%E9%80%9A%E7%94%A8%E5%9F%BA%E7%A1%80/9.zephyr%E5%90%AF%E5%8A%A8%E8%AF%A6%E8%A7%A3/#9-moduleshalstm32stm32cube","title":"9. <code>modules/hal/stm32/stm32cube/</code>","text":"<ul> <li>STM32\u5b98\u65b9HAL\u5e93\uff08\u786c\u4ef6\u62bd\u8c61\u5c42\uff0cZephyr\u901a\u8fc7\u5b83\u64cd\u4f5c\u5e95\u5c42\u786c\u4ef6\uff09\u3002</li> <li><code>drivers/src/</code>\u3001<code>soc/</code>\uff1a\u4e0e\u5177\u4f53\u82af\u7247\u578b\u53f7\u548c\u7247\u4e0a\u5916\u8bbe\u76f8\u5173\u7684\u5e95\u5c42\u5b9e\u73b0\uff0c\u5982\u65f6\u949f\u3001\u5916\u8bbe\u9a71\u52a8\u3001\u7cfb\u7edf\u542f\u52a8\u7b49\u3002</li> </ul>"},{"location":"zephyr/3.zephyr%E9%80%9A%E7%94%A8%E5%9F%BA%E7%A1%80/9.zephyr%E5%90%AF%E5%8A%A8%E8%AF%A6%E8%A7%A3/#10-zephyrliblibc","title":"10. <code>zephyr/lib/libc/</code>","text":"<ul> <li>C\u5e93\u5b9e\u73b0\uff08\u5982 picolibc\uff09\u3002</li> <li>\u57fa\u7840\u7684\u6807\u51c6C\u5e93\u529f\u80fd\u5b9e\u73b0\uff0c\u5982assert\u3001errno\u3001exit\u3001malloc\u3001stdio\u7b49\u3002</li> </ul>"},{"location":"zephyr/3.zephyr%E9%80%9A%E7%94%A8%E5%9F%BA%E7%A1%80/9.zephyr%E5%90%AF%E5%8A%A8%E8%AF%A6%E8%A7%A3/#11","title":"11. \u5176\u4ed6","text":"<ul> <li>\u8fd8\u6709\u5982 <code>zephyr/arch/common/</code>\u3001<code>subsys/</code>\u3001<code>kernel/</code>\u3001<code>misc/</code>\u3001<code>utils/</code>\u3001<code>drivers/</code>\uff0c\u57fa\u672c\u5bf9\u5e94Zephyr\u5404\u529f\u80fd\u6a21\u5757/\u7cfb\u7edf\u7ec4\u4ef6\u3002</li> <li> <p><code>empty_file.c</code> \u4e00\u822c\u4e3a\u5360\u4f4d\u7b26\uff0c\u90e8\u5206\u81ea\u52a8\u751f\u6210\u6587\u4ef6\u4e3a\u914d\u7f6e\u6216\u5360\u4f4d\u3002</p> </li> <li> <p>\u6240\u6709.s/S \u6587\u4ef6</p> </li> </ul> <pre><code>G:\\desktop\\zephyrproject\\zephyr\\arch\\arm\\core\\nmi_on_reset.S\nG:\\desktop\\zephyrproject\\zephyr\\arch\\arm\\core\\cortex_m\\fault_s.S\nG:\\desktop\\zephyrproject\\zephyr\\arch\\arm\\core\\cortex_m\\reset.S\nG:\\desktop\\zephyrproject\\zephyr\\arch\\arm\\core\\cortex_m\\vector_table.S\nG:\\desktop\\zephyrproject\\zephyr\\arch\\arm\\core\\cortex_m\\swap_helper.S\nG:\\desktop\\zephyrproject\\zephyr\\arch\\arm\\core\\cortex_m\\__aeabi_read_tp.S\n</code></pre> <p>\u5982\u4e0a\u53ef\u4ee5\u770b\u5230\uff0c\u90fd\u5728zephyrproject\\zephyr\\arch\\arm\\core\u76ee\u5f55\u91cc</p> <p>\u5728 Zephyr \u7684 ARM \u67b6\u6784\u4e2d\uff0c\u8bbe\u5907\u4e0a\u7535\u540e CPU \u4f1a\u4f9d\u636e\u5411\u91cf\u8868\u4e2d\u7684\u590d\u4f4d\u5411\u91cf\u5f00\u59cb\u6267\u884c\u4ee3\u7801\u3002\u6839\u636e\u5de5\u7a0b\u76ee\u5f55\u4e2d\u7684\u6e90\u7801\uff0c\u542f\u52a8\u6d41\u7a0b\u5927\u81f4\u5982\u4e0b\uff1a</p>"},{"location":"zephyr/3.zephyr%E9%80%9A%E7%94%A8%E5%9F%BA%E7%A1%80/9.zephyr%E5%90%AF%E5%8A%A8%E8%AF%A6%E8%A7%A3/#_3","title":"\u6574\u4f53\u6d41\u7a0b","text":"<ol> <li>\u5411\u91cf\u8868\u52a0\u8f7d\uff1a\u786c\u4ef6\u8bfb\u53d6 <code>vector_table.S</code> \u4e2d\u7684\u590d\u4f4d\u5411\u91cf\uff0c\u53d6\u5230 <code>z_arm_reset</code> \u7684\u5730\u5740\u3002</li> <li>\u590d\u4f4d\u5904\u7406\uff1a<code>reset.S</code> \u7684 <code>z_arm_reset</code> \u5728\u4e0a\u7535\u6216\u94fe\u5f0f\u52a0\u8f7d\u540e\u6267\u884c\uff0c\u51c6\u5907\u4e2d\u65ad\u6808\u3001\u5bc4\u5b58\u5668\u7b49\uff0c\u7136\u540e\u8df3\u5230 C \u5c42\u7684 <code>z_prep_c()</code>\u3002</li> <li>\u65e9\u671f\u5f02\u5e38\uff1a\u82e5\u5728\u5185\u6838\u521d\u59cb\u5316\u524d\u89e6\u53d1 NMI\uff0c\u5219 <code>nmi_on_reset.S</code> \u7684 <code>z_SysNmiOnReset</code> \u4f1a\u8fdb\u5165\u7b49\u5f85\u5faa\u73af\uff0c\u907f\u514d\u91cd\u542f\u3002</li> <li>\u7ee7\u7eed\u542f\u52a8\uff1a<code>z_prep_c()</code>\uff08\u5728 <code>prep_c.c</code>\uff09\u5b8c\u6210 BSS \u6e05\u96f6\u3001\u6570\u636e\u6bb5\u590d\u5236\u7b49\u521d\u59cb\u5316\uff0c\u968f\u540e\u8c03\u7528 <code>z_cstart()</code>\u3002 <code>z_cstart()</code> \u521b\u5efa\u4e3b\u7ebf\u7a0b\u5e76\u6267\u884c\u7528\u6237\u5e94\u7528\u7684 <code>main()</code>\u3002</li> <li>\u8fd0\u884c\u671f\u95f4\uff1a\u82e5\u53d1\u751f\u5904\u7406\u5668\u5f02\u5e38\uff08HardFault \u7b49\uff09\uff0c<code>fault_s.S</code> \u7684\u76f8\u5e94\u5165\u53e3\u4fdd\u5b58\u73b0\u573a\u5e76\u8df3\u8f6c\u5230 <code>z_arm_fault</code> \u8fdb\u884c\u8bca\u65ad\u3002  \u7ebf\u7a0b\u5207\u6362\u7531 <code>swap_helper.S</code> \u7684 <code>z_arm_pendsv</code> \u5b8c\u6210\uff1b\u7cfb\u7edf\u8c03\u7528\u548c\u5185\u6838\u5f02\u5e38\u901a\u8fc7 <code>z_arm_svc</code> \u5165\u53e3\u5904\u7406\u3002   \u5982\u9700\u83b7\u5f97 TLS \u5730\u5740\uff0c\u7f16\u8bd1\u5668\u8c03\u7528 <code>__aeabi_read_tp.S</code> \u5b9e\u73b0\u7684 <code>__aeabi_read_tp</code>\u3002</li> </ol> <p>\u4ece\u800c\u5b8c\u6210\u4e86\u81ea\u4e0a\u7535\u5230\u8fdb\u5165 <code>main()</code> \u524d\u540e\u6574\u4e2a\u6c47\u7f16\u7ea7\u6d41\u7a0b\u7684\u89e3\u91ca\u3002</p> <ol> <li>\u5411\u91cf\u8868 <code>arch/arm/core/cortex_m/vector_table.S</code> \u5b9a\u4e49\u4e86\u7cfb\u7edf\u7684\u4e2d\u65ad/\u5f02\u5e38\u5411\u91cf\u8868\uff0c\u5176\u4e2d\u7b2c\u4e8c\u4e2a\u8868\u9879\u6307\u5411 <code>z_arm_reset</code>\u3002\u56e0\u6b64\u590d\u4f4d\u540e CPU \u4f1a\u8df3\u8f6c\u5230 <code>z_arm_reset</code>\u3002</li> <li>\u590d\u4f4d\u5904\u7406 <code>z_arm_reset</code> \u4f4d\u4e8e <code>arch/arm/core/cortex_m/reset.S</code>\u3002\u5b83\u5b8c\u6210\u5806\u6808\u6307\u9488\u8bbe\u7f6e\u3001\u521d\u59cb\u5bc4\u5b58\u5668\u914d\u7f6e\u7b49\u5de5\u4f5c\uff0c\u6700\u540e\u8c03\u7528 <code>z_prep_c</code>\u3002</li> <li>\u51c6\u5907 C \u8fd0\u884c\u73af\u5883 <code>z_prep_c</code> \u5728 <code>arch/arm/core/cortex_m/prep_c.c</code> \u4e2d\u5b9e\u73b0\uff0c\u8d1f\u8d23\u91cd\u5b9a\u4f4d\u5411\u91cf\u8868\u3001\u521d\u59cb\u5316 FPU\u3001\u6e05\u96f6 BSS\u3001\u590d\u5236\u6570\u636e\u6bb5\u5e76\u521d\u59cb\u5316\u4e2d\u65ad\u7cfb\u7edf\uff0c\u968f\u540e\u8c03\u7528 <code>z_cstart</code>\u3002</li> <li>\u5185\u6838\u521d\u59cb\u5316 <code>z_cstart</code> \u4f4d\u4e8e <code>kernel/init.c</code>\uff0c\u8fdb\u884c\u65e9\u671f\u7cfb\u7edf\u521d\u59cb\u5316\uff08\u5305\u62ec\u5404\u79cd init level \u7684\u94a9\u5b50\u3001\u8bbe\u5907\u521d\u59cb\u5316\u7b49\uff09\uff0c\u5e76\u5728\u591a\u7ebf\u7a0b\u914d\u7f6e\u4e0b\u521b\u5efa\u4e3b\u7ebf\u7a0b\uff0c\u968f\u540e\u8c03\u7528 <code>switch_to_main_thread</code>\u3002</li> <li>\u5207\u6362\u5230\u4e3b\u7ebf\u7a0b <code>switch_to_main_thread</code>\uff08\u540c\u6837\u5728 <code>kernel/init.c</code>\uff09\u5b8c\u6210\u9996\u6b21\u4e0a\u4e0b\u6587\u5207\u6362\uff0c\u5f00\u59cb\u6267\u884c\u80cc\u666f\u7ebf\u7a0b <code>bg_thread_main</code>\u3002</li> <li>\u80cc\u666f\u7ebf\u7a0b\u5b8c\u6210\u521d\u59cb\u5316\u5e76\u8c03\u7528\u5e94\u7528 <code>main()</code> <code>bg_thread_main</code> \u5728\u6267\u884c\u5b8c POST_KERNEL\u3001APPLICATION \u7b49\u9636\u6bb5\u7684\u521d\u59cb\u5316\u540e\uff0c\u6700\u7ec8\u8c03\u7528\u7528\u6237\u5b9a\u4e49\u7684 <code>main()</code> \u51fd\u6570\u3002</li> <li>\u5e94\u7528\u5165\u53e3    \u793a\u4f8b\u5de5\u7a0b\u7684 <code>main()</code> \u4f4d\u4e8e <code>samples/basic/blinky/src/main.c</code>\uff0c\u6b64\u5904\u5b9e\u73b0 LED \u95ea\u70c1\u903b\u8f91</li> </ol> <p>\u7efc\u4e0a\uff0c\u542f\u52a8\u94fe\u8def\u4e3a\uff1a</p> <p><code>vector_table.S</code>\uff08\u590d\u4f4d\u5411\u91cf\uff09 \u279c <code>reset.S</code> (<code>z_arm_reset</code>) \u279c <code>prep_c.c</code> (<code>z_prep_c</code>) \u279c <code>kernel/init.c</code> (<code>z_cstart</code> \u279c <code>switch_to_main_thread</code> \u279c <code>bg_thread_main</code>) \u279c \u793a\u4f8b\u5de5\u7a0b\u7684 <code>main()</code>\u3002\u6b64\u6d41\u7a0b\u5728\u7cfb\u7edf\u5b8c\u6210\u5404\u9636\u6bb5\u521d\u59cb\u5316\u540e\uff0c\u6b63\u5f0f\u8f6c\u5165\u5e94\u7528\u5c42\u4ee3\u7801\u6267\u884c\u3002</p>"},{"location":"%E5%85%88%E8%BE%91/%E5%85%88%E6%A5%AB%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/","title":"\u5148\u696b\u5f00\u53d1\u73af\u5883\u642d\u5efa","text":"<p>\u53c2\u8003</p> <p>HPM6E00_EVK_board\u624b\u518c1.0  </p> <p>https://blog.csdn.net/m0_47339333/article/details/140135054?ops_request_misc=&amp;request_id=&amp;biz_id=102&amp;utm_term=%E5%85%88%E6%A5%AB%E4%B8%8B%E8%BD%BD&amp;utm_medium=distribute.pc_search_result.none-task-blog-2~all~sobaiduweb~default-1-140135054.142^v102^control&amp;spm=1018.2226.3001.4187</p> <ul> <li> <p>\u4e0b\u8f7dsdk   https://www.hpmicro.com/design-resources/development-software/5       (\u76f4\u63a5\u4e0b\u8f7d\uff0c\u4ed3\u5e93\u4e0b\u8f7d\u6ca1\u6709\u5de5\u5177\u4ee5\u53ca\u6587\u6863)</p> </li> <li> <p>\u4e0b\u8f7dSegger Embedded Studio\uff08IDE\uff09\u5e76\u5b89\u88c5   https://www.segger.com/downloads/embedded-studio/Setup_EmbeddedStudio_v824_Windows_x86_64.exe</p> </li> <li> <p>\u6fc0\u6d3b  **Segger Embedded Studio **  \u5148\u696b\u534a\u5bfc\u4f53\u5411\u7528\u6237\u514d\u8d39\u63d0\u4f9b\u7533\u8bf7\u5546\u7528license\uff0c\u7528\u6237\u7533\u8bf7\u5730\u5740   https://license.segger.com/hpmicro.cgi</p> </li> <li> <p>sdk\u4e2d tools\u6587\u4ef6\u5939\u4e0b  \u627e\u5230 FT2232 \u9a71\u52a8\u5e76\u5b89\u88c5</p> </li> <li> <p>\u751f\u6210 IDE \u5de5\u7a0b \uff0c \u5728 GUI project generator \u754c\u9762\u4e2d\u7684\u201dSAMPLES\u201d\u4e0b\u62c9\u5217\u8868\u4e2d\u9009\u62e9\u201dhello_world\u201d\uff0c\u5728\u201dBOARDS\u201d\u4e0b\u62c9\u5217\u8868\u4e2d\u9009</p> </li> </ul> <p>\u62e9\u201dhpm6e00evk \u201d,\u5728\u201dTYPE\u201d\u4e0b\u62c9\u5217\u8868\u4e2d\u9009\u62e9\u201dflash_xip\u201d\u3002\u70b9\u51fb\u201dGenerate Project\u201d\u6309\u94ae\uff0c\u5373\u53ef\u751f\u6210 flash_xip</p> <p>\u7c7b\u578b\u7684 hello_world \u5de5\u7a0b\u3002</p> <p></p> <p></p> <p></p> <p></p>"},{"location":"%E5%85%A8%E5%BF%97v853%E9%9F%B3%E8%A7%86%E9%A2%91%E5%BC%80%E5%8F%91/1.%E5%BC%80%E5%8F%91%E6%9D%BF%E5%8F%B0%E4%BB%8B%E7%BB%8D/","title":"1.\u5f00\u53d1\u677f\u53f0\u4ecb\u7ecd","text":"<p>\u4f7f\u7528\u97e6\u4e1c\u5c71\u5168\u5fd7v853\u5f00\u53d1\u677f</p>"},{"location":"%E5%85%A8%E5%BF%97v853%E9%9F%B3%E8%A7%86%E9%A2%91%E5%BC%80%E5%8F%91/2.%E9%A9%B1%E5%8A%A8%E4%BB%A5%E5%8F%8A%E4%B8%8B%E8%BD%BD%E7%83%A7%E5%BD%95%E5%B7%A5%E5%85%B7%E5%AE%89%E8%A3%85/","title":"2.\u9a71\u52a8\u4ee5\u53ca\u4e0b\u8f7d\u70e7\u5f55\u5de5\u5177\u5b89\u88c5","text":"<p>\u8f6f\u4ef6\u8981\u6c42\uff1a</p> <p>\u5168\u5fd7USB\u70e7\u5f55\u9a71\u52a8\u5305\uff1aAllwinnerUSBFlashDeviceDriver</p> <p>\u5168\u5fd7\u56fa\u4ef6\u70e7\u5199\u5de5\u5177\uff1aAllwinnertechPhoeniSuit</p> <ul> <li> <p>\u9a71\u52a8\u548c\u4e0b\u8f7d\u5de5\u5177\u5148\u4e0b\u8f7d\u4e0b\u6765\uff0c</p> </li> <li> <p>\u786c\u4ef6usb otg\u8fde\u63a5\u4e0a,\u5e76\u4e0a\u7535   </p> </li> <li>\u6309\u4f4f\u4e0b\u8f7d\u6309\u952eFIL\uff0c\u518d\u6309\u4e00\u4e0b\u590d\u4f4d\u5c31\u8fdb\u5165\u4e86\u4e0b\u8f7d\u6a21\u5f0f</li> </ul> <p>\u8bbe\u5907\u7ba1\u7406\u5668\u67e5\u770b\u672a\u77e5\u8bbe\u5907\uff0c\u6ca1\u6709\u5b89\u88c5\u9a71\u52a8</p> <p></p> <p>\u5b89\u88c5\u9a71\u52a8\uff08\u6ce8\uff1a\u5b89\u88c5\u9a71\u52a8\u4f7f\u7528\u4e0b\u9762\u65b9\u5f0f\uff0c\u4e0d\u8981\u70b9\u51fbexe\u6587\u4ef6\u5b89\u88c5\u9a71\u52a8\uff09</p> <p></p> <p></p> <p></p> <p></p>"},{"location":"%E5%85%A8%E5%BF%97v853%E9%9F%B3%E8%A7%86%E9%A2%91%E5%BC%80%E5%8F%91/3.%E7%83%A7%E5%BD%95%E5%B7%A5%E5%85%B7%E4%BD%BF%E7%94%A8/","title":"3.\u70e7\u5f55\u5de5\u5177\u4f7f\u7528","text":"<ul> <li> <p>\u53cc\u51fbPhoenixSuit.exe</p> </li> <li> <p>\u70b9\u51fb\u4e00\u952e\u5237\u673a</p> </li> </ul> <p>\u9009\u4e2d\u56fa\u4ef6</p> <p></p> <p></p> <p>\u6b64\u65f6\u65e0\u8bbe\u5907\u8fde\u63a5\uff0c\u6309\u4f4f\u4e0b\u8f7d\u6309\u952e\uff0c\u518d\u6309\u4e0b\u590d\u4f4d\u5373\u53ef\u81ea\u52a8\u4e0b\u8f7d</p>"},{"location":"%E5%85%A8%E5%BF%97v853%E9%9F%B3%E8%A7%86%E9%A2%91%E5%BC%80%E5%8F%91/4.%E5%BC%80%E5%8F%91%E6%9D%BF%E9%85%8D%E7%BD%91/","title":"4.\u5f00\u53d1\u677f\u914d\u7f51","text":""},{"location":"%E5%85%A8%E5%BF%97v853%E9%9F%B3%E8%A7%86%E9%A2%91%E5%BC%80%E5%8F%91/4.%E5%BC%80%E5%8F%91%E6%9D%BF%E9%85%8D%E7%BD%91/#_1","title":"\u5f00\u53d1\u677f\u914d\u7f51","text":""},{"location":"%E5%85%A8%E5%BF%97v853%E9%9F%B3%E8%A7%86%E9%A2%91%E5%BC%80%E5%8F%91/4.%E5%BC%80%E5%8F%91%E6%9D%BF%E9%85%8D%E7%BD%91/#ifconfig-wlan0","title":"ifconfig  \u786e\u4fddwlan0\u5b58\u5728","text":""},{"location":"%E5%85%A8%E5%BF%97v853%E9%9F%B3%E8%A7%86%E9%A2%91%E5%BC%80%E5%8F%91/4.%E5%BC%80%E5%8F%91%E6%9D%BF%E9%85%8D%E7%BD%91/#wifi","title":"\u626b\u63cfwifi","text":"<pre><code>wifi -s\n</code></pre>"},{"location":"%E5%85%A8%E5%BF%97v853%E9%9F%B3%E8%A7%86%E9%A2%91%E5%BC%80%E5%8F%91/4.%E5%BC%80%E5%8F%91%E6%9D%BF%E9%85%8D%E7%BD%91/#wifi_1","title":"\u8fde\u63a5wifi","text":"<pre><code>wifi -c ssid password\n\nexample\nwifi -c ZTE-45c476 1234567890.\n</code></pre>"},{"location":"%E5%85%A8%E5%BF%97v853%E9%9F%B3%E8%A7%86%E9%A2%91%E5%BC%80%E5%8F%91/4.%E5%BC%80%E5%8F%91%E6%9D%BF%E9%85%8D%E7%BD%91/#ping","title":"ping \u57df\u540d\u6d4b\u8bd5","text":""},{"location":"%E5%85%A8%E5%BF%97v853%E9%9F%B3%E8%A7%86%E9%A2%91%E5%BC%80%E5%8F%91/5.adb%E6%96%87%E4%BB%B6%E4%BC%A0%E8%BE%93/","title":"5.adb\u6587\u4ef6\u4f20\u8f93","text":""},{"location":"%E5%85%A8%E5%BF%97v853%E9%9F%B3%E8%A7%86%E9%A2%91%E5%BC%80%E5%8F%91/5.adb%E6%96%87%E4%BB%B6%E4%BC%A0%E8%BE%93/#windows","title":"\u4ecewindows\u4f20\u5230\u5f00\u53d1\u677f","text":"<ul> <li>\u5148\u521b\u5efa\u4e00\u4e2a\u6d4b\u8bd5\u6587\u4ef6\u5939tset</li> </ul> <p>\u4f7f\u7528adb\u547d\u4ee4 push</p> <pre><code>adb push \u6587\u4ef6\u540d \u5f00\u53d1\u677f\u7684\u6587\u4ef6\u8def\u5f84\n\nexampel\n\nadb push 1.pdf_process.py /test\n</code></pre> <p></p> <ul> <li>\u5f00\u53d1\u677f\u67e5\u770b</li> </ul> <p></p>"},{"location":"%E5%85%A8%E5%BF%97v853%E9%9F%B3%E8%A7%86%E9%A2%91%E5%BC%80%E5%8F%91/5.adb%E6%96%87%E4%BB%B6%E4%BC%A0%E8%BE%93/#windwos","title":"\u4ece\u5f00\u53d1\u677f\u4f20\u5230windwos","text":"<ul> <li>\u5728test\u76ee\u5f55\u968f\u4fbf\u521b\u5efa\u4e00\u4e2a\u6587\u4ef6\u5199\u70b9\u4e1c\u897f \uff08\u6211\u8fd9\u91cc\u521b\u5efa\u4e861.txt\uff09</li> </ul> <p>\u5728\u7535\u8111\u4e0a\u4f7f\u7528pull\u547d\u4ee4</p> <pre><code>adb pull \u6587\u4ef6\u8def\u5f84/\u6587\u4ef6\u540d\n\nexample\n\nadb pull /test/1.txt\n</code></pre> <p></p> <p>\u67e5\u770b</p> <p></p>"},{"location":"%E5%85%A8%E5%BF%97v853%E9%9F%B3%E8%A7%86%E9%A2%91%E5%BC%80%E5%8F%91/5.adb%E6%96%87%E4%BB%B6%E4%BC%A0%E8%BE%93/#ubuntu","title":"ubuntu\u4e0e\u5f00\u53d1\u677f\u6587\u4ef6\u4e92\u4f20","text":"<p>\u4e0ewindows\u4e0a\u7684\u547d\u4ee4\u4e00\u81f4</p>"},{"location":"%E5%85%A8%E5%BF%97v853%E9%9F%B3%E8%A7%86%E9%A2%91%E5%BC%80%E5%8F%91/6.%E5%BC%80%E5%8F%91%E6%9D%BF%E5%8A%9F%E8%83%BD%E6%B5%8B%E8%AF%95/","title":"6.\u5f00\u53d1\u677f\u529f\u80fd\u6d4b\u8bd5","text":""},{"location":"%E5%85%A8%E5%BF%97v853%E9%9F%B3%E8%A7%86%E9%A2%91%E5%BC%80%E5%8F%91/7.sdk%E5%AE%89%E8%A3%85%E4%BB%A5%E5%8F%8A%E4%BD%BF%E7%94%A8/","title":"7.sdk\u5b89\u88c5\u4ee5\u53ca\u4f7f\u7528","text":"<p>\u63d0\u4f9b\u4e86vmware\u914d\u7f6e\u597d\u7684\u955c\u50cf\uff0csdk\u5305\u542b\u5728\u91cc\u9762\uff0c\u955c\u50cf\u5b89\u88c5\u597d\u4ee5\u540e\uff0c\u8f93\u5165\u767b\u5f55\u5bc6\u7801 ubuntu</p> <p>\u7528\u6237\u76ee\u5f55\u6709\u4e00\u4e2a\u6587\u4ef6 tina-v853-100ask.tar.gz</p> <p>\u89e3\u538b</p> <pre><code>tar -xzvf tina-v853-100ask.tar.gz\n</code></pre> <p>\u8bbe\u7f6e\u7f16\u8bd1\u73af\u5883</p> <pre><code>cd tina-v853-100ask/\nsource build/envsetup.sh \nlunch\n</code></pre> <p>\u7f16\u8bd1</p> <pre><code>make -j16\n</code></pre> <p>\u6253\u5305</p> <pre><code>pack\n</code></pre> <p></p> <pre><code>cd out/v853-100ask\n</code></pre> <pre><code>ubuntu@ubuntu1804:~/tina-v853-100ask/out/v853-100ask$ ls\naw_pack_src  boot.img  compile_dir  image  md5sums  packages  rootfs.img  sha256sums  staging_dir  tina_v853-100ask_uart0.img  v853-100ask-boot.img  v853-100ask-uImage  v853-100ask-zImage\n</code></pre> <p>tina_v853-100ask_uart0.img  \u4e3a\u6253\u5305\u597d\u7684\u7cfb\u7edf\u955c\u50cf\uff0c\u53ef\u4ee5\u76f4\u63a5\u70e7\u5f55</p>"},{"location":"%E5%85%A8%E5%BF%97v853%E9%9F%B3%E8%A7%86%E9%A2%91%E5%BC%80%E5%8F%91/7.sdk%E5%AE%89%E8%A3%85%E4%BB%A5%E5%8F%8A%E4%BD%BF%E7%94%A8/#_1","title":"\u66f4\u6539\u5206\u533a\u5927\u5c0f","text":"<p>\u6dfb\u52a0\u5305</p> <pre><code>make menuconfig\n</code></pre> <p></p> <p>\u518d\u6b21\u7f16\u8bd1</p> <pre><code>make -j16\n</code></pre> <p>\u6253\u5305</p> <pre><code>pack\n</code></pre> <p>\u6253\u5305\u5931\u8d25\uff0c\u63d0\u793a</p> <p>\u5206\u533a\u8868\uff08MBR\uff09\u548c rootfs \u6587\u4ef6\u592a\u5927\uff0c\u8d85\u51fa\u4e86\u5206\u914d\u7684\u5206\u533a\u7a7a\u95f4\uff0c\u5bfc\u81f4\u70e7\u5f55\u955c\u50cf\u751f\u6210\u5931\u8d25\u3002</p> <p></p> <pre><code>ERROR: dl file rootfs.fex size too large\nERROR: filename = rootfs.fex \nERROR: dl_file_size = 53760 sector\nERROR: part_size = 35840 sector\nupdate_for_part_info -1\nERROR: update mbr file fail\nERROR: update_mbr failed\n</code></pre> <ul> <li>\u5f53\u524d\u8bbe\u7f6e\u7684\u5927\u5c0f 35840 sector  </li> <li>\u5f53\u524d\u9700\u8981\u7684\u955c\u50cf 53760 sector</li> </ul>"},{"location":"%E5%85%A8%E5%BF%97v853%E9%9F%B3%E8%A7%86%E9%A2%91%E5%BC%80%E5%8F%91/7.sdk%E5%AE%89%E8%A3%85%E4%BB%A5%E5%8F%8A%E4%BD%BF%E7%94%A8/#_2","title":"\u89e3\u51b3\u9519\u8bef","text":""},{"location":"%E5%85%A8%E5%BF%97v853%E9%9F%B3%E8%A7%86%E9%A2%91%E5%BC%80%E5%8F%91/7.sdk%E5%AE%89%E8%A3%85%E4%BB%A5%E5%8F%8A%E4%BD%BF%E7%94%A8/#rootfs","title":"\u589e\u5927 rootfs \u5206\u533a\u5927\u5c0f","text":""},{"location":"%E5%85%A8%E5%BF%97v853%E9%9F%B3%E8%A7%86%E9%A2%91%E5%BC%80%E5%8F%91/7.sdk%E5%AE%89%E8%A3%85%E4%BB%A5%E5%8F%8A%E4%BD%BF%E7%94%A8/#_3","title":"\u76f4\u63a5\u4fee\u6539\u5206\u533a\u8868","text":"<pre><code>vim device/config/chips/v853/configs/100ask/linux/sys_partition.fex\n</code></pre> <pre><code>;    mbr\u7684\u5927\u5c0f, \u4ee5Kbyte\u4e3a\u5355\u4f4d\n;****************************************************\n[mbr]\nsize = 4096\n\n;********************************************************************************************************\n;                                              \u5206\u533a\u914d\u7f6e\n;\n;\n;  partition \u5b9a\u4e49\u8303\u4f8b:\n;    [partition]                ;  //\u8868\u793a\u662f\u4e00\u4e2a\u5206\u533a\n;    name        = USERFS2      ; //\u5206\u533a\u540d\u79f0\n;    size        = 16384        ; //\u5206\u533a\u5927\u5c0f \u5355\u4f4d: \u6247\u533a.\u5206\u533a\u8868\u793a\u4e2a\u6570\u6700\u591a2^31 * 512 = 2T\n;    downloadfile = \"123.fex\"   ; //\u4e0b\u8f7d\u6587\u4ef6\u7684\u8def\u5f84\u548c\u540d\u79f0\uff0c\u53ef\u4ee5\u4f7f\u7528\u76f8\u5bf9\u8def\u5f84\uff0c\u76f8\u5bf9\u662f\u6307\u76f8\u5bf9\u4e8eimage.cfg\u6587\u4ef6\u6240\u5728\u5206\u533a\u3002\u4e5f\u53ef\u4ee5\u4f7f\u7528\u7edd\u5bf9\u8def\u5f84\n;    keydata     = 1            ; //\u79c1\u6709\u6570\u636e\u5206\u533a\uff0c\u91cd\u65b0\u91cf\u4ea7\u6570\u636e\u5c06\u4e0d\u4e22\u5931\n;    encrypt     = 1            ; //\u91c7\u7528\u52a0\u5bc6\u65b9\u5f0f\u70e7\u5f55\uff0c\u5c06\u63d0\u4f9b\u6570\u636e\u52a0\u5bc6\uff0c\u4f46\u635f\u5931\u70e7\u5f55\u901f\u5ea6\n;    user_type   = ?            ; //\u79c1\u6709\u7528\u6cd5\n;    verify      = 1            ; //\u8981\u6c42\u91cf\u4ea7\u5b8c\u6210\u540e\u6821\u9a8c\u662f\u5426\u6b63\u786e\n;\n; \u6ce8\uff1a1\u3001name\u552f\u4e00, \u4e0d\u5141\u8bb8\u540c\u540d\n;     2\u3001name\u6700\u592712\u4e2a\u5b57\u7b26\n;     3\u3001size = 0, \u5c06\u521b\u5efa\u4e00\u4e2a\u65e0\u5927\u5c0f\u7684\u7a7a\u5206\u533a\n;     4\u3001\u4e3a\u4e86\u5b89\u5168\u548c\u6548\u7387\u8003\u8651\uff0c\u5206\u533a\u5927\u5c0f\u6700\u597d\u4fdd\u8bc1\u4e3a16M\u5b57\u8282\u7684\u6574\u6570\u500d\n;********************************************************************************************************\n[partition_start]\n\n[partition]\n    name         = boot-resource\n    size         = 6016\n    downloadfile = \"boot-resource.fex\"\n    user_type    = 0x8000\n\n[partition]\n    name         = env\n    size         = 1008\n    downloadfile = \"env.fex\"\n    user_type    = 0x8000\n\n[partition]\n    name         = boot\n    ;size         = 4096\n    size         = 25200\n    downloadfile = \"boot.fex\"\n    user_type    = 0x8000\n\n[partition]\n    name         = rootfs\n    size         = 35840\n    downloadfile = \"rootfs.fex\"\n    user_type    = 0x8000\n</code></pre> <p>\u5c06rootfs \u7684\u5927\u5c0f\u753135840 \u66f4\u6539\u4e3a53760 \u5373\u53ef</p> <p>\u66f4\u6539\u540e\u91cd\u65b0\u6253\u5305</p> <pre><code>pack\n</code></pre> <p>\u5c31\u6210\u529f\u6253\u5305\u4e86\u955c\u50cf</p> <p></p> <p>\u70e7\u5f55\u540e\u6d4b\u8bd5 lv_g2d_test</p> <p></p>"},{"location":"%E5%85%A8%E5%BF%97v853%E9%9F%B3%E8%A7%86%E9%A2%91%E5%BC%80%E5%8F%91/%E5%85%A8%E5%BF%97%E5%8E%9F%E5%8E%82sdk/1.%E5%8E%9F%E5%8E%82sdk%E7%BC%96%E8%AF%91/","title":"1.\u539f\u5382sdk\u7f16\u8bd1","text":"<p>\u89e3\u538b</p> <pre><code>tar -xf smallwit_v85x_tina_buildroot_sdk_20231125.tar\n</code></pre> <p>\u4f1a\u89e3\u538b\u51fa\u4e00\u4e2aopt\u76ee\u5f55</p> <ul> <li>\u5207\u6362\u5230sdk\u76ee\u5f55</li> </ul> <pre><code>cd opt/V85x/tina-v85x-release\n</code></pre> <ul> <li>\u52a0\u8f7d\u73af\u5883\u53c2\u6570\u5230\u5f53\u524dshell</li> </ul> <pre><code>source build/envsetup.sh\n</code></pre> <ul> <li>\u52a0\u8f7d\u5168\u5fd7\u5b98\u65b9V853\u5f00\u53d1\u677f</li> </ul> <pre><code>lunch v853_vision-tina\n</code></pre> <p>\u6216\u8005\u76f4\u63a5\u8f93\u5165lunch   \u5e76\u9009\u62e910</p> <pre><code>You're building on Linux\n\nLunch menu... pick a combo:\n     1. v851se_perf1-tina\n     2. v851s_perf1-tina\n     3. v853_perf1-tina\n     4. v853_perf2-tina\n     5. v853s_perf1-tina\n     6. v853s_perf2-tina\n     7. v853s_sw116-tina\n     8. v853s_vision-tina\n     9. v853_sw116-tina\n     10. v853_vision-tina\n</code></pre> <p>\u7f16\u8bd1\u56fa\u4ef6\u5e76\u6253\u5305</p> <pre><code>make -j8 &amp;&amp; pack\n</code></pre> <p>\u6253\u5305\u56fa\u4ef6\u76ee\u5f55</p> <pre><code>tina-v85x-release/out/v853-vision/tina_v853-vision_uart0.img\n</code></pre> <p></p> <pre><code>ubuntu@ubuntu1804:~/opt/V85x/tina-v85x-release/out/v853-vision$ ls\naw_pack_src  boot.img  compile_dir  image  md5sums  packages  rootfs.img  sha256sums  staging_dir  tina_v853-vision_uart0.img  v853-vision-boot.img  v853-vision-uImage  v853-vision-zImage\n</code></pre>"},{"location":"%E5%85%A8%E5%BF%97v853%E9%9F%B3%E8%A7%86%E9%A2%91%E5%BC%80%E5%8F%91/%E5%85%A8%E5%BF%97%E5%8E%9F%E5%8E%82sdk/2.%E5%85%A8%E5%BF%97%E5%AE%98%E6%96%B9v853%E5%BC%80%E5%8F%91%E6%9D%BF%E4%B8%8E%E9%9F%A6%E4%B8%9C%E5%B1%B1v853%E7%A1%AC%E4%BB%B6%E5%AF%B9%E6%AF%94/","title":"2.\u5168\u5fd7\u5b98\u65b9v853\u5f00\u53d1\u677f\u4e0e\u97e6\u4e1c\u5c71v853\u786c\u4ef6\u5bf9\u6bd4","text":""},{"location":"%E5%85%A8%E5%BF%97v853%E9%9F%B3%E8%A7%86%E9%A2%91%E5%BC%80%E5%8F%91/%E5%85%A8%E5%BF%97%E5%8E%9F%E5%8E%82sdk/3.%E5%85%A8%E5%BF%97tina_sdk%E6%B7%BB%E5%8A%A0%E8%87%AA%E5%B7%B1%E7%9A%84board/","title":"\u5168\u5fd7tina_sdk\u6dfb\u52a0\u81ea\u5df1\u7684boards","text":""},{"location":"%E5%85%A8%E5%BF%97v853%E9%9F%B3%E8%A7%86%E9%A2%91%E5%BC%80%E5%8F%91/%E5%85%A8%E5%BF%97%E5%8E%9F%E5%8E%82sdk/3.%E5%85%A8%E5%BF%97tina_sdk%E6%B7%BB%E5%8A%A0%E8%87%AA%E5%B7%B1%E7%9A%84board/#tina_sdkboards","title":"\u5168\u5fd7tina_sdk\u6dfb\u52a0\u81ea\u5df1\u7684boards","text":"<p>\u53c2\u8003</p> <p>https://blog.csdn.net/weixin_44179831/article/details/126845384?spm=1001.2014.3001.5502</p> <p>1.\u6dfb\u52a0\u8bbe\u5907\u6811</p> <pre><code>tina-v85x-release\\device\\config\\chips\\v853\\configs\n</code></pre> <p></p> <p>2.\u6dfb\u52a0\u81ea\u5df1\u7684\u677f</p> <pre><code>tina-v85x-release\\target\\allwinner\n</code></pre> <p></p> <p>\u7f16\u8bd1</p> <pre><code>make -j &amp;&amp; pack\n</code></pre> <p>\u7f16\u8bd1\u5931\u8d25</p> <pre><code>Error: arch/arm/boot/dts/board.dts:988.1-7 Label or path spif0 not found\nError: arch/arm/boot/dts/board.dts:1861.1-12 Label or path e907_rproc not found\nFATAL ERROR: Syntax error parsing input tree\nscripts/Makefile.lib:313: recipe for target 'arch/arm/boot/dts/board.dtb' failed\nmake[6]: *** [arch/arm/boot/dts/board.dtb] Error 1\narch/arm/Makefile:343: recipe for target 'dtbs' failed\nmake[5]: *** [dtbs] Error 2\nmake[5]: Leaving directory '/home/ubuntu/opt/V85x/tina-v85x-release/lichee/linux-4.9'\nMakefile:31: recipe for target '/home/ubuntu/opt/V85x/tina-v85x-release/out/v853-100ask/compile_dir/target/linux-v853-100ask/linux-4.9.191/.image' failed\nmake[4]: *** [/home/ubuntu/opt/V85x/tina-v85x-release/out/v853-100ask/compile_dir/target/linux-v853-100ask/linux-4.9.191/.image] Error 2\nmake[4]: Leaving directory '/home/ubuntu/opt/V85x/tina-v85x-release/target/allwinner/v853-100ask'\nMakefile:13: recipe for target 'install' failed\nmake[3]: *** [install] Error 2\nmake[3]: Leaving directory '/home/ubuntu/opt/V85x/tina-v85x-release/target/allwinner'\ntarget/Makefile:21: recipe for target 'target/allwinner/install' failed\nmake[2]: *** [target/allwinner/install] Error 2\nmake[2]: Leaving directory '/home/ubuntu/opt/V85x/tina-v85x-release'\n</code></pre> <p>\u8fd9\u8868\u793a\u5728 <code>board.dts</code> \u6587\u4ef6\u7684\u7b2c 988 \u884c\u548c\u7b2c 1861 \u884c\u5f15\u7528\u4e86\u540d\u4e3a <code>spif0</code> \u548c <code>e907_rproc</code> \u7684 label\uff0c\u4f46\u8fd9\u4e24\u4e2a label \u5728\u4f60\u7684 DTS/DTSI \u6587\u4ef6\u4e2d\u5e76\u4e0d\u5b58\u5728\u3002</p> <pre><code>Y:\\tina-v853-100ask\\lichee\\linux-4.9\\arch\\arm\\boot\\dts\\sun8iw21p1.dtsi\n</code></pre> <p>\u5bf9\u7167\u7740\u767e\u95ee\u7f51\u7684\u67e5\u627e\u66f4\u6539\u6216\u8005\u76f4\u63a5\u66ff\u6362\uff0c\u5728dtsi\u4e2d\u6dfb\u52a0\u4e0a spif0  \u548c e907_rproc</p> <pre><code>Y:\\opt\\V85x\\tina-v85x-release\\lichee\\linux-4.9\\arch\\arm\\boot\\dts\\sun8iw21p1-clk.dtsi\n</code></pre> <p>\u6dfb\u52a0</p> <pre><code>    clk_e907_gate: e907_gate{\n            #clock-cells = &lt;0&gt;;\n            compatible = \"allwinner,periph-clock\";\n            clock-output-names = \"e907_gate\";\n        };\n</code></pre>"},{"location":"%E5%85%A8%E5%BF%97v853%E9%9F%B3%E8%A7%86%E9%A2%91%E5%BC%80%E5%8F%91/%E5%85%A8%E5%BF%97%E5%8E%9F%E5%8E%82sdk/4.%E5%85%A8%E5%BF%97tina_sdk%E7%9B%AE%E5%BD%95%E8%A7%A3%E6%9E%90/","title":"Tina Linux\u76ee\u5f55\u89e3\u6790","text":""},{"location":"%E5%85%A8%E5%BF%97v853%E9%9F%B3%E8%A7%86%E9%A2%91%E5%BC%80%E5%8F%91/%E5%85%A8%E5%BF%97%E5%8E%9F%E5%8E%82sdk/4.%E5%85%A8%E5%BF%97tina_sdk%E7%9B%AE%E5%BD%95%E8%A7%A3%E6%9E%90/#tina-linux","title":"Tina Linux\u76ee\u5f55\u89e3\u6790","text":""},{"location":"%E5%85%A8%E5%BF%97v853%E9%9F%B3%E8%A7%86%E9%A2%91%E5%BC%80%E5%8F%91/%E5%85%A8%E5%BF%97%E5%8E%9F%E5%8E%82sdk/4.%E5%85%A8%E5%BF%97tina_sdk%E7%9B%AE%E5%BD%95%E8%A7%A3%E6%9E%90/#_1","title":"\u76ee\u5f55\u4e0e\u6587\u4ef6\u8bf4\u660e","text":"\u76ee\u5f55/\u6587\u4ef6 \u4f5c\u7528\u63cf\u8ff0 Config.in \u9876\u5c42\u914d\u7f6e\u5165\u53e3\uff0ckconfig \u914d\u7f6e\uff08\u83dc\u5355\u914d\u7f6e\u7528\uff0c\u51b3\u5b9a menuconfig \u83dc\u5355\u7ed3\u6784\uff09\u3002\u53ef\u4ee5\u5ffd\u7565\uff0c\u9664\u975e\u4f60\u8981\u52a0\u65b0\u914d\u7f6e\u9879\u3002 Makefile SDK \u7684\u603b Makefile\uff0c\u5165\u53e3\u6587\u4ef6\uff0c\u5b9a\u4e49\u4e86\u7f16\u8bd1\u7684\u4e3b\u6d41\u7a0b\u3002\u7ecf\u5e38\u8981\u7528\u6765\u8bfb\u61c2\u6784\u5efa\u6d41\u7a0b\uff0c\u4f46\u4e00\u822c\u4e0d\u7528\u6539\u3002 build/ \u7f16\u8bd1\u4e2d\u95f4\u4ea7\u7269\u548c\u6784\u5efa\u76f8\u5173\u811a\u672c\u3002\u4e00\u822c\u4e0d\u7528\u5173\u6ce8\u3002 command/ \u5b58\u653e\u4e00\u4e9b\u8f85\u52a9\u811a\u672c\u548c\u547d\u4ee4\uff0c\u90e8\u5206\u81ea\u5b9a\u4e49\u547d\u4ee4\u884c\u5de5\u5177\u5728\u8fd9\u91cc\u3002\u53ef\u4ee5\u901b\u901b\uff0c\u9047\u5230\u7591\u95ee\u547d\u4ee4\u53ef\u4ee5\u67e5\u67e5\u3002 config/ \u5b58\u653e\u5404\u79cd\u914d\u7f6e\u6587\u4ef6\uff0c\u6bd4\u5982\u9ed8\u8ba4\u914d\u7f6e\u3001\u4ea7\u54c1\u5b9a\u5236\u914d\u7f6e\u3002\u9700\u8981\u5b9a\u5236\u677f\u5361\u53c2\u6570\u65f6\u53ef\u80fd\u4f1a\u5173\u6ce8\u3002 device/ \u677f\u7ea7\u8bbe\u5907\u76f8\u5173\u7684\u63cf\u8ff0\u548c\u914d\u7f6e\uff0c\u6d89\u53ca dtb\u3001\u5206\u533a\u3001\u677f\u5361\u4fe1\u606f\u7b49\uff0c\u548c\u4f60\u9002\u914d\u81ea\u5df1\u7684\u786c\u4ef6\u5173\u7cfb\u5bc6\u5207\uff0c\u91cd\u70b9\u5173\u6ce8\u3002 dl/ \u5b58\u653e\u6e90\u7801\u4e0b\u8f7d\u4e0b\u6765\u7684 tar \u5305\u7b49\u6587\u4ef6\uff08download cache\uff09\uff0c\u6784\u5efa\u65f6\u81ea\u52a8\u751f\u6210\uff0c\u51e0\u4e4e\u4e0d\u7528\u52a8\u3002 docs/ \u6587\u6863\u8bf4\u660e\u76ee\u5f55\uff0c\u6709\u65f6\u4f1a\u6709 API \u8bf4\u660e\u3001\u7f16\u8bd1\u6d41\u7a0b\u3001\u5f00\u53d1\u6307\u5bfc\u7b49\uff0c\u53ef\u4ee5\u627e\u627e\u6709\u6ca1\u6709\u5e2e\u52a9\u6587\u6863\u3002 external/ \u5916\u90e8\u9879\u76ee\u7684\u9002\u914d\u652f\u6301\uff0c\u6bd4\u5982\u4e00\u4e9b\u7b2c\u4e09\u65b9\u5e93\u6216\u5de5\u5177\u3002\u7528\u7684\u4e0d\u591a\uff0c\u53ef\u4ee5\u8df3\u8fc7\u3002 lichee/ \u91cd\u70b9\u76ee\u5f55\u3002\u5e73\u53f0\u5e95\u5c42\u4ee3\u7801\uff0c\u5305\u62ec u-boot\u3001kernel\u3001\u5de5\u5177\u94fe\u4e0b\u8f7d\u7b49\uff0c\u8fd9\u91cc\u4f1a\u6709 lichee \u76f8\u5173\u7684\u811a\u672c\u3001\u5185\u6838\u3001bootloader \u7684\u6e90\u7801\u548c\u6784\u5efa\u811a\u672c\u3002\u81ea\u5df1\u8981\u6539\u5185\u6838\u3001uboot\uff0c\u4e3b\u8981\u5c31\u5728\u8fd9\u3002 name/ \u5b58\u653e\u4ea7\u54c1\u540d\u79f0/\u6807\u8bc6\u7528\u7684\uff0c\u4e0d\u5e38\u7528\u3002 out/ \u91cd\u70b9\u76ee\u5f55\u3002\u7f16\u8bd1\u8f93\u51fa\u76ee\u5f55\uff0c\u6240\u6709\u6700\u7ec8\u955c\u50cf\u3001\u5206\u533a\u6587\u4ef6\u3001\u53ef\u70e7\u5f55\u7684 bin \u6587\u4ef6\u7b49\u90fd\u5728\u8fd9\u91cc\u4ea7\u751f\u3002\u70e7\u5f55\u3001\u8c03\u8bd5\u90fd\u5f97\u6765\u8fd9\u627e\u955c\u50cf\u3002 package/ \u91cd\u70b9\u76ee\u5f55\u3002\u6240\u6709\u7684\u8f6f\u4ef6\u5305\u6e90\u7801\u90fd\u5728\u8fd9\uff0c\u6bd4\u5982\u5e94\u7528\u3001\u9a71\u52a8\u3001\u4e2d\u95f4\u4ef6\u3001BusyBox\u3001\u7f51\u7edc\u534f\u8bae\u6808\u7b49\u3002\u81ea\u5df1\u52a0\u5305\u3001\u6539\u5305\u90fd\u8981\u5173\u6ce8\u3002 prebuilt/ \u9884\u7f16\u8bd1\u4e8c\u8fdb\u5236\u5305\uff08\u5982\u5de5\u5177\u94fe\u3001blobs\uff09\uff0c\u901a\u5e38\u4e0d\u7528\u52a8\u3002 rules.mk Makefile \u7684\u516c\u5171\u89c4\u5219\u6587\u4ef6\uff0c\u88ab\u9876\u5c42 Makefile include\uff0c\u4e00\u822c\u4e0d\u7528\u6539\u3002 scripts/ \u5404\u7c7b\u6784\u5efa\u8f85\u52a9\u811a\u672c\uff0c\u6709\u65f6\u5019\u4f1a\u6709\u6253\u5305\u3001\u70e7\u5f55\u3001\u5347\u7ea7\u7b49\u76f8\u5173\u811a\u672c\u3002\u53ef\u4ee5\u4e86\u89e3\u4e0b\u3002 start/ \u542f\u52a8\u76f8\u5173\u6587\u4ef6\uff08\u6bd4\u5982\u542f\u52a8\u811a\u672c\u3001\u914d\u7f6e\u6587\u4ef6\u7b49\uff09\uff0c\u6709\u4e9b\u7cfb\u7edf\u6ca1\u6709\u8fd9\u4e2a\u76ee\u5f55\uff0c\u4e0d\u5e38\u7528\u3002 target/ \u91cd\u70b9\u76ee\u5f55\u3002\u76ee\u6807\u677f\u76f8\u5173\u6587\u4ef6\uff0c\u5b9a\u4e49\u4e86\u5404\u7c7b\u786c\u4ef6\u5e73\u53f0\u7684\u6784\u5efa\u53c2\u6570\u3001\u5206\u533a\u3001\u8f6f\u4ef6\u9009\u62e9\u3001\u8bbe\u5907\u6811\u6620\u5c04\u7b49\uff0c\u9002\u914d\u81ea\u5df1\u677f\u5b50\u5fc5\u770b\u3002 tmp/ \u6784\u5efa\u4e34\u65f6\u6587\u4ef6\u5939\uff0c\u81ea\u52a8\u751f\u6210\uff0c\u6ca1\u5565\u7528\u3002 toolchain/ \u5de5\u5177\u94fe\u76ee\u5f55\uff0cgcc/arm-linux-gnueabihf-gcc \u7b49\u4ea4\u53c9\u7f16\u8bd1\u5de5\u5177\u3002\u719f\u6089\u4ea4\u53c9\u7f16\u8bd1\u4f1a\u7528\u5230\u3002 tools/ \u6784\u5efa/\u7ef4\u62a4\u8fc7\u7a0b\u4e2d\u7684\u8f85\u52a9\u5de5\u5177\uff0c\u5982 mkimage\u3001\u6253\u5305\u5de5\u5177\u7b49\u3002"},{"location":"%E5%85%A8%E5%BF%97v853%E9%9F%B3%E8%A7%86%E9%A2%91%E5%BC%80%E5%8F%91/%E5%85%A8%E5%BF%97%E5%8E%9F%E5%8E%82sdk/4.%E5%85%A8%E5%BF%97tina_sdk%E7%9B%AE%E5%BD%95%E8%A7%A3%E6%9E%90/#_2","title":"\u5e94\u8be5\u91cd\u70b9\u5173\u6ce8\u7684\u76ee\u5f55","text":"<ol> <li>lichee/</li> <li>\u8981\u4fee\u6539\u5185\u6838\u3001uboot\uff0c\u505a\u5e95\u5c42\u9a71\u52a8\u9002\u914d\uff0c\u4e00\u5b9a\u4f1a\u8fdb\u8fd9\u91cc\u3002</li> <li>\u5185\u6838\u6e90\u7801/uboot\u6e90\u7801/\u7f16\u8bd1\u914d\u7f6e\u90fd\u5728\u8fd9\u91cc\u3002</li> <li>package/</li> <li>\u8981\u5f00\u53d1/\u4fee\u6539\u5e94\u7528\u3001\u52a0\u9a71\u52a8\u3001\u6539\u4e2d\u95f4\u4ef6\uff0c\u57fa\u672c\u90fd\u548c\u8fd9\u4e2a\u76ee\u5f55\u76f8\u5173\u3002</li> <li>out/</li> <li>\u4ea7\u7269\u3001\u56fa\u4ef6\u955c\u50cf\u3001\u53ef\u70e7\u5f55\u6587\u4ef6\u7b49\u90fd\u5728\u8fd9\u91cc\u627e\u3002</li> <li>device/ \u548c target/</li> <li>\u677f\u7ea7\u652f\u6301\u5305\u3001\u8bbe\u5907\u6811\u3001\u5206\u533a\u5e03\u5c40\u3001\u677f\u5361\u9002\u914d\u76f8\u5173\u7684\u4e1c\u897f\uff0c\u90fd\u8981\u770b\u8fd9\u4e24\u4e2a\u76ee\u5f55\u3002</li> <li>toolchain/</li> <li>\u914d\u7f6e/\u5347\u7ea7\u5de5\u5177\u94fe\u6216\u8005\u8981\u624b\u5de5\u4ea4\u53c9\u7f16\u8bd1\u7528\u5f97\u5230\u3002</li> <li>config/</li> <li>\u81ea\u5b9a\u4e49\u6784\u5efa\u53c2\u6570\u3001\u914d\u7f6e\u9009\u9879\u65f6\u4e5f\u4f1a\u78b0\u5230\uff0c\u7279\u522b\u662f\u505a\u4ea7\u54c1\u5b9a\u5236\u3002</li> </ol>"},{"location":"%E5%85%A8%E5%BF%97v853%E9%9F%B3%E8%A7%86%E9%A2%91%E5%BC%80%E5%8F%91/%E5%85%A8%E5%BF%97%E5%8E%9F%E5%8E%82sdk/4.%E5%85%A8%E5%BF%97tina_sdk%E7%9B%AE%E5%BD%95%E8%A7%A3%E6%9E%90/#_3","title":"\u4e00\u822c\u4e0d\u7528\u52a8\u7684\u76ee\u5f55/\u6587\u4ef6","text":"<ul> <li>build/</li> <li>dl/</li> <li>prebuilt/</li> <li>name</li> <li>tmp/</li> <li>rules.mk\uff08\u9664\u975e\u60f3\u7814\u7a76\u6784\u5efa\u7cfb\u7edf\uff09</li> <li>external/</li> <li>start</li> </ul>"},{"location":"%E5%85%A8%E5%BF%97v853%E9%9F%B3%E8%A7%86%E9%A2%91%E5%BC%80%E5%8F%91/%E5%85%A8%E5%BF%97%E5%8E%9F%E5%8E%82sdk/4.%E5%85%A8%E5%BF%97tina_sdk%E7%9B%AE%E5%BD%95%E8%A7%A3%E6%9E%90/#tips","title":"Tips","text":"<ul> <li>\u771f\u6b63\u5f00\u53d1\u4e2d\uff0cpackage/\u3001lichee/\u3001target/\u3001device/ \u8fd9\u51e0\u4e2a\u662f\u4fee\u6539\u6700\u591a\u7684\u3002</li> <li>\u751f\u6210\u7684\u56fa\u4ef6\u548c\u5206\u533a\u955c\u50cf\u90fd\u5728 out/\uff0c\u8c03\u8bd5\u70e7\u5f55\u4e3b\u8981\u770b\u8fd9\u91cc\u3002</li> <li>\u7814\u7a76\u6784\u5efa\u6d41\u7a0b\u6216\u8005\u52a0\u5168\u5c40\u81ea\u5b9a\u4e49\u52a8\u4f5c\uff0c\u8981\u5173\u6ce8\u9876\u5c42 Makefile \u548c\u90e8\u5206\u811a\u672c\u3002</li> </ul>"},{"location":"%E5%85%A8%E5%BF%97v853%E9%9F%B3%E8%A7%86%E9%A2%91%E5%BC%80%E5%8F%91/%E5%85%A8%E5%BF%97%E5%8E%9F%E5%8E%82sdk/4.%E5%85%A8%E5%BF%97tina_sdk%E7%9B%AE%E5%BD%95%E8%A7%A3%E6%9E%90/#external","title":"external\u76ee\u5f55\uff08\u91cd\u70b9\uff09","text":"<ul> <li>external/ \u76ee\u5f55\u5c31\u662f\u201cSDK \u96c6\u6210\u7684\u6240\u6709\u7b2c\u4e09\u65b9\u548c\u5b9a\u5236\u5916\u90e8\u5e93\u3001demo\u3001\u589e\u5f3a\u5305\u201d\u7684\u4ed3\u5e93</li> </ul> <pre><code>29955@newbie MINGW64 /y/opt/V85x/tina-v85x-release/external\n$ tree -L 1\n.\n|-- aispeech\n|-- alsa-conf-aw\n|-- alsa-plugins-aw\n|-- asan_demo\n|-- avs\n|-- awcast\n|-- awsystrace\n|-- bluetooth\n|-- boot-play\n|-- btmanager\n|-- cairo\n|-- camerademo\n|-- crash-handler\n|-- displayd\n|-- evevehicledetect\n|-- eyesee-mpp\n|-- flutter-sunxi\n|-- gmems\n|-- gst1-libav\n|-- gst1-omx\n|-- gst1-plugins-bad\n|-- gst1-plugins-base\n|-- gst1-plugins-good\n|-- gst1-plugins-ugly\n|-- gstreamer1\n|-- healthd\n|-- hpplay-receiver\n|-- legacy\n|-- libAWIspApi\n|-- libaec-xt\n|-- libcedarc\n|-- libcedarx\n|-- libconv\n|-- libcutils\n|-- libdisplay\n|-- libkey\n|-- libminui\n|-- libnl-tiny\n|-- libsocket_db\n|-- libsysutils\n|-- libuapi\n|-- libutils\n|-- libvop\n|-- logwrapper\n|-- mad-demo\n|-- mediaplayer\n|-- minigui\n|-- minigui_aw\n|-- miracast-receiver\n|-- miracast2\n|-- misc-upgrade\n|-- mtdbadblk\n|-- mtop\n|-- mtp\n|-- multimedia\n|-- multimedia_demo\n|-- nativepower\n|-- networkd\n|-- ota-burnboot\n|-- p2p_utils\n|-- peq\n|-- pixman\n|-- player-utils\n|-- powerkey\n|-- qt\n|-- recovery-mode\n|-- rtk\n|-- smartlinkd\n|-- softap\n|-- sona\n|-- stress-ng\n|-- sys_info\n|-- tconfigs\n|-- testtools\n|-- tina-app-upgrade\n|-- tina-upgrade\n|-- tinacvr\n|-- tinymp3\n|-- tvd_demo\n|-- uevent-monitor\n|-- usb-gadget\n|-- uvoice\n|-- wayland\n|-- wayland-ivi-extension\n|-- wayland-protocols\n|-- weston\n-- wifimanager\n\n87 directories, 0 files\n</code></pre> \u76ee\u5f55\u540d \u4e3b\u8981\u4f5c\u7528/\u8bf4\u660e aispeech \u79d1\u5927\u8baf\u98de\u7b49\u8bed\u97f3\u8bc6\u522b/\u8bed\u97f3\u5904\u7406SDK\u96c6\u6210 alsa-conf-aw \u5168\u5fd7\u5e73\u53f0\u7684 ALSA \u97f3\u9891\u914d\u7f6e\u6587\u4ef6 alsa-plugins-aw ALSA \u97f3\u9891\u63d2\u4ef6\uff08\u5168\u5fd7\u5e73\u53f0\u5b9a\u5236\uff09 asan_demo AddressSanitizer \u5185\u5b58\u68c0\u67e5\u529f\u80fd\u6f14\u793a avs Alexa Voice Service \u76f8\u5173\uff08\u8bed\u97f3\u52a9\u624b/\u667a\u80fd\u97f3\u7bb1\uff09 awcast \u5168\u5fd7\u81ea\u6709\u65e0\u7ebf\u6295\u5c4f/\u5c4f\u5e55\u955c\u50cf\u76f8\u5173 awsystrace \u5168\u5fd7\u7cfb\u7edf\u7ea7\u8ffd\u8e2a\u5206\u6790\u5de5\u5177 bluetooth \u84dd\u7259\u534f\u8bae\u6808\u53ca\u76f8\u5173\u5e94\u7528 boot-play \u542f\u52a8\u97f3\u6548/\u542f\u52a8\u52a8\u753b\u76f8\u5173\uff08\u53ef\u80fd\u64ad\u653e\u542f\u52a8\u97f3\u4e50\uff09 btmanager \u84dd\u7259\u8bbe\u5907\u7ba1\u7406\u5de5\u5177 cairo \u56fe\u5f62\u5e93 Cairo\uff082D\u77e2\u91cf\u7ed8\u56fe\u5e93\uff09 camerademo \u6444\u50cf\u5934\u529f\u80fd\u6f14\u793a/\u6d4b\u8bd5demo crash-handler \u5d29\u6e83\u5904\u7406/\u65e5\u5fd7\u6536\u96c6/\u5f02\u5e38\u4e0a\u62a5 displayd \u663e\u793a\u5b88\u62a4\u8fdb\u7a0b/\u663e\u793a\u8f93\u51fa\u7ba1\u7406 evevehicledetect \u667a\u80fd\u8f66\u8f7d/\u8f66\u8f86\u68c0\u6d4b\u76f8\u5173\u7b97\u6cd5\u5e93 eyesee-mpp \u5168\u5fd7\u591a\u5a92\u4f53\u5904\u7406\u5e73\u53f0SDK\uff08\u6444\u50cf\u5934\u3001\u89c6\u9891\u5f55\u5236\u3001AI\u7b49\u6838\u5fc3\u5e93\u53cademo\uff09 flutter-sunxi Flutter UI\u5f15\u64ce\u5168\u5fd7\u9002\u914d gmems MEMS\u4f20\u611f\u5668\u76f8\u5173\u5e93\uff08\u5982\u9640\u87ba\u4eea/\u52a0\u901f\u5ea6\uff09 gst1-libav GStreamer 1.x libav \u63d2\u4ef6\uff08FFmpeg\u540e\u7aef\uff09 gst1-omx GStreamer 1.x OpenMAX \u63d2\u4ef6\uff08\u786c\u4ef6\u7f16\u89e3\u7801\u652f\u6301\uff09 gst1-plugins-bad GStreamer 1.x \u975e\u5b98\u65b9\u63d2\u4ef6\uff08bad\u7248\uff09 gst1-plugins-base GStreamer 1.x \u57fa\u7840\u5b98\u65b9\u63d2\u4ef6 gst1-plugins-good GStreamer 1.x \u5b98\u65b9\u4f18\u8d28\u63d2\u4ef6\uff08good\u7248\uff09 gst1-plugins-ugly GStreamer 1.x \u5546\u4e1a\u6388\u6743\u53d7\u9650\u63d2\u4ef6\uff08ugly\u7248\uff09 gstreamer1 GStreamer 1.x \u4e3b\u6846\u67b6 healthd \u5065\u5eb7\u76d1\u63a7\u5b88\u62a4\u8fdb\u7a0b\uff08\u5982\u7535\u6c60/\u6e29\u5ea6/\u786c\u4ef6\u72b6\u6001\uff09 hpplay-receiver \u534e\u4e3aCast+ \u6295\u5c4f\u534f\u8bae\u63a5\u6536\u7aef legacy \u65e7\u7248/\u9057\u7559\u652f\u6301\u5e93 libAWIspApi \u5168\u5fd7ISP\uff08\u56fe\u50cf\u4fe1\u53f7\u5904\u7406\u5668\uff09\u63a5\u53e3\u5e93 libaec-xt \u97f3\u9891\u56de\u58f0\u6d88\u9664\u5e93 libcedarc \u5168\u5fd7CedarC\u591a\u5a92\u4f53\u52a0\u901f\u5e93\uff08\u89c6\u9891\u89e3\u7801\uff09 libcedarx \u5168\u5fd7CedarX\u591a\u5a92\u4f53\u52a0\u901f\u5e93 libconv \u6570\u636e\u8f6c\u6362\u76f8\u5173\u901a\u7528\u5e93 libcutils \u901a\u7528C\u5de5\u5177\u51fd\u6570\u5e93 libdisplay \u663e\u793a\u5c42/\u5e27\u7f13\u51b2\u64cd\u4f5c\u5e93 libkey \u6309\u952e\u68c0\u6d4b\u548c\u5904\u7406\u5e93 libminui \u8ff7\u4f60\u56fe\u5f62\u5e93\uff08\u901a\u5e38\u7528\u4e8erecovery\u754c\u9762\uff09 libnl-tiny \u7cbe\u7b80\u7248netlink\u901a\u4fe1\u5e93 libsocket_db Socket\u6570\u636e\u5e93/\u7f51\u7edc\u76f8\u5173\u652f\u6301\u5e93 libsysutils \u7cfb\u7edf\u5de5\u5177\u5e93 libuapi \u901a\u7528API\u5b9a\u4e49\u5e93 libutils \u901a\u7528\u5de5\u5177\u5e93 libvop \u89c6\u9891\u8f93\u51fa\u5904\u7406\uff08Video Output Processor\uff09\u76f8\u5173\u5e93 logwrapper \u65e5\u5fd7\u5305\u88c5\u548c\u91cd\u5b9a\u5411\u5de5\u5177 mad-demo MP3\u89e3\u7801\u5e93MAD\u7684\u6d4b\u8bd5demo mediaplayer \u5a92\u4f53\u64ad\u653e\u5668\u5b9e\u73b0/\u96c6\u6210 minigui MiniGUI\u8f7b\u91cf\u7ea7GUI\u5e93 minigui_aw \u5168\u5fd7\u5b9a\u5236MiniGUI miracast-receiver Miracast\u65e0\u7ebf\u6295\u5c4f\u63a5\u6536\u7aef miracast2 Miracast\u76f8\u5173\u7b2c\u4e8c\u7248\u5b9e\u73b0 misc-upgrade \u5347\u7ea7\u76f8\u5173\u6742\u9879\u5de5\u5177/\u811a\u672c mtdbadblk MTD\u5b58\u50a8\u574f\u5757\u7ba1\u7406\u5de5\u5177 mtop \u5168\u5fd7\u5e73\u53f0top\u7cfb\u7edf\u76d1\u63a7\u5de5\u5177 mtp \u5a92\u4f53\u4f20\u8f93\u534f\u8bae\uff08MTP\uff09\u76f8\u5173\u5e93 multimedia \u591a\u5a92\u4f53\u7efc\u5408\u7ba1\u7406/\u4e2d\u95f4\u4ef6 multimedia_demo \u591a\u5a92\u4f53\u76f8\u5173\u529f\u80fd\u6f14\u793a/\u6d4b\u8bd5 nativepower \u7535\u6e90\u7ba1\u7406\u76f8\u5173\u5e93 networkd \u7f51\u7edc\u7ba1\u7406\u5b88\u62a4\u8fdb\u7a0b ota-burnboot OTA\u5347\u7ea7\u53ca\u5f15\u5bfc\u7a0b\u5e8f\u5de5\u5177 p2p_utils P2P\uff08\u70b9\u5bf9\u70b9\uff09\u901a\u4fe1\u76f8\u5173\u5de5\u5177 peq \u97f3\u9891\u5747\u8861\u5668\uff08Parametric Equalizer\uff09\u5e93 pixman 2D\u56fe\u5f62\u8fd0\u7b97\u5e93\uff0c\u5e38\u7528\u4e8ecairo\u7b49 player-utils \u64ad\u653e\u5668\u8f85\u52a9\u5de5\u5177 powerkey \u7535\u6e90\u952e\u63a7\u5236/\u5904\u7406 qt Qt\u56fe\u5f62\u5e93\u76f8\u5173\u79fb\u690d\u5305 recovery-mode \u6062\u590d\u6a21\u5f0f\u76f8\u5173\u7a0b\u5e8f/\u811a\u672c rtk Realtek\u76f8\u5173\u9002\u914d\u4ee3\u7801 smartlinkd \u5feb\u901f\u914d\u7f51\u5b88\u62a4\u8fdb\u7a0b softap \u8f6f\u4ef6AP\uff08\u70ed\u70b9\uff09\u670d\u52a1 sona \u53ef\u80fd\u4e3a\u97f3\u9891/\u4fe1\u53f7\u76f8\u5173\u5e93\uff08\u4e0d\u5e38\u89c1\uff09 stress-ng \u538b\u529b\u6d4b\u8bd5\u5de5\u5177 sys_info \u7cfb\u7edf\u4fe1\u606f\u91c7\u96c6\u548c\u663e\u793a\u5de5\u5177 tconfigs Tina\u7cfb\u7edf\u914d\u7f6e\u7ba1\u7406 testtools \u5404\u7c7b\u6d4b\u8bd5\u5de5\u5177\u548c\u811a\u672c tina-app-upgrade Tina\u5e73\u53f0\u5e94\u7528\u5347\u7ea7\u5de5\u5177 tina-upgrade Tina\u5e73\u53f0\u7cfb\u7edf\u5347\u7ea7\u5de5\u5177 tinacvr \u884c\u8f66\u8bb0\u5f55\u4eea/\u89c6\u9891\u5f55\u50cf/\u5b89\u9632\u5f55\u50cf\u76f8\u5173\u529f\u80fd tinymp3 \u8f7b\u91cf\u7ea7MP3\u89e3\u7801\u5e93 tvd_demo TV\u89e3\u7801/\u7535\u89c6\u76f8\u5173\u6f14\u793a uevent-monitor uevent\u4e8b\u4ef6\u76d1\u63a7\u5de5\u5177 usb-gadget USB\u8bbe\u5907\u6a21\u5f0f/OTG\u76f8\u5173\u5f00\u53d1 uvoice \u8bed\u97f3\u5524\u9192/\u8bed\u97f3\u8bc6\u522b\u529f\u80fd\u5e93 wayland Wayland\u663e\u793a\u534f\u8bae\u6808 wayland-ivi-extension Wayland\u8f66\u8f7dIVI\uff08\u8f66\u8f7d\u4fe1\u606f\u5a31\u4e50\uff09\u6269\u5c55 wayland-protocols Wayland\u534f\u8bae\u6269\u5c55\u5305 weston Wayland\u7a97\u53e3\u7ba1\u7406\u5668Weston wifimanager WiFi\u7ba1\u7406\u5de5\u5177/\u5b88\u62a4\u8fdb\u7a0b"},{"location":"%E5%85%A8%E5%BF%97v853%E9%9F%B3%E8%A7%86%E9%A2%91%E5%BC%80%E5%8F%91/%E5%85%A8%E5%BF%97%E5%8E%9F%E5%8E%82sdk/4.%E5%85%A8%E5%BF%97tina_sdk%E7%9B%AE%E5%BD%95%E8%A7%A3%E6%9E%90/#_4","title":"\u4e00\u822c\u5f00\u53d1\u5e38\u7528\u67e5\u627e\u5efa\u8bae","text":"<ol> <li>\u505a\u97f3\u89c6\u9891\u591a\u5a92\u4f53     \u91cd\u70b9\u5173\u6ce8 <code>eyesee-mpp</code>\u3001<code>gst1-*</code>\u3001<code>gstreamer1</code>\u3001<code>libcedarc</code>\u3001<code>libcedarx</code>\u3001<code>mediaplayer</code>\u3001<code>tinacvr</code>\u3002</li> <li>\u505a\u663e\u793a/GUI     \u91cd\u70b9\u770b <code>cairo</code>\u3001<code>minigui</code>\u3001<code>qt</code>\u3001<code>wayland*</code>\u3001<code>weston</code>\u3001<code>flutter-sunxi</code>\u3002</li> <li>\u505a\u84dd\u7259/WiFi     \u5173\u6ce8 <code>bluetooth</code>\u3001<code>btmanager</code>\u3001<code>wifimanager</code>\u3001<code>softap</code>\u3001<code>smartlinkd</code>\u3002</li> <li>\u505a\u8bed\u97f3\u76f8\u5173     \u5173\u6ce8 <code>aispeech</code>\u3001<code>avs</code>\u3001<code>uvoice</code>\u3002</li> <li>\u505a\u5347\u7ea7/\u6062\u590d     \u5173\u6ce8 <code>ota-burnboot</code>\u3001<code>tina-app-upgrade</code>\u3001<code>recovery-mode</code>\u3001<code>misc-upgrade</code>\u3002</li> <li>\u5de5\u5177&amp;\u6d4b\u8bd5     \u5173\u6ce8 <code>stress-ng</code>\u3001<code>testtools</code>\u3001<code>mtdbadblk</code>\u3001<code>sys_info</code>\u3001<code>asan_demo</code>\u3002</li> </ol>"},{"location":"%E5%85%A8%E5%BF%97v853%E9%9F%B3%E8%A7%86%E9%A2%91%E5%BC%80%E5%8F%91/%E5%85%A8%E5%BF%97%E5%8E%9F%E5%8E%82sdk/4.%E5%85%A8%E5%BF%97tina_sdk%E7%9B%AE%E5%BD%95%E8%A7%A3%E6%9E%90/#eyesee-mpp-externaleyesee-mpp","title":"eyesee-mpp \u76ee\u5f55(external\\eyesee-mpp)","text":"<ul> <li>Allwinner \u7684\u591a\u5a92\u4f53\u5904\u7406\u5e73\u53f0\uff08Media Processing Platform\uff09SDK\uff0c\u6444\u50cf\u5934/\u89c6\u9891\u89e3\u7801\u76f8\u5173\u7684\u5e95\u5c42\u9a71\u52a8\u5e93\uff0cAllwinner \u5e73\u53f0\u89c6\u9891\u5f00\u53d1\u6838\u5fc3\u5e93\u4e4b\u4e00\uff0c\u91cd\u70b9</li> </ul> <pre><code>29955@newbie MINGW64 /y/opt/V85x/tina-v85x-release/external/eyesee-mpp/framework/sun8iw21/demo\n$ tree -L 1\n.\n|-- RecordDemo\n|-- audio_demo\n|-- cdrPlayerDemo\n|-- demo_camera\n|-- sample_2VIPPRecord\n|-- sample_ADAS\n|-- sample_AFBCVerify\n|-- sample_AILib\n|-- sample_AI_BDII\n|-- sample_AudioEncode\n|-- sample_CDREmergency\n|-- sample_Camera\n|-- sample_Camera_2VIPP\n|-- sample_Camera_takepicture\n|-- sample_DualRecord\n|-- sample_EncodeResolutionChange\n|-- sample_EyeseeEIS\n|-- sample_EyeseeIse\n|-- sample_EyeseeIse2\n|-- sample_IseAILib\n|-- sample_LargeFile\n|-- sample_Motion\n|-- sample_OSD\n|-- sample_Player\n|-- sample_RecordLowDelay\n|-- sample_RecordMultiStream\n|-- sample_RecordSwitchFileNormal\n|-- sample_RecorderCallbackOut\n|-- sample_RecorderSegment\n|-- sample_ThumbRetriever\n|-- sample_USBCamera\n|-- sample_VideoResizer\n|-- sample_fisheye\n`-- test\n</code></pre>"},{"location":"%E5%85%A8%E5%BF%97v853%E9%9F%B3%E8%A7%86%E9%A2%91%E5%BC%80%E5%8F%91/%E5%85%A8%E5%BF%97%E5%8E%9F%E5%8E%82sdk/4.%E5%85%A8%E5%BF%97tina_sdk%E7%9B%AE%E5%BD%95%E8%A7%A3%E6%9E%90/#_5","title":"\u76ee\u5f55\u8bf4\u660e\u4e0e\u5e38\u89c1\u7528\u9014","text":"\u76ee\u5f55 \u8bf4\u660e RecordDemo \u5f55\u5236\u529f\u80fd\u6f14\u793a\uff08\u89c6\u9891/\u97f3\u9891\u5f55\u5236Demo\uff0c\u6f14\u793a\u5982\u4f55\u91c7\u96c6\u5e76\u4fdd\u5b58\u6587\u4ef6\uff09 audio_demo \u97f3\u9891\u529f\u80fd\u6d4b\u8bd5Demo\uff0c\u5305\u542b\u97f3\u9891\u91c7\u96c6\u3001\u64ad\u653e\u7b49 cdrPlayerDemo \u884c\u8f66\u8bb0\u5f55\u4eea\uff08Car DVR\uff09\u64ad\u653e\u5668\u6f14\u793aDemo demo_camera \u6444\u50cf\u5934\u57fa\u7840\u529f\u80fd\u6f14\u793aDemo\uff08\u6700\u57fa\u7840\u7684Camera\u91c7\u96c6\u793a\u4f8b\uff09 sample_2VIPPRecord \u53cc\u901a\u9053\uff082\u8defVIP\u901a\u9053\uff09\u5f55\u5236\u529f\u80fd\u6f14\u793a sample_ADAS ADAS\uff08\u9ad8\u7ea7\u9a7e\u9a76\u8f85\u52a9\u7cfb\u7edf\uff09\u76f8\u5173\u529f\u80fd\u6f14\u793a\u6216\u6d4b\u8bd5 sample_AFBCVerify AFBC\u683c\u5f0f\uff08Arm Frame Buffer Compression\uff09\u9a8c\u8bc1Demo sample_AILib AI\u5e93\uff08\u53ef\u80fd\u662f\u5e73\u53f0AI\u63a8\u7406/\u7b97\u6cd5\u76f8\u5173\uff09\u793a\u4f8b sample_AI_BDII AI\u884c\u4e3a\u68c0\u6d4b\u6216\u4eba\u8138\u68c0\u6d4b\u7b49\u76f8\u5173\u793a\u4f8b sample_AudioEncode \u97f3\u9891\u7f16\u7801\u529f\u80fd\u6f14\u793aDemo sample_CDREmergency \u884c\u8f66\u8bb0\u5f55\u4eea\u7d27\u6025\u5f55\u5236\u573a\u666f\u6f14\u793a sample_Camera Camera\u529f\u80fd\u6f14\u793a\uff08\u5e38\u7528\u53c2\u8003Demo\uff0c\u542b\u57fa\u7840\u91c7\u96c6\u3001\u56de\u8c03\u7b49\uff09 sample_Camera_2VIPP \u591a\u901a\u9053\uff082\u8defVIP\uff09\u6444\u50cf\u5934\u6f14\u793a sample_Camera_takepicture \u62cd\u7167/\u56fe\u7247\u91c7\u96c6\u529f\u80fd\u6f14\u793a sample_DualRecord \u53cc\u5f55\u5236\u6d41\u529f\u80fd\u6f14\u793a\uff08\u5982\u4e3b/\u526f\u7801\u6d41\u540c\u65f6\u5f55\u5236\uff09 sample_EncodeResolutionChange \u7f16\u7801\u5206\u8fa8\u7387\u52a8\u6001\u5207\u6362\u6d4b\u8bd5 sample_EyeseeEIS \u7535\u5b50\u9632\u6296\uff08EIS\uff0cElectronic Image Stabilization\uff09\u529f\u80fd\u6f14\u793a sample_EyeseeIse / sample_EyeseeIse2 ISE\uff08\u56fe\u50cf\u7a7a\u95f4\u589e\u5f3a/\u7578\u53d8\u77eb\u6b63/\u9c7c\u773c\u6821\u6b63\uff09\u76f8\u5173\u529f\u80fd\u6f14\u793a sample_IseAILib ISE\u529f\u80fd\u4e0eAI\u5e93\u7ed3\u5408\u7684\u6f14\u793a sample_LargeFile \u5927\u6587\u4ef6\u5f55\u5236\u6d4b\u8bd5Demo sample_Motion \u8fd0\u52a8\u68c0\u6d4b\u529f\u80fd\u6d4b\u8bd5\uff08\u5982\u52a8\u6001\u68c0\u6d4b\uff09 sample_OSD OSD\uff08\u5c4f\u5e55\u663e\u793a/\u53e0\u52a0\uff09\u529f\u80fd\u6f14\u793a sample_Player \u89c6\u9891/\u97f3\u9891\u64ad\u653e\u529f\u80fd\u6f14\u793aDemo sample_RecordLowDelay \u4f4e\u5ef6\u8fdf\u5f55\u5236\u6f14\u793a\uff08\u6bd4\u5982\u76d1\u63a7\u7b49\u4f4e\u5ef6\u8fdf\u573a\u666f\uff09 sample_RecordMultiStream \u591a\u8def\u6d41\u5f55\u5236\u529f\u80fd\u6f14\u793a sample_RecordSwitchFileNormal \u6b63\u5e38\u5207\u6362\u5f55\u5236\u6587\u4ef6\uff08\u5206\u6bb5\u5f55\u50cf\uff09\u6d4b\u8bd5 sample_RecorderCallbackOut \u5f55\u5236\u56de\u8c03\u63a5\u53e3\u6f14\u793a sample_RecorderSegment \u5206\u6bb5\u5f55\u5236\u529f\u80fd\u6f14\u793a sample_ThumbRetriever \u7f29\u7565\u56fe\u63d0\u53d6\u6f14\u793a sample_USBCamera USB\u6444\u50cf\u5934\u91c7\u96c6\u548c\u5f55\u5236\u6d4b\u8bd5 sample_VideoResizer \u89c6\u9891\u5206\u8fa8\u7387\u7f29\u653e\u529f\u80fd\u6f14\u793a sample_fisheye \u9c7c\u773c\u6821\u6b63\u76f8\u5173\u529f\u80fd\u6f14\u793a test \u4e00\u822c\u4e3a\u7efc\u5408\u6027\u6216\u6742\u9879\u529f\u80fd\u6d4b\u8bd5 <pre><code>29955@newbie MINGW64 /y/opt/V85x/tina-v85x-release/external/eyesee-mpp/middleware/sun8iw21/sample\n$ tree -L 1\n.\n|-- Readme.txt\n|-- SampleManual.md\n|-- bin\n|-- configfileparser\n|-- sample_CodecParallel\n|-- sample_MotionDetect\n|-- sample_OnlineVenc\n|-- sample_PersonDetect\n|-- sample_RegionDetect\n|-- sample_UILayer\n|-- sample_UVC\n|-- sample_adec\n|-- sample_adec2ao\n|-- sample_aec\n|-- sample_aenc\n|-- sample_ai\n|-- sample_ai2aenc\n|-- sample_ai2aenc2muxer\n|-- sample_ai2ao\n|-- sample_ai_Demo_0.9.2\n|-- sample_ai_Demo_0.9.6\n|-- sample_ao\n|-- sample_ao2ai_aec\n|-- sample_ao2ai_aec_rate_mixer\n|-- sample_aoSync\n|-- sample_ao_resample_mixer\n|-- sample_demux\n|-- sample_demux2adec\n|-- sample_demux2adec2ao\n|-- sample_demux2vdec\n|-- sample_demux2vdec2vo\n|-- sample_demux2vdec_saveFrame\n|-- sample_directIORead\n|-- sample_driverVipp\n|-- sample_file_repair\n|-- sample_fish\n|-- sample_g2d\n|-- sample_glog\n|-- sample_hello\n|-- sample_isposd\n|-- sample_motor\n|-- sample_multi_vi2venc2muxer\n|-- sample_odet_demo\n|-- sample_pthread_cancel\n|-- sample_recorder\n|-- sample_region\n|-- sample_rtsp\n|-- sample_select\n|-- sample_smartIPC_demo\n|-- sample_smartPreview_demo\n|-- sample_sound_controler\n|-- sample_takePicture\n|-- sample_timelapse\n|-- sample_twinchn_virvi2venc2ce\n|-- sample_uac\n|-- sample_usbcamera\n|-- sample_uvcout\n|-- sample_vdec\n|-- sample_venc\n|-- sample_venc2muxer\n|-- sample_vencGdcZoom\n|-- sample_vencQpMap\n|-- sample_vencRecreate\n|-- sample_vi_g2d\n|-- sample_vi_reset\n|-- sample_vin_isp_test\n|-- sample_virvi\n|-- sample_virvi2eis2venc\n|-- sample_virvi2fish2venc\n|-- sample_virvi2fish2vo\n|-- sample_virvi2venc\n|-- sample_virvi2venc2ce\n|-- sample_virvi2venc2muxer\n|-- sample_virvi2vo\n|-- sample_virvi2vo_zoom\n|-- sample_vo\n`-- tina.mk\n\n74 directories, 3 files\n</code></pre>"},{"location":"%E5%85%A8%E5%BF%97v853%E9%9F%B3%E8%A7%86%E9%A2%91%E5%BC%80%E5%8F%91/%E5%85%A8%E5%BF%97%E5%8E%9F%E5%8E%82sdk/4.%E5%85%A8%E5%BF%97tina_sdk%E7%9B%AE%E5%BD%95%E8%A7%A3%E6%9E%90/#_6","title":"\u89c6\u9891","text":"<ul> <li>sample_driverVipp\u3002\u6f14\u793a\u76f4\u63a5\u8c03\u7528linux\u5185\u6838\u9a71\u52a8\u83b7\u53d6frame\u3002</li> <li>sample_virvi\u3002\u89c6\u9891\u91c7\u96c6\u3002</li> <li>sample_virvi2vo\u3002\u6f14\u793a\u89c6\u9891\u91c7\u96c6\u9884\u89c8\u3002</li> <li>sample_virvi2vo_zoom\u3002\u6f14\u793a\u7f29\u653e\u3002</li> <li>sample_vi_reset\u3002\u6f14\u793ampi_vi\u7ec4\u4ef6\u7684reset\u6d41\u7a0b\u3002</li> <li>sample_isposd\u3002\u6d4b\u8bd5isp\u76f8\u5173\u3002</li> <li>sample_vin_isp_test\u3002\u901a\u8fc7\u8c03\u7528isp\u63a5\u53e3\u6293\u56fe\u7684demo\u3002</li> <li>sample_region\u3002\u6d4b\u8bd5osd\u3002</li> <li>sample_venc\u3002\u89c6\u9891\u7f16\u7801\u3002</li> <li>sample_venc2muxer\u3002\u6f14\u793a\u89c6\u9891\u7f16\u7801\u548c\u5c01\u88c5mp4\u3002</li> <li>sample_virvi2venc\u3002\u6f14\u793a\u91c7\u96c6\u5230\u7f16\u7801\uff0c\u652f\u6301\u6d4b\u8bd5GDC\u7578\u53d8\u77eb\u6b63\u3002</li> <li>sample_timelapse\u3002\u6f14\u793a\u7f29\u65f6\u5f55\u5f71\u3002</li> <li>sample_virvi2venc2muxer\u3002\u6f14\u793a\u91c7\u96c6\u5230\u7f16\u7801\u5230\u5c01\u88c5mp4\uff0c\u652f\u6301\u6d4b\u8bd5GDC\u7578\u53d8\u77eb\u6b63\u3002</li> <li>sample_multi_vi2venc2muxer\u3002\u6f14\u793a\u591a\u8def\u7f16\u7801\u3002</li> <li>sample_rtsp\u3002\u6f14\u793a\u89c6\u9891\u7f16\u7801\u540e\u7684rtsp\u4f20\u8f93\u3002</li> <li>sample_CodecParallel\u3002\u6f14\u793a\u540c\u7f16\u540c\u89e3\u3002</li> <li>sample_vdec\u3002\u89c6\u9891\u89e3\u7801\u3002</li> <li>sample_demux2vdec\u3002\u6f14\u793a\u89e3\u5c01\u88c5\u548c\u89e3\u7801\u3002</li> <li>sample_demux2vdec_saveFrame\u3002\u4ece\u539f\u59cb\u6587\u4ef6\u4e2d\u5206\u79bb\u51fa\u89c6\u9891\u6570\u636e\u5e27\u5e76\u89e3\u7801\u751f\u6210yuv\u6587\u4ef6\u3002</li> <li>sample_demux2vdec2vo\u3002\u6f14\u793a\u89e3\u7801\u663e\u793a\u3002</li> <li>sample_vencQpMap\u3002\u6f14\u793a\u89c6\u9891\u7f16\u7801QPMAP\u6a21\u5f0f\u3002</li> <li>sample_OnlineVenc\u3002\u5728\u7ebf\u7f16\u7801\u3002</li> <li>sample_vencGdcZoom\u3002\u7f16\u7801GDC\u6570\u5b57\u53d8\u7126\u3002</li> <li>sample_takePicture\u3002\u6f14\u793a\u5355\u62cd\u548c\u8fde\u62cd\u3002</li> <li>sample_recorder\u3002\u6f14\u793a\u56db\u8def\u5f55\u5236\u7f16\u7801\u5c01\u88c5\u6216\u8005\u9884\u89c8\u663e\u793a\u3002</li> </ul>"},{"location":"%E5%85%A8%E5%BF%97v853%E9%9F%B3%E8%A7%86%E9%A2%91%E5%BC%80%E5%8F%91/%E5%85%A8%E5%BF%97%E5%8E%9F%E5%8E%82sdk/4.%E5%85%A8%E5%BF%97tina_sdk%E7%9B%AE%E5%BD%95%E8%A7%A3%E6%9E%90/#_7","title":"\u97f3\u9891","text":"<ul> <li>sample_ai</li> <li>sample_ao</li> <li>sample_aoSync\u3002\u6f14\u793a\u91c7\u7528\u540c\u6b65\u7684\u65b9\u5f0fsend pcm frame\u3002\u800csample_ao\u662f\u91c7\u7528\u5f02\u6b65\u7684\u65b9\u5f0f\u3002</li> <li>sample_ao_resample_mixer\u3002\u6f14\u793a\u8bfb\u53d6pcm\u6570\u636e\uff0c\u7136\u540e\u64ad\u653e\u58f0\u97f3\uff0c\u4ece\u8033\u673a\u53e3\u8f93\u51fa\u58f0\u97f3\u3002</li> <li>sample_ao2ai_aec\u3002\u56de\u58f0\u6d88\u9664\uff0c\u521d\u7248</li> <li>sample_ao2ai_aec_rate_mixer\u3002\u56de\u58f0\u6d88\u9664\uff0c\u521d\u7248\u57fa\u7840\u4e0a\u6d4b\u8bd5\u6253\u5f00\u97f3\u9891\u8f93\u51fa\u91cd\u91c7\u6837\u548c\u6df7\u97f3\u529f\u80fd\u540e\uff0c\u56de\u58f0\u6d88\u9664\u662f\u5426\u6b63\u5e38\u3002</li> <li>sample_aec\u3002\u56de\u58f0\u6d88\u9664\uff0c\u4fee\u6539\u7248\u3002</li> <li>sample_aenc\u3002\u97f3\u9891\u7f16\u7801\u3002</li> <li>sample_ai2aenc\u3002\u97f3\u9891\u91c7\u96c6\u548c\u7f16\u7801\u3002</li> <li>sample_ai2aenc2muxer\u3002\u97f3\u9891\u91c7\u96c6\u3001\u7f16\u7801\u548c\u5c01\u88c5\u3002</li> <li>sample_select\u3002\u6f14\u793a\u591a\u8def\u97f3\u9891\u7f16\u7801\uff0c\u7528select()\u65b9\u5f0f\u83b7\u53d6\u7f16\u7801\u7801\u6d41\u3002</li> <li>sample_adec\u3002\u97f3\u9891\u89e3\u7801\u3002</li> <li>sample_demux2adec\u3002\u4ece\u539f\u59cb\u6587\u4ef6\u4e2d\u5206\u79bb\u51fa\u97f3\u9891\u6570\u636e\u5e27\u5e76\u89e3\u7801\u3002</li> <li>sample_demux2adec2ao\u3002\u4ece\u539f\u59cb\u6587\u4ef6\u4e2d\u5206\u79bb\u51fa\u97f3\u9891\u6570\u636e\u5e27\u5e76\u89e3\u7801\u8f93\u51fa\u97f3\u9891\u3002</li> </ul>"},{"location":"%E5%85%A8%E5%BF%97v853%E9%9F%B3%E8%A7%86%E9%A2%91%E5%BC%80%E5%8F%91/%E5%85%A8%E5%BF%97%E5%8E%9F%E5%8E%82sdk/4.%E5%85%A8%E5%BF%97tina_sdk%E7%9B%AE%E5%BD%95%E8%A7%A3%E6%9E%90/#iseeis","title":"ISE\u548cEIS","text":"<ul> <li>sample_fish\u3002\u6f14\u793a\u5355\u76ee\u9c7c\u773c\u529f\u80fd\u3002</li> <li>sample_virvi2fish2venc\u3002\u6f14\u793a\u9c7c\u773c\u56fe\u50cf\u7578\u5f62\u6821\u6b63\u540e\u505a\u7f16\u7801\u3002</li> <li>sample_virvi2fish2vo\u3002\u6f14\u793a\u9c7c\u773c\u56fe\u50cf\u7578\u5f62\u6821\u6b63\u540e\u9884\u89c8\u3002</li> <li>sample_virvi2eis2venc\u3002\u6f14\u793a\u9632\u6296\u529f\u80fd\u3002</li> </ul>"},{"location":"%E5%85%A8%E5%BF%97v853%E9%9F%B3%E8%A7%86%E9%A2%91%E5%BC%80%E5%8F%91/%E5%85%A8%E5%BF%97%E5%8E%9F%E5%8E%82sdk/4.%E5%85%A8%E5%BF%97tina_sdk%E7%9B%AE%E5%BD%95%E8%A7%A3%E6%9E%90/#_8","title":"\u89c6\u9891\u663e\u793a","text":"<ul> <li>sample_vo\u3002\u6f14\u793a\u89c6\u9891YUV\u9884\u89c8\u3002</li> <li>sample_UILayer\u3002\u9a8c\u8bc1UILayer\u7684\u683c\u5f0f\u3002</li> </ul>"},{"location":"%E5%85%A8%E5%BF%97v853%E9%9F%B3%E8%A7%86%E9%A2%91%E5%BC%80%E5%8F%91/%E5%85%A8%E5%BF%97%E5%8E%9F%E5%8E%82sdk/4.%E5%85%A8%E5%BF%97tina_sdk%E7%9B%AE%E5%BD%95%E8%A7%A3%E6%9E%90/#g2d","title":"g2d","text":"<ul> <li>sample_g2d\u3002\u6f14\u793a\u76f4\u63a5\u7528G2D\u5904\u7406YUV\u6587\u4ef6\u505a\u900f\u660e\u53e0\u52a0\u3001\u65cb\u8f6c\u548c\u955c\u50cf\u3001\u7f29\u653e\u7b49\u3002</li> <li>sample_vi_g2d\u3002\u6f14\u793a\u4eceVI\u83b7\u53d6\u89c6\u9891\u5e27\uff0c\u7528G2D\u505a\u65cb\u8f6c\u3001\u88c1\u526a\u3001\u7f29\u653e\u7b49\u5904\u7406\u540e\u9001VO\u663e\u793a\u3002</li> </ul>"},{"location":"%E5%85%A8%E5%BF%97v853%E9%9F%B3%E8%A7%86%E9%A2%91%E5%BC%80%E5%8F%91/%E5%85%A8%E5%BF%97%E5%8E%9F%E5%8E%82sdk/4.%E5%85%A8%E5%BF%97tina_sdk%E7%9B%AE%E5%BD%95%E8%A7%A3%E6%9E%90/#ce","title":"CE","text":"<ul> <li>sample_twinchn_virvi2venc2ce\u3002\u4e24\u8defce\u52a0\u89e3\u5bc6\u6d4b\u8bd5\u3002</li> <li>sample_virvi2venc2ce\u3002\u5355\u8defce\u52a0\u89e3\u5bc6\u6d4b\u8bd5\u3002</li> </ul>"},{"location":"%E5%85%A8%E5%BF%97v853%E9%9F%B3%E8%A7%86%E9%A2%91%E5%BC%80%E5%8F%91/%E5%85%A8%E5%BF%97%E5%8E%9F%E5%8E%82sdk/4.%E5%85%A8%E5%BF%97tina_sdk%E7%9B%AE%E5%BD%95%E8%A7%A3%E6%9E%90/#uvcuac","title":"uvc\u548cuac","text":"<ul> <li>sample_uvc2vdec_vo\u3002\u505a\u4e3b\uff0cmjpeg\u89e3\u7801\u663e\u793a\u3002</li> <li>sample_uvc2vdenc2vo\u3002\u505a\u4e3b\uff0cmjpeg\u89e3\u7801\u663e\u793a\u3002</li> <li>sample_uvc2vo\u3002\u505a\u4e3b\uff0cyuv\u663e\u793a\u3002</li> <li>sample_uvc_vo\u3002\u505a\u4e3b\uff0cyuv\u663e\u793a\u3002</li> <li>sample_uvcout\u3002\u505a\u4ece\uff0cmjpeg\u7f16\u7801\u8f93\u51fa\u3002</li> <li>sample_uac\u3002\u6f14\u793auac\u6d4b\u8bd5\u3002</li> <li>sample_usbcamera\u3002\u6d4b\u8bd5UVC\u3001UAC\u590d\u5408\u8bbe\u5907\u3002</li> </ul>"},{"location":"%E5%85%A8%E5%BF%97v853%E9%9F%B3%E8%A7%86%E9%A2%91%E5%BC%80%E5%8F%91/%E5%85%A8%E5%BF%97%E5%8E%9F%E5%8E%82sdk/4.%E5%85%A8%E5%BF%97tina_sdk%E7%9B%AE%E5%BD%95%E8%A7%A3%E6%9E%90/#_9","title":"\u591a\u5a92\u4f53\u6587\u4ef6","text":"<ul> <li>sample_demux\u3002\u89e3\u590d\u7528mp4\u6587\u4ef6\u3002</li> <li>sample_file_repair\u3002\u4fee\u590dmp4\u6587\u4ef6\u3002</li> </ul>"},{"location":"%E5%85%A8%E5%BF%97v853%E9%9F%B3%E8%A7%86%E9%A2%91%E5%BC%80%E5%8F%91/%E5%85%A8%E5%BF%97%E5%8E%9F%E5%8E%82sdk/4.%E5%85%A8%E5%BF%97tina_sdk%E7%9B%AE%E5%BD%95%E8%A7%A3%E6%9E%90/#demo","title":"\u667a\u80fd\u7b97\u6cd5 demo","text":"<ul> <li>sample_MotionDetect\u3002\u79fb\u52a8\u4fa6\u6d4b\u3002</li> <li>sample_RegionDetect\u3002\u6f14\u793a\u533a\u57df\u68c0\u6d4b\u3002</li> <li>sample_PersonDetect\u3002\u4eba\u5f62\u68c0\u6d4b\u3002</li> <li>sample_smartIPC_demo\u3002\u6f14\u793a\u4eba\u5f62\u68c0\u6d4b+\u4eba\u8138\u68c0\u6d4b+\u753b\u6846+RTSP\u529f\u80fd\u3002</li> <li>sample_smartPreview_demo\u3002\u6f14\u793a\u4eba\u5f62\u68c0\u6d4b+\u4eba\u8138\u68c0\u6d4b+\u753b\u6846+\u9884\u89c8\u529f\u80fd\u3002</li> <li>sample_facekit_demo\u3002\u6f14\u793a\u4eba\u8138\u8bc6\u522b\u529f\u80fd\u3002</li> </ul>"},{"location":"%E5%85%A8%E5%BF%97v853%E9%9F%B3%E8%A7%86%E9%A2%91%E5%BC%80%E5%8F%91/%E5%85%A8%E5%BF%97%E5%8E%9F%E5%8E%82sdk/4.%E5%85%A8%E5%BF%97tina_sdk%E7%9B%AE%E5%BD%95%E8%A7%A3%E6%9E%90/#_10","title":"\u5176\u4ed6","text":"<ul> <li>sample_glog\u3002\u6f14\u793aglog\u5e93\u7684\u7528\u6cd5\u3002</li> <li>sample_hello\u3002\u6f14\u793aMPP helloworld\u7a0b\u5e8f\u3002</li> <li>sample_pthread_cancel\u3002\u6d4b\u8bd5pthread_cancel()</li> <li>sample_motor\u3002\u7535\u673a\u6d4b\u8bd5\u3002</li> <li>sample_sound_controler\uff0c\u8bed\u97f3\u8bc6\u522b\u3002</li> <li>sample_ai_Demo_0.9.2\u3002\u667a\u80fd\u7b97\u5b50demo</li> <li>sample_ai_Demo_0.9.6\u3002\u667a\u80fd\u7b97\u5b50demo</li> <li>sample_directIORead\u3002\u6f14\u793a\u4f7f\u7528directIO\u65b9\u5f0f\u8bfb\u6587\u4ef6\u3002</li> </ul>"},{"location":"%E5%85%A8%E5%BF%97v853%E9%9F%B3%E8%A7%86%E9%A2%91%E5%BC%80%E5%8F%91/%E5%85%A8%E5%BF%97%E5%8E%9F%E5%8E%82sdk/4.%E5%85%A8%E5%BF%97tina_sdk%E7%9B%AE%E5%BD%95%E8%A7%A3%E6%9E%90/#deprecated","title":"deprecated","text":"<p>\u51c6\u5907\u5220\u9664\u4ee5\u4e0bsample\uff1a</p> <ul> <li>sample_ai2ao\u3002\u5f15\u8d77\u5578\u53eb\uff0c\u65e0\u610f\u4e49\u3002sample_aec\u4f1a\u6d4b\u8bd5ai\u548cao\u540c\u65f6\u5de5\u4f5c\u7684\u573a\u666f\u3002</li> <li>sample_ao2ai\u3002ao\u548cai\u7684\u7ed1\u5b9a\u662f\u4e3a\u4e86\u56de\u58f0\u6d88\u9664\uff0c\u800c\u73b0\u5728\u56de\u58f0\u6d88\u9664\u5728\u5e95\u5c42\u5b8c\u6210\uff0c\u548cmpp\u7ec4\u4ef6\u6ca1\u6709\u5173\u7cfb\u3002mpi_ao\u548cmpi_ai\u7684\u7ed1\u5b9a\u5df2\u7ecf\u5e9f\u9664\u3002</li> <li>sample_face_detect\u3002\u5df2\u5e9f\u5f03\uff0csample_ai_Demo\u5305\u542b\u4e86\u4eba\u8138\u68c0\u6d4b\u3002</li> <li>sample_odet_demo\u3002\u5df2\u5e9f\u5f03\uff0c\u53ef\u53c2\u8003sample_smartIPC_demo\u4eba\u8138\u68c0\u6d4b\u90e8\u5206\u3002</li> </ul>"},{"location":"%E5%85%A8%E5%BF%97v853%E9%9F%B3%E8%A7%86%E9%A2%91%E5%BC%80%E5%8F%91/%E5%85%A8%E5%BF%97%E5%8E%9F%E5%8E%82sdk/4.%E5%85%A8%E5%BF%97tina_sdk%E7%9B%AE%E5%BD%95%E8%A7%A3%E6%9E%90/#_11","title":"\u603b\u7ed3\uff1a","text":"<p>\u73b0\u5728\u5404\u4e2a\u5382\u5546\u7684sdk\u90fd\u505a\u4e86\u5927\u91cfdemo\uff0c\u82af\u7247\u5382\u5546\u5728\u63a8\u51fa\u82af\u7247\u65b9\u6848\u65f6\uff0c\u57fa\u672c\u90fd\u4f1a\u6709\u5927\u91cf\u7684\u76f8\u5173\u793a\u4f8b\uff0c\u6bd4\u5982\u5de5\u4f5c\u4e2d\u4f7f\u7528\u8fc7\u745e\u6631\u7684\u82af\u7247\u505a IPC\u9879\u76ee,\u4e5f\u662f\u505a\u4e86\u5927\u91cf\u7684\u9002\u914d\uff0c\u53ef\u6781\u5927\u65b9\u4fbf\u7684\u5feb\u901f\u5e94\u7528</p> <p>\u745e\u6631sdk\u53c2\u8003</p> <p>https://github.com/Ameba-AIoT/ameba-rtos-pro2/tree/main/project/realtek_amebapro2_v0_example/src/mmfv2_video_example</p>"},{"location":"%E5%85%A8%E5%BF%97v853%E9%9F%B3%E8%A7%86%E9%A2%91%E5%BC%80%E5%8F%91/%E9%9F%B3%E8%A7%86%E9%A2%91%E5%9F%BA%E7%A1%80%E6%A6%82%E5%BF%B5/1.%E4%BB%80%E4%B9%88%E6%98%AFYUV/","title":"1.\u4ec0\u4e48\u662fYUV","text":""},{"location":"%E5%85%A8%E5%BF%97v853%E9%9F%B3%E8%A7%86%E9%A2%91%E5%BC%80%E5%8F%91/%E9%9F%B3%E8%A7%86%E9%A2%91%E5%9F%BA%E7%A1%80%E6%A6%82%E5%BF%B5/1.%E4%BB%80%E4%B9%88%E6%98%AFYUV/#1-yuv","title":"1. \u4ec0\u4e48\u662f YUV\uff1f","text":"<p>YUV \u662f\u4e00\u79cd\u5e38\u89c1\u7684\u989c\u8272\u7f16\u7801\u65b9\u5f0f\uff0c\u4e3b\u8981\u7528\u4e8e\u89c6\u9891\u91c7\u96c6\u3001\u5b58\u50a8\u3001\u4f20\u8f93\u548c\u5904\u7406\u3002</p> <ul> <li>Y\uff1a\u4eae\u5ea6\uff08Luminance\uff09\uff0c\u8868\u793a\u9ed1\u767d\uff08\u7070\u5ea6\uff09\u4fe1\u606f</li> <li>U/V\uff1a\u8272\u5ea6\uff08Chrominance\uff09\uff0c\u8868\u793a\u8272\u5f69\u4fe1\u606f</li> <li>U\uff1a\u84dd\u8272\u8272\u5ea6\uff08Blue minus Luma\uff0cCb\uff09</li> <li>V\uff1a\u7ea2\u8272\u8272\u5ea6\uff08Red minus Luma\uff0cCr\uff09</li> </ul> <p>YUV = \u4eae\u5ea6(Y) + \u8272\u5ea6(U/V)</p>"},{"location":"%E5%85%A8%E5%BF%97v853%E9%9F%B3%E8%A7%86%E9%A2%91%E5%BC%80%E5%8F%91/%E9%9F%B3%E8%A7%86%E9%A2%91%E5%9F%BA%E7%A1%80%E6%A6%82%E5%BF%B5/1.%E4%BB%80%E4%B9%88%E6%98%AFYUV/#2-yuv","title":"2. YUV \u4e3a\u4ec0\u4e48\u4f1a\u51fa\u73b0\uff1f","text":"<p>\u672c\u8d28\u539f\u56e0\uff1a</p> <ul> <li>\u4eba\u773c\u5bf9\u4eae\u5ea6\u66f4\u654f\u611f\uff0c\u5bf9\u8272\u5f69\u4e0d\u654f\u611f\u3002</li> <li>\u5e26\u5bbd\u548c\u5b58\u50a8\u6709\u9650\uff0c\u5982\u4f55\u538b\u7f29\u6570\u636e\u3001\u51cf\u5c11\u6570\u636e\u91cf\uff0c\u800c\u53c8\u4e0d\u635f\u5931\u592a\u591a\u753b\u8d28\uff1f</li> </ul> <p>\u5386\u53f2\u539f\u56e0\u548c\u4f18\u52bf\uff1a</p> <ol> <li>\u89c6\u9891\u4fe1\u53f7\u538b\u7f29\uff08\u6700\u521d\u7528\u4e8e\u6a21\u62df\u7535\u89c6\uff09</li> <li>\u53ea\u8981\u4fdd\u5b58\u5b8c\u6574\u7684\u4eae\u5ea6(Y)\uff0c\u8272\u5ea6(U/V)\u53ef\u4ee5\u964d\u4f4e\u7cbe\u5ea6\u6216\u62bd\u6837\u3002</li> <li>\u8272\u5ea6\u4fe1\u606f\u7528\u66f4\u4f4e\u5206\u8fa8\u7387\u5b58\u50a8/\u4f20\u8f93\uff0c\u5927\u5e45\u964d\u4f4e\u6570\u636e\u91cf\uff0c\u4f46\u89c6\u89c9\u635f\u5931\u4e0d\u660e\u663e\u3002</li> <li>\u9ad8\u6548\u7f16\u7801\u548c\u517c\u5bb9\u6027</li> <li>\u53ef\u4ee5\u76f4\u63a5\u4e0e\u9ed1\u767d\u7535\u89c6\u517c\u5bb9\uff08\u53ea\u8981Y\u901a\u9053\uff09\uff0c\u8282\u7ea6\u4e86\u65e9\u671f\u8bbe\u5907\u5347\u7ea7\u7684\u6210\u672c\u3002</li> <li>\u6570\u5b57\u89c6\u9891\u548c\u56fe\u50cf\u5904\u7406\u7684\u4e3b\u6d41\u683c\u5f0f</li> <li>\u5982 H.264\u3001JPEG\u3001MPEG\u3001V4L2 \u7b49\u5404\u79cd\u6807\u51c6\uff0c\u5e95\u5c42\u90fd\u662f\u7528 YUV \u505a\u4e2d\u95f4\u5904\u7406\u6216\u6700\u7ec8\u7f16\u7801\u3002</li> </ol>"},{"location":"%E5%85%A8%E5%BF%97v853%E9%9F%B3%E8%A7%86%E9%A2%91%E5%BC%80%E5%8F%91/%E9%9F%B3%E8%A7%86%E9%A2%91%E5%9F%BA%E7%A1%80%E6%A6%82%E5%BF%B5/1.%E4%BB%80%E4%B9%88%E6%98%AFYUV/#3-yuv","title":"3. YUV \u6709\u54ea\u4e9b\u5e38\u89c1\u683c\u5f0f\uff1f","text":""},{"location":"%E5%85%A8%E5%BF%97v853%E9%9F%B3%E8%A7%86%E9%A2%91%E5%BC%80%E5%8F%91/%E9%9F%B3%E8%A7%86%E9%A2%91%E5%9F%BA%E7%A1%80%E6%A6%82%E5%BF%B5/1.%E4%BB%80%E4%B9%88%E6%98%AFYUV/#yuv","title":"YUV \u683c\u5f0f\u5206\u4e24\u5927\u7c7b\uff1a\u62bd\u6837\u65b9\u5f0f + \u6392\u5217\u65b9\u5f0f","text":""},{"location":"%E5%85%A8%E5%BF%97v853%E9%9F%B3%E8%A7%86%E9%A2%91%E5%BC%80%E5%8F%91/%E9%9F%B3%E8%A7%86%E9%A2%91%E5%9F%BA%E7%A1%80%E6%A6%82%E5%BF%B5/1.%E4%BB%80%E4%B9%88%E6%98%AFYUV/#1","title":"\uff081\uff09\u6309\u91c7\u6837\u7387\u5206\u7c7b\uff08\u91cd\u70b9\u5173\u6ce8\uff09","text":"\u683c\u5f0f Y:U:V \u6bd4\u4f8b \u542b\u4e49 \u6570\u636e\u91cf \u5e38\u89c1\u5e94\u7528 YUV444 4:4:4 Y/U/V \u6bcf\u50cf\u7d20\u90fd\u6709 \u6700\u5927 \u4e13\u4e1a\u573a\u5408/\u9ad8\u54c1\u8d28 YUV422 4:2:2 Y \u6bcf\u50cf\u7d20\uff0cU/V \u6bcf2\u50cf\u7d20\u5171\u7528 2/3 \u91c7\u96c6\u3001\u76d1\u63a7\u3001\u7535\u89c6 YUV420 4:2:0 Y \u6bcf\u50cf\u7d20\uff0cU/V \u6bcf4\u50cf\u7d20\u5171\u7528 1/2 \u7f16\u7801\u3001\u5b58\u50a8\u3001\u64ad\u653e YUV411 4:1:1 Y \u6bcf\u50cf\u7d20\uff0cU/V \u6bcf4\u50cf\u7d20\u5171\u7528 \u66f4\u5c11 \u90e8\u5206\u7279\u6b8a\u5e94\u7528 YUV400 4:0:0 \u53ea\u6709 Y\uff0c\u65e0\u8272\u5f69\uff08\u7070\u5ea6\uff09 \u6700\u5c11 \u9ed1\u767d\u56fe\u50cf"},{"location":"%E5%85%A8%E5%BF%97v853%E9%9F%B3%E8%A7%86%E9%A2%91%E5%BC%80%E5%8F%91/%E9%9F%B3%E8%A7%86%E9%A2%91%E5%9F%BA%E7%A1%80%E6%A6%82%E5%BF%B5/1.%E4%BB%80%E4%B9%88%E6%98%AFYUV/#2","title":"\uff082\uff09\u6309\u6392\u5217/\u5b58\u50a8\u65b9\u5f0f\u5206\u7c7b\uff08\u9762\u8bd5\u5e38\u8003\uff09","text":"<ul> <li>\u6253\u5305\uff08Packed/Interleaved\uff09\u683c\u5f0f</li> <li>\u5178\u578b\u5982 YUYV\uff08YUV422 Packed\uff09\uff0c\u4e00\u884c\u91cc Y/U/V \u6309\u987a\u5e8f\u6392\u5217\uff0c\u5982\uff1aY0 U0 Y1 V0 Y2 U1 Y3 V1...</li> <li>\u5e73\u9762\uff08Planar\uff09\u683c\u5f0f</li> <li>Y\u3001U\u3001V \u5206\u5f00\u5b58\u50a8\uff0c\u5982 YYYYY...UUUU...VVVV...\uff08YUV420P\u3001YUV422P\uff09</li> </ul>"},{"location":"%E5%85%A8%E5%BF%97v853%E9%9F%B3%E8%A7%86%E9%A2%91%E5%BC%80%E5%8F%91/%E9%9F%B3%E8%A7%86%E9%A2%91%E5%9F%BA%E7%A1%80%E6%A6%82%E5%BF%B5/1.%E4%BB%80%E4%B9%88%E6%98%AFYUV/#3","title":"\uff083\uff09\u5178\u578b\u683c\u5f0f\u4e3e\u4f8b","text":"<ul> <li>YUYV/YUY2/YUV422P</li> <li>\u4e00\u884c\u91cc\u6570\u636e\u4ea4\u9519\uff08YUYVYUYV...\uff09</li> <li>NV12/NV21\uff08YUV420SP\uff09</li> <li>Y \u5728\u524d\uff0cUV \u7d27\u8ddf\u5728\u540e\u4e14\u4ea4\u9519\u6392\u5217\uff08NV12: YYYYY...UVUVUV...\uff1bNV21: YYYYY...VUVUVU...\uff09</li> <li>I420/YUV420P</li> <li>Y \u5728\u524d\uff0cU\u5728\u4e2d\u95f4\uff0cV\u5728\u6700\u540e\uff0c\u4e09\u4e2a\u5206\u91cf\u5206\u5f00\u5b58\u50a8\uff08YYYY...UUU...VVV...\uff09</li> </ul>"},{"location":"%E5%85%A8%E5%BF%97v853%E9%9F%B3%E8%A7%86%E9%A2%91%E5%BC%80%E5%8F%91/%E9%9F%B3%E8%A7%86%E9%A2%91%E5%9F%BA%E7%A1%80%E6%A6%82%E5%BF%B5/1.%E4%BB%80%E4%B9%88%E6%98%AFYUV/#4","title":"4. \u5e38\u7528\u683c\u5f0f\u5bf9\u6bd4\u8868","text":"\u683c\u5f0f Y\u5206\u91cf\u5b58\u50a8 U/V\u5b58\u50a8 \u5907\u6ce8 YUV444P \u5e73\u9762 \u5e73\u9762 Y/U/V \u5404\u81ea\u5b8c\u6574\u5206\u91cf YUV422P \u5e73\u9762 \u5e73\u9762 \u6bcf2\u50cf\u7d20\u5171\u7528U/V YUYV422 \u4ea4\u9519 YUYV YUYV YUYV... YUV420P \u5e73\u9762 \u5e73\u9762 \u6700\u5e38\u7528\u5b58\u50a8/\u7f16\u7801\u683c\u5f0f NV12 \u5e73\u9762 UV\u4ea4\u9519 Intel/FFmpeg\u5e38\u7528\uff0c\u786c\u4ef6\u53cb\u597d NV21 \u5e73\u9762 VU\u4ea4\u9519 Android\u5e38\u7528\uff0c\u548cNV12\u987a\u5e8f\u76f8\u53cd"},{"location":"%E5%85%A8%E5%BF%97v853%E9%9F%B3%E8%A7%86%E9%A2%91%E5%BC%80%E5%8F%91/%E9%9F%B3%E8%A7%86%E9%A2%91%E5%9F%BA%E7%A1%80%E6%A6%82%E5%BF%B5/1.%E4%BB%80%E4%B9%88%E6%98%AFYUV/#5-yuv","title":"5. \u4e3a\u4ec0\u4e48\u5d4c\u5165\u5f0f\u5f00\u53d1\u5e38\u7528 YUV\uff1f","text":"<ul> <li>\u9ad8\u6548\u3001\u8282\u7701\u5e26\u5bbd/\u5b58\u50a8</li> <li>\u7f16\u7801\u5668\u3001\u663e\u793a/\u91c7\u96c6\u63a5\u53e3\u6807\u51c6\uff08\u5982V4L2\uff09\u5e7f\u6cdb\u652f\u6301</li> <li>\u65b9\u4fbf\u5404\u79cd\u540e\u5904\u7406\u548c\u89c6\u9891\u7b97\u6cd5\u76f4\u63a5\u64cd\u4f5c\u4eae\u5ea6/\u8272\u5ea6\u5206\u91cf</li> </ul>"},{"location":"%E5%85%A8%E5%BF%97v853%E9%9F%B3%E8%A7%86%E9%A2%91%E5%BC%80%E5%8F%91/%E9%9F%B3%E8%A7%86%E9%A2%91%E5%9F%BA%E7%A1%80%E6%A6%82%E5%BF%B5/1.%E4%BB%80%E4%B9%88%E6%98%AFYUV/#6","title":"6. \u5c0f\u7ed3","text":"<ul> <li>YUV \u662f\u4e00\u79cd\u9762\u5411\u201c\u6548\u7387\u201d\u548c\u201c\u517c\u5bb9\u201d\u7684\u989c\u8272\u7f16\u7801\u683c\u5f0f\uff0c\u6838\u5fc3\u662f\u5206\u79bb\u4eae\u5ea6\u4e0e\u8272\u5ea6\uff0c\u6613\u4e8e\u538b\u7f29\u548c\u5904\u7406\u3002</li> <li>YUV420/422/444/NV12/YUYV/I420/NV21 \u7b49\u662f\u5e38\u89c1\u53d8\u79cd\uff0c\u8981\u6839\u636e\u573a\u5408\u9009\u62e9\u5408\u9002\u7684\u683c\u5f0f\u3002</li> </ul>"},{"location":"%E5%85%A8%E5%BF%97v853%E9%9F%B3%E8%A7%86%E9%A2%91%E5%BC%80%E5%8F%91/%E9%9F%B3%E8%A7%86%E9%A2%91%E5%9F%BA%E7%A1%80%E6%A6%82%E5%BF%B5/2.%E8%A7%86%E9%A2%91%E4%BC%A0%E8%BE%93%E6%B5%81%E7%A8%8B/","title":"2.\u89c6\u9891\u4f20\u8f93\u6d41\u7a0b","text":"<pre><code>[Sensor \u91c7\u96c6\u8f93\u51fa]\n       \u2502\n       \u25bc\n    RAW \u6570\u636e                 \u2190\u2500\u2500\u2500\u2460 \u539f\u59cb\u50cf\u7d20\uff0c\u7269\u7406\u91c7\u96c6\n       \u2502\n       \u25bc\n    ISP \u5904\u7406\uff08\u786c\u4ef6\u6216\u8f6f\u4ef6\uff09\n       \u2502\n       \u25bc\n    YUV \u6570\u636e                 \u2190\u2500\u2500\u2500\u2461 \u8272\u5f69/\u683c\u5f0f\u8f6c\u6362\uff0c\u9002\u5408\u7f16\u7801\u548c\u538b\u7f29\n       \u2502\n       \u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2192 [\u89c6\u9891\u7f16\u7801]\n       \u2502                  \u2502\n       \u2502                  \u25bc\n       \u2502              H.264/H.265 \u6570\u636e\u6d41      \u2190\u2500\u2500\u2500\u2462 \u89c6\u9891\u7f16\u7801\u538b\u7f29\n       \u2502                  \u2502\n       \u2502            \u250c\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n       \u2502            \u2502                                                          \u2502\n       \u2502            \u2502   \u3010\u7f51\u7edc/\u672c\u5730\u4f20\u8f93\u534f\u8bae\u3011                                   \u2502\n       \u2502            \u2502                                                          \u2502\n       \u2502            \u2502   RTSP   \u2014\u2014 \u5b9e\u65f6\u6d41\u534f\u8bae\uff08IP\u6444\u50cf\u5934/NVR/\u7f51\u7edc\u76d1\u63a7\uff09           \u2502\n       \u2502            \u2502   HTTP   \u2014\u2014 \u7f51\u7edc\u70b9\u64ad\u3001\u4e0b\u8f7d\uff08\u7f51\u9875/\u4e91\u5b58\u50a8\u89c6\u9891\uff09             \u2502\n       \u2502            \u2502   RTP    \u2014\u2014 \u5b9e\u65f6\u4f20\u8f93\u534f\u8bae\uff0cRTSP\u5e38\u7528\u5e95\u5c42\u534f\u8bae                 \u2502\n       \u2502            \u2502   RTMP   \u2014\u2014 Flash\u3001\u76f4\u64ad\u63a8\u6d41\u5e38\u7528\u534f\u8bae                       \u2502\n       \u2502            \u2502   WebRTC \u2014\u2014 P2P\u4f4e\u5ef6\u8fdf\u4e92\u52a8\u4f20\u8f93\uff0c\u6d4f\u89c8\u5668/\u89c6\u9891\u4f1a\u8bae            \u2502\n       \u2502            \u2502   SRT    \u2014\u2014 \u5b89\u5168\u3001\u53ef\u9760\u7684\u4f4e\u5ef6\u8fdf\u6d41\u5a92\u4f53\u4f20\u8f93                  \u2502\n       \u2502            \u2502   TS/UDP \u2014\u2014 \u673a\u9876\u76d2\u3001\u5e7f\u7535\u6d41\u5a92\u4f53                            \u2502\n       \u2502            \u2502   FILE   \u2014\u2014 \u672c\u5730\u6587\u4ef6\u62f7\u8d1d\u3001U\u76d8/SD\u5361/\u786c\u76d8                   \u2502\n       \u2502            \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n       \u2502                  \u2502\n       \u2502             (\u7f51\u7edc\u3001\u786c\u76d8\u3001SD\u5361\u7b49\u4f20\u8f93/\u5b58\u50a8)\n       \u2502                  \u2502\n       \u2502                  \u25bc\n       \u2502           [\u89e3\u7801\u8fd8\u539f]     \u2190\u2500\u2500\u2500\u2463 \u89e3\u7801\u5668/\u64ad\u653e\u5668\n       \u2502                  \u2502\n       \u2502                  \u25bc\n       \u2502               YUV\u6570\u636e\n       \u25bc\n    (\u663e\u793a\u6d41\u7a0b)\n       \u2502\n       \u25bc\n   YUV \u8f6c RGB              \u2190\u2500\u2500\u2500\u2464 \u6700\u7ec8\u4e0a\u5c4f\u524d\u989c\u8272\u7a7a\u95f4\u8f6c\u6362\n       \u2502\n       \u25bc\n   \u5c4f\u5e55\u663e\u793a                \u2190\u2500\u2500\u2500\u2465 \u6700\u7ec8\u663e\u793a\uff08LCD/HDMI/VGA\u7b49\uff09\n</code></pre>"},{"location":"%E8%81%86%E6%80%9D%E7%A7%91%E6%8A%80/1.%E5%AE%98%E6%96%B9%E5%BC%80%E5%8F%91%E6%96%87%E6%A1%A3/","title":"1.\u5b98\u65b9\u5f00\u53d1\u6587\u6863","text":"<p>\u5b98\u65b9\u5f00\u53d1\u6587\u6863  https://docs2.listenai.com/x/nKuN-Yhft</p> <p>\u5728\u7ebf\u4e32\u53e3\u52a9\u624b https://tool.listenai.com/serial-term/</p>"},{"location":"%E8%81%86%E6%80%9D%E7%A7%91%E6%8A%80/2.%E8%81%86%E6%80%9D%E7%A7%91%E6%8A%80http-stack%20over%20flow/","title":"2.\u8046\u601d\u79d1\u6280http stack over flow","text":""},{"location":"%E8%81%86%E6%80%9D%E7%A7%91%E6%8A%80/2.%E8%81%86%E6%80%9D%E7%A7%91%E6%8A%80http-stack%20over%20flow/#http","title":"http\u793a\u4f8b\u62a5\u9519\u89e3\u51b3","text":"<ul> <li>duomotai_ap\\samples\\http</li> </ul>"},{"location":"%E8%81%86%E6%80%9D%E7%A7%91%E6%8A%80/2.%E8%81%86%E6%80%9D%E7%A7%91%E6%8A%80http-stack%20over%20flow/#_1","title":"\u4e3b\u7ebf","text":"<p>log</p> <pre><code>uart:~$ [00:00:00.000,000] &lt;inf&gt; csk6_spi: SPI REG ADDR:0x45500000\n[00:00:00.000,000] &lt;inf&gt; csk6_spi: SPI REG ADDR:0x45400000\n[00:00:00.000,000] &lt;inf&gt; csk6_exmcu_i2c: exmcu addr:0x6C\n[00:00:00.041,000] &lt;inf&gt; csk6_exmcu_i2c: exmcu info, chip type:ch32v003, ver:1.3\n*** Booting Zephyr OS build zephyr-v3.4.0-64-ge7b4084f8875 ***\n*** ListenAI CSK SDK Version: 2.0.0.0-1352d7faad ***\n*** Duomotai SDK Version: 2.8.2 build: v2.8.2-1-gaae55fd5f78403c4 ***\n[00:00:00.086,000] &lt;inf&gt; fs_nvs: 16 Sectors of 4096 bytes\n[00:00:00.086,000] &lt;inf&gt; fs_nvs: alloc wra: 0, f60\n[00:00:00.086,000] &lt;inf&gt; fs_nvs: data wra: 0, aec\nFirmware Version: 0.4, commit: 77c953e\nApp EVENT: ESP INIT\n\n[00:00:02.656,000] &lt;inf&gt; csk_wifi: wifi mode:0\n[00:00:02.676,000] &lt;inf&gt; wifi_mgr: WiFi saving AP info into NVS storage\n[00:00:02.677,000] &lt;inf&gt; wifi_mgr: waiting for wifi connection\n[00:00:04.436,000] &lt;inf&gt; wifi_mgr: [WiFi sta] Connecting...\n[00:00:06.376,000] &lt;inf&gt; wifi_mgr: wifi connected\n[00:00:06.376,000] &lt;inf&gt; wifi_mgr: Connected to AP successfully\n[00:00:06.376,000] &lt;inf&gt; wifi_mgr: ssid: TP-LINK_AD34  bssid: 74:39:89:ff:ad:34  channel: 11  rssi: -46 pwd : 88888888\n[00:00:06.377,000] &lt;inf&gt; wifi_manager: Successfully connect to ssid: TP-LINK_AD34, bssid: 74:39:89:ff:ad:34, pwd: 88888888, channel: 11, rssi: -46\n[00:00:06.612,000] &lt;inf&gt; net_dhcpv4: Received: 192.168.0.106\n[00:00:06.612,000] &lt;err&gt; os: ***** USAGE FAULT *****\n[00:00:06.612,000] &lt;err&gt; os:   Stack overflow (context area not valid)\n[00:00:06.612,000] &lt;err&gt; os: r0/a1:  0x000837c0  r1/a2:  0xe0040008  r2/a3:  0x000837c0\n[00:00:06.612,000] &lt;err&gt; os: r3/a4:  0xe0040008 r12/ip:  0x30002318 r14/lr:  0x18017d27\n[00:00:06.612,000] &lt;err&gt; os:  xpsr:  0x61000200\n[00:00:06.612,000] &lt;err&gt; os: s[ 0]:  0x00000000  s[ 1]:  0x00000000  s[ 2]:  0x00000000  s[ 3]:  0x00000000\n[00:00:06.612,000] &lt;err&gt; os: s[ 4]:  0x00000000  s[ 5]:  0x00000000  s[ 6]:  0x00000000  s[ 7]:  0x00000000\n[00:00:06.612,000] &lt;err&gt; os: s[ 8]:  0x00000000  s[ 9]:  0x00000000  s[10]:  0x00000000  s[11]:  0x00000000\n[00:00:06.612,000] &lt;err&gt; os: s[12]:  0x00000000  s[13]:  0x00000000  s[14]:  0x00000000  s[15]:  0x00000000\n[00:00:06.612,000] &lt;err&gt; os: fpscr:  0x00000000\n[00:00:06.612,000] &lt;err&gt; os: r4/v1:  0x0008b1b8  r5/v2:  0x00000000  r6/v3:  0x00088314\n[00:00:06.612,000] &lt;err&gt; os: r7/v4:  0x00000000  r8/v5:  0x00083564  r9/v6:  0x000835c8\n[00:00:06.612,000] &lt;err&gt; os: r10/v7: 0x00000000  r11/v8: 0x00000000    psp:  0x300022d0\n[00:00:06.612,000] &lt;err&gt; os: EXC_RETURN: 0xffffffbc\n[00:00:06.612,000] &lt;err&gt; os: Faulting instruction address (r15/pc): 0x1802ece4\n[00:00:06.612,000] &lt;err&gt; os: &gt;&gt;&gt; ZEPHYR FATAL ERROR 2: Stack overflow on CPU 0\n[00:00:06.612,000] &lt;err&gt; os: Current thread: 0x86a50 (net_mgmt)\n[00:00:06.612,000] &lt;err&gt; csk6_fatal: *** CSK FATAL ***\n[00:00:06.612,000] &lt;err&gt; csk6_fatal: Show more call stack info by run: addr2line -e build/zephyr/zephyr.elf -a -f -p 1802ece4 18017d25 1804ac85\n[00:00:06.719,000] &lt;err&gt; csk6_fatal: Halting system\n</code></pre> <p>\u5176\u4e2d</p> <pre><code>[00:00:06.612,000] &lt;err&gt; os: ***** USAGE FAULT *****\n[00:00:06.612,000] &lt;err&gt; os:   Stack overflow (context area not valid)\n...\n[00:00:06.612,000] &lt;err&gt; os: &gt;&gt;&gt; ZEPHYR FATAL ERROR 2: Stack overflow on CPU 0\n[00:00:06.612,000] &lt;err&gt; os: Current thread: 0x86a50 (net_mgmt)\n</code></pre> <p>\u6838\u5fc3\u95ee\u9898\uff1a</p> <p><code>net_mgmt</code> \u7ebf\u7a0b\u53d1\u751f\u4e86\u5806\u6808\u6ea2\u51fa\uff08stack overflow\uff09\u4e5f\u5c31\u662f Zephyr \u7684\u7f51\u7edc\u7ba1\u7406\u7ebf\u7a0b\uff0c\u5bfc\u81f4\u4e86\u7cfb\u7edf Usage Fault\uff0c\u7cfb\u7edf\u88ab\u5f3a\u5236 halt\u3002</p> <p>\u4e00\u822c\u6765\u8bf4\uff0cZephyr \u7f51\u7edc\u5b50\u7cfb\u7edf\u7684 <code>net_mgmt</code> \u7ebf\u7a0b\u6808\u7a7a\u95f4\u662f\u901a\u8fc7 Kconfig \u6216\u8005 prj.conf \u914d\u7f6e\u7684\u3002  \u53ef\u4ee5\u5728 <code>prj.conf</code> \u6587\u4ef6\u4e2d\u6dfb\u52a0\u6216\u8c03\u6574</p>"},{"location":"%E8%81%86%E6%80%9D%E7%A7%91%E6%8A%80/2.%E8%81%86%E6%80%9D%E7%A7%91%E6%8A%80http-stack%20over%20flow/#_2","title":"\u6df1\u5c42\u5b9a\u4f4d","text":"<p><code>addr2line</code> \u662f\u4e00\u4e2a binutils \u5de5\u5177\uff0c\u7528\u4e8e\u628a ELF \u6587\u4ef6\u4e2d\u7684\u4ee3\u7801\u5730\u5740\u8f6c\u6362\u4e3a\u6e90\u7801\u6587\u4ef6\u540d\u548c\u884c\u53f7\u3002</p> <p>\u6bd4\u5982\u4f60\u7cfb\u7edf\u5d29\u6e83\u65f6\u4f1a\u6253\u5370\u51fa PC\uff08\u7a0b\u5e8f\u8ba1\u6570\u5668\uff09\u5730\u5740\u3001\u8c03\u7528\u94fe\u4e0a\u7684\u5730\u5740\uff08\u5982 0x1802ece4\uff09\uff0c\u7528 <code>addr2line</code> \u53ef\u4ee5\u5b9a\u4f4d\u5230\u6e90\u7801\u5177\u4f53\u7684\u51fd\u6570\u548c\u884c\u53f7\u3002</p> <pre><code>addr2line -e build/zephyr/zephyr.elf -a -f -p 0x1802ece4 0x18017d25 0x1804ac85\n</code></pre>"},{"location":"%E8%81%86%E6%80%9D%E7%A7%91%E6%8A%80/2.%E8%81%86%E6%80%9D%E7%A7%91%E6%8A%80http-stack%20over%20flow/#_3","title":"\u7528\u9014\u603b\u7ed3","text":"<ul> <li>\u5b9a\u4f4d bug \u6839\u56e0\uff1a\u5f02\u5e38\u5d29\u6e83\u540e\uff0c\u76f4\u63a5\u628a\u62a5\u9519\u7684\u5730\u5740\u7528 <code>addr2line</code> \u67e5\u51fa\u6765\uff0c\u5bf9\u5e94\u5230\u6e90\u7801\u3002</li> <li>\u914d\u5408 IDE \u65ad\u70b9/\u6e90\u7801\u5bfc\u822a\uff0c\u975e\u5e38\u9ad8\u6548\u5730\u5b9a\u4f4d\u6808\u6ea2\u51fa/\u975e\u6cd5\u8bbf\u95ee\u7b49\u95ee\u9898\u3002</li> </ul> <pre><code>PS G:\\desktop\\csk6\\duomotai_ap&gt; addr2line -e build/zephyr/zephyr.elf -a -f -p 0x1802ece4 0x18017d25 0x1804ac85      \n0x1802ece4: handler_cb at G:/desktop/csk6/duomotai_ap/components/wifi_mgr/wifi_mgr.c:57                             \n0x18017d25: mgmt_run_callbacks at G:/desktop/csk6/duomotai_ap/.sdk/zephyr/subsys/net/ip/net_mgmt.c:182              \n0x1804ac85: z_thread_entry at G:/desktop/csk6/duomotai_ap/.sdk/zephyr/lib/os/thread_entry.c:36  \n</code></pre>"},{"location":"%E8%81%86%E6%80%9D%E7%A7%91%E6%8A%80/2.%E8%81%86%E6%80%9D%E7%A7%91%E6%8A%80http-stack%20over%20flow/#_4","title":"\u89e3\u51b3","text":"<p>\u5728duomotai_ap\\samples\\http\\prj.conf \u672b\u5c3e\u6dfb\u52a0</p> <pre><code>CONFIG_NET_MGMT_EVENT_STACK_SIZE=2048\n</code></pre>"},{"location":"%E8%A7%86%E9%A2%91%E6%80%BB%E7%BB%93%E6%96%B9%E6%A1%88/1.%E8%A7%86%E9%A2%91%E6%80%BB%E7%BB%93%E6%96%B9%E6%A1%88/","title":"1.\u89c6\u9891\u603b\u7ed3\u65b9\u6848","text":""},{"location":"%E8%A7%86%E9%A2%91%E6%80%BB%E7%BB%93%E6%96%B9%E6%A1%88/1.%E8%A7%86%E9%A2%91%E6%80%BB%E7%BB%93%E6%96%B9%E6%A1%88/#ai","title":"\u65b9\u6848\u4e00\uff1a\u76f4\u63a5\u83b7\u53d6\u5b57\u5e55\uff0cAI\u603b\u7ed3","text":""},{"location":"%E8%A7%86%E9%A2%91%E6%80%BB%E7%BB%93%E6%96%B9%E6%A1%88/1.%E8%A7%86%E9%A2%91%E6%80%BB%E7%BB%93%E6%96%B9%E6%A1%88/#_1","title":"\u6d41\u7a0b","text":"<ol> <li>\u901a\u8fc7 API \u6216\u811a\u672c\u6293\u53d6\u5e73\u53f0\u539f\u6709\u5b57\u5e55\uff08\u5982B\u7ad9/YouTube CC\u5b57\u5e55\uff09\u3002</li> <li>\u62fc\u63a5\u4e3a\u7eaf\u6587\u672c\uff0c\u9001\u5165AI\u6a21\u578b\u603b\u7ed3\u3002</li> </ol>"},{"location":"%E8%A7%86%E9%A2%91%E6%80%BB%E7%BB%93%E6%96%B9%E6%A1%88/1.%E8%A7%86%E9%A2%91%E6%80%BB%E7%BB%93%E6%96%B9%E6%A1%88/#_2","title":"\u4f18\u70b9","text":"<ul> <li>\u901f\u5ea6\u6781\u5feb\uff1a\u76f4\u63a5\u62ff\u5230\u6587\u672c\uff0c\u65e0\u9700\u8017\u65f6\u97f3\u9891\u8bc6\u522b\uff0c\u57fa\u672c\u201c\u79d2\u7ea7\u51fa\u7ed3\u679c\u201d\u3002</li> <li>\u8d44\u6e90\u6d88\u8017\u4f4e\uff1a\u51e0\u4e4e\u4e0d\u5360\u7528\u672c\u5730/\u4e91\u7aef\u7b97\u529b\u3002</li> <li>\u6613\u4e8e\u5b9e\u73b0\uff1aAPI\u516c\u5f00\uff0c\u5904\u7406\u683c\u5f0f\u7b80\u5355\uff08JSON\u6216SRT\uff09\uff0c\u6587\u672c\u76f4\u63a5\u53ef\u7528\u3002</li> <li>\u51c6\u786e\u7387\u9ad8\uff08\u5b57\u5e55\u8d28\u91cf\u597d\u65f6\uff09\uff1a\u5b98\u65b9\u5b57\u5e55/\u4eba\u5de5\u5b57\u5e55\u901a\u5e38\u975e\u5e38\u51c6\u786e\u3002</li> <li>\u514d\u8d39\uff1a\u4e0d\u9700\u8981\u8c03\u7528\u7b2c\u4e09\u65b9ASR/\u8f6c\u5199\u670d\u52a1\uff0c\u4e0d\u989d\u5916\u82b1\u94b1\u3002</li> </ul>"},{"location":"%E8%A7%86%E9%A2%91%E6%80%BB%E7%BB%93%E6%96%B9%E6%A1%88/1.%E8%A7%86%E9%A2%91%E6%80%BB%E7%BB%93%E6%96%B9%E6%A1%88/#_3","title":"\u7f3a\u70b9","text":"<ul> <li>\u4f9d\u8d56\u5b57\u5e55\u53ef\u7528\u6027\uff1a\u4e0d\u662f\u6240\u6709\u89c6\u9891\u90fd\u6709\u5b57\u5e55\uff08\u5c24\u5176\u662f\u81ea\u5236\u3001\u5c0f\u4f17\u89c6\u9891\uff09\u3002</li> <li>\u5b57\u5e55\u5185\u5bb9\u53ef\u80fd\u4e0d\u5b8c\u6574\uff1a\u6709\u7684\u89c6\u9891\u5b57\u5e55\u4e0d\u5168\uff0c\u6216\u53ea\u9488\u5bf9\u67d0\u4e9b\u7247\u6bb5\u3002</li> <li>\u5b57\u5e55\u6709\u65f6\u4e3a\u673a\u7ffb\uff0c\u8d28\u91cf\u4e0d\u4e00\uff1a\u81ea\u52a8\u751f\u6210\u5b57\u5e55\u3001\u673a\u5668\u7ffb\u8bd1\u5b57\u5e55\u53ef\u80fd\u6709\u8bef\u3002</li> <li>\u5bf9\u591a\u8bed\u8a00/\u65b9\u8a00/\u914d\u4e50\u7c7b\u89c6\u9891\u4e0d\u53cb\u597d\uff1a\u5b57\u5e55\u53ef\u80fd\u7f3a\u5931\u6216\u9519\u8bef\u3002</li> </ul>"},{"location":"%E8%A7%86%E9%A2%91%E6%80%BB%E7%BB%93%E6%96%B9%E6%A1%88/1.%E8%A7%86%E9%A2%91%E6%80%BB%E7%BB%93%E6%96%B9%E6%A1%88/#aiasr","title":"\u65b9\u6848\u4e8c\uff1a\u83b7\u53d6\u97f3\u9891\u2192AI\u8f6c\u6587\u5b57\uff08ASR\uff09\u2192\u518d\u603b\u7ed3","text":""},{"location":"%E8%A7%86%E9%A2%91%E6%80%BB%E7%BB%93%E6%96%B9%E6%A1%88/1.%E8%A7%86%E9%A2%91%E6%80%BB%E7%BB%93%E6%96%B9%E6%A1%88/#_4","title":"\u6d41\u7a0b","text":"<ol> <li>\u6293\u53d6/\u4e0b\u8f7d\u89c6\u9891\u97f3\u9891\u6d41\u3002</li> <li>\u7528AI\u6216\u7b2c\u4e09\u65b9ASR\u670d\u52a1\u8f6c\u5199\uff08\u5982 OpenAI Whisper\u3001DeepSeek ASR\u3001\u8baf\u98de\u3001\u767e\u5ea6\u7b49\uff09\u3002</li> <li>\u8f6c\u5199\u51fa\u7684\u5168\u6587\u672c\u518d\u4ea4\u7ed9AI\u603b\u7ed3\u3002</li> </ol>"},{"location":"%E8%A7%86%E9%A2%91%E6%80%BB%E7%BB%93%E6%96%B9%E6%A1%88/1.%E8%A7%86%E9%A2%91%E6%80%BB%E7%BB%93%E6%96%B9%E6%A1%88/#_5","title":"\u4f18\u70b9","text":"<ul> <li>\u9002\u7528\u6027\u6700\u5f3a\uff1a\u4efb\u4f55\u6709\u97f3\u9891\u7684\u89c6\u9891\u90fd\u53ef\u5904\u7406\uff0c\u4e0d\u4f9d\u8d56\u5b57\u5e55\u662f\u5426\u5b58\u5728\u3002</li> <li>\u5185\u5bb9\u8fd8\u539f\u5ea6\u9ad8\uff1a\u53ef\u4ee5\u201c\u8fd8\u539f\u201d\u6240\u6709\u8bed\u97f3\u5185\u5bb9\uff08\u53ea\u8981ASR\u6548\u679c\u597d\uff09\u3002</li> <li>\u652f\u6301\u591a\u8bed\u8a00\uff1a\u73b0\u4ee3ASR\u652f\u6301\u4e2d\u82f1\u6df7\u5408\u3001\u65b9\u8a00\u7b49\uff0c\u7406\u8bba\u66f4\u901a\u7528\u3002</li> <li>\u53ef\u81ea\u5b9a\u4e49\u5904\u7406\uff1a\u53ef\u5bf9\u7279\u6b8a\u573a\u666f\u3001\u97f3\u9891\u8d28\u91cf\u4f4e\u4e0b\u7684\u89c6\u9891\u5b9a\u5236\u5904\u7406\u65b9\u5f0f\u3002</li> </ul>"},{"location":"%E8%A7%86%E9%A2%91%E6%80%BB%E7%BB%93%E6%96%B9%E6%A1%88/1.%E8%A7%86%E9%A2%91%E6%80%BB%E7%BB%93%E6%96%B9%E6%A1%88/#_6","title":"\u7f3a\u70b9","text":"<ul> <li>\u901f\u5ea6\u6162\uff1a\u97f3\u9891\u8f6c\u6587\u5b57\u8017\u65f6\u8f83\u957f\uff08\u6570\u5341\u79d2\u5230\u6570\u5206\u949f\u4e0d\u7b49\uff0c\u89c6\u957f\u5ea6\u548c\u6a21\u578b\u6027\u80fd\uff09\u3002</li> <li>\u8d44\u6e90\u6d88\u8017\u5927\uff1a\u9700\u8c03\u7528\u672c\u5730\u6216\u4e91\u7aefAI\uff0c\u6d88\u8017\u663e\u8457\u8ba1\u7b97\u8d44\u6e90\uff0c\u4ed8\u8d39API\u5219\u6709\u6210\u672c\u3002</li> <li>\u8bc6\u522b\u51c6\u786e\u7387\u53d7\u9650\uff1a\u5608\u6742\u73af\u5883\u3001\u591a\u4eba\u5bf9\u8bdd\u3001\u7279\u6b8a\u53e3\u97f3\u4f1a\u5bfc\u81f4ASR\u8bef\u8bc6\u522b\uff0c\u5f71\u54cd\u603b\u7ed3\u8d28\u91cf\u3002</li> <li>\u4ee3\u7801\u590d\u6742\u5ea6\u9ad8\uff1a\u9700\u5904\u7406\u97f3\u9891\u6d41\u3001\u5206\u6bb5\u3001\u683c\u5f0f\u8f6c\u6362\u7b49\u3002</li> <li>\u90e8\u5206\u5e73\u53f0\u97f3\u9891\u6d41\u6293\u53d6\u6709\u95e8\u69db\uff1a\u6709\u7684\u89c6\u9891\u505a\u4e86\u9632\u722c\uff0c\u97f3\u9891\u63d0\u53d6\u6b65\u9aa4\u7565\u5fae\u9ebb\u70e6\u3002</li> </ul>"},{"location":"%E8%A7%86%E9%A2%91%E6%80%BB%E7%BB%93%E6%96%B9%E6%A1%88/1.%E8%A7%86%E9%A2%91%E6%80%BB%E7%BB%93%E6%96%B9%E6%A1%88/#_7","title":"\u603b\u7ed3\u5bf9\u6bd4\u8868","text":"\u65b9\u6848 \u4f18\u70b9 \u7f3a\u70b9 \u9002\u7528\u573a\u666f \u76f4\u63a5\u7528\u5b57\u5e55AI\u603b\u7ed3 \u5feb\u901f\u3001\u51c6\u786e\u3001\u5b9e\u73b0\u7b80\u5355\u3001\u514d\u8d39 \u4f9d\u8d56\u5b57\u5e55\u3001\u5b57\u5e55\u53ef\u80fd\u4e0d\u5168\u6216\u8d28\u91cf\u53c2\u5dee \u4e3b\u6d41\u89c6\u9891/\u6709\u5b57\u5e55\u89c6\u9891 \u97f3\u9891\u8f6c\u6587\u5b57\u518d\u603b\u7ed3 \u9002\u7528\u6027\u6700\u5f3a\u3001\u5185\u5bb9\u8fd8\u539f\u5ea6\u9ad8\u3001\u7075\u6d3b \u6162\u3001\u7b97\u529b\u6d88\u8017\u5927\u3001\u8bc6\u522b\u6613\u51fa\u9519\u3001\u6210\u672c\u9ad8 \u65e0\u5b57\u5e55/\u9700\u5168\u5185\u5bb9\u8fd8\u539f\u7684\u89c6\u9891"},{"location":"%E8%A7%86%E9%A2%91%E6%80%BB%E7%BB%93%E6%96%B9%E6%A1%88/1.%E8%A7%86%E9%A2%91%E6%80%BB%E7%BB%93%E6%96%B9%E6%A1%88/#_8","title":"\u9009\u578b\u5efa\u8bae","text":"<ul> <li>\u4f18\u5148\u7528\u65b9\u6848\u4e00\uff08\u76f4\u63a5\u7528\u5b57\u5e55\uff09\uff1a\u5982B\u7ad9/YouTube\u7b49\u5927\u5e73\u53f0\u4e3b\u6d41\u89c6\u9891\uff0c\u4f18\u5148\u6293\u5b57\u5e55\u603b\u7ed3\uff0c\u5feb\u4e14\u7a33\u3002</li> <li>\u8865\u5145\u7528\u65b9\u6848\u4e8c\uff08\u97f3\u9891ASR\u8f6c\u5199\uff09\uff1a\u65e0\u5b57\u5e55\u3001\u5c0f\u4f17/\u4e13\u4e1a/\u7279\u6b8a\u573a\u666f\u89c6\u9891\u53ef\u7528\u6b64\u6cd5\uff0c\u4fdd\u8bc1\u9002\u7528\u6027\u3002</li> </ul>"},{"location":"%E8%A7%86%E9%A2%91%E6%80%BB%E7%BB%93%E6%96%B9%E6%A1%88/2.yt-dlp%E4%BD%BF%E7%94%A8/","title":"2.yt dlp\u4f7f\u7528","text":""},{"location":"%E8%A7%86%E9%A2%91%E6%80%BB%E7%BB%93%E6%96%B9%E6%A1%88/2.yt-dlp%E4%BD%BF%E7%94%A8/#yt-dlp","title":"yt-dlp\u4f7f\u7528","text":"<p>\u5b98\u65b9\u94fe\u63a5https://github.com/yt-dlp/yt-dlp</p> <p>\u529f\u80fd\u4ee5\u53ca\u7528\u6cd5 https://github.com/yt-dlp/yt-dlp/blob/master/README.md</p> <p>windows\u4e0b \u4e0b\u8f7dty-dlp.exe\u6587\u4ef6</p> <p>chrome\u4e0a\u4e0b\u8f7d\u63d2\u4ef6 Get cookies.txt LOCALLY  \u7528\u4e8e\u83b7\u53d6cookies.txt</p> <p></p>"},{"location":"%E8%A7%86%E9%A2%91%E6%80%BB%E7%BB%93%E6%96%B9%E6%A1%88/2.yt-dlp%E4%BD%BF%E7%94%A8/#general-options","title":"\u901a\u7528\u9009\u9879\uff08General Options\uff09","text":"<pre><code> \u2022  -h, --help\n\u663e\u793a\u5e2e\u52a9\u4fe1\u606f\u5e76\u9000\u51fa \n\n \u2022  --version\n\u663e\u793a\u7248\u672c\u53f7\u5e76\u9000\u51fa  \n\n\u2022  -U, --update\n\u5c06\u672c\u7a0b\u5e8f\u5347\u7ea7\u5230\u6700\u65b0\u7248\u672c  \n\n\u2022  --no-update\n\u4e0d\u68c0\u67e5\u66f4\u65b0\uff08\u9ed8\u8ba4\uff09\n\n\u2022  -i, --ignore-errors\n\u5ffd\u7565\u4e0b\u8f7d\u548c\u540e\u5904\u7406\u9519\u8bef\uff0c\u4e0b\u8f7d\u5373\u4f7f\u51fa\u9519\u4e5f\u4f1a\u7ee7\u7eed  \n\n\u2022  --abort-on-error\n\u4e0b\u8f7d\u51fa\u9519\u65f6\u7ec8\u6b62\u540e\u7eed\u4efb\u52a1\uff08\u548c --ignore-errors \u76f8\u53cd\uff09 \n\n\u2022  --list-extractors\n\u5217\u51fa\u652f\u6301\u7684\u7f51\u7ad9\u89e3\u6790\u5668  \n\n\u2022  --extractor-descriptions\n\u663e\u793a\u6240\u6709\u652f\u6301\u7f51\u7ad9\u7684\u63cf\u8ff0\u4fe1\u606f \n\n\u2022  --flat-playlist\n\u53ea\u83b7\u53d6\u64ad\u653e\u5217\u8868\u6761\u76ee\uff0c\u4e0d\u89e3\u6790\u6bcf\u4e2a\u89c6\u9891\u5143\u6570\u636e\n</code></pre>"},{"location":"%E8%A7%86%E9%A2%91%E6%80%BB%E7%BB%93%E6%96%B9%E6%A1%88/2.yt-dlp%E4%BD%BF%E7%94%A8/#network-options","title":"\u7f51\u7edc\u9009\u9879\uff08Network Options\uff09","text":"<pre><code>--proxy URL\n\u8bbe\u7f6e\u4ee3\u7406\uff08\u652f\u6301HTTP/HTTPS/SOCKS\uff09\n\n--socket-timeout \u79d2\u6570\n\u7f51\u7edc\u8d85\u65f6\u65f6\u95f4\n\n-4, --force-ipv4\n\u5f3a\u5236\u4f7f\u7528IPv4\n\n-6, --force-ipv6\n\u5f3a\u5236\u4f7f\u7528IPv6\n</code></pre>"},{"location":"%E8%A7%86%E9%A2%91%E6%80%BB%E7%BB%93%E6%96%B9%E6%A1%88/2.yt-dlp%E4%BD%BF%E7%94%A8/#video-selection","title":"\u89c6\u9891\u9009\u62e9\uff08Video Selection\uff09","text":"<pre><code>-I, --playlist-items 1,3,5-7\n\u4e0b\u8f7d\u6307\u5b9a\u5e8f\u53f7\u7684\u89c6\u9891\uff08\u652f\u6301\u8303\u56f4\uff09\n\n--min-filesize 50M\n\u53ea\u4e0b\u8f7d\u5927\u4e8e\u6307\u5b9a\u5927\u5c0f\u7684\u6587\u4ef6\n\n--max-filesize 200M\n\u53ea\u4e0b\u8f7d\u5c0f\u4e8e\u6307\u5b9a\u5927\u5c0f\u7684\u6587\u4ef6\n\n--date 20240628\n\u53ea\u4e0b\u8f7d\u6307\u5b9a\u65e5\u671f\u53d1\u5e03\u7684\u89c6\u9891\n\n--match-filters \"like_count&gt;?100\"\n\u53ea\u4e0b\u8f7d\u6ee1\u8db3\u6761\u4ef6\u7684\u89c6\u9891\n\n--no-playlist\n\u5982\u679c\u662f\u5355\u4e2a\u89c6\u9891\u4e0e\u5217\u8868\u6df7\u5408\u94fe\u63a5\uff0c\u53ea\u4e0b\u8f7d\u89c6\u9891\u672c\u8eab\n\n--yes-playlist\n\u5f3a\u5236\u4e0b\u8f7d\u6574\u4e2a\u64ad\u653e\u5217\u8868\n</code></pre>"},{"location":"%E8%A7%86%E9%A2%91%E6%80%BB%E7%BB%93%E6%96%B9%E6%A1%88/2.yt-dlp%E4%BD%BF%E7%94%A8/#download-options","title":"\u4e0b\u8f7d\u76f8\u5173\uff08Download Options\uff09","text":"<pre><code>-N, --concurrent-fragments 5\n\u591a\u7ebf\u7a0b\u4e0b\u8f7d\u5206\u7247\u89c6\u9891\n\n-r, --limit-rate 500K\n\u9650\u5236\u4e0b\u8f7d\u901f\u5ea6\n\n-R, --retries 10\n\u4e0b\u8f7d\u5931\u8d25\u91cd\u8bd5\u6b21\u6570\n\n--skip-unavailable-fragments\n\u8df3\u8fc7\u4e0d\u53ef\u7528\u7684\u89c6\u9891\u5206\u7247\n\n--abort-on-unavailable-fragments\n\u5206\u7247\u65e0\u6cd5\u4e0b\u8f7d\u65f6\u7ec8\u6b62\u4e0b\u8f7d\n</code></pre>"},{"location":"%E8%A7%86%E9%A2%91%E6%80%BB%E7%BB%93%E6%96%B9%E6%A1%88/2.yt-dlp%E4%BD%BF%E7%94%A8/#filesystem-options","title":"\u6587\u4ef6\u7cfb\u7edf\u76f8\u5173\uff08Filesystem Options\uff09","text":"<pre><code>-a, --batch-file \u6587\u4ef6\n\u4ece\u6587\u4ef6\u6279\u91cf\u8bfb\u53d6\u8981\u4e0b\u8f7d\u7684URL\n\n-P, --paths \u8def\u5f84\n\u8bbe\u7f6e\u4e0b\u8f7d\u6587\u4ef6\u7684\u4fdd\u5b58\u8def\u5f84\n\n-o, --output \u6a21\u677f\n\u8bbe\u7f6e\u8f93\u51fa\u6587\u4ef6\u540d\u6a21\u677f\n\n-w, --no-overwrites\n\u4e0d\u8986\u76d6\u5df2\u6709\u6587\u4ef6\n\n--cookies \u6587\u4ef6\n\u6307\u5b9acookies\u6587\u4ef6\uff08\u652f\u6301chrome\u5bfc\u51fa\u7684cookies.txt\uff09\n</code></pre>"},{"location":"%E8%A7%86%E9%A2%91%E6%80%BB%E7%BB%93%E6%96%B9%E6%A1%88/2.yt-dlp%E4%BD%BF%E7%94%A8/#thumbnails-subtitles","title":"\u7f29\u7565\u56fe\u4e0e\u5b57\u5e55\uff08Thumbnails &amp; Subtitles\uff09","text":"<pre><code>--write-thumbnail\n\u4e0b\u8f7d\u89c6\u9891\u7f29\u7565\u56fe\n\n--write-subs\n\u4e0b\u8f7d\u5b57\u5e55\n\n--write-auto-subs\n\u4e0b\u8f7d\u81ea\u52a8\u751f\u6210\u7684\u5b57\u5e55\n\n--sub-langs \"zh-CN,en\"\n\u6307\u5b9a\u8981\u4e0b\u8f7d\u7684\u5b57\u5e55\u8bed\u8a00\uff08\u53ef\u7528all,\u6b63\u5219\uff09\n</code></pre>"},{"location":"%E8%A7%86%E9%A2%91%E6%80%BB%E7%BB%93%E6%96%B9%E6%A1%88/2.yt-dlp%E4%BD%BF%E7%94%A8/#video-format-options","title":"\u683c\u5f0f\u9009\u62e9\uff08Video Format Options\uff09","text":"<pre><code>-f, --format\n\u6307\u5b9a\u8981\u4e0b\u8f7d\u7684\u89c6\u9891\u683c\u5f0f\uff08\u5982 best\u3001worst\u3001mp4\uff09\n\n-F, --list-formats\n\u5217\u51fa\u6240\u6709\u53ef\u7528\u683c\u5f0f\n\n-S, --format-sort\n\u5bf9\u683c\u5f0f\u8fdb\u884c\u6392\u5e8f\uff08\u5982\u6309\u6e05\u6670\u5ea6\u3001\u7801\u7387\uff09\n\n--merge-output-format mp4\n\u5408\u5e76\u8f93\u51fa\u4e3a\u6307\u5b9a\u683c\u5f0f\uff08mp4\u3001mkv\u7b49\uff09\n</code></pre>"},{"location":"%E8%A7%86%E9%A2%91%E6%80%BB%E7%BB%93%E6%96%B9%E6%A1%88/2.yt-dlp%E4%BD%BF%E7%94%A8/#post-processing","title":"\u540e\u5904\u7406\uff08Post-processing\uff09","text":"<pre><code>-x, --extract-audio\n\u53ea\u63d0\u53d6\u97f3\u9891\uff08\u9700ffmpeg\uff09\n\n--audio-format mp3\n\u6307\u5b9a\u97f3\u9891\u5bfc\u51fa\u683c\u5f0f\n\n--audio-quality 0-10 \u6216 128K\n\u97f3\u9891\u5bfc\u51fa\u6bd4\u7279\u7387\u6216\u8d28\u91cf\n\n--remux-video mp4\n\u65e0\u635f\u5c01\u88c5\u5230\u6307\u5b9a\u683c\u5f0f\n\n--embed-thumbnail\n\u5c06\u7f29\u7565\u56fe\u5d4c\u5165\u5230\u97f3\u9891/\u89c6\u9891\u6587\u4ef6\n\n--embed-subs\n\u5c06\u5b57\u5e55\u5d4c\u5165\u89c6\u9891\n</code></pre>"},{"location":"%E8%A7%86%E9%A2%91%E6%80%BB%E7%BB%93%E6%96%B9%E6%A1%88/2.yt-dlp%E4%BD%BF%E7%94%A8/#authentication","title":"\u8ba4\u8bc1\u4e0e\u767b\u5f55\uff08Authentication\uff09","text":"<pre><code>-u, --username \u7528\u6237\u540d\n\u767b\u5f55\u7528\u6237\u540d\n\n-p, --password \u5bc6\u7801\n\u767b\u5f55\u5bc6\u7801\n\n--cookies-from-browser \u6d4f\u89c8\u5668\u540d\n\u76f4\u63a5\u8bfb\u53d6\u6307\u5b9a\u6d4f\u89c8\u5668\u7684cookies\n</code></pre>"},{"location":"%E8%A7%86%E9%A2%91%E6%80%BB%E7%BB%93%E6%96%B9%E6%A1%88/2.yt-dlp%E4%BD%BF%E7%94%A8/#_1","title":"\u5176\u5b83\u5e38\u7528\u53c2\u6570","text":"<pre><code>-q, --quiet\n\u9759\u9ed8\u6a21\u5f0f\n\n-v, --verbose\n\u663e\u793a\u8be6\u7ec6\u8c03\u8bd5\u4fe1\u606f\n\n-s, --simulate\n\u6a21\u62df\u64cd\u4f5c\uff08\u4e0d\u5b9e\u9645\u4e0b\u8f7d\uff09\n</code></pre>"},{"location":"%E8%A7%86%E9%A2%91%E6%80%BB%E7%BB%93%E6%96%B9%E6%A1%88/2.yt-dlp%E4%BD%BF%E7%94%A8/#example","title":"example","text":""},{"location":"%E8%A7%86%E9%A2%91%E6%80%BB%E7%BB%93%E6%96%B9%E6%A1%88/2.yt-dlp%E4%BD%BF%E7%94%A8/#1","title":"1. \u4e0b\u8f7d\u5355\u4e2a\u89c6\u9891\u5230\u5f53\u524d\u76ee\u5f55","text":"<pre><code>yt-dlp https://www.youtube.com/watch?v=xxxxxxx\n</code></pre> <p>\u4e0b\u8f7d\u9ed8\u8ba4\u6700\u4f73\u683c\u5f0f\u7684\u89c6\u9891\u548c\u97f3\u9891\u5e76\u5408\u6210\u4e3a\u4e00\u4e2a\u6587\u4ef6\u3002</p>"},{"location":"%E8%A7%86%E9%A2%91%E6%80%BB%E7%BB%93%E6%96%B9%E6%A1%88/2.yt-dlp%E4%BD%BF%E7%94%A8/#2-mp3","title":"2. \u53ea\u4e0b\u8f7d\u97f3\u9891\u5e76\u8f6c\u6362\u4e3amp3","text":"<pre><code>yt-dlp -x --audio-format mp3 https://www.youtube.com/watch?v=xxxxxxx\n</code></pre> <p><code>-x</code> \u53ea\u63d0\u53d6\u97f3\u9891\uff0c<code>--audio-format mp3</code> \u8f6c\u6362\u4e3amp3\u683c\u5f0f\uff08\u9700ffmpeg\uff09\u3002</p>"},{"location":"%E8%A7%86%E9%A2%91%E6%80%BB%E7%BB%93%E6%96%B9%E6%A1%88/2.yt-dlp%E4%BD%BF%E7%94%A8/#3","title":"3. \u4e0b\u8f7d\u6307\u5b9a\u6e05\u6670\u5ea6\u7684\u89c6\u9891","text":"<pre><code>yt-dlp -f \"bestvideo[height&lt;=720]+bestaudio/best[height&lt;=720]\" https://www.bilibili.com/video/BVxxxxxx\n</code></pre> <p>\u4e0b\u8f7d\u4e0d\u9ad8\u4e8e720p\u7684\u6700\u4f73\u89c6\u9891\u548c\u97f3\u9891\uff0c\u5e76\u81ea\u52a8\u5408\u5e76\u3002</p>"},{"location":"%E8%A7%86%E9%A2%91%E6%80%BB%E7%BB%93%E6%96%B9%E6%A1%88/2.yt-dlp%E4%BD%BF%E7%94%A8/#4","title":"4. \u4e0b\u8f7d\u5e26\u6709\u4e2d\u6587\u5b57\u5e55\u7684\u89c6\u9891\u53ca\u5b57\u5e55","text":"<pre><code>yt-dlp --write-subs --sub-langs zh-CN https://www.youtube.com/watch?v=xxxxxxx\n</code></pre> <p><code>--write-subs</code> \u4e0b\u8f7d\u5b57\u5e55\uff0c<code>--sub-langs zh-CN</code> \u6307\u5b9a\u4e2d\u6587\u5b57\u5e55\u3002</p>"},{"location":"%E8%A7%86%E9%A2%91%E6%80%BB%E7%BB%93%E6%96%B9%E6%A1%88/2.yt-dlp%E4%BD%BF%E7%94%A8/#5","title":"5. \u4e0b\u8f7d\u81ea\u52a8\u751f\u6210\u7684\u4e2d\u6587\u5b57\u5e55","text":"<pre><code>yt-dlp --write-auto-subs --sub-langs zh-CN https://www.youtube.com/watch?v=xxxxxxx\n</code></pre> <p><code>--write-auto-subs</code> \u4e0b\u8f7dYouTube\u81ea\u52a8\u751f\u6210\u7684\u5b57\u5e55\u3002</p>"},{"location":"%E8%A7%86%E9%A2%91%E6%80%BB%E7%BB%93%E6%96%B9%E6%A1%88/2.yt-dlp%E4%BD%BF%E7%94%A8/#6-url","title":"6. \u6279\u91cf\u4e0b\u8f7d\uff08\u4ece\u6587\u4ef6\u4e2d\u8bfb\u53d6URL\uff09","text":"<pre><code>yt-dlp -a urllist.txt\n</code></pre> <p><code>urllist.txt</code> \u6bcf\u884c\u4e00\u4e2a\u89c6\u9891\u7f51\u5740\uff0c\u81ea\u52a8\u6279\u91cf\u4e0b\u8f7d\u3002</p>"},{"location":"%E8%A7%86%E9%A2%91%E6%80%BB%E7%BB%93%E6%96%B9%E6%A1%88/2.yt-dlp%E4%BD%BF%E7%94%A8/#7-youtube","title":"7. \u4e0b\u8f7dYouTube\u64ad\u653e\u5217\u8868\u6240\u6709\u89c6\u9891","text":"<pre><code>yt-dlp https://www.youtube.com/playlist?list=PLxxxxxx\n</code></pre> <p>\u81ea\u52a8\u4e0b\u8f7d\u6574\u4e2a\u64ad\u653e\u5217\u8868\u7684\u5168\u90e8\u89c6\u9891\u3002</p>"},{"location":"%E8%A7%86%E9%A2%91%E6%80%BB%E7%BB%93%E6%96%B9%E6%A1%88/2.yt-dlp%E4%BD%BF%E7%94%A8/#8-bcookies","title":"8. \u4e0b\u8f7dB\u7ad9\u9ad8\u6e05\u89c6\u9891\uff0c\u4f7f\u7528cookies","text":"<pre><code>yt-dlp --cookies cookies.txt -f \"bestvideo+bestaudio/best\" https://www.bilibili.com/video/BVxxxxxx\n</code></pre> <p>\u4f7f\u7528\u767b\u5f55cookies\u53ef\u4e0b\u8f7d\u5927\u4f1a\u5458\u89c6\u9891\u6216\u9ad8\u7801\u7387\u89c6\u9891\u3002</p>"},{"location":"%E8%A7%86%E9%A2%91%E6%80%BB%E7%BB%93%E6%96%B9%E6%A1%88/2.yt-dlp%E4%BD%BF%E7%94%A8/#9","title":"9. \u8bbe\u7f6e\u4e0b\u8f7d\u6587\u4ef6\u540d\u6a21\u677f\uff08\u5e26\u6807\u9898\u3001\u65e5\u671f\uff09","text":"<pre><code>yt-dlp -o \"%(title)s-%(upload_date)s.%(ext)s\" https://www.youtube.com/watch?v=xxxxxxx\n</code></pre> <p>\u6587\u4ef6\u540d\u4e3a\u201c\u6807\u9898-\u4e0a\u4f20\u65e5\u671f.\u6269\u5c55\u540d\u201d</p>"},{"location":"%E8%A7%86%E9%A2%91%E6%80%BB%E7%BB%93%E6%96%B9%E6%A1%88/2.yt-dlp%E4%BD%BF%E7%94%A8/#10-500kbs","title":"10. \u9650\u5236\u4e0b\u8f7d\u901f\u5ea6\u4e3a500KB/s","text":"<pre><code>yt-dlp -r 500K https://www.youtube.com/watch?v=xxxxxxx\n</code></pre>"},{"location":"%E8%A7%86%E9%A2%91%E6%80%BB%E7%BB%93%E6%96%B9%E6%A1%88/2.yt-dlp%E4%BD%BF%E7%94%A8/#11","title":"11. \u8df3\u8fc7\u5df2\u4e0b\u8f7d\u8fc7\u7684\u89c6\u9891\uff08\u907f\u514d\u91cd\u590d\uff09","text":"<pre><code>yt-dlp --download-archive archive.txt https://www.youtube.com/playlist?list=PLxxxxxx\n</code></pre> <p><code>archive.txt</code> \u7528\u4e8e\u8bb0\u5f55\u5df2\u4e0b\u8f7d\u8fc7\u7684\u89c6\u9891ID\u3002</p>"},{"location":"%E8%A7%86%E9%A2%91%E6%80%BB%E7%BB%93%E6%96%B9%E6%A1%88/2.yt-dlp%E4%BD%BF%E7%94%A8/#12-258","title":"12. \u53ea\u4e0b\u8f7d\u67d0\u4e2a\u64ad\u653e\u5217\u8868\u4e2d\u7684\u7b2c2\u30015\u30018\u4e2a\u89c6\u9891","text":"<pre><code>yt-dlp --playlist-items 2,5,8 https://www.youtube.com/playlist?list=PLxxxxxx\n</code></pre>"},{"location":"%E8%A7%86%E9%A2%91%E6%80%BB%E7%BB%93%E6%96%B9%E6%A1%88/2.yt-dlp%E4%BD%BF%E7%94%A8/#13","title":"13. \u5e26\u8fdb\u5ea6\u6761\u663e\u793a\u4e0b\u8f7d\u8fdb\u5ea6","text":"<pre><code>yt-dlp --progress https://www.youtube.com/watch?v=xxxxxxx\n</code></pre>"},{"location":"%E8%A7%86%E9%A2%91%E6%80%BB%E7%BB%93%E6%96%B9%E6%A1%88/2.yt-dlp%E4%BD%BF%E7%94%A8/#14","title":"14. \u6a21\u62df\u4e0b\u8f7d\uff08\u4e0d\u5b9e\u9645\u4e0b\u8f7d\uff0c\u53ea\u663e\u793a\u4fe1\u606f\uff09","text":"<pre><code>yt-dlp -s https://www.youtube.com/watch?v=xxxxxxx\n</code></pre>"},{"location":"%E8%A7%86%E9%A2%91%E6%80%BB%E7%BB%93%E6%96%B9%E6%A1%88/2.yt-dlp%E4%BD%BF%E7%94%A8/#15","title":"15. \u6307\u5b9a\u4ee3\u7406\u8fdb\u884c\u4e0b\u8f7d","text":"<pre><code>yt-dlp --proxy socks5://127.0.0.1:1080 https://www.youtube.com/watch?v=xxxxxxx\n</code></pre>"},{"location":"%E8%A7%86%E9%A2%91%E6%80%BB%E7%BB%93%E6%96%B9%E6%A1%88/2.yt-dlp%E4%BD%BF%E7%94%A8/#16-b","title":"16. \u53ea\u4e0b\u8f7d\u89c6\u9891\u7684\u5f39\u5e55\uff08B\u7ad9\uff09","text":"<pre><code>yt-dlp --write-comments --skip-download https://www.bilibili.com/video/BVxxxxxx\n</code></pre>"},{"location":"%E8%A7%86%E9%A2%91%E6%80%BB%E7%BB%93%E6%96%B9%E6%A1%88/2.yt-dlp%E4%BD%BF%E7%94%A8/#17","title":"17. \u53ea\u4e0b\u8f7d\u7f29\u7565\u56fe\uff0c\u4e0d\u4e0b\u8f7d\u89c6\u9891\u672c\u4f53","text":"<pre><code>yt-dlp --write-thumbnail --skip-download https://www.youtube.com/watch?v=xxxxxxx\n</code></pre>"},{"location":"%E8%A7%86%E9%A2%91%E6%80%BB%E7%BB%93%E6%96%B9%E6%A1%88/2.yt-dlp%E4%BD%BF%E7%94%A8/#18","title":"18. \u4e0b\u8f7d\u540e\u81ea\u52a8\u5173\u673a","text":"<pre><code>yt-dlp https://www.youtube.com/watch?v=xxxxxxx &amp;&amp; shutdown -s -t 0\n</code></pre> <p>\uff08Windows\u73af\u5883\uff0cLinux\u7528 <code>poweroff</code>\uff09</p>"},{"location":"%E8%A7%86%E9%A2%91%E6%80%BB%E7%BB%93%E6%96%B9%E6%A1%88/2.yt-dlp%E4%BD%BF%E7%94%A8/#19-7","title":"19. \u6309\u4e0a\u4f20\u65e5\u671f\u4e0b\u8f7d\u6700\u8fd17\u5929\u53d1\u5e03\u7684\u89c6\u9891","text":"<pre><code>yt-dlp --dateafter now-7days https://www.youtube.com/channel/UCxxxxxx\n</code></pre>"},{"location":"%E8%A7%86%E9%A2%91%E6%80%BB%E7%BB%93%E6%96%B9%E6%A1%88/2.yt-dlp%E4%BD%BF%E7%94%A8/#20","title":"20. \u4e0b\u8f7d\u540e\u6267\u884c\u81ea\u5b9a\u4e49\u547d\u4ee4\uff08\u5982\u64ad\u653e/\u8f6c\u5b58\uff09","text":"<pre><code>yt-dlp --exec \"vlc {}\" https://www.youtube.com/watch?v=xxxxxxx\n</code></pre> <p><code>{}</code> \u4f1a\u88ab\u66ff\u6362\u4e3a\u4e0b\u8f7d\u6587\u4ef6\u540d\u3002</p>"},{"location":"%E8%A7%86%E9%A2%91%E6%80%BB%E7%BB%93%E6%96%B9%E6%A1%88/3.openai%20whisper%E5%AE%89%E8%A3%85%E5%8F%8A%E4%BD%BF%E7%94%A8/","title":"3.openai whisper\u5b89\u88c5\u53ca\u4f7f\u7528","text":""},{"location":"%E8%A7%86%E9%A2%91%E6%80%BB%E7%BB%93%E6%96%B9%E6%A1%88/3.openai%20whisper%E5%AE%89%E8%A3%85%E5%8F%8A%E4%BD%BF%E7%94%A8/#openai-whisper","title":"openai whisper\u5b89\u88c5\u53ca\u4f7f\u7528","text":"<ul> <li> <p>whisper\u662f\u4e00\u4e2a\u5c06\u97f3\u9891\u8f6c\u6587\u5b57\u7684\u6a21\u578b(\u4e2d\u6587\u8bed\u97f3\u53ef\u8f6c\u82f1\u6587\u5b57\u5e55)</p> </li> <li> <p>\u8be5\u6a21\u578b\u4f9d\u8d56ffmpeg</p> </li> </ul> <p>\u5b98\u65b9\u4f7f\u7528\u4ecb\u7ecdhttps://github.com/openai/whisper</p>"},{"location":"%E8%A7%86%E9%A2%91%E6%80%BB%E7%BB%93%E6%96%B9%E6%A1%88/3.openai%20whisper%E5%AE%89%E8%A3%85%E5%8F%8A%E4%BD%BF%E7%94%A8/#_1","title":"\u4e00\u3001\u5b89\u88c5\u65b9\u6cd5","text":""},{"location":"%E8%A7%86%E9%A2%91%E6%80%BB%E7%BB%93%E6%96%B9%E6%A1%88/3.openai%20whisper%E5%AE%89%E8%A3%85%E5%8F%8A%E4%BD%BF%E7%94%A8/#1-whisper","title":"1. \u5b89\u88c5 Whisper","text":"<p>\u63a8\u8350\u76f4\u63a5\u4f7f\u7528 pip \u5b89\u88c5\u6700\u65b0\u7248\uff1a</p> <pre><code>pip install -U openai-whisper\n</code></pre> <p>\u5982\u679c\u9700\u8981\u5b89\u88c5 GitHub \u6e90\u7801\u6700\u65b0\u7248\uff1a</p> <pre><code>pip install git+https://github.com/openai/whisper.git\n</code></pre> <p>\u5347\u7ea7\u5230\u6700\u65b0\u7248\u672c\u53ef\u4ee5\u7528\uff1a</p> <pre><code>pip install --upgrade --no-deps --force-reinstall git+https://github.com/openai/whisper.git\n</code></pre>"},{"location":"%E8%A7%86%E9%A2%91%E6%80%BB%E7%BB%93%E6%96%B9%E6%A1%88/3.openai%20whisper%E5%AE%89%E8%A3%85%E5%8F%8A%E4%BD%BF%E7%94%A8/#2","title":"2. \u5b89\u88c5\u4f9d\u8d56\u5de5\u5177","text":"<p>Whisper \u4f9d\u8d56 <code>ffmpeg</code>\uff08\u97f3\u89c6\u9891\u89e3\u7801\u5904\u7406\uff09\uff0c\u9700\u63d0\u524d\u5b89\u88c5\uff1a</p> <ul> <li>Ubuntu/Debian\uff1a</li> </ul> <pre><code>sudo apt update &amp;&amp; sudo apt install ffmpeg\n</code></pre> <ul> <li>MacOS (Homebrew)\uff1a</li> </ul> <pre><code>brew install ffmpeg\n</code></pre> <ul> <li>Windows (Chocolatey)\uff1a</li> </ul> <pre><code>choco install ffmpeg\n</code></pre> <ul> <li>Windows (Scoop)\uff1a</li> </ul> <pre><code>scoop install ffmpeg\n</code></pre>"},{"location":"%E8%A7%86%E9%A2%91%E6%80%BB%E7%BB%93%E6%96%B9%E6%A1%88/3.openai%20whisper%E5%AE%89%E8%A3%85%E5%8F%8A%E4%BD%BF%E7%94%A8/#_2","title":"\u5176\u4ed6\u4f9d\u8d56","text":"<p>\u5982\u9047\u5230\u5b89\u88c5 tiktoken \u51fa\u9519\uff0c\u53ef\u80fd\u9700\u8981\u5b89\u88c5 Rust \u5de5\u5177\u94fe\uff1a</p> <pre><code># Rust \u5b89\u88c5\u6587\u6863\uff1ahttps://www.rust-lang.org/learn/get-started\n# \u82e5\u63d0\u793a\u7f3a\u5c11 setuptools_rust:\npip install setuptools-rust\n</code></pre>"},{"location":"%E8%A7%86%E9%A2%91%E6%80%BB%E7%BB%93%E6%96%B9%E6%A1%88/3.openai%20whisper%E5%AE%89%E8%A3%85%E5%8F%8A%E4%BD%BF%E7%94%A8/#whisper","title":"\u4e8c\u3001Whisper \u6a21\u578b\u9009\u62e9","text":"<p>Whisper \u63d0\u4f9b\u591a\u79cd\u6a21\u578b\uff0c\u4f53\u79ef\u548c\u901f\u5ea6/\u51c6\u786e\u7387\u5404\u6709\u533a\u522b\uff1a</p> Size \u540d\u79f0 \u663e\u5b58\u8981\u6c42 \u901f\u5ea6\uff08\u8d8a\u5927\u8d8a\u6162\uff09 tiny tiny(.en) ~1GB \u5f88\u5feb base base(.en) ~1GB \u5feb small small(.en) ~2GB \u4e2d\u7b49 medium medium(.en) ~5GB \u6162 large large ~10GB \u6700\u6162\uff0c\u6700\u51c6\u786e turbo turbo ~6GB \u5feb\uff0c\u51c6\u786e\u7565\u4f4e\u4e8e large-v3 <p><code>.en</code> \u7ed3\u5c3e\u7684\u662f\u4ec5\u652f\u6301\u82f1\u8bed\u7684\u6a21\u578b\uff0c\u901f\u5ea6\u5feb\u3001\u51c6\u786e\u5ea6\u9ad8\u3002<code>turbo</code> \u662f\u4f18\u5316\u7248\uff0c\u901f\u5ea6\u6781\u5feb\uff0c\u51c6\u786e\u7387\u7565\u4f4e\u4e8e large-v3\u3002\u591a\u8bed\u8a00\u3001\u7ffb\u8bd1\u5efa\u8bae\u7528 large/medium/small/tiny\u3002</p>"},{"location":"%E8%A7%86%E9%A2%91%E6%80%BB%E7%BB%93%E6%96%B9%E6%A1%88/3.openai%20whisper%E5%AE%89%E8%A3%85%E5%8F%8A%E4%BD%BF%E7%94%A8/#_3","title":"\u4e09\u3001\u547d\u4ee4\u884c\u7528\u6cd5","text":""},{"location":"%E8%A7%86%E9%A2%91%E6%80%BB%E7%BB%93%E6%96%B9%E6%A1%88/3.openai%20whisper%E5%AE%89%E8%A3%85%E5%8F%8A%E4%BD%BF%E7%94%A8/#1","title":"1. \u57fa\u672c\u8bed\u97f3\u8f6c\u6587\u672c","text":"<pre><code>whisper audio.flac audio.mp3 audio.wav --model turbo\n</code></pre> <p>\u9ed8\u8ba4\u6a21\u578b\u4e3a turbo\uff0c\u9002\u5408\u82f1\u6587\u8f6c\u5f55\u3002</p>"},{"location":"%E8%A7%86%E9%A2%91%E6%80%BB%E7%BB%93%E6%96%B9%E6%A1%88/3.openai%20whisper%E5%AE%89%E8%A3%85%E5%8F%8A%E4%BD%BF%E7%94%A8/#2_1","title":"2. \u6307\u5b9a\u8bed\u8a00\u6216\u7ffb\u8bd1","text":"<ul> <li>\u7ffb\u8bd1\u975e\u82f1\u8bed\u8bed\u97f3\u4e3a\u82f1\u6587\uff08\u4f7f\u7528 large\u6a21\u578b\uff09\uff1a</li> </ul> <pre><code>whisper japanese.wav --model large --language Japanese --task translate\n</code></pre> <p>Whisper \u53ef\u4ee5\u5c06\u5927\u591a\u6570\u4e3b\u6d41\u8bed\u8a00\u7684\u8bed\u97f3\u7ffb\u8bd1\u6210\u82f1\u6587\uff0c\u4f46\u662f\u4e0d\u80fd\u5c06\u82f1\u6587\u8bed\u97f3\u7ffb\u8bd1\u6210\u5176\u4ed6\u8bed\u8a00\uff0c\u5373\uff1a</p> <ul> <li>\u201c\u4efb\u610f\u8bed\u8a00\u8bed\u97f3 \u2192 \u82f1\u6587\u6587\u672c\u201d\uff08\u652f\u6301\uff0c\u5305\u62ec\u4e2d\u6587\u8f6c\u82f1\u6587\u3001\u65e5\u6587\u8f6c\u82f1\u6587\u3001\u6cd5\u6587\u8f6c\u82f1\u6587\u7b49\u7b49\uff09</li> <li>\u201c\u82f1\u6587\u8bed\u97f3 \u2192 \u5176\u4ed6\u8bed\u8a00\u6587\u672c\u201d\uff08\u4e0d\u652f\u6301\uff01\uff09</li> </ul> <p>\u8be6\u7ec6\u8bf4\u660e</p> <p>Whisper \u7684 <code>--task translate</code> \u529f\u80fd\u53ea\u652f\u6301\u201c\u7ffb\u8bd1\u4e3a\u82f1\u6587\u201d\u3002  \u5982\u679c\u6267\u884c\u5982\u4e0b\u547d\u4ee4\uff1a</p> <pre><code>whisper input.mp4 --model large --language Chinese --task translate\n</code></pre> <p>\u4f1a\u628a\u4e2d\u6587\u8bed\u97f3\u8f6c\u6210\u82f1\u6587\u6587\u672c\u3002</p>"},{"location":"%E8%A7%86%E9%A2%91%E6%80%BB%E7%BB%93%E6%96%B9%E6%A1%88/3.openai%20whisper%E5%AE%89%E8%A3%85%E5%8F%8A%E4%BD%BF%E7%94%A8/#3","title":"3. \u67e5\u770b\u66f4\u591a\u53c2\u6570","text":"<pre><code>whisper --help\n</code></pre> <p>\u652f\u6301\u683c\u5f0f\u3001\u8f93\u51fa\u3001\u8bed\u8a00\u3001\u8bbe\u5907\u7b49\u591a\u9879\u53c2\u6570\u8bbe\u7f6e\u3002</p>"},{"location":"%E8%A7%86%E9%A2%91%E6%80%BB%E7%BB%93%E6%96%B9%E6%A1%88/3.openai%20whisper%E5%AE%89%E8%A3%85%E5%8F%8A%E4%BD%BF%E7%94%A8/#python","title":"\u56db\u3001Python \u7528\u6cd5","text":""},{"location":"%E8%A7%86%E9%A2%91%E6%80%BB%E7%BB%93%E6%96%B9%E6%A1%88/3.openai%20whisper%E5%AE%89%E8%A3%85%E5%8F%8A%E4%BD%BF%E7%94%A8/#1_1","title":"1. \u7b80\u5355\u8f6c\u5f55","text":"<pre><code>import whisper\n\nmodel = whisper.load_model(\"turbo\")\nresult = model.transcribe(\"audio.mp3\")\nprint(result[\"text\"])\n</code></pre>"},{"location":"%E8%A7%86%E9%A2%91%E6%80%BB%E7%BB%93%E6%96%B9%E6%A1%88/3.openai%20whisper%E5%AE%89%E8%A3%85%E5%8F%8A%E4%BD%BF%E7%94%A8/#2_2","title":"2. \u8fdb\u9636\u7528\u6cd5\uff1a\u68c0\u6d4b\u8bed\u8a00\u3001\u5e95\u5c42\u63a8\u7406","text":"<pre><code>import whisper\n\nmodel = whisper.load_model(\"turbo\")\n\n# \u8f7d\u5165\u5e76\u88c1\u526a\u97f3\u9891\naudio = whisper.load_audio(\"audio.mp3\")\naudio = whisper.pad_or_trim(audio)\n\n# \u8ba1\u7b97\u7279\u5f81\nmel = whisper.log_mel_spectrogram(audio, n_mels=model.dims.n_mels).to(model.device)\n\n# \u68c0\u6d4b\u8bed\u8a00\n_, probs = model.detect_language(mel)\nprint(f\"Detected language: {max(probs, key=probs.get)}\")\n\n# \u89e3\u7801\noptions = whisper.DecodingOptions()\nresult = whisper.decode(model, mel, options)\nprint(result.text)\n</code></pre>"},{"location":"%E8%A7%86%E9%A2%91%E6%80%BB%E7%BB%93%E6%96%B9%E6%A1%88/3.openai%20whisper%E5%AE%89%E8%A3%85%E5%8F%8A%E4%BD%BF%E7%94%A8/#_4","title":"\u4e94\u3001\u5f00\u6e90\u534f\u8bae","text":"<p>Whisper \u4f7f\u7528 MIT \u534f\u8bae\uff0c\u4ee3\u7801\u548c\u6a21\u578b\u6743\u91cd\u5747\u53ef\u81ea\u7531\u4f7f\u7528\u3002</p>"},{"location":"%E8%A7%86%E9%A2%91%E6%80%BB%E7%BB%93%E6%96%B9%E6%A1%88/3.openai%20whisper%E5%AE%89%E8%A3%85%E5%8F%8A%E4%BD%BF%E7%94%A8/#_5","title":"\u603b\u7ed3\u4e0e\u5efa\u8bae","text":"<ul> <li>\u5982\u679c\u662f Windows \u7528\u6237\uff0c\u5efa\u8bae\u7528 pip \u5b89\u88c5 Whisper\uff0c\u5e76\u901a\u8fc7 Chocolatey/Scoop \u5b89\u88c5 ffmpeg\u3002</li> <li>\u4f7f\u7528\u547d\u4ee4\u884c\u6216 Python \u811a\u672c\u5747\u53ef\u5feb\u901f\u5b9e\u73b0\u97f3\u9891\u8f6c\u6587\u5b57\uff0c\u652f\u6301\u591a\u8bed\u8a00\u548c\u7ffb\u8bd1\u3002</li> <li>\u6a21\u578b\u6587\u4ef6\u8f83\u5927\uff0c\u63a8\u8350\u6839\u636e\u786c\u4ef6\u9009\u62e9\u5408\u9002\u7684\u6a21\u578b\uff08\u6bd4\u5982 tiny/medium/large\uff09\u3002</li> </ul>"},{"location":"%E8%A7%86%E9%A2%91%E6%80%BB%E7%BB%93%E6%96%B9%E6%A1%88/4.deepseek_api%E4%BD%BF%E7%94%A8/","title":"4.deepseek api\u4f7f\u7528","text":""},{"location":"%E8%A7%86%E9%A2%91%E6%80%BB%E7%BB%93%E6%96%B9%E6%A1%88/4.deepseek_api%E4%BD%BF%E7%94%A8/#deepseek-api","title":"deepseek api\u4f7f\u7528","text":"<p>api\u5e73\u53f0  https://platform.deepseek.com/usage</p> <p>\u63a5\u53e3\u6587\u6863\u53c2\u8003https://api-docs.deepseek.com/zh-cn/</p> <p>\u5145\u503c\u5e76\u83b7\u53d6api keys\uff0c\u811a\u672c\u6d4b\u8bd5</p> <ul> <li>\u6b64\u811a\u672c\u53ef\u4ee5\u603b\u7ed3 input.txt \u5185\u5bb9\u5e76\u8f93\u51fa\u4e3a output.md</li> </ul> <pre><code>import sys\nsys.stdout.reconfigure(encoding='utf-8')\nfrom openai import OpenAI\n\n# \u521d\u59cb\u5316\u5ba2\u6237\u7aef\nclient = OpenAI(\n    api_key=\" \",  # \u6b64\u5904\u9700\u8981\u586b\u5165api key\n    base_url=\"https://api.deepseek.com\"\n)\n\ndef summarize_text(text):\n    response = client.chat.completions.create(\n        model=\"deepseek-chat\",\n        messages=[\n            {\"role\": \"system\", \"content\": \"\u4f60\u662f\u4e00\u4e2a\u4e13\u4e1a\u7684\u6587\u6863\u603b\u7ed3\u52a9\u624b\uff0c\u8bf7\u7528\u7b80\u6d01\u3001\u51c6\u786e\u7684\u8bed\u8a00\u603b\u7ed3\u7528\u6237\u7684\u5185\u5bb9\u3002\"},\n            {\"role\": \"user\", \"content\": f\"\u8bf7\u603b\u7ed3\u4ee5\u4e0b\u5185\u5bb9\uff1a\\n{text}\"}\n        ],\n        stream=False\n    )\n    return response.choices[0].message.content\n\ndef main():\n    # \u8bfb\u53d6 input.txt \u5185\u5bb9\n    with open(\"input.txt\", \"r\", encoding=\"utf-8\") as infile:\n        input_text = infile.read()\n\n    # \u8c03\u7528 API \u603b\u7ed3\n    summary = summarize_text(input_text)\n\n    # \u5199\u5165 output.txt\n    with open(\"output.md\", \"w\", encoding=\"utf-8\") as outfile:\n        outfile.write(summary)\n\n    print(\"\u603b\u7ed3\u5b8c\u6210\uff0c\u5df2\u5199\u5165 output.md\")\n\nif __name__ == \"__main__\":\n    main()\n</code></pre>"},{"location":"%E8%A7%86%E9%A2%91%E6%80%BB%E7%BB%93%E6%96%B9%E6%A1%88/5.markmap%E5%B7%A5%E5%85%B7markdown%E8%BD%AChtml%E6%80%9D%E7%BB%B4%E5%AF%BC%E5%9B%BE/","title":"5.markmap\u5de5\u5177markdown\u8f6chtml\u601d\u7ef4\u5bfc\u56fe","text":""},{"location":"%E8%A7%86%E9%A2%91%E6%80%BB%E7%BB%93%E6%96%B9%E6%A1%88/5.markmap%E5%B7%A5%E5%85%B7markdown%E8%BD%AChtml%E6%80%9D%E7%BB%B4%E5%AF%BC%E5%9B%BE/#markmap","title":"markmap\u5de5\u5177\u4f7f\u7528","text":"<p>\u641c\u7d22\u63d2\u4ef6markmap  vscode\u4e0a\u53ef\u4ee5\u76f4\u63a5\u770b\u6548\u679c</p> <p></p> <p>\u5b89\u88c5\u547d\u4ee4\u884c\u5de5\u5177</p> <pre><code>npm install -g markmap-cli\n</code></pre> <p>\u547d\u4ee4\u884c\u811a\u672c\u5c06markdown\u8f6c\u6362\u4e3a\u9759\u6001\u7f51\u9875html</p> <pre><code>markmap input.md\n</code></pre> <p></p> <p></p>"},{"location":"%E8%A7%86%E9%A2%91%E6%80%BB%E7%BB%93%E6%96%B9%E6%A1%88/5.markmap%E5%B7%A5%E5%85%B7markdown%E8%BD%AChtml%E6%80%9D%E7%BB%B4%E5%AF%BC%E5%9B%BE/#_1","title":"\u81ea\u5b9a\u4e49\u8f93\u51fa\u6587\u4ef6\u540d\uff08\u53ef\u9009\uff09","text":"<pre><code>markmap input.md -o my.html\n</code></pre>"},{"location":"%E8%A7%86%E9%A2%91%E6%80%BB%E7%BB%93%E6%96%B9%E6%A1%88/5.markmap%E5%B7%A5%E5%85%B7markdown%E8%BD%AChtml%E6%80%9D%E7%BB%B4%E5%AF%BC%E5%9B%BE/#_2","title":"\u6279\u91cf\u8f6c\u6362","text":"<pre><code>markmap *.md\n</code></pre>"},{"location":"%E8%A7%86%E9%A2%91%E6%80%BB%E7%BB%93%E6%96%B9%E6%A1%88/5.markmap%E5%B7%A5%E5%85%B7markdown%E8%BD%AChtml%E6%80%9D%E7%BB%B4%E5%AF%BC%E5%9B%BE/#markmap-cli","title":"markmap-cli \u529f\u80fd\u603b\u7ed3","text":"<pre><code>C:\\Users\\29955&gt;markmap --help                                                                                           \nUsage: cli [options] &lt;input&gt;                                                                                            \n\nCreate a markmap from a Markdown input file                                                                             \n\nOptions:                                                                                                                \n  -V, --version          output the version number                                                                      \n  --no-open              Do not open the output file after generation                                                   \n  --no-toolbar           Do not show toolbar                                                                            \n  -o, --output &lt;output&gt;  Specify the filename of the output HTML                                                        \n  --offline              Inline all assets to allow the generated HTML to work offline                                  \n  -w, --watch            Watch the input file and update output on the fly, note that this feature is for development   \n                         only                                                                                           \n  --port &lt;port&gt;          Set the port for the devServer to listen                                                       \n  -h, --help             display help for command \n</code></pre> \u53c2\u6570 \u4f5c\u7528\u8bf4\u660e <code>-V, --version</code> \u67e5\u770b markmap-cli \u7248\u672c\u53f7 <code>-h, --help</code> \u663e\u793a\u5e2e\u52a9\u4fe1\u606f <code>--no-open</code> \u751f\u6210 HTML \u540e\u4e0d\u81ea\u52a8\u7528\u6d4f\u89c8\u5668\u6253\u5f00\uff08\u9ed8\u8ba4\u751f\u6210\u540e\u4f1a\u81ea\u52a8\u6253\u5f00\uff09 <code>--no-toolbar</code> \u4e0d\u663e\u793a\u7f51\u9875\u53f3\u4e0a\u89d2\u7684\u5de5\u5177\u680f\uff08\u66f4\u5e72\u51c0\uff0c\u9002\u5408\u5d4c\u5165/\u6f14\u793a\u573a\u666f\uff09 <code>-o, --output &lt;\u8f93\u51fa\u540d&gt;</code> \u6307\u5b9a\u8f93\u51fa HTML \u6587\u4ef6\u540d\uff08\u9ed8\u8ba4\u548c\u8f93\u5165 md \u6587\u4ef6\u540c\u540d\uff0c\u4ec5\u591a .html \u540e\u7f00\uff09 <code>--offline</code> \u79bb\u7ebf\u6a21\u5f0f\uff0c\u5c06\u6240\u6709\u4f9d\u8d56(js/css)\u90fd\u6253\u5305\u8fdb HTML\uff0c\u7f51\u9875\u4e0d\u9700\u8981\u8054\u7f51\u5373\u53ef\u5168\u90e8\u529f\u80fd\uff08\u63a8\u8350\u957f\u671f\u4fdd\u5b58/\u5206\u4eab/\u90e8\u7f72\u573a\u666f\uff09 <code>-w, --watch</code> \u76d1\u542c\u8f93\u5165 Markdown \u6587\u4ef6\uff0c\u5185\u5bb9\u53d8\u5316\u65f6\u81ea\u52a8\u5237\u65b0 HTML\uff0c\u9002\u5408\u5199\u4f5c/\u6f14\u793a/\u76f4\u64ad\u573a\u666f <code>--port &lt;\u7aef\u53e3\u53f7&gt;</code> \u542f\u52a8\u672c\u5730\u670d\u52a1\u5668\u65f6\uff0c\u6307\u5b9a\u7aef\u53e3\uff08\u914d\u5408 --watch \u4f7f\u7528\uff09"},{"location":"%E8%A7%86%E9%A2%91%E6%80%BB%E7%BB%93%E6%96%B9%E6%A1%88/6.project_link/","title":"6.project link","text":"<p>github  \u89c6\u9891\u603b\u7ed3+\u601d\u7ef4\u5bfc\u56fe\u5448\u73b0   https://github.com/newbie-jiang/video_to_html</p> <p>\u7f51\u9875\u90e8\u7f72demo   https://hangzhang.hedejiang.top/</p>"},{"location":"%E8%A7%86%E9%A2%91%E7%BF%BB%E8%AF%91%E6%96%B9%E6%A1%88/A%E6%80%BB%E6%B5%81%E7%A8%8B/","title":"A\u603b\u6d41\u7a0b","text":""},{"location":"%E8%A7%86%E9%A2%91%E7%BF%BB%E8%AF%91%E6%96%B9%E6%A1%88/A%E6%80%BB%E6%B5%81%E7%A8%8B/#_1","title":"\u5e0c\u671b\u529f\u80fd","text":"<p>\u8f93\u5165youtube \u89c6\u9891\u94fe\u63a5\u5730\u5740\u4ee5\u53ca cookies.txt</p>"},{"location":"%E8%A7%86%E9%A2%91%E7%BF%BB%E8%AF%91%E6%96%B9%E6%A1%88/A%E6%80%BB%E6%B5%81%E7%A8%8B/#1yt-dlp","title":"1.yt-dlp \u4e0b\u8f7d\u539f\u753b\u89c6\u9891","text":""},{"location":"%E8%A7%86%E9%A2%91%E7%BF%BB%E8%AF%91%E6%96%B9%E6%A1%88/A%E6%80%BB%E6%B5%81%E7%A8%8B/#2-openai-whisper","title":"2. openai whisper \u63d0\u53d6\u5b57\u5e55","text":""},{"location":"%E8%A7%86%E9%A2%91%E7%BF%BB%E8%AF%91%E6%96%B9%E6%A1%88/A%E6%80%BB%E6%B5%81%E7%A8%8B/#3googletrans","title":"3.googletrans \u5b57\u5e55\u7ffb\u8bd1\uff08\u4ee3\u7406\uff09","text":""},{"location":"%E8%A7%86%E9%A2%91%E7%BF%BB%E8%AF%91%E6%96%B9%E6%A1%88/A%E6%80%BB%E6%B5%81%E7%A8%8B/#4gemini","title":"4.gemini \u6821\u9a8c\u5b57\u5e55 \u53ca\u4fee\u6b63\uff08\u4ee3\u7406\uff09","text":""},{"location":"%E8%A7%86%E9%A2%91%E7%BF%BB%E8%AF%91%E6%96%B9%E6%A1%88/A%E6%80%BB%E6%B5%81%E7%A8%8B/#5edg-tts","title":"5.edg TTS\u5b57\u5e55\u8f6c\u8bed\u97f3","text":""},{"location":"%E8%A7%86%E9%A2%91%E7%BF%BB%E8%AF%91%E6%96%B9%E6%A1%88/A%E6%80%BB%E6%B5%81%E7%A8%8B/#6","title":"6.\u89c6\u9891\u6587\u4ef6\u683c\u5f0f\u8f6c\u6362","text":""},{"location":"%E8%A7%86%E9%A2%91%E7%BF%BB%E8%AF%91%E6%96%B9%E6%A1%88/A%E6%80%BB%E6%B5%81%E7%A8%8B/#7","title":"7.\u8bed\u97f3\u89c6\u9891\u5408\u6210","text":""},{"location":"%E8%A7%86%E9%A2%91%E7%BF%BB%E8%AF%91%E6%96%B9%E6%A1%88/A%E6%80%BB%E6%B5%81%E7%A8%8B/#8","title":"8.\u6253\u5305\u89c6\u9891\u6587\u4ef6\u4ee5\u53ca\u5b57\u5e55\u6587\u4ef6","text":""},{"location":"%E8%A7%86%E9%A2%91%E7%BF%BB%E8%AF%91%E6%96%B9%E6%A1%88/A%E6%80%BB%E6%B5%81%E7%A8%8B/#9","title":"9.\u901a\u77e5\u5b8c\u6210\uff0c\u5ba1\u6838\uff0c\u5f00\u653e\u4e0b\u8f7d\u94fe\u63a5","text":""},{"location":"%E8%BF%85%E4%B8%BA3568/1.rk3568-sdk%20%E7%BC%96%E8%AF%91/","title":"RK3568 sdk \u7f16\u8bd1 \uff08ubuntu18\uff09","text":""},{"location":"%E8%BF%85%E4%B8%BA3568/1.rk3568-sdk%20%E7%BC%96%E8%AF%91/#rk3568-sdk-ubuntu18","title":"RK3568 sdk \u7f16\u8bd1   \uff08ubuntu18\uff09","text":""},{"location":"%E8%BF%85%E4%B8%BA3568/1.rk3568-sdk%20%E7%BC%96%E8%AF%91/#_1","title":"\u7f16\u8bd1 \uff08\u7f16\u8bd1\u4e4b\u524d\u786e\u4fdd\u4ea4\u53c9\u7f16\u8bd1\u5de5\u5177\u94fe\u548c\u4f9d\u8d56\u5e93\u6ca1\u95ee\u9898\uff09","text":"<ul> <li>\u6b64sdk\u662f\u5317\u4eac\u8fc5\u4e3a\u7535\u5b50\u5df2\u7ecf\u9002\u914d\u4e86\u6240\u6709\u9a71\u52a8\u7684\u6e90\u7801\uff0c\u73b0\u5728\u7f16\u8bd1\u51fa\u6574\u4e2a\u955c\u50cf\uff0c\u4e4b\u540e\u4f7f\u7528\u5355\u72ec\u7684kernel\u66f4\u65b0\u8fdb\u884c\u9a71\u52a8\u5f00\u53d1\uff0c\u53ea\u66f4\u65b0kernel\u5c31\u884c\uff0c\u8fd9\u6837\u53ef\u4ee5\u9a8c\u8bc1\u81ea\u5df1\u7684kernel</li> </ul> <p>01_\u3010iTOP-RK3568\u5f00\u53d1\u677f\u3011\u57fa\u7840\u8d44\u6599\\05_iTOP-RK3568\u5f00\u53d1\u677fLinux\u6e90\u7801\\01_Linux\u7cfb\u7edf\u6e90\u7801\\rk356x_linux_20250807.tar.xz</p> <pre><code># 1) \u89e3\u538b\ntar -xvf rk356x_linux_20250807.tar.xz \n</code></pre> <p>\u7f16\u8bd1\u524d\u53ef\u9009\u5c4f\u5e55\u914d\u7f6e</p> <pre><code>vim /kernel/arch/arm64/boot/dts/rockchip/topeet_screen_choose.dtsi\n</code></pre> <p></p> <p>\u5355\u72ec\u7f16\u8bd1</p> <pre><code>\u67e5\u770b\u7f16\u8bd1\u5e2e\u52a9\n./build -h\n</code></pre> <pre><code>./build.sh uboot\n./build.sh kernel\n./build.sh recovery\n\n (\u770bbuild.sh\u811a\u672c\u91cc\u6709\u6ca1\u6709\u5199\u6b7b\u7f6e\u6587\u4ef6\u8def\u5f84\uff0c\u6709\u5219\u8df3\u8fc7\u8fd9\u4e2a\u6b65\u9aa4)\n./build.sh BoardConfig-rk3568-evb1-ddr4-v10.mk \n//\u4e09\u90091\n./build.sh buildroot   ./build.sh debian  ./build.sh yocto\n</code></pre> <ul> <li>./build.sh uboot \u7f16\u8bd1\u5b8c\u6210\u540e\u751f\u6210 uboot.img \u5230 u-boot \u76ee\u5f55</li> <li>./build.sh kernel \u7f16\u8bd1\u5b8c\u6210\u540e\u6620\u50cf\u6587\u4ef6 kernel.img\u3001resource.img \u4f1a\u6253\u5305\u6210 boot.img \u653e\u5230 kernel \u76ee\u5f55</li> <li>./build.sh recovery  \u7f16\u8bd1\u5b8c\u6210\u540e\u751f\u6210recovery.img \u5230 rockdev\u76ee\u5f55</li> <li>./build.sh rootfs</li> </ul> <p></p>"},{"location":"%E8%BF%85%E4%B8%BA3568/1.rk3568-sdk%20%E7%BC%96%E8%AF%91/#buildrootupdateimg","title":"buildroot\u6253\u5305\u6210updateimg \u955c\u50cf","text":"<p>\u4e0a\u9762 Kernel/U-Boot/Recovery/Rootfs \u5404\u4e2a\u90e8\u5206\u7684\u7f16\u8bd1\u540e\uff0c\u8fdb\u5165\u5de5\u7a0b\u76ee\u5f55\u6839\u76ee\u5f55\u6267\u884c\u4ee5\u4e0b\u547d\u4ee4\u81ea\u52a8\u5b8c\u6210\u6240\u6709\u56fa\u4ef6\u6253\u5305\u5230 rockdev \u76ee\u5f55\u4e0b\u3002</p>"},{"location":"%E8%BF%85%E4%B8%BA3568/1.rk3568-sdk%20%E7%BC%96%E8%AF%91/#_2","title":"\u6253\u5305\u65b9\u6cd5\u4e00\uff1a","text":"<p>\u8f93\u5165\u4ee5\u4e0b\u547d\u4ee4\u6253\u5305\uff1a</p> <pre><code>./mkfirmware.sh\n</code></pre> <p>\u8f93\u5165\u4ee5\u4e0b\u547d\u4ee4\uff0c\u6253\u5305 update.img \u955c\u50cf\u3002</p> <pre><code>./build.sh updateimg\n</code></pre>"},{"location":"%E8%BF%85%E4%B8%BA3568/1.rk3568-sdk%20%E7%BC%96%E8%AF%91/#_3","title":"\u6253\u5305\u65b9\u6cd5\u4e8c\uff1a","text":"<p>\u4e5f\u53ef\u4ee5\u8f93\u5165\u4ee5\u4e0b\u547d\u4ee4\u6253\u5305\u6240\u6709\u542f\u52a8\u7cfb\u7edf\u9700\u8981\u7684\u955c\u50cf</p> <pre><code>./build.sh firmware\n</code></pre> <p>\u8f93\u5165\u4ee5\u4e0b\u547d\u4ee4\uff0c\u6253\u5305 update.img \u955c\u50cf\u3002\uff08\u6253\u5305\u5b8c\u6210\u4f1a\u5728 rockdev \u76ee\u5f55\u4e0b\u751f\u6210 update.img\uff09</p> <pre><code>./build.sh updateimg\n</code></pre>"},{"location":"%E8%BF%85%E4%B8%BA3568/1.rk3568-sdk%20%E7%BC%96%E8%AF%91/#_4","title":"\u5168\u81ea\u52a8\u7f16\u8bd1","text":"<p>\u8fdb\u5165\u6e90\u7801\u6839\u76ee\u5f55\u6267\u884c\u4ee5\u4e0b\u547d\u4ee4\u81ea\u52a8\u5b8c\u6210\u6240\u6709\u7684\u7f16\u8bd1\u3002\u5982\u679c\u60f3\u81ea\u52a8\u5168\u7f16\u8bd1 buildroot \u6587\u4ef6\u7cfb</p> <p>\u7edf\uff0c\u8f93\u5165\u4ee5\u4e0b\u547d\u4ee4\uff1a</p> <pre><code>export RK_ROOTFS_SYSTEM=buildroot \n./build.sh all\n./build.sh firmware\n./build.sh updateimg\n</code></pre> <p>\u8f93\u5165\u4e0a\u9762\u7684\u547d\u4ee4\u540e\uff0c\u4f1a\u81ea\u52a8\u7f16\u8bd1 uboot kernel recovery buildroot \u6253\u5305\u3002\u6253\u5305\u5b8c\u6210\u4f1a\u5728rockdev \u76ee\u5f55\u4e0b\u751f\u6210 update.img\u3002</p>"},{"location":"%E8%BF%85%E4%B8%BA3568/1.rk3568-sdk%20%E7%BC%96%E8%AF%91/#_5","title":"\u624b\u52a8\u5b89\u88c5\u4ea4\u53c9\u7f16\u8bd1\u5de5\u5177\u94fe","text":"<p>\u4e0b\u8f7d\u5de5\u5177\u94fe</p> <pre><code>wget https://releases.linaro.org/components/toolchain/binaries/6.3-2017.05/aarch64-linux-gnu/gcc-linaro-6.3.1-2017.05-x86_64_aarch64-linux-gnu.tar.xz\n</code></pre> <p>\u89e3\u538b\u5230 /opt\uff08\u63a8\u8350\u8def\u5f84\uff09</p> <pre><code>sudo mkdir -p /opt/toolchains\nsudo tar -xf gcc-linaro-6.3.1-2017.05-x86_64_aarch64-linux-gnu.tar.xz -C /opt/toolchains\n</code></pre> <p>\u89e3\u538b\u540e\u76ee\u5f55\uff1a</p> <pre><code>/opt/toolchains/gcc-linaro-6.3.1-2017.05-x86_64_aarch64-linux-gnu/\n</code></pre> <p>\u6dfb\u52a0\u5230 PATH</p> <pre><code>echo 'export PATH=/opt/toolchains/gcc-linaro-6.3.1-2017.05-x86_64_aarch64-linux-gnu/bin:$PATH' &gt;&gt; ~/.bashrc\nsource ~/.bashrc\n</code></pre> <p>\u6d4b\u8bd5</p> <pre><code>aarch64-linux-gnu-gcc -v\n</code></pre>"},{"location":"%E8%BF%85%E4%B8%BA3568/1.rk3568-sdk%20%E7%BC%96%E8%AF%91/#_6","title":"\u5b89\u88c5\u7f16\u8bd1\u4f9d\u8d56\u5e93","text":"<pre><code># 1) \u88c5 Python &amp; \u5e38\u89c1\u4f9d\u8d56\nsudo apt update\nsudo apt install -y python3 python-is-python3  # \u63d0\u4f9b /usr/bin/python -&gt; python3\nsudo apt install -y build-essential bc bison flex libssl-dev liblz4-tool expect \\\n    libncurses5-dev libelf-dev device-tree-compiler dwarves \\\n    swig python3-distutils python3-setuptools \n\nsudo apt install -y lz4\n</code></pre>"},{"location":"%E8%BF%85%E4%B8%BA3568/10.%E9%A9%B1%E5%8A%A8%E4%BC%A0%E5%8F%82%E7%90%86%E8%AE%BA/","title":"10.\u9a71\u52a8\u4f20\u53c2\u7406\u8bba","text":"<p>Linux \u9a71\u52a8\u8981\u548c\u5e94\u7528/\u5185\u6838\u5176\u4ed6\u90e8\u5206\u4ea4\u4e92\uff0c\u5e38\u5e38\u9700\u8981 \u4f20\u9012\u53c2\u6570\u3002</p> <p>\u53c2\u6570\u4f20\u9012\u6709\u51e0\u79cd\u5178\u578b\u5f62\u5f0f\uff0c\u6309 \u5185\u6838\u542f\u52a8 \u2192 \u9a71\u52a8\u52a0\u8f7d \u2192 \u8fd0\u884c\u65f6\u4ea4\u4e92 \u6765\u5206\u7c7b\u7ed9\u68b3\u7406\uff1a</p>"},{"location":"%E8%BF%85%E4%B8%BA3568/10.%E9%A9%B1%E5%8A%A8%E4%BC%A0%E5%8F%82%E7%90%86%E8%AE%BA/#1-bootargs","title":"\ud83d\udea61. \u5185\u6838\u542f\u52a8\u53c2\u6570\u4f20\u9012 (bootargs \u2192 \u9a71\u52a8)","text":"<p>\u9a71\u52a8\u53ef\u4ee5\u901a\u8fc7 \u5185\u6838\u547d\u4ee4\u884c\u53c2\u6570 \u63a5\u6536\u914d\u7f6e\u3002</p> <ul> <li>\u673a\u5236\uff1a\u5728\u9a71\u52a8\u91cc\u7528 <code>module_param()</code> \u6216 <code>__setup()</code>\u3002</li> </ul>"},{"location":"%E8%BF%85%E4%B8%BA3568/10.%E9%A9%B1%E5%8A%A8%E4%BC%A0%E5%8F%82%E7%90%86%E8%AE%BA/#module_param","title":"\u793a\u4f8b\uff1a<code>module_param</code>","text":"<pre><code>static int debug = 0;\nmodule_param(debug, int, 0644);\nMODULE_PARM_DESC(debug, \"Enable debug prints\");\n\nstatic int __init hello_init(void)\n{\n    if (debug)\n        pr_info(\"Debug mode on\\n\");\n    return 0;\n}\n</code></pre> <p>\u4f7f\u7528\uff1a</p> <pre><code>bootargs: hello.debug=1\n</code></pre>"},{"location":"%E8%BF%85%E4%B8%BA3568/10.%E9%A9%B1%E5%8A%A8%E4%BC%A0%E5%8F%82%E7%90%86%E8%AE%BA/#2-insmod-xxxko-param","title":"\ud83d\udea6 2. \u6a21\u5757\u52a0\u8f7d\u53c2\u6570\u4f20\u9012 (<code>insmod xxx.ko param=...</code>)","text":"<p>\u5f53\u9a71\u52a8\u662f \u6a21\u5757 (<code>=m</code>) \u65f6\uff0c\u53ef\u4ee5\u76f4\u63a5\u7ed9 <code>.ko</code> \u4f20\u53c2\u3002</p> <ul> <li> <p>\u5b9a\u4e49\uff1a\u540c\u6837\u7528 <code>module_param()</code> / <code>module_param_array()</code>\u3002</p> </li> <li> <p>\u65b9\u5f0f\uff1a</p> </li> </ul> <pre><code>insmod hello.ko debug=1 name=\"test\"\n</code></pre> <ul> <li>\u6548\u679c\uff1a\u5185\u6838\u8c03\u7528 <code>hello_init()</code> \u65f6\uff0c\u53c2\u6570\u5df2\u751f\u6548\u3002</li> </ul>"},{"location":"%E8%BF%85%E4%B8%BA3568/10.%E9%A9%B1%E5%8A%A8%E4%BC%A0%E5%8F%82%E7%90%86%E8%AE%BA/#3-device-tree-dt","title":"\ud83d\udea6 3. \u8bbe\u5907\u6811 (Device Tree, DT) \u53c2\u6570","text":"<p>\u5d4c\u5165\u5f0f/SoC \u4e0a\u6700\u5e38\u89c1\u3002\u9a71\u52a8\u901a\u8fc7 \u8bbe\u5907\u6811\u8282\u70b9 \u83b7\u53d6\u53c2\u6570\u3002</p>"},{"location":"%E8%BF%85%E4%B8%BA3568/10.%E9%A9%B1%E5%8A%A8%E4%BC%A0%E5%8F%82%E7%90%86%E8%AE%BA/#_1","title":"\u793a\u4f8b","text":"<pre><code>hello@0 {\n    compatible = \"myvendor,hello\";\n    reg = &lt;0x1000 0x100&gt;;\n    debug-level = &lt;2&gt;;\n    name = \"dev-hello\";\n};\n</code></pre>"},{"location":"%E8%BF%85%E4%B8%BA3568/10.%E9%A9%B1%E5%8A%A8%E4%BC%A0%E5%8F%82%E7%90%86%E8%AE%BA/#_2","title":"\u9a71\u52a8\u91cc\u89e3\u6790","text":"<pre><code>static int hello_probe(struct platform_device *pdev)\n{\n    struct device_node *np = pdev-&gt;dev.of_node;\n    u32 dbg;\n    const char *name;\n\n    of_property_read_u32(np, \"debug-level\", &amp;dbg);\n    of_property_read_string(np, \"name\", &amp;name);\n\n    pr_info(\"debug=%u name=%s\\n\", dbg, name);\n    return 0;\n}\n</code></pre>"},{"location":"%E8%BF%85%E4%B8%BA3568/10.%E9%A9%B1%E5%8A%A8%E4%BC%A0%E5%8F%82%E7%90%86%E8%AE%BA/#4-api-sysfs-procfs","title":"\ud83d\udea6 4. \u5185\u6838 API / Sysfs / Procfs","text":"<p>\u9a71\u52a8\u8fd0\u884c\u540e\uff0c\u53ef\u4ee5\u901a\u8fc7 \u6587\u4ef6\u7cfb\u7edf\u63a5\u53e3 \u8ba9\u7528\u6237\u6001\u4f20\u53c2\u3002</p>"},{"location":"%E8%BF%85%E4%B8%BA3568/10.%E9%A9%B1%E5%8A%A8%E4%BC%A0%E5%8F%82%E7%90%86%E8%AE%BA/#sysfs","title":"sysfs \u5c5e\u6027","text":"<pre><code>static ssize_t hello_show(struct device *dev,\n                          struct device_attribute *attr, char *buf)\n{\n    return sprintf(buf, \"%d\\n\", debug);\n}\n\nstatic ssize_t hello_store(struct device *dev,\n                           struct device_attribute *attr,\n                           const char *buf, size_t count)\n{\n    sscanf(buf, \"%d\", &amp;debug);\n    return count;\n}\nstatic DEVICE_ATTR_RW(hello);\n</code></pre> <p>\u7528\u6237\u6001\uff1a</p> <pre><code>echo 1 &gt; /sys/devices/platform/hello/hello\ncat /sys/devices/platform/hello/hello\n</code></pre>"},{"location":"%E8%BF%85%E4%B8%BA3568/10.%E9%A9%B1%E5%8A%A8%E4%BC%A0%E5%8F%82%E7%90%86%E8%AE%BA/#procfs-debugfs","title":"procfs / debugfs","text":"<p>\u4e00\u4e9b\u9a71\u52a8\u4f1a\u66b4\u9732 <code>/proc/driver/hello</code> \u6216 <code>/sys/kernel/debug/hello</code> \u6765\u4ea4\u4e92\u3002</p>"},{"location":"%E8%BF%85%E4%B8%BA3568/10.%E9%A9%B1%E5%8A%A8%E4%BC%A0%E5%8F%82%E7%90%86%E8%AE%BA/#5-ioctl","title":"\ud83d\udea6 5. IOCTL / \u7528\u6237\u7a7a\u95f4\u8c03\u7528","text":"<p>\u9a71\u52a8\u63d0\u4f9b \u5b57\u7b26\u8bbe\u5907\u8282\u70b9\uff0c\u901a\u8fc7 <code>ioctl()</code> \u4e0e\u5e94\u7528\u7a0b\u5e8f\u4ea4\u4e92\uff0c\u4f20\u9012\u590d\u6742\u53c2\u6570\u3002</p> <p>\u9a71\u52a8\uff1a</p> <pre><code>#define HELLO_SET_PARAM  _IOW('h', 1, int)\nstatic long hello_ioctl(struct file *f, unsigned int cmd, unsigned long arg)\n{\n    int val;\n    switch(cmd) {\n    case HELLO_SET_PARAM:\n        if (copy_from_user(&amp;val, (int __user *)arg, sizeof(val)))\n            return -EFAULT;\n        debug = val;\n        return 0;\n    }\n    return -ENOTTY;\n}\n</code></pre> <p>\u5e94\u7528\uff1a</p> <pre><code>int val = 5;\nioctl(fd, HELLO_SET_PARAM, &amp;val);\n</code></pre>"},{"location":"%E8%BF%85%E4%B8%BA3568/10.%E9%A9%B1%E5%8A%A8%E4%BC%A0%E5%8F%82%E7%90%86%E8%AE%BA/#linux","title":"\ud83d\udccc \u603b\u7ed3\uff1aLinux \u9a71\u52a8\u4f20\u53c2\u5e38\u89c1\u65b9\u5f0f","text":"\u65b9\u5f0f \u9002\u7528\u573a\u666f \u7279\u70b9 module_param \u5185\u6838\u542f\u52a8 / insmod \u9002\u5408\u7b80\u5355\u5e03\u5c14/\u6570\u503c/\u5b57\u7b26\u4e32\u53c2\u6570 \u8bbe\u5907\u6811 (DT) \u5d4c\u5165\u5f0f/SoC \u4e3b\u6d41\uff0c\u786c\u4ef6\u76f8\u5173\u53c2\u6570\u63cf\u8ff0 sysfs/procfs/debugfs \u8fd0\u884c\u65f6\u4fee\u6539 \u53c2\u6570\u53ef\u52a8\u6001\u8c03\u6574 ioctl \u7528\u6237\u7a0b\u5e8f\u4ea4\u4e92 \u590d\u6742\u6307\u4ee4/\u7ed3\u6784\u4f53\u4f20\u9012 \u5e73\u53f0\u6570\u636e \u8001\u5f0f\u677f\u7ea7\u6587\u4ef6 \u73b0\u5728\u5df2\u5c11\u7528 <p>\u2705 \u4e00\u53e5\u8bdd\u603b\u7ed3\uff1a</p> <ul> <li>\u7f16\u8bd1/\u542f\u52a8\u65f6\uff1a<code>bootargs</code>\u3001<code>module_param</code></li> <li>\u786c\u4ef6\u63cf\u8ff0\uff1a\u8bbe\u5907\u6811 (DT)</li> <li>\u8fd0\u884c\u65f6\u52a8\u6001\u4fee\u6539\uff1asysfs/procfs/debugfs/ioctl</li> </ul>"},{"location":"%E8%BF%85%E4%B8%BA3568/11.%E5%86%85%E6%A0%B8%E5%90%AF%E5%8A%A8%E5%8F%82%E6%95%B0%E4%BC%A0%E9%80%92/","title":"\u6a21\u5757\u52a0\u8f7d\u53c2\u6570\u4f20\u9012","text":""},{"location":"%E8%BF%85%E4%B8%BA3568/11.%E5%86%85%E6%A0%B8%E5%90%AF%E5%8A%A8%E5%8F%82%E6%95%B0%E4%BC%A0%E9%80%92/#_1","title":"\u6a21\u5757\u52a0\u8f7d\u53c2\u6570\u4f20\u9012","text":"<ul> <li>\u9996\u5148\u7406\u89e3\u6982\u5ff5  \u4ec0\u4e48\u662f\u5185\u6838\u542f\u52a8\u53c2\u6570\u4f20\u9012\uff08bootargs\uff09\uff1f \u5f53 Linux \u5185\u6838\u542f\u52a8\u65f6\uff0cbootloader\uff08\u5982 U-Boot\u3001GRUB\uff09\u4f1a\u628a\u4e00\u4e32\u5b57\u7b26\u4e32\u4f20\u7ed9\u5185\u6838</li> </ul> <p>Linux \u9a71\u52a8\u65e2\u53ef\u4ee5\uff1a</p> <ul> <li>\u5185\u7f6e\u8fdb\u5185\u6838\uff08built-in, <code>y</code>\uff09\uff0c\u53c2\u6570\u4ece bootargs \u4f20\u5165\u3002</li> <li>\u4f5c\u4e3a\u6a21\u5757\u52a0\u8f7d\uff08<code>m</code>\uff0c\u5373 <code>.ko</code> \u6587\u4ef6\uff09\uff0c\u53c2\u6570\u901a\u8fc7 insmod/modprobe \u4f20\u5165\u3002</li> </ul> <p>\u4eca\u5929\u8bf4\u7684\u5c31\u662f \u7b2c\u4e8c\u79cd\uff1a\u6a21\u5757\u52a0\u8f7d\u53c2\u6570\u3002</p> <p>\u4e0b\u9762\u628a Linux \u5185\u6838\u91cc\u7528\u4e8e\u201c\u6a21\u5757\u53c2\u6570\u4f20\u9012\u201d\u7684\u5b8f\u7cfb\u7edf\u5730\u68b3\u7406\u4e00\u904d\uff1a\u7528\u9014\u3001\u539f\u578b\u3001\u5e38\u89c1\u7c7b\u578b\u3001<code>sysfs</code> \u884c\u4e3a\u3001\u793a\u4f8b\u4e0e\u6ce8\u610f\u4e8b\u9879\uff0c\u4e00\u770b\u5c31\u4f1a\u7528\u3002</p>"},{"location":"%E8%BF%85%E4%B8%BA3568/11.%E5%86%85%E6%A0%B8%E5%90%AF%E5%8A%A8%E5%8F%82%E6%95%B0%E4%BC%A0%E9%80%92/#_2","title":"\u4e00\u3001\u6700\u5e38\u7528\u7684\u5b8f","text":""},{"location":"%E8%BF%85%E4%B8%BA3568/11.%E5%86%85%E6%A0%B8%E5%90%AF%E5%8A%A8%E5%8F%82%E6%95%B0%E4%BC%A0%E9%80%92/#1-module_paramname-type-perm","title":"1) <code>module_param(name, type, perm)</code>","text":"<ul> <li> <p>\u4f5c\u7528\uff1a\u628a\u4e00\u4e2a\u5168\u5c40\u53d8\u91cf\u66b4\u9732\u4e3a\u6a21\u5757\u53c2\u6570\uff0c\u540d\u5b57\u4e0e\u53d8\u91cf\u540c\u540d\u3002</p> </li> <li> <p>\u539f\u578b\uff1a<code>module_param(name, type, perm)</code></p> </li> <li> <p>\u793a\u4f8b</p> </li> </ul> <pre><code>static int debug = 0;\nmodule_param(debug, int, 0644);        // /sys/module/&lt;mod&gt;/parameters/debug\nMODULE_PARM_DESC(debug, \"Enable debug\");\n</code></pre> <ul> <li>\u52a0\u8f7d\u4f20\u53c2</li> </ul> <pre><code>insmod hello.ko debug=1\n# \u6216\uff08\u5185\u7f6e y \u65f6\uff09\n... bootargs: hello.debug=1\n</code></pre>"},{"location":"%E8%BF%85%E4%B8%BA3568/11.%E5%86%85%E6%A0%B8%E5%90%AF%E5%8A%A8%E5%8F%82%E6%95%B0%E4%BC%A0%E9%80%92/#2-module_param_namedparam_name-var-type-perm","title":"2) <code>module_param_named(param_name, var, type, perm)</code>","text":"<ul> <li> <p>\u4f5c\u7528\uff1a\u5bf9\u5916\u53c2\u6570\u540d\u4e0e\u5185\u90e8\u53d8\u91cf\u540d\u4e0d\u540c\u3002</p> </li> <li> <p>\u539f\u578b\uff1a<code>module_param_named(name, variable, type, perm)</code></p> </li> <li> <p>\u793a\u4f8b</p> </li> </ul> <pre><code>static int loglevel = 3;\nmodule_param_named(debug, loglevel, int, 0644); // \u53c2\u6570\u540d=debug\uff0c\u53d8\u91cf=loglevel\n</code></pre>"},{"location":"%E8%BF%85%E4%B8%BA3568/11.%E5%86%85%E6%A0%B8%E5%90%AF%E5%8A%A8%E5%8F%82%E6%95%B0%E4%BC%A0%E9%80%92/#3-module_param_arrayname-type-nump-perm","title":"3) <code>module_param_array(name, type, nump, perm)</code>","text":"<ul> <li> <p>\u4f5c\u7528\uff1a\u5bfc\u51fa\u4e00\u4e2a \u52a8\u6001\u957f\u5ea6\u6570\u7ec4 \u53c2\u6570\u3002</p> </li> <li> <p>\u539f\u578b\uff1a<code>module_param_array(name, type, nump, perm)</code>\uff08<code>nump</code> \u4e3a int \u6307\u9488\uff0c\u8fd4\u56de\u5b9e\u9645\u8bbe\u7f6e\u7684\u5143\u7d20\u4e2a\u6570\uff0c\u53ef\u4e3a NULL\uff09</p> </li> <li> <p>\u793a\u4f8b</p> </li> </ul> <pre><code>static int values[8] = {0};\nstatic int nset;\nmodule_param_array(values, int, &amp;nset, 0644);\n/* insmod hello.ko values=10,20,30   -&gt; nset=3 */\n</code></pre>"},{"location":"%E8%BF%85%E4%B8%BA3568/11.%E5%86%85%E6%A0%B8%E5%90%AF%E5%8A%A8%E5%8F%82%E6%95%B0%E4%BC%A0%E9%80%92/#4-module_param_array_namedparam_name-array-type-nump-perm","title":"4) <code>module_param_array_named(param_name, array, type, nump, perm)</code>","text":"<ul> <li> <p>\u4f5c\u7528\uff1a\u6570\u7ec4\u53c2\u6570 + \u81ea\u5b9a\u4e49\u5916\u90e8\u540d\u5b57\u3002</p> </li> <li> <p>\u793a\u4f8b</p> </li> </ul> <pre><code>static int chans[4];\nmodule_param_array_named(channel, chans, int, NULL, 0444);\n/* insmod hello.ko channel=1,6,11 */\n</code></pre>"},{"location":"%E8%BF%85%E4%B8%BA3568/11.%E5%86%85%E6%A0%B8%E5%90%AF%E5%8A%A8%E5%8F%82%E6%95%B0%E4%BC%A0%E9%80%92/#5-module_param_stringname-string-len-perm","title":"5) <code>module_param_string(name, string, len, perm)</code>","text":"<ul> <li> <p>\u4f5c\u7528\uff1a\u66b4\u9732\u4e00\u4e2a \u5b9a\u957f\u5b57\u7b26\u6570\u7ec4\uff08\u4e0d\u662f <code>char *</code> \u6307\u9488\uff09\u3002</p> </li> <li> <p>\u539f\u578b\uff1a<code>module_param_string(name, string, len, perm)</code></p> </li> <li> <p>\u793a\u4f8b</p> </li> </ul> <pre><code>static char devname[32] = \"hello0\";\nmodule_param_string(name, devname, sizeof(devname), 0644);\n/* insmod hello.ko name=mydev */\n</code></pre>"},{"location":"%E8%BF%85%E4%B8%BA3568/11.%E5%86%85%E6%A0%B8%E5%90%AF%E5%8A%A8%E5%8F%82%E6%95%B0%E4%BC%A0%E9%80%92/#6-module_param_cbname-ops-arg-perm","title":"6) <code>module_param_cb(name, &amp;ops, arg, perm)</code>","text":"<ul> <li> <p>\u4f5c\u7528\uff1a\u81ea\u5b9a\u4e49 \u89e3\u6790(set)/\u663e\u793a(get) \u884c\u4e3a\uff0c\u9002\u5408\u590d\u6742\u7c7b\u578b\u6216\u6821\u9a8c\u3002</p> </li> <li> <p>\u539f\u578b\uff1a<code>module_param_cb(name, struct kernel_param_ops *ops, void *arg, umode_t perm)</code></p> </li> <li> <p><code>kernel_param_ops</code></p> </li> </ul> <pre><code>static int my_set(const char *val, const struct kernel_param *kp)\n{ /* \u89e3\u6790\u7528\u6237\u5b57\u7b26\u4e32 val\uff0c\u5199\u5165 kp-&gt;arg */ return 0; }\n\nstatic int my_get(char *buf, const struct kernel_param *kp)\n{ /* \u628a kp-&gt;arg \u8f6c\u6210\u5b57\u7b26\u4e32\u5199\u5165 buf */ return scnprintf(buf, PAGE_SIZE, \"...\"); }\n\nstatic const struct kernel_param_ops my_ops = { .set = my_set, .get = my_get };\nstatic int my_val;\nmodule_param_cb(myparam, &amp;my_ops, &amp;my_val, 0644);\n</code></pre>"},{"location":"%E8%BF%85%E4%B8%BA3568/11.%E5%86%85%E6%A0%B8%E5%90%AF%E5%8A%A8%E5%8F%82%E6%95%B0%E4%BC%A0%E9%80%92/#7-module_parm_descname-description","title":"7) <code>MODULE_PARM_DESC(name, \"description\")</code>","text":"<ul> <li> <p>\u4f5c\u7528\uff1a\u7ed9\u53c2\u6570\u52a0\u8bf4\u660e\uff0c<code>modinfo xxx.ko</code> \u65f6\u53ef\u89c1\uff0c\u4e5f\u5e38\u88ab\u6587\u6863\u5de5\u5177\u6293\u53d6\u3002</p> </li> <li> <p>\u793a\u4f8b</p> </li> </ul> <pre><code>MODULE_PARM_DESC(values, \"List of channel values\");\n</code></pre>"},{"location":"%E8%BF%85%E4%B8%BA3568/11.%E5%86%85%E6%A0%B8%E5%90%AF%E5%8A%A8%E5%8F%82%E6%95%B0%E4%BC%A0%E9%80%92/#type","title":"\u4e8c\u3001\u53ef\u7528 \u7c7b\u578b \u901f\u67e5\uff08<code>type</code> \u53d6\u503c\uff09","text":"<p>\u5e38\u89c1\u6807\u8bc6\uff08\u7531\u5185\u6838\u5185\u7f6e\u7684 <code>param_ops_*</code> \u652f\u6301\uff09\uff1a</p> <ul> <li>\u6574\u6570\u7c7b\uff1a<code>byte</code>\u3001<code>short</code>\u3001<code>ushort</code>\u3001<code>int</code>\u3001<code>uint</code>\u3001<code>long</code>\u3001<code>ulong</code>\u3001<code>s64</code>\u3001<code>u64</code></li> <li>\u5e03\u5c14\u7c7b\uff1a<code>bool</code>\uff08true/false/1/0\uff09\u3001<code>invbool</code>\uff08\u53d6\u53cd\u8bed\u4e49\uff09</li> <li>\u5b57\u7b26\u4e32\uff1a<code>charp</code>\uff08<code>char *</code> \u6307\u9488\uff1b\u6ce8\u610f\u751f\u547d\u5468\u671f\uff09\u3001<code>module_param_string</code>\uff08\u5b9a\u957f\u6570\u7ec4\uff09</li> </ul> <p>\u5c0f\u8d34\u58eb</p> <ul> <li>\u5e03\u5c14\u7684 <code>invbool</code> \u5e38\u7528\u4e8e\u201c\u7981\u7528\u5f00\u5173\u201d\uff1a<code>insmod foo.ko nofeature=1</code> \u5b9e\u9645\u7f6e false\u3002</li> <li>64 \u4f4d\u7c7b\u578b\u5728\u8f83\u65b0\u5185\u6838\u91cc\u6709 <code>s64/u64</code>\uff0c\u8001\u5185\u6838\u91cc\u4e5f\u5e38\u89c1 <code>ullong/ulonglong</code>\u3002</li> </ul>"},{"location":"%E8%BF%85%E4%B8%BA3568/11.%E5%86%85%E6%A0%B8%E5%90%AF%E5%8A%A8%E5%8F%82%E6%95%B0%E4%BC%A0%E9%80%92/#perm","title":"\u4e09\u3001<code>perm</code> \u6743\u9650\u5b57\u6bb5\u7684\u610f\u4e49","text":"<ul> <li>\u662f\u521b\u5efa sysfs \u8282\u70b9 <code>/sys/module/&lt;mod&gt;/parameters/&lt;param&gt;</code> \u7684 \u6743\u9650\u4f4d\uff08<code>0444</code> \u53ea\u8bfb\uff0c<code>0644</code> \u53ef\u5199\uff09\u3002</li> <li>\u4f20 <code>0</code> \u8868\u793a \u4e0d\u5bfc\u51fa\u5230 sysfs\uff08\u4ecd\u53ef\u901a\u8fc7 <code>insmod</code>/<code>bootargs</code> \u8bbe\u7f6e\uff09\u3002</li> <li>\u8fd9\u4e9b\u6743\u9650\u53ef\u80fd\u53d7\u5185\u6838\u7684\u5b89\u5168\u7b56\u7565/\u53ea\u8bfb\u6587\u4ef6\u7cfb\u7edf\u9650\u5236\uff1b\u5199\u5931\u8d25\u4f1a\u8fd4\u56de <code>-EPERM</code>\u3002</li> </ul>"},{"location":"%E8%BF%85%E4%B8%BA3568/11.%E5%86%85%E6%A0%B8%E5%90%AF%E5%8A%A8%E5%8F%82%E6%95%B0%E4%BC%A0%E9%80%92/#y-m","title":"\u56db\u3001\u5185\u7f6e(y) \u4e0e \u6a21\u5757(m) \u7684\u5dee\u5f02","text":"\u5f62\u5f0f \u4f20\u53c2\u5165\u53e3 \u751f\u6548\u65f6\u673a sysfs \u8def\u5f84 \u5185\u7f6e (y) <code>bootargs</code>: <code>&lt;modname&gt;.&lt;param&gt;=...</code> \u542f\u52a8\u65e9\u671f <code>/sys/module/&lt;modname&gt;/parameters/...</code>\uff08\u5927\u591a\u53ef\u89c1\uff09 \u6a21\u5757 (m) <code>insmod/modprobe</code>: <code>param=...</code> \u52a0\u8f7d\u77ac\u95f4 \u540c\u4e0a <p>\u540d\u5b57\u89c4\u5219\uff1a<code>module_param</code> \u5bfc\u51fa\u7684\u53c2\u6570\uff0c\u5728 \u5185\u7f6e \u573a\u666f\u4e0b\u9700\u8981\u524d\u7f00\u6a21\u5757\u540d\uff1a<code>&lt;\u6a21\u5757\u540d&gt;.&lt;\u53c2\u6570&gt;</code> \u624d\u80fd\u4ece\u547d\u4ee4\u884c\u5339\u914d\uff1b\u5982\u679c\u4f60\u60f3\u4e0d\u5e26\u6a21\u5757\u540d\u524d\u7f00\u7684\u201c\u5168\u5c40\u53c2\u6570\u201d\uff0c\u8bf7\u770b\u4e0b\u9762\u7684 <code>core_param</code>\u3002</p>"},{"location":"%E8%BF%85%E4%B8%BA3568/11.%E5%86%85%E6%A0%B8%E5%90%AF%E5%8A%A8%E5%8F%82%E6%95%B0%E4%BC%A0%E9%80%92/#_3","title":"\u4e94\u3001\u8fdb\u9636\uff1a\u5185\u6838\u201c\u6838\u5fc3\u53c2\u6570\u201d\uff08\u975e\u5fc5\u987b\uff09","text":""},{"location":"%E8%BF%85%E4%B8%BA3568/11.%E5%86%85%E6%A0%B8%E5%90%AF%E5%8A%A8%E5%8F%82%E6%95%B0%E4%BC%A0%E9%80%92/#core_paramname-var-type-perm","title":"<code>core_param(name, var, type, perm)</code>","text":"<ul> <li> <p>\u4f5c\u7528\uff1a\u6ce8\u518c\u4e00\u4e2a \u4e0d\u5e26\u6a21\u5757\u540d\u524d\u7f00 \u7684\u53c2\u6570\uff08\u66f4\u201c\u5168\u5c40\u201d\uff09\uff0c\u5e38\u7528\u4e8e\u5185\u6838\u6838\u5fc3/\u5b50\u7cfb\u7edf\u4ee3\u7801\u3002</p> </li> <li> <p>\u793a\u4f8b</p> </li> </ul> <pre><code>static int panic_timeout = 0;\ncore_param(panic, panic_timeout, int, 0644);\n/* bootargs: panic=10  // \u65e0\u9700 &lt;mod&gt;.panic=10 */\n</code></pre> <ul> <li>\u6ce8\u610f\uff1a\u907f\u514d\u4e0e\u5176\u4ed6\u540d\u5b57\u51b2\u7a81\uff1b\u666e\u901a\u9a71\u52a8\u66f4\u63a8\u8350 <code>module_param</code> \u8def\u7ebf\u3002</li> </ul>"},{"location":"%E8%BF%85%E4%B8%BA3568/11.%E5%86%85%E6%A0%B8%E5%90%AF%E5%8A%A8%E5%8F%82%E6%95%B0%E4%BC%A0%E9%80%92/#_4","title":"\u516d\u3001\u5e38\u89c1\u7528\u6cd5\u6a21\u5f0f\u6e05\u5355","text":"<ol> <li>\u7b80\u5355\u5f00\u5173 / \u6570\u503c</li> </ol> <pre><code>static bool enable;\nstatic int level = 3;\nmodule_param(enable, bool, 0644);\nmodule_param(level, int, 0644);\n</code></pre> <ol> <li>\u6570\u7ec4</li> </ol> <pre><code>static u32 coeffs[4] = {1,2,3,4};\nstatic int n;\nmodule_param_array(coeffs, uint, &amp;n, 0644);\n</code></pre> <ol> <li>\u91cd\u547d\u540d</li> </ol> <pre><code>static int timeout_ms = 1000;\nmodule_param_named(timeout, timeout_ms, int, 0644);\n</code></pre> <ol> <li>\u5b57\u7b26\u4e32\uff08\u6307\u9488 vs \u5b9a\u957f\uff09</li> </ol> <pre><code>static char *name = \"eth0\";                    // \u6307\u9488\nmodule_param(name, charp, 0644);\n\nstatic char ifname[16] = \"eth0\";               // \u5b9a\u957f\u6570\u7ec4\nmodule_param_string(ifname, ifname, sizeof(ifname), 0644);\n</code></pre> <ol> <li>\u81ea\u5b9a\u4e49\u89e3\u6790\uff08\u5408\u6cd5\u6027\u68c0\u67e5\u3001\u590d\u5408\u7ed3\u6784\uff09</li> </ol> <pre><code>static int ratio;\nstatic int ratio_set(const char *val, const struct kernel_param *kp)\n{\n    int v; if (kstrtoint(val, 10, &amp;v) || v &lt; 0 || v &gt; 100) return -EINVAL;\n    *(int *)kp-&gt;arg = v; return 0;\n}\nstatic int ratio_get(char *buf, const struct kernel_param *kp)\n{ return scnprintf(buf, PAGE_SIZE, \"%d\\n\", *(int *)kp-&gt;arg); }\nstatic const struct kernel_param_ops ratio_ops = { .set = ratio_set, .get = ratio_get };\nmodule_param_cb(ratio, &amp;ratio_ops, &amp;ratio, 0644);\n</code></pre>"},{"location":"%E8%BF%85%E4%B8%BA3568/11.%E5%86%85%E6%A0%B8%E5%90%AF%E5%8A%A8%E5%8F%82%E6%95%B0%E4%BC%A0%E9%80%92/#_5","title":"\u4e03\u3001\u6392\u9519\u4e0e\u6280\u5de7","text":"<ul> <li><code>modinfo foo.ko</code>\uff1a\u67e5\u770b\u53c2\u6570\u4e0e <code>MODULE_PARM_DESC</code> \u63cf\u8ff0\u3001\u7c7b\u578b\u3002</li> <li><code>/sys/module/&lt;mod&gt;/parameters/\\*</code>\uff1a\u5728\u7ebf\u67e5\u770b/\u4fee\u6539\uff08\u82e5\u6743\u9650\u5141\u8bb8\uff09\u3002</li> <li>\u5185\u7f6e\u9a71\u52a8\u53c2\u6570\u4e0d\u751f\u6548\uff1a\u68c0\u67e5 \u547d\u4ee4\u884c\u662f\u5426\u5e26\u4e86\u6a21\u5757\u540d\u524d\u7f00\uff1a<code>&lt;mod&gt;.&lt;param&gt;=...</code>\u3002</li> <li>\u5b57\u7b26\u4e32\u6307\u9488 <code>charp</code> \u7684\u751f\u547d\u5468\u671f\uff1a\u5185\u6838\u4f1a\u628a\u7528\u6237\u4f20\u5165\u503c\u590d\u5236\u5230\u4e13\u7528\u533a\u57df\uff0c\u907f\u514d\u60ac\u6302\u6307\u9488\uff1b\u4f46\u4f60\u81ea\u5df1\u5206\u914d/\u5f15\u7528\u65f6\u4ecd\u9700\u6ce8\u610f\u3002</li> <li>\u6743\u9650\u65e0\u6548\uff1a\u786e\u4fdd\u4f7f\u7528\u516b\u8fdb\u5236\uff08\u5982 <code>0644</code>\uff09\uff0c\u5e76\u68c0\u67e5\u7cfb\u7edf\u662f\u5426\u542f\u7528\u4e86\u9650\u5236\uff08SELinux\u3001\u53ea\u8bfb sysfs\uff09\u3002</li> <li>\u6570\u7ec4\u4e2a\u6570\u7edf\u8ba1\uff1a<code>nump</code> \u53ef\u4e3a NULL\uff1b\u82e5\u9700\u8981\u77e5\u9053\u7528\u6237\u771f\u6b63\u8bbe\u7f6e\u4e86\u591a\u5c11\u5143\u7d20\uff0c\u5c31\u4f20\u5165 <code>&amp;nset</code>\u3002</li> </ul>"},{"location":"%E8%BF%85%E4%B8%BA3568/11.%E5%86%85%E6%A0%B8%E5%90%AF%E5%8A%A8%E5%8F%82%E6%95%B0%E4%BC%A0%E9%80%92/#_6","title":"\u516b\u3001\u5bf9\u6bd4\u4e00\u89c8\uff08\u8be5\u7528\u54ea\u4e2a\uff1f\uff09","text":"\u9700\u6c42 \u63a8\u8350\u5b8f \u7b80\u5355\u6807\u91cf\uff08int/bool/\u2026\uff09 <code>module_param</code> \u9700\u8981\u81ea\u5b9a\u4e49\u5bf9\u5916\u540d\u5b57 <code>module_param_named</code> \u5217\u8868/\u6570\u7ec4 <code>module_param_array</code> / <code>module_param_array_named</code> \u5b9a\u957f\u5b57\u7b26\u4e32\u7f13\u51b2 <code>module_param_string</code> \u590d\u6742\u89e3\u6790/\u6821\u9a8c/\u7ed3\u6784\u4f53 <code>module_param_cb</code> \u5168\u5c40\u65e0\u524d\u7f00\uff08\u5185\u6838/\u5b50\u7cfb\u7edf\u7ea7\uff09 <code>core_param</code>\uff08\u614e\u7528\uff09 \u589e\u52a0\u8bf4\u660e\u6587\u672c <code>MODULE_PARM_DESC</code>"},{"location":"%E8%BF%85%E4%B8%BA3568/11.%E5%86%85%E6%A0%B8%E5%90%AF%E5%8A%A8%E5%8F%82%E6%95%B0%E4%BC%A0%E9%80%92/#_7","title":"\u793a\u4f8b","text":"<pre><code>drivers/hello_params/\n\u251c\u2500\u2500 Kconfig\n\u251c\u2500\u2500 Makefile\n\u2514\u2500\u2500 hello_params.c\n</code></pre>"},{"location":"%E8%BF%85%E4%B8%BA3568/11.%E5%86%85%E6%A0%B8%E5%90%AF%E5%8A%A8%E5%8F%82%E6%95%B0%E4%BC%A0%E9%80%92/#kconfig","title":"Kconfig","text":"<pre><code># drivers/char/hello_params/Kconfig\n# SPDX-License-Identifier: GPL-2.0\n\nmenu \"Hello Params Demo\"\n\nconfig HELLO_PARAMS\n    tristate \"Hello params driver (full parameter demo)\"\n    default M\n    help\n      A demo driver that showcases common module parameter macros:\n      - module_param / _named / _array / _array_named / _string / _cb\n      - MODULE_PARM_DESC\n      - (plus one core_param example for built-in kernels)\n\nendmenu\n</code></pre>"},{"location":"%E8%BF%85%E4%B8%BA3568/11.%E5%86%85%E6%A0%B8%E5%90%AF%E5%8A%A8%E5%8F%82%E6%95%B0%E4%BC%A0%E9%80%92/#makefile","title":"Makefile","text":"<pre><code>obj-$(CONFIG_HELLO_PARAMS) += hello_params.o\n</code></pre>"},{"location":"%E8%BF%85%E4%B8%BA3568/11.%E5%86%85%E6%A0%B8%E5%90%AF%E5%8A%A8%E5%8F%82%E6%95%B0%E4%BC%A0%E9%80%92/#hello_paramsc","title":"hello_params.c","text":"<pre><code>// SPDX-License-Identifier: GPL-2.0\n#include &lt;linux/init.h&gt;\n#include &lt;linux/module.h&gt;\n#include &lt;linux/moduleparam.h&gt;\n#include &lt;linux/kernel.h&gt;\n#include &lt;linux/printk.h&gt;\n#include &lt;linux/string.h&gt;\n\nMODULE_LICENSE(\"GPL\");\nMODULE_AUTHOR(\"You\");\nMODULE_DESCRIPTION(\"Hello params driver - full parameter macros demo\");\nMODULE_VERSION(\"1.1\");\n\n/*\n * 1) \u57fa\u672c\u6807\u91cf\u53c2\u6570\uff1amodule_param\n */\nstatic bool enable = true;\nmodule_param(enable, bool, 0644);\nMODULE_PARM_DESC(enable, \"Enable driver behavior (bool)\");\n\nstatic int level = 3;\nmodule_param(level, int, 0644);\nMODULE_PARM_DESC(level, \"Log level (int)\");\n\n/*\n * 2) \u91cd\u547d\u540d\uff1amodule_param_named\n *    \u5bf9\u5916\u66b4\u9732 debug=...\uff0c\u4f46\u5185\u90e8\u53d8\u91cf\u53eb level2\n */\nstatic int level2 = 5;\nmodule_param_named(debug, level2, int, 0644);\nMODULE_PARM_DESC(debug, \"Alias for internal 'level2' (int)\");\n\n/*\n * 3) \u6570\u7ec4\uff1amodule_param_array\n */\nstatic int gains[8] = {0};\nstatic int gains_set; /* \u5b9e\u9645\u8bbe\u7f6e\u7684\u4e2a\u6570 */\nmodule_param_array(gains, int, &amp;gains_set, 0644);\nMODULE_PARM_DESC(gains, \"Gain array (int list, e.g., gains=1,2,3)\");\n\n/*\n * 4) \u6570\u7ec4 + \u5916\u90e8\u540d\u5b57\uff1amodule_param_array_named\n */\nstatic unsigned int channels[8] = {0};\nstatic int channels_set;\nmodule_param_array_named(channel, channels, uint, &amp;channels_set, 0644);\nMODULE_PARM_DESC(channel, \"Channel list (uint list, channel=1,6,11)\");\n\n/*\n * 5) \u5b57\u7b26\u4e32\u53c2\u6570\u4e24\u79cd\u65b9\u5f0f\uff1a\n *    - charp\uff1a\u6307\u9488\uff08\u5185\u6838\u4f1a\u590d\u5236\u7528\u6237\u5b57\u7b26\u4e32\uff09\n *    - module_param_string\uff1a\u5b9a\u957f\u7f13\u51b2\u533a\n */\nstatic char *namep = (char *)\"world\";\nmodule_param(namep, charp, 0644);\nMODULE_PARM_DESC(namep, \"Name (charp)\");\n\nstatic char devname[16] = \"hello0\";\nmodule_param_string(devname, devname, sizeof(devname), 0644);\nMODULE_PARM_DESC(devname, \"Device name (fixed buffer, 16B)\");\n\n/*\n * 6) \u81ea\u5b9a\u4e49\u89e3\u6790/\u6821\u9a8c\uff1amodule_param_cb\n *    ratio\uff1a0..100 \u4e4b\u95f4\uff0c\u975e\u6cd5\u5219 -EINVAL\n */\nstatic int ratio = 50;\n\nstatic int ratio_set(const char *val, const struct kernel_param *kp)\n{\n    int v, ret;\n\n    ret = kstrtoint(val, 0, &amp;v);\n    if (ret)\n        return ret;\n    if (v &lt; 0 || v &gt; 100)\n        return -EINVAL;\n\n    *(int *)kp-&gt;arg = v;\n    return 0;\n}\n\nstatic int ratio_get(char *buf, const struct kernel_param *kp)\n{\n    return scnprintf(buf, PAGE_SIZE, \"%d\\n\", *(int *)kp-&gt;arg);\n}\n\nstatic const struct kernel_param_ops ratio_ops = {\n    .set = ratio_set,\n    .get = ratio_get,\n};\n\nmodule_param_cb(ratio, &amp;ratio_ops, &amp;ratio, 0644);\nMODULE_PARM_DESC(ratio, \"Percentage 0..100 (validated via param_cb)\");\n\n/*\n * 7) \u6838\u5fc3\u53c2\u6570\uff1a\n *    - \u5185\u7f6e\u8fdb\u5185\u6838 (=y) \u65f6\uff1a\u4f7f\u7528 core_param\uff08\u65e0\u6a21\u5757\u540d\u524d\u7f00\uff0cbootargs \u76f4\u63a5 hellocore=...\uff09\n *    - \u4f5c\u4e3a\u6a21\u5757 (=m) \u65f6\uff1a\u4f7f\u7528 module_param_named\uff08insmod \u65f6 hellocore=...\uff09\n */\nstatic int hellocore = 0;\n#ifdef MODULE\nmodule_param_named(hellocore, hellocore, int, 0644);\nMODULE_PARM_DESC(hellocore, \"core-like param when built as module\");\n#else\n/* \u6ce8\u610f\uff1a\u4f60\u8fd9\u68f5\u5185\u6838\u6811\u7684 core_param \u4e3a 3 \u4e2a\u53c2\u6570\u7248\u672c */\ncore_param(hellocore, hellocore, int);\n#endif\n\n/* \u6253\u5370\u5e2e\u52a9\u7684\u5c0f\u51fd\u6570 */\nstatic void print_array(const char *tag, const int *arr, int n)\n{\n    int i;\n    pr_info(\"%s[%d]:\", tag, n);\n    for (i = 0; i &lt; n; i++)\n        pr_cont(\" %d\", arr[i]);\n    pr_cont(\"\\n\");\n}\n\nstatic int __init hello_params_init(void)\n{\n    int i, n_g = gains_set, n_c = channels_set;\n\n    /* \u5982\u679c\u7528\u6237\u672a\u8bbe\u7f6e\u6570\u7ec4\u5143\u7d20\uff0cn_set \u53ef\u80fd\u4e3a 0\uff1b\u7528\u9ed8\u8ba4\u957f\u5ea6\u5c55\u793a */\n    if (!n_g)\n        n_g = ARRAY_SIZE(gains);\n    if (!n_c)\n        n_c = ARRAY_SIZE(channels);\n\n    pr_info(\"hello_params: init\\n\");\n    pr_info(\" enable=%d level=%d debug(level2)=%d namep=\\\"%s\\\" devname=\\\"%s\\\" ratio=%d hellocore=%d\\n\",\n        enable, level, level2, namep, devname, ratio, hellocore);\n\n    print_array(\" gains\", gains, n_g);\n    /* \u4e3a\u4e86\u6253\u5370 unsigned int \u6570\u7ec4\uff0c\u8f6c\u6362\u4e00\u4e0b */\n    {\n        int tmp[ARRAY_SIZE(channels)];\n        for (i = 0; i &lt; n_c; i++)\n            tmp[i] = (int)channels[i];\n        print_array(\" channel\", tmp, n_c);\n    }\n\n    pr_info(\"hello_params: loaded.\\n\");\n    return 0;\n}\n\nstatic void __exit hello_params_exit(void)\n{\n    pr_info(\"hello_params: exit\\n\");\n}\n\nmodule_init(hello_params_init);\nmodule_exit(hello_params_exit);\n</code></pre>"},{"location":"%E8%BF%85%E4%B8%BA3568/11.%E5%86%85%E6%A0%B8%E5%90%AF%E5%8A%A8%E5%8F%82%E6%95%B0%E4%BC%A0%E9%80%92/#_8","title":"\u4f7f\u7528\u65b9\u6cd5","text":""},{"location":"%E8%BF%85%E4%B8%BA3568/11.%E5%86%85%E6%A0%B8%E5%90%AF%E5%8A%A8%E5%8F%82%E6%95%B0%E4%BC%A0%E9%80%92/#a-m","title":"A) \u4f5c\u4e3a\u6a21\u5757\uff08<code>=m</code>\uff09","text":"<ol> <li> <p>\u914d\u7f6e\u5e76\u7f16\u8bd1</p> </li> <li> <p><code>make menuconfig</code> \u91cc\u9009\uff1a<code>Device Drivers \u2192 Hello Params Demo \u2192 M</code></p> </li> <li> <p>\u7f16\u8bd1\u540e\u4f1a\u5f97\u5230 <code>hello_params.ko</code></p> </li> <li> <p>\u52a0\u8f7d\u65f6\u4f20\u53c2\uff1a</p> </li> </ol> <pre><code>sudo insmod hello_params.ko \\\n  enable=1 level=7 debug=9 \\\n  gains=1,2,3 channel=6,11 \\\n  namep=\"linux\" devname=eth0 \\\n  ratio=42\n</code></pre>"},{"location":"%E8%BF%85%E4%B8%BA3568/11.%E5%86%85%E6%A0%B8%E5%90%AF%E5%8A%A8%E5%8F%82%E6%95%B0%E4%BC%A0%E9%80%92/#b-y","title":"B) \u7f16\u8fdb\u5185\u6838\uff08<code>=y</code>\uff09","text":"<ul> <li> <p><code>make menuconfig</code> \u91cc\u9009 <code>&lt;*&gt;</code></p> </li> <li> <p>\u901a\u8fc7 bootargs \u4f20\u53c2\uff08\u6ce8\u610f\u201c\u6a21\u5757\u540d\u524d\u7f00\u201d\uff09\uff1a</p> </li> </ul> <pre><code>hello_params.enable=1 hello_params.level=7 hello_params.debug=9 \\\nhello_params.gains=1,2,3 hello_params.channel=6,11 \\\nhello_params.namep=linux hello_params.devname=eth0 \\\nhello_params.ratio=60\n</code></pre> <ul> <li>core_param \u65e0\u9700\u524d\u7f00\uff08\u53ef\u9009\uff09\uff1a</li> </ul> <pre><code>hellocore=1\n</code></pre> <ul> <li>\u542f\u52a8\u540e\u9a8c\u8bc1\uff1a</li> </ul> <pre><code>dmesg | grep -i hello_params\n</code></pre>"},{"location":"%E8%BF%85%E4%B8%BA3568/11.%E5%86%85%E6%A0%B8%E5%90%AF%E5%8A%A8%E5%8F%82%E6%95%B0%E4%BC%A0%E9%80%92/#_9","title":"\u5e38\u89c1\u5751","text":"<ul> <li>\u5185\u7f6e\u9a71\u52a8\u7684\u53c2\u6570\u8981\u5e26\u524d\u7f00\uff1a<code>hello_params.param=...</code>\uff1b\u800c <code>core_param</code> \u4e0d\u5e26\u524d\u7f00\u3002</li> <li><code>perm</code> \u7528\u516b\u8fdb\u5236\uff08\u5982 <code>0644</code>\uff09\uff1b<code>0</code> \u8868\u793a\u4e0d\u5bfc\u51fa\u5230 sysfs\u3002</li> <li><code>module_param_array</code> \u7684\u5143\u7d20\u4e2a\u6570\u901a\u8fc7\u7b2c\u4e09\u4e2a\u53c2\u6570\u8fd4\u56de\uff1b\u672a\u8bbe\u7f6e\u65f6\u53ef\u80fd\u4e3a <code>0</code>\uff0c\u53ef\u7528 <code>ARRAY_SIZE()</code> \u663e\u793a\u9ed8\u8ba4\u6570\u7ec4\u3002</li> <li><code>module_param_string</code> \u7528\u5b9a\u957f\u6570\u7ec4\uff0c\u907f\u514d\u6307\u9488\u751f\u547d\u5468\u671f\u95ee\u9898\uff1b<code>charp</code> \u66f4\u7075\u6d3b\uff0c\u4f46\u6ce8\u610f\u957f\u5ea6\u4e0e\u5b89\u5168\u3002</li> </ul>"},{"location":"%E8%BF%85%E4%B8%BA3568/11.%E9%A9%B1%E5%8A%A8%E4%BC%A0%E5%8F%82%E4%BB%A3%E7%A0%81%E5%AE%9E%E7%8E%B0/","title":"11.\u9a71\u52a8\u4f20\u53c2\u4ee3\u7801\u5b9e\u73b0","text":"<p>\u4f20\u8f93\u5230tmp</p> <pre><code>scp hello_params.ko root@192.168.0.104:/tmp/\n</code></pre> <p>\u6d4b\u8bd5</p> <p>\u63d2\u5165\u6a21\u5757</p> <pre><code>insmod hello_params.ko  enable=1 level=7 debug=9 gains=1,2,3 channel=6,11 namep=test devname=mydev ratio=80 hellocore=42\n</code></pre> <p>\u8fd9\u91cc\u53ef\u4ee5\u4e00\u6b21\u6027\u4f20\u5165\u5404\u79cd\u53c2\u6570\u3002\u6bd4\u5982\uff1a</p> <ul> <li><code>enable=1</code> \u6253\u5f00</li> <li><code>level=7</code> \u8bbe\u7f6e\u65e5\u5fd7\u7ea7\u522b</li> <li><code>gains=1,2,3</code> \u4f20\u6570\u7ec4</li> <li><code>channel=6,11</code> \u4f20\u65e0\u7b26\u53f7\u6570\u7ec4</li> <li><code>ratio=80</code> \u81ea\u5b9a\u4e49\u56de\u8c03\u6821\u9a8c (0\u2013100 \u6709\u6548)</li> <li><code>hellocore=42</code> \u4ec5\u5728\u4f5c\u4e3a\u6a21\u5757\u7f16\u8bd1\u65f6\u4f1a\u751f\u6548</li> </ul> <pre><code>[root@topeet:/tmp]# insmod hello_params.ko  enable=1 level=7 debug=9 gains=1,2,3 channel=6,11 namep=test devname=mydev ratio=80 hellocore=42\n[93304.661267] hello_params: init\n[93304.661370]  enable=1 level=7 debug(level2[root@topeet:/tmp]# )=9 namep=\"test\" devname=\"mydev\" ratio=80 hellocore=42\n[93304.661380]  gains[3]: 1 2 3\n[93304.661391]  channel[2]: 6 11\n[93304.661401] hello_params: loaded.\n</code></pre> <p>\u4e0d\u52a0\u4efb\u4f55\u53c2\u6570 \uff08\u6253\u5370\u9ed8\u8ba4\u503c\uff09</p> <pre><code>[root@topeet:/tmp]# insmod hello_params.ko \n[93845.716549] hello_params: init\n[93845.716651]  enable=1 level=3 debug(level2)=5 [rootn@topeet:/tmp]# amep=\"world\" devname=\"hello0\" ratio=50 hellocore=0\n[93845.716661]  gains[8]: 0 0 0 0 0 0 0 0\n[93845.716676]  channel[8]: 0 0 0 0 0 0 0 0\n[93845.716688] hello_params: loaded.\n</code></pre> <p>\u67e5\u770b\u5185\u6838\u65e5\u5fd7</p> <pre><code>dmesg | tail -n 30\n</code></pre>"},{"location":"%E8%BF%85%E4%B8%BA3568/14.%E7%BC%96%E8%AF%91%E8%BF%9Blinux%E5%86%85%E6%A0%B8%E7%9A%84%E9%A9%B1%E5%8A%A8%E6%98%AF%E5%A6%82%E4%BD%95%E8%BF%90%E8%A1%8C%E7%9A%84/","title":"14.\u7f16\u8bd1\u8fdblinux\u5185\u6838\u7684\u9a71\u52a8\u662f\u5982\u4f55\u8fd0\u884c\u7684","text":""},{"location":"%E8%BF%85%E4%B8%BA3568/14.%E7%BC%96%E8%AF%91%E8%BF%9Blinux%E5%86%85%E6%A0%B8%E7%9A%84%E9%A9%B1%E5%8A%A8%E6%98%AF%E5%A6%82%E4%BD%95%E8%BF%90%E8%A1%8C%E7%9A%84/#1","title":"1. \u9a71\u52a8\u4ee3\u7801\u7684\u5165\u53e3\u4e0e\u6ce8\u518c","text":"<p>\u4e00\u4e2a\u6807\u51c6 Linux \u9a71\u52a8\uff08\u65e0\u8bba\u5185\u7f6e\u8fd8\u662f\u6a21\u5757\uff09\uff0c\u90fd\u4f1a\u5199\uff1a</p> <pre><code>static int __init hello_init(void)\n{\n    pr_info(\"Hello, world driver loaded!\\n\");\n    // \u6ce8\u518c\u5b57\u7b26\u8bbe\u5907 / \u5e73\u53f0\u9a71\u52a8 / \u603b\u7ebf\u9a71\u52a8 / file_ops...\n    return 0;\n}\n\nstatic void __exit hello_exit(void)\n{\n    pr_info(\"Hello, world driver unloaded!\\n\");\n    // \u6ce8\u9500\u8d44\u6e90\n}\n\nmodule_init(hello_init);\nmodule_exit(hello_exit);\n</code></pre> <p>\u533a\u522b\u5728\u4e8e\uff1a</p> <ul> <li>\u6a21\u5757 (<code>=m</code>)\uff1a<code>insmod</code> \u65f6\u5185\u6838\u8c03\u7528 <code>hello_init()</code>\uff0c<code>rmmod</code> \u65f6\u8c03\u7528 <code>hello_exit()</code>\u3002</li> <li>\u5185\u7f6e (<code>=y</code>)\uff1a\u5728\u5185\u6838\u542f\u52a8\u6d41\u7a0b\u4e2d\uff0c\u5185\u6838\u4f1a\u5728\u5408\u9002\u7684\u65f6\u673a\u81ea\u52a8\u8c03\u7528 <code>hello_init()</code>\u3002</li> </ul>"},{"location":"%E8%BF%85%E4%B8%BA3568/14.%E7%BC%96%E8%AF%91%E8%BF%9Blinux%E5%86%85%E6%A0%B8%E7%9A%84%E9%A9%B1%E5%8A%A8%E6%98%AF%E5%A6%82%E4%BD%95%E8%BF%90%E8%A1%8C%E7%9A%84/#2-hello_init","title":"2. \u5185\u6838\u662f\u5982\u4f55\u8c03\u7528 <code>hello_init()</code> \u7684\uff1f","text":"<p>\u5f53\u4f60 <code>CONFIG_HELLOWORLD=y</code> \u65f6\uff1a</p> <ol> <li> <p>\u7f16\u8bd1\u9636\u6bb5</p> </li> <li> <p>\u4f60\u7684 <code>.c</code> \u6587\u4ef6\u4f1a\u88ab\u7f16\u8fdb <code>built-in.o</code> \u2192 \u94fe\u63a5\u8fdb <code>vmlinux</code>\u3002</p> </li> <li> <p><code>module_init()</code> \u5b8f\u4f1a\u628a <code>hello_init</code> \u653e\u5230\u4e00\u4e2a\u7279\u6b8a\u7684 <code>.initcall</code> \u6bb5\u3002</p> <p>\u5185\u6838\u6709\u5f88\u591a initcall level\uff0c\u6bd4\u5982 <code>core_initcall</code>\u3001<code>subsys_initcall</code>\u3001<code>fs_initcall</code>\uff0c\u63a7\u5236\u4e0d\u540c\u5b50\u7cfb\u7edf\u7684\u521d\u59cb\u5316\u987a\u5e8f\u3002</p> </li> <li> <p>\u94fe\u63a5\u5668\u811a\u672c (<code>vmlinux.lds</code>) \u4f1a\u628a\u8fd9\u4e9b initcall \u6392\u597d\u5e8f\u3002</p> </li> <li> <p>\u542f\u52a8\u9636\u6bb5</p> </li> <li> <p>\u5f53 Linux \u5185\u6838\u542f\u52a8\u65f6\uff0c\u4f1a\u4f9d\u6b21\u6267\u884c\u8fd9\u4e9b <code>.initcall</code> \u6bb5\u7684\u51fd\u6570\u3002</p> </li> <li> <p>\u5230\u8fbe\u4f60\u7684\u9a71\u52a8\u6240\u5728\u9636\u6bb5\u65f6\uff0c<code>hello_init()</code> \u88ab\u8c03\u7528 \u2192 \u8bbe\u5907\u6ce8\u518c\u5b8c\u6210\u3002</p> </li> <li> <p>\u4e8e\u662f\u4f60\u5728 <code>dmesg</code> \u91cc\u770b\u5230\uff1a</p> <pre><code>Hello, world driver loaded!\n</code></pre> </li> </ol>"},{"location":"%E8%BF%85%E4%B8%BA3568/14.%E7%BC%96%E8%AF%91%E8%BF%9Blinux%E5%86%85%E6%A0%B8%E7%9A%84%E9%A9%B1%E5%8A%A8%E6%98%AF%E5%A6%82%E4%BD%95%E8%BF%90%E8%A1%8C%E7%9A%84/#3","title":"3. \u9a71\u52a8\u8fd0\u884c\u540e\u505a\u4e86\u4ec0\u4e48\uff1f","text":"<p>\u8fd9\u53d6\u51b3\u4e8e\u4f60\u7684\u9a71\u52a8\u7c7b\u578b\uff1a</p> <ul> <li>\u5b57\u7b26\u8bbe\u5907\u9a71\u52a8</li> <li>\u5728 <code>hello_init()</code> \u91cc\u8c03\u7528 <code>register_chrdev()</code></li> <li>\u5185\u6838\u5728 <code>/dev/</code> \u4e0b\u751f\u6210\u8282\u70b9\uff08\u6216\u9700\u8981 <code>mknod</code>\uff09</li> <li>\u7528\u6237\u7a7a\u95f4\u5c31\u53ef\u4ee5 <code>open(\"/dev/hello\")</code></li> <li>\u5e73\u53f0\u9a71\u52a8 / \u603b\u7ebf\u9a71\u52a8</li> <li>\u5185\u6838\u6839\u636e <code>platform_device</code> / <code>of_match_table</code> / <code>acpi_id_table</code> \u81ea\u52a8\u5339\u914d</li> <li>\u5339\u914d\u6210\u529f \u2192 \u8c03\u7528\u4f60\u7684 <code>probe()</code> \u51fd\u6570\uff0c\u5f00\u59cb\u9a71\u52a8\u786c\u4ef6</li> <li>\u6587\u4ef6\u7cfb\u7edf / \u7f51\u7edc\u534f\u8bae\u6808\u9a71\u52a8</li> <li>\u901a\u8fc7 <code>register_filesystem()</code> \u6216 <code>register_netdev()</code> \u6ce8\u518c\u5230\u5185\u6838\u5b50\u7cfb\u7edf</li> <li>\u88ab\u4f7f\u7528\u65f6\u89e6\u53d1\u4f60\u7684\u56de\u8c03\u51fd\u6570\uff08\u6bd4\u5982\u6302\u8f7d\u6587\u4ef6\u7cfb\u7edf / \u6253\u5f00\u7f51\u5361\u63a5\u53e3\uff09</li> </ul>"},{"location":"%E8%BF%85%E4%B8%BA3568/14.%E7%BC%96%E8%AF%91%E8%BF%9Blinux%E5%86%85%E6%A0%B8%E7%9A%84%E9%A9%B1%E5%8A%A8%E6%98%AF%E5%A6%82%E4%BD%95%E8%BF%90%E8%A1%8C%E7%9A%84/#4","title":"4. \u9a71\u52a8\u5378\u8f7d","text":"<ul> <li>\u5185\u7f6e (<code>=y</code>) \u2192 \u9a71\u52a8\u4e0d\u53ef\u5378\u8f7d\uff0c<code>hello_exit()</code> \u4e0d\u4f1a\u88ab\u6267\u884c\u3002</li> <li>\u6a21\u5757 (<code>=m</code>) \u2192 <code>rmmod</code> \u65f6\u4f1a\u6267\u884c <code>hello_exit()</code>\uff0c\u91ca\u653e\u8d44\u6e90\u3002</li> </ul>"},{"location":"%E8%BF%85%E4%B8%BA3568/14.%E7%BC%96%E8%AF%91%E8%BF%9Blinux%E5%86%85%E6%A0%B8%E7%9A%84%E9%A9%B1%E5%8A%A8%E6%98%AF%E5%A6%82%E4%BD%95%E8%BF%90%E8%A1%8C%E7%9A%84/#5","title":"5. \u603b\u7ed3\u4e00\u53e5\u8bdd","text":"<ul> <li>\u9a71\u52a8\u7f16\u8bd1\u8fdb\u5185\u6838\u955c\u50cf\u540e\uff0c\u5e76\u4e0d\u662f\u201c\u9759\u6001\u4ee3\u7801\u201d\uff0c\u800c\u662f\u901a\u8fc7 <code>module_init()</code> \u2192 <code>.initcall</code> \u673a\u5236 \u5728\u5185\u6838\u542f\u52a8\u65f6\u81ea\u52a8\u8fd0\u884c\u7684\u3002</li> <li>\u5185\u6838\u5728\u542f\u52a8\u8fc7\u7a0b\u4e2d\u8c03\u7528 <code>hello_init()</code>\uff0c\u9a71\u52a8\u5c31\u5b8c\u6210\u4e86 \u6ce8\u518c \u2192 \u5339\u914d \u2192 \u63d0\u4f9b\u63a5\u53e3\uff0c\u6700\u7ec8\u88ab\u7528\u6237\u7a7a\u95f4\u6216\u5176\u4ed6\u5b50\u7cfb\u7edf\u4f7f\u7528\u3002</li> </ul>"},{"location":"%E8%BF%85%E4%B8%BA3568/14.%E7%BC%96%E8%AF%91%E8%BF%9Blinux%E5%86%85%E6%A0%B8%E7%9A%84%E9%A9%B1%E5%8A%A8%E6%98%AF%E5%A6%82%E4%BD%95%E8%BF%90%E8%A1%8C%E7%9A%84/#linux","title":"Linux \u5185\u6838\u4e2d\u5185\u7f6e\u9a71\u52a8\u8fd0\u884c\u7684\u65f6\u5e8f\u56fe\uff0c\u5c55\u793a\u4ece \u5185\u6838\u542f\u52a8 \u5230 \u9a71\u52a8\u751f\u6548 \u7684\u5173\u952e\u8def\u5f84","text":"<pre><code>+-------------------+\n| Bootloader (U-Boot|\n| or others)        |\n+---------+---------+\n          |\n          v\n+-------------------+\n| Kernel Entry (arch/xxx)       |\n| - \u89e3\u538b zImage / Image         |\n| - \u8df3\u8f6c\u5230 start_kernel()       |\n+-------------------+\n          |\n          v\n+-------------------+\n| start_kernel()                     |\n| - \u8bbe\u7f6e\u5185\u5b58\u7ba1\u7406\u3001\u8c03\u5ea6\u5668             |\n| - \u521d\u59cb\u5316\u57fa\u7840\u786c\u4ef6 (CPU, MMU, IRQ)   |\n+-------------------+\n          |\n          v\n+-------------------+\n| rest_init()                          |\n| - \u542f\u52a8 kernel_init() (PID 1)         |\n| - \u5f00\u59cb\u6267\u884c initcall \u94fe\u8868             |\n+-------------------+\n          |\n          v\n+-------------------+\n| do_initcalls()                     |\n| - \u904d\u5386\u5404\u7ea7 initcall \u6bb5              |\n|   (early_initcall, core_initcall,   |\n|    subsys_initcall, fs_initcall...) |\n| - \u6267\u884c\u6240\u6709\u6ce8\u518c\u7684 init \u51fd\u6570          |\n+-------------------+\n          |\n          v\n+-------------------+\n| hello_init() (\u6765\u81ea\u9a71\u52a8)       |\n| - printk(\"Hello...\")                |\n| - \u6ce8\u518c\u5b57\u7b26\u8bbe\u5907 / \u5e73\u53f0\u9a71\u52a8           |\n| - \u53ef\u80fd\u6302\u63a5 /dev \u8282\u70b9                |\n+-------------------+\n          |\n          v\n+-------------------+\n| \u9a71\u52a8\u5b8c\u6210\u6ce8\u518c \u2192 \u8bbe\u5907\u53ef\u7528            |\n| - \u82e5\u5339\u914d platform_device \u2192 \u8c03\u7528 probe() |\n| - \u82e5\u5b57\u7b26\u8bbe\u5907 \u2192 \u53ef open(\"/dev/hello\")   |\n+-------------------+\n          |\n          v\n+-------------------+\n| \u7528\u6237\u7a7a\u95f4\u5e94\u7528\u5c42                    |\n| - \u4f7f\u7528 open/ioctl/read/write       |\n| - \u8bbf\u95ee\u9a71\u52a8\u63d0\u4f9b\u7684\u63a5\u53e3               |\n+------------------------------------+\n</code></pre> <p>bootloader \u2192 \u8d1f\u8d23\u628a\u5185\u6838\u955c\u50cf\u52a0\u8f7d\u5230\u5185\u5b58\u5e76\u542f\u52a8\u3002</p> <p>start_kernel() \u2192 \u5185\u6838\u7684 C \u5165\u53e3\uff0c\u521d\u59cb\u5316\u5404\u79cd\u6838\u5fc3\u5b50\u7cfb\u7edf\u3002</p> <p>do_initcalls() \u2192 \u9010\u7ea7\u8c03\u7528 <code>.initcall</code> \u6bb5\u91cc\u7684\u51fd\u6570\uff08\u8fd9\u5c31\u662f <code>module_init()</code> \u6ce8\u518c\u7684\u5730\u65b9\uff09\u3002</p> <p>hello_init() \u2192 \u4f60\u7684\u9a71\u52a8\u521d\u59cb\u5316\u51fd\u6570\u88ab\u6267\u884c\uff0c\u6ce8\u518c\u8fdb\u5185\u6838\u3002</p> <p>probe()\uff08\u82e5\u6709\u5339\u914d\u8bbe\u5907\u6811 / \u603b\u7ebf\uff09 \u2192 \u9a71\u52a8\u771f\u6b63\u7ed1\u5b9a\u8bbe\u5907\uff0c\u5f00\u59cb\u5de5\u4f5c\u3002</p> <p>\u7528\u6237\u5e94\u7528 \u2192 \u901a\u8fc7 <code>/dev</code> \u8282\u70b9\u6216\u7cfb\u7edf\u8c03\u7528\u8bbf\u95ee\u9a71\u52a8\u3002</p>"},{"location":"%E8%BF%85%E4%B8%BA3568/15.%E8%AE%BE%E5%A4%87%E5%8F%B7%E7%9A%84%E6%A6%82%E5%BF%B5%E4%BB%A5%E5%8F%8A%E5%87%BD%E6%95%B0%E5%AE%9A%E4%B9%89/","title":"linux\u8bbe\u5907\u53f7\u7684\u6982\u5ff5","text":""},{"location":"%E8%BF%85%E4%B8%BA3568/15.%E8%AE%BE%E5%A4%87%E5%8F%B7%E7%9A%84%E6%A6%82%E5%BF%B5%E4%BB%A5%E5%8F%8A%E5%87%BD%E6%95%B0%E5%AE%9A%E4%B9%89/#linux","title":"linux\u8bbe\u5907\u53f7\u7684\u6982\u5ff5","text":"<p>\u5728 Linux \u5185\u6838\u4e2d\uff0c\u8bbe\u5907\u53f7\uff08Device Number\uff09\u7528\u6765\u552f\u4e00\u6807\u8bc6\u4e00\u4e2a\u8bbe\u5907\u6587\u4ef6\uff08\u5982 <code>/dev/sda</code>\u3001<code>/dev/ttyS0</code>\uff09\uff0c\u8ba9\u5185\u6838\u77e5\u9053\u7528\u6237\u7a7a\u95f4\u64cd\u4f5c\u7684\u662f\u54ea\u4e2a\u8bbe\u5907\u9a71\u52a8\u3002  \u8bbe\u5907\u53f7\u7531 \u4e3b\u8bbe\u5907\u53f7\uff08major number\uff09 \u548c \u6b21\u8bbe\u5907\u53f7\uff08minor number\uff09 \u4e24\u90e8\u5206\u7ec4\u6210\u3002</p> <p>\u4e3b\u8bbe\u5907\u53f7\u4e00\u822c\u8868\u793a\u67d0\u4e00\u7c7b\u8bbe\u5907\uff0c\u6b21\u8bbe\u5907\u53f7\u5b9a\u4e49\u67d0\u4e00\u7c7b\u8bbe\u5907\u7684\u67d0\u4e2a\u5177\u4f53\u8bbe\u5907</p>"},{"location":"%E8%BF%85%E4%B8%BA3568/15.%E8%AE%BE%E5%A4%87%E5%8F%B7%E7%9A%84%E6%A6%82%E5%BF%B5%E4%BB%A5%E5%8F%8A%E5%87%BD%E6%95%B0%E5%AE%9A%E4%B9%89/#1","title":"1. \u8bbe\u5907\u53f7\u7684\u7ed3\u6784","text":"<p>\u8bbe\u5907\u53f7\u7c7b\u578b\u662f <code>dev_t</code>\uff0c\u5b9a\u4e49\u5728 <code>include/linux/types.h</code>\uff1a</p> <pre><code>typedef __u32 __kernel_dev_t;\ntypedef __kernel_dev_t dev_t;\n</code></pre> <p>\u8bbe\u5907\u53f7\u662f\u4e00\u4e2a\u6574\u578b\u503c\uff0c\u5185\u90e8\u6309\u4f4d\u5b58\u50a8\uff1a</p> <ul> <li>\u4e3b\u8bbe\u5907\u53f7\uff08major number\uff09\uff1a\u6807\u8bc6\u8bbe\u5907\u6240\u5c5e\u7684\u9a71\u52a8\u7a0b\u5e8f\u3002</li> <li>\u6b21\u8bbe\u5907\u53f7\uff08minor number\uff09\uff1a\u6807\u8bc6\u540c\u4e00\u4e2a\u9a71\u52a8\u4e0b\u7684\u4e0d\u540c\u8bbe\u5907\u5b9e\u4f8b\u3002</li> </ul> <p>\u5e38\u89c1\u7684\u7ec4\u5408\u5b8f\u5b9a\u4e49\u5728 <code>include/linux/kdev_t.h</code>\uff1a</p> <ul> <li>\u8bbe\u5907\u53f7  \u9ed8\u8ba4\u662f 32 \u4f4d\u65e0\u7b26\u53f7\u6574\u6570 \uff08\u5728\u67d0\u4e9b 64 \u4f4d\u67b6\u6784\u6216\u7279\u6b8a\u5185\u6838\u914d\u7f6e\u4e2d\uff0c<code>dev_t</code> \u4e5f\u53ef\u80fd\u6269\u5c55\u5230 64 \u4f4d\uff09</li> <li>\u9ad812\u4f4d\u8868\u793a\u4e3b\u8bbe\u5907\u53f7\uff080 ~ 4095\uff09\uff0c\u4f4e20\u4f4d\u8868\u793a\u6b64\u6b21\u8bbe\u5907\u53f7\uff080 ~ 1,048,575\uff09</li> </ul> <pre><code>dev_t (32 \u4f4d)\n+----------------+----------------------+\n| \u4e3b\u8bbe\u5907\u53f7 (12b) | \u6b21\u8bbe\u5907\u53f7 (20b)       |\n+----------------+----------------------+\nbit31.........bit20 bit19.............bit0\n</code></pre> <pre><code>#define MINORBITS   20\n#define MINORMASK   ((1U &lt;&lt; MINORBITS) - 1)\n\n#define MAJOR(dev)  ((unsigned int) ((dev) &gt;&gt; MINORBITS))\n#define MINOR(dev)  ((unsigned int) ((dev) &amp; MINORMASK))\n#define MKDEV(ma,mi)    (((ma) &lt;&lt; MINORBITS) | (mi))\n</code></pre>"},{"location":"%E8%BF%85%E4%B8%BA3568/15.%E8%AE%BE%E5%A4%87%E5%8F%B7%E7%9A%84%E6%A6%82%E5%BF%B5%E4%BB%A5%E5%8F%8A%E5%87%BD%E6%95%B0%E5%AE%9A%E4%B9%89/#2","title":"2. \u9759\u6001\u8bbe\u5907\u53f7","text":"<p>\u9759\u6001\u8bbe\u5907\u53f7\u662f\u624b\u52a8\u5206\u914d\u5e76\u56fa\u5b9a\u7684\u8bbe\u5907\u53f7\uff0c\u901a\u5e38\u9002\u7528\u4e8e\u56fa\u5b9a\u529f\u80fd\u7684\u9a71\u52a8\u6216\u5185\u6838\u5185\u7f6e\u9a71\u52a8\u3002</p>"},{"location":"%E8%BF%85%E4%B8%BA3568/15.%E8%AE%BE%E5%A4%87%E5%8F%B7%E7%9A%84%E6%A6%82%E5%BF%B5%E4%BB%A5%E5%8F%8A%E5%87%BD%E6%95%B0%E5%AE%9A%E4%B9%89/#_1","title":"\u5206\u914d\u65b9\u5f0f","text":"<p>\u4f7f\u7528 <code>register_chrdev_region()</code> \u6216 <code>register_blkdev()</code> \u7b49 API \u6ce8\u518c\uff1a</p> <pre><code>int register_chrdev_region(dev_t from, unsigned count, const char *name);\n</code></pre> <ul> <li>from\uff1a\u901a\u8fc7 <code>MKDEV(major, minor)</code> \u751f\u6210\u7684\u8d77\u59cb\u8bbe\u5907\u53f7</li> <li>count\uff1a\u8fde\u7eed\u7533\u8bf7\u7684\u8bbe\u5907\u53f7\u6570\u91cf</li> <li>name\uff1a\u8bbe\u5907\u540d\u5b57\uff0c\u4f9b <code>/proc/devices</code> \u4f7f\u7528</li> </ul> <p>\u793a\u4f8b\uff1a</p> <pre><code>dev_t dev_num;\nint major = 240;   // \u81ea\u5b9a\u4e49\u4e3b\u8bbe\u5907\u53f7\nint minor = 0;\ndev_num = MKDEV(major, minor);\n\nif (register_chrdev_region(dev_num, 1, \"my_device\") &lt; 0) {\n    pr_err(\"failed to register static dev num\\n\");\n}\n</code></pre> <p>\u8fd9\u79cd\u65b9\u5f0f\u8981\u6c42 major \u53f7\u5728\u7cfb\u7edf\u4e2d\u6ca1\u6709\u88ab\u5360\u7528\u3002</p>"},{"location":"%E8%BF%85%E4%B8%BA3568/15.%E8%AE%BE%E5%A4%87%E5%8F%B7%E7%9A%84%E6%A6%82%E5%BF%B5%E4%BB%A5%E5%8F%8A%E5%87%BD%E6%95%B0%E5%AE%9A%E4%B9%89/#3","title":"3. \u52a8\u6001\u8bbe\u5907\u53f7","text":"<p>\u52a8\u6001\u8bbe\u5907\u53f7\u7531\u5185\u6838\u81ea\u52a8\u5206\u914d\uff0c\u907f\u514d\u4e86\u624b\u52a8\u5206\u914d\u51b2\u7a81\u3002</p>"},{"location":"%E8%BF%85%E4%B8%BA3568/15.%E8%AE%BE%E5%A4%87%E5%8F%B7%E7%9A%84%E6%A6%82%E5%BF%B5%E4%BB%A5%E5%8F%8A%E5%87%BD%E6%95%B0%E5%AE%9A%E4%B9%89/#_2","title":"\u5206\u914d\u65b9\u5f0f","text":"<p>\u4f7f\u7528 <code>alloc_chrdev_region()</code>\uff1a</p> <pre><code>int alloc_chrdev_region(dev_t *dev, unsigned baseminor, unsigned count, const char *name);\n</code></pre> <ul> <li>dev\uff1a\u8f93\u51fa\u53c2\u6570\uff0c\u8fd4\u56de\u5206\u914d\u5230\u7684\u8bbe\u5907\u53f7</li> <li>baseminor\uff1a\u8d77\u59cb\u6b21\u8bbe\u5907\u53f7</li> <li>count\uff1a\u6570\u91cf</li> <li>name\uff1a\u8bbe\u5907\u540d</li> </ul> <p>\u793a\u4f8b\uff1a</p> <pre><code>dev_t dev_num;\n\nif (alloc_chrdev_region(&amp;dev_num, 0, 1, \"my_device\") &lt; 0) {\n    pr_err(\"failed to allocate dev num\\n\");\n} else {\n    pr_info(\"allocated major=%d, minor=%d\\n\", MAJOR(dev_num), MINOR(dev_num));\n}\n</code></pre>"},{"location":"%E8%BF%85%E4%B8%BA3568/15.%E8%AE%BE%E5%A4%87%E5%8F%B7%E7%9A%84%E6%A6%82%E5%BF%B5%E4%BB%A5%E5%8F%8A%E5%87%BD%E6%95%B0%E5%AE%9A%E4%B9%89/#4","title":"4. \u6ce8\u9500\u8bbe\u5907\u53f7","text":"<p>\u65e0\u8bba\u662f\u9759\u6001\u8fd8\u662f\u52a8\u6001\u5206\u914d\uff0c\u5378\u8f7d\u6a21\u5757\u65f6\u90fd\u5e94\u91ca\u653e\uff1a</p> <pre><code>void unregister_chrdev_region(dev_t from, unsigned count);\n</code></pre> <p>\u793a\u4f8b\uff1a</p> <pre><code>unregister_chrdev_region(dev_num, 1);\n</code></pre>"},{"location":"%E8%BF%85%E4%B8%BA3568/15.%E8%AE%BE%E5%A4%87%E5%8F%B7%E7%9A%84%E6%A6%82%E5%BF%B5%E4%BB%A5%E5%8F%8A%E5%87%BD%E6%95%B0%E5%AE%9A%E4%B9%89/#5","title":"5. \u67e5\u770b\u8bbe\u5907\u53f7","text":""},{"location":"%E8%BF%85%E4%B8%BA3568/15.%E8%AE%BE%E5%A4%87%E5%8F%B7%E7%9A%84%E6%A6%82%E5%BF%B5%E4%BB%A5%E5%8F%8A%E5%87%BD%E6%95%B0%E5%AE%9A%E4%B9%89/#1_1","title":"(1) \u67e5\u770b\u5185\u6838\u6ce8\u518c\u7684\u4e3b\u8bbe\u5907\u53f7","text":"<pre><code>cat /proc/devices\n</code></pre> <p>\u8f93\u51fa\u793a\u4f8b\uff1a</p> <pre><code>Character devices:\n  1 mem\n  5 /dev/tty\n 10 misc\n240 my_device\n</code></pre>"},{"location":"%E8%BF%85%E4%B8%BA3568/15.%E8%AE%BE%E5%A4%87%E5%8F%B7%E7%9A%84%E6%A6%82%E5%BF%B5%E4%BB%A5%E5%8F%8A%E5%87%BD%E6%95%B0%E5%AE%9A%E4%B9%89/#2_1","title":"(2) \u67e5\u770b\u5177\u4f53\u8bbe\u5907\u6587\u4ef6\u7684\u8bbe\u5907\u53f7","text":"<pre><code>ls -l /dev/ttyS0\n</code></pre> <p>\u8f93\u51fa\u793a\u4f8b\uff1a</p> <pre><code>crw-rw---- 1 root dialout 4, 64 Aug 21 10:00 /dev/ttyS0\n</code></pre> <ul> <li><code>c</code>\uff1a\u5b57\u7b26\u8bbe\u5907</li> <li><code>4, 64</code>\uff1a\u4e3b\u8bbe\u5907\u53f7 = 4\uff0c\u6b21\u8bbe\u5907\u53f7 = 64</li> </ul>"},{"location":"%E8%BF%85%E4%B8%BA3568/15.%E8%AE%BE%E5%A4%87%E5%8F%B7%E7%9A%84%E6%A6%82%E5%BF%B5%E4%BB%A5%E5%8F%8A%E5%87%BD%E6%95%B0%E5%AE%9A%E4%B9%89/#6","title":"6. \u5e38\u7528\u51fd\u6570\u5217\u8868","text":"\u51fd\u6570 \u7528\u9014 <code>MKDEV(major, minor)</code> \u751f\u6210 <code>dev_t</code> \u8bbe\u5907\u53f7 <code>MAJOR(dev_t)</code> \u83b7\u53d6\u4e3b\u8bbe\u5907\u53f7 <code>MINOR(dev_t)</code> \u83b7\u53d6\u6b21\u8bbe\u5907\u53f7 <code>register_chrdev_region()</code> \u9759\u6001\u5206\u914d\u8bbe\u5907\u53f7 <code>alloc_chrdev_region()</code> \u52a8\u6001\u5206\u914d\u8bbe\u5907\u53f7 <code>unregister_chrdev_region()</code> \u91ca\u653e\u8bbe\u5907\u53f7 <code>cdev_init()</code> \u521d\u59cb\u5316 <code>cdev</code> \u7ed3\u6784\u4f53 <code>cdev_add()</code> \u5c06 <code>cdev</code> \u52a0\u5165\u5185\u6838 <code>cdev_del()</code> \u5220\u9664 <code>cdev</code>"},{"location":"%E8%BF%85%E4%B8%BA3568/15.%E8%AE%BE%E5%A4%87%E5%8F%B7%E7%9A%84%E6%A6%82%E5%BF%B5%E4%BB%A5%E5%8F%8A%E5%87%BD%E6%95%B0%E5%AE%9A%E4%B9%89/#7","title":"7. \u9759\u6001\u4e0e\u52a8\u6001\u8bbe\u5907\u53f7\u5bf9\u6bd4","text":"\u7279\u6027 \u9759\u6001\u5206\u914d \u52a8\u6001\u5206\u914d \u4e3b\u8bbe\u5907\u53f7 \u56fa\u5b9a\uff0c\u9700\u8981\u624b\u52a8\u6307\u5b9a \u7531\u5185\u6838\u81ea\u52a8\u5206\u914d \u51b2\u7a81\u98ce\u9669 \u9ad8\uff0c\u9700\u8981\u624b\u52a8\u7ba1\u7406 \u65e0\u51b2\u7a81\uff0c\u5185\u6838\u7ba1\u7406 \u8c03\u8bd5/\u517c\u5bb9\u6027 \u65b9\u4fbf\u8001\u7248\u672c\u7a0b\u5e8f\u8bbf\u95ee \u7a0b\u5e8f\u9700\u52a8\u6001\u83b7\u53d6\u4e3b\u8bbe\u5907\u53f7 \u5e38\u7528\u573a\u666f \u9a71\u52a8\u957f\u671f\u56fa\u5b9a\u5f00\u53d1 \u4e34\u65f6\u9a71\u52a8\u3001\u5b9e\u9a8c\u6027\u9a71\u52a8"},{"location":"%E8%BF%85%E4%B8%BA3568/15.%E8%AE%BE%E5%A4%87%E5%8F%B7%E7%9A%84%E6%A6%82%E5%BF%B5%E4%BB%A5%E5%8F%8A%E5%87%BD%E6%95%B0%E5%AE%9A%E4%B9%89/#_3","title":"\u73b0\u4ee3\u5f00\u53d1\u5e38\u7528\u7684\u662f\u9759\u6001\u8bbe\u5907\u53f7\u8fd8\u662f\u52a8\u6001\u8bbe\u5907\u53f7\uff1f","text":"<p>\u5728\u73b0\u4ee3 Linux \u9a71\u52a8\u5f00\u53d1\u4e2d\uff0c\u66f4\u591a\u60c5\u51b5\u4e0b\u4f7f\u7528\u7684\u662f\u52a8\u6001\u8bbe\u5907\u53f7\uff0c\u9759\u6001\u8bbe\u5907\u53f7\u5df2\u7ecf\u5f88\u5c11\u76f4\u63a5\u624b\u52a8\u6307\u5b9a\u4e86\uff0c\u9664\u975e\u6709\u7279\u6b8a\u9700\u6c42\u3002</p> <p>\u4e0b\u9762\u4ece\u5b9e\u9645\u5f00\u53d1\u89d2\u5ea6\u6bd4\u8f83\u4e00\u4e0b\u4e24\u8005\u7684\u5e38\u89c1\u4f7f\u7528\u573a\u666f\u548c\u9009\u62e9\u4f9d\u636e\u3002</p>"},{"location":"%E8%BF%85%E4%B8%BA3568/15.%E8%AE%BE%E5%A4%87%E5%8F%B7%E7%9A%84%E6%A6%82%E5%BF%B5%E4%BB%A5%E5%8F%8A%E5%87%BD%E6%95%B0%E5%AE%9A%E4%B9%89/#1_2","title":"1. \u5e38\u7528\u60c5\u51b5","text":"\u573a\u666f \u63a8\u8350\u65b9\u5f0f \u539f\u56e0 \u81ea\u7814\u9a71\u52a8/\u5b9e\u9a8c\u9a71\u52a8 \u52a8\u6001\u8bbe\u5907\u53f7 \u65e0\u9700\u5173\u5fc3\u51b2\u7a81\uff0c\u5185\u6838\u81ea\u52a8\u5206\u914d\uff0c\u5f00\u53d1\u8c03\u8bd5\u65b9\u4fbf \u4e34\u65f6\u8c03\u8bd5 \u52a8\u6001\u8bbe\u5907\u53f7 \u6bcf\u6b21\u52a0\u8f7d\u90fd\u53ef\u4ee5\u83b7\u53d6\u5b89\u5168\u7684\u8bbe\u5907\u53f7 \u5546\u7528\u9a71\u52a8 / \u56fa\u5b9a API \u9a71\u52a8 \u9759\u6001\u8bbe\u5907\u53f7 \u4e3a\u4e86\u548c\u7528\u6237\u7a7a\u95f4\u5de5\u5177\u517c\u5bb9\uff08\u4f8b\u5982 <code>/dev/ttyS0</code> \u6c38\u8fdc\u662f\u4e3b\u8bbe\u5907\u53f7 4\uff09 \u5185\u6838\u5185\u7f6e\u9a71\u52a8 \u9759\u6001\u8bbe\u5907\u53f7 \u5382\u5546\u548c\u5185\u6838\u7ef4\u62a4\u56fa\u5b9a\u53f7\uff0c\u65b9\u4fbf\u957f\u671f\u7ef4\u62a4\u548c\u4e00\u81f4\u6027"},{"location":"%E8%BF%85%E4%B8%BA3568/15.%E8%AE%BE%E5%A4%87%E5%8F%B7%E7%9A%84%E6%A6%82%E5%BF%B5%E4%BB%A5%E5%8F%8A%E5%87%BD%E6%95%B0%E5%AE%9A%E4%B9%89/#2_2","title":"2. \u4e3a\u4ec0\u4e48\u52a8\u6001\u5206\u914d\u66f4\u5e38\u89c1","text":"<ol> <li> <p>\u907f\u514d\u51b2\u7a81     \u9759\u6001\u4e3b\u8bbe\u5907\u53f7\u6709 4096 \u4e2a\u7f16\u53f7\uff0c\u4f46\u5f88\u591a\u7f16\u53f7\u90fd\u5df2\u88ab\u5185\u6838\u5360\u7528\uff0c\u4eba\u5de5\u9009\u62e9\u5bb9\u6613\u51b2\u7a81\u3002     \u52a8\u6001\u5206\u914d\u7531\u5185\u6838\u81ea\u52a8\u5206\u914d\uff0c\u4e0d\u5b58\u5728\u51b2\u7a81\u95ee\u9898\u3002</p> </li> <li> <p>\u53ef\u6269\u5c55\u6027     \u52a8\u6001\u65b9\u5f0f\u53ef\u4e00\u6b21\u5206\u914d\u591a\u4e2a\u8fde\u7eed\u6b21\u8bbe\u5907\u53f7\uff0c\u65b9\u4fbf\u4e00\u4e2a\u9a71\u52a8\u7ba1\u7406\u591a\u4e2a\u5b9e\u4f8b\u3002</p> </li> <li> <p>\u4fbf\u4e8e\u8c03\u8bd5     \u8c03\u8bd5\u9636\u6bb5\u53ef\u4ee5\u4e0d\u5173\u5fc3\u5177\u4f53\u7f16\u53f7\uff0c\u76f4\u63a5\u8ba9\u7cfb\u7edf\u5206\u914d\u5e76\u6253\u5370\u51fa\u6765\uff1a</p> </li> </ol> <pre><code>alloc_chrdev_region(&amp;dev_num, 0, 1, \"my_device\");\npr_info(\"major=%d minor=%d\\n\", MAJOR(dev_num), MINOR(dev_num));\n</code></pre> <ol> <li>\u4e0e udev \u914d\u5408\u65b9\u4fbf     \u73b0\u4ee3 Linux \u90fd\u4f7f\u7528 <code>udev</code> \u81ea\u52a8\u521b\u5efa\u8bbe\u5907\u8282\u70b9\uff0c\u5373\u4f7f\u4e3b\u8bbe\u5907\u53f7\u53d8\u52a8\uff0c\u4e5f\u80fd\u901a\u8fc7\u89c4\u5219\u6587\u4ef6\u4fdd\u6301 <code>/dev</code> \u4e0b\u8282\u70b9\u540d\u79f0\u4e00\u81f4\u3002</li> </ol>"},{"location":"%E8%BF%85%E4%B8%BA3568/15.%E8%AE%BE%E5%A4%87%E5%8F%B7%E7%9A%84%E6%A6%82%E5%BF%B5%E4%BB%A5%E5%8F%8A%E5%87%BD%E6%95%B0%E5%AE%9A%E4%B9%89/#3_1","title":"3. \u9759\u6001\u8bbe\u5907\u53f7\u4ecd\u6709\u610f\u4e49\u7684\u60c5\u51b5","text":"<ul> <li>\u6807\u51c6\u5b57\u7b26/\u5757\u8bbe\u5907\uff1a</li> <li>\u5982 <code>tty</code>\u3001<code>null</code>\u3001<code>sda</code> \u7b49\u4e3b\u8bbe\u5907\u53f7\u56fa\u5b9a\uff0c\u65b9\u4fbf\u7528\u6237\u7a7a\u95f4\u76f4\u63a5\u4f7f\u7528\u3002</li> <li>\u5382\u5546\u6307\u5b9a\u517c\u5bb9\u6027\uff1a</li> <li>\u67d0\u4e9b\u5386\u53f2\u9879\u76ee\u6216\u534f\u8bae\u4f9d\u8d56\u7279\u5b9a\u8bbe\u5907\u53f7\u3002</li> <li>\u8c03\u8bd5\u786c\u4ef6\u63a5\u53e3\uff1a</li> <li>\u65b9\u4fbf\u901a\u8fc7\u56fa\u5b9a <code>mknod</code> \u521b\u5efa\u8bbe\u5907\u8282\u70b9\u3002</li> </ul>"},{"location":"%E8%BF%85%E4%B8%BA3568/15.%E8%AE%BE%E5%A4%87%E5%8F%B7%E7%9A%84%E6%A6%82%E5%BF%B5%E4%BB%A5%E5%8F%8A%E5%87%BD%E6%95%B0%E5%AE%9A%E4%B9%89/#4_1","title":"4. \u603b\u7ed3\u5efa\u8bae","text":"\u5f00\u53d1\u9636\u6bb5 \u63a8\u8350\u8bbe\u5907\u53f7\u5206\u914d\u65b9\u5f0f \u5907\u6ce8 \u4e2a\u4eba\u5b66\u4e60/\u9a71\u52a8\u8c03\u8bd5 \u52a8\u6001\u8bbe\u5907\u53f7 (<code>alloc_chrdev_region</code>) \u81ea\u52a8\u907f\u514d\u51b2\u7a81 \u4ea7\u54c1\u5316/\u5185\u6838\u5408\u5165 \u52a8\u6001\u8bbe\u5907\u53f7 + udev \u56fa\u5b9a\u540d\u79f0 \u901a\u8fc7\u89c4\u5219\u4fdd\u8bc1\u7a33\u5b9a\u8def\u5f84\uff0c\u800c\u4e0d\u662f\u56fa\u5b9a\u4e3b\u6b21\u53f7 \u7279\u6b8a\u517c\u5bb9\u9700\u6c42 \u9759\u6001\u8bbe\u5907\u53f7 (<code>register_chrdev_region</code>) \u786e\u4fdd\u4e3b\u8bbe\u5907\u53f7\u4e0d\u53d8"},{"location":"%E8%BF%85%E4%B8%BA3568/15.%E8%AE%BE%E5%A4%87%E5%8F%B7%E7%9A%84%E6%A6%82%E5%BF%B5%E4%BB%A5%E5%8F%8A%E5%87%BD%E6%95%B0%E5%AE%9A%E4%B9%89/#5_1","title":"5. \u73b0\u4ee3\u505a\u6cd5\u793a\u4f8b","text":"<p>\u4e00\u822c\u63a8\u8350\uff1a</p> <ol> <li>\u5185\u6838\u52a8\u6001\u5206\u914d\u8bbe\u5907\u53f7</li> <li>udev \u56fa\u5b9a\u540d\u5b57\uff0c\u800c\u4e0d\u662f\u56fa\u5b9a\u53f7</li> </ol> <p>\u793a\u4f8b udev \u89c4\u5219\uff1a</p> <pre><code># /etc/udev/rules.d/99-mydev.rules\nKERNEL==\"my_device*\", NAME=\"my_device%n\"\n</code></pre> <p>\u65e0\u8bba\u8bbe\u5907\u53f7\u662f\u591a\u5c11\uff0c\u7528\u6237\u7a7a\u95f4\u8bbf\u95ee <code>/dev/my_device0</code> \u90fd\u662f\u7a33\u5b9a\u7684\u3002</p> <p>\u603b\u7ed3</p> <p>\u5927\u591a\u6570\u9a71\u52a8\u5f00\u53d1\u90fd\u4f1a\u4f7f\u7528\u52a8\u6001\u8bbe\u5907\u53f7\uff0c\u518d\u7528 <code>udev</code> \u6216 <code>mdev</code> \u4fdd\u6301 <code>/dev</code> \u4e0b\u7684\u8bbe\u5907\u8282\u70b9\u540d\u5b57\u4e00\u81f4\uff1b\u9759\u6001\u8bbe\u5907\u53f7\u66f4\u591a\u89c1\u4e8e\u5386\u53f2\u9a71\u52a8\u3001\u5185\u6838\u5185\u7f6e\u9a71\u52a8\u6216\u8005\u9700\u8981\u517c\u5bb9\u65e7\u7248\u672c\u7684\u573a\u666f\u3002</p>"},{"location":"%E8%BF%85%E4%B8%BA3568/16.%E8%AE%BE%E5%A4%87%E5%8F%B7%E5%AE%9E%E6%93%8D/","title":"linux \u52a8\u6001\u8bbe\u5907\u53f7\u5b9e\u64cd","text":""},{"location":"%E8%BF%85%E4%B8%BA3568/16.%E8%AE%BE%E5%A4%87%E5%8F%B7%E5%AE%9E%E6%93%8D/#linux","title":"linux \u52a8\u6001\u8bbe\u5907\u53f7\u5b9e\u64cd","text":"<ul> <li>\u4f7f\u7528\u52a8\u6001\u8bbe\u5907\u53f7\uff0c\u518d\u7528 <code>udev</code> \u6216 <code>mdev</code> \u4fdd\u6301 <code>/dev</code> \u4e0b\u7684\u8bbe\u5907\u8282\u70b9\u540d\u5b57\u4e00\u81f4</li> </ul>"},{"location":"%E8%BF%85%E4%B8%BA3568/16.%E8%AE%BE%E5%A4%87%E5%8F%B7%E5%AE%9E%E6%93%8D/#mychardevc","title":"mychardev.c","text":"<pre><code>// SPDX-License-Identifier: GPL-2.0\n#include &lt;linux/init.h&gt;\n#include &lt;linux/module.h&gt;\n#include &lt;linux/kernel.h&gt;\n#include &lt;linux/fs.h&gt;\n#include &lt;linux/cdev.h&gt;\n#include &lt;linux/device.h&gt;\n#include &lt;linux/uaccess.h&gt;\n\n#define DRV_NAME \"mychardev\"\n#define BUF_SZ   4096\n\nstatic dev_t devno;               // \u52a8\u6001\u5206\u914d\u5f97\u5230\u7684 dev_t\nstatic struct cdev my_cdev;       // \u5b57\u7b26\u8bbe\u5907\u5bf9\u8c61\nstatic struct class *my_class;    // /sys/class/&lt;name&gt;\nstatic char kbuf[BUF_SZ];\nstatic size_t klen;\n\nstatic int my_open(struct inode *inode, struct file *filp)\n{\n    pr_info(DRV_NAME \": open (major=%d minor=%d)\\n\",\n            imajor(inode), iminor(inode));\n    return 0;\n}\n\nstatic int my_release(struct inode *inode, struct file *filp)\n{\n    pr_info(DRV_NAME \": release\\n\");\n    return 0;\n}\n\nstatic ssize_t my_read(struct file *filp, char __user *ubuf,\n                       size_t len, loff_t *off)\n{\n    size_t to_copy;\n\n    if (*off &gt;= klen)\n        return 0;\n\n    to_copy = min(len, klen - *off);\n    if (copy_to_user(ubuf, kbuf + *off, to_copy))\n        return -EFAULT;\n\n    *off += to_copy;\n    return to_copy;\n}\n\nstatic ssize_t my_write(struct file *filp, const char __user *ubuf,\n                        size_t len, loff_t *off)\n{\n    size_t to_copy = min(len, (size_t)BUF_SZ);\n\n    if (copy_from_user(kbuf, ubuf, to_copy))\n        return -EFAULT;\n\n    klen = to_copy;\n    pr_info(DRV_NAME \": write %zu bytes\\n\", to_copy);\n    return to_copy;\n}\n\nstatic const struct file_operations fops = {\n    .owner   = THIS_MODULE,\n    .open    = my_open,\n    .release = my_release,\n    .read    = my_read,\n    .write   = my_write,\n    .llseek  = no_llseek,\n};\n\nstatic int __init my_init(void)\n{\n    int ret;\n\n    // 1) \u52a8\u6001\u5206\u914d\u4e00\u4e2a\u4e3b/\u6b21\u8bbe\u5907\u53f7\uff08\u53ea\u8981 1 \u4e2a\u6b21\u8bbe\u5907\uff09\n    ret = alloc_chrdev_region(&amp;devno, 0, 1, DRV_NAME);\n    if (ret) {\n        pr_err(DRV_NAME \": alloc_chrdev_region failed: %d\\n\", ret);\n        return ret;\n    }\n\n    // 2) \u521d\u59cb\u5316\u5e76\u6ce8\u518c cdev\n    cdev_init(&amp;my_cdev, &amp;fops);\n    my_cdev.owner = THIS_MODULE;\n\n    ret = cdev_add(&amp;my_cdev, devno, 1);\n    if (ret) {\n        pr_err(DRV_NAME \": cdev_add failed: %d\\n\", ret);\n        unregister_chrdev_region(devno, 1);\n        return ret;\n    }\n\n    // 3) \u521b\u5efa class\uff08\u4f9b udev \u8bc6\u522b/\u521b\u5efa\u8bbe\u5907\u8282\u70b9\uff09\n    my_class = class_create(THIS_MODULE, DRV_NAME);\n    if (IS_ERR(my_class)) {\n        ret = PTR_ERR(my_class);\n        pr_err(DRV_NAME \": class_create failed: %d\\n\", ret);\n        cdev_del(&amp;my_cdev);\n        unregister_chrdev_region(devno, 1);\n        return ret;\n    }\n\n    // 4) \u521b\u5efa\u8bbe\u5907\u8282\u70b9\uff1a/dev/mychardev0\n    if (IS_ERR(device_create(my_class, NULL, devno, NULL, DRV_NAME \"%d\", 0))) {\n        pr_err(DRV_NAME \": device_create failed\\n\");\n        class_destroy(my_class);\n        cdev_del(&amp;my_cdev);\n        unregister_chrdev_region(devno, 1);\n        return -EINVAL;\n    }\n\n    pr_info(DRV_NAME \": loaded. major=%d minor=%d node=/dev/%s0\\n\",\n            MAJOR(devno), MINOR(devno), DRV_NAME);\n    return 0;\n}\n\nstatic void __exit my_exit(void)\n{\n    device_destroy(my_class, devno);\n    class_destroy(my_class);\n    cdev_del(&amp;my_cdev);\n    unregister_chrdev_region(devno, 1);\n    pr_info(DRV_NAME \": unloaded\\n\");\n}\n\nmodule_init(my_init);\nmodule_exit(my_exit);\n\nMODULE_LICENSE(\"GPL\");\nMODULE_AUTHOR(\"You\");\nMODULE_DESCRIPTION(\"Dynamic dev_t + udev stable path demo\");\n</code></pre>"},{"location":"%E8%BF%85%E4%B8%BA3568/16.%E8%AE%BE%E5%A4%87%E5%8F%B7%E5%AE%9E%E6%93%8D/#makefile","title":"Makefile","text":"<pre><code>#!/bin/bash\nobj-m := mychardev.o\n\nKDIR := /home/ubuntu/rk3568/linux_sdk/kernel\nPWD  := $(shell pwd)\n\n# \u6307\u5b9a\u5de5\u5177\u94fe\u548c\u67b6\u6784\nARCH := arm64\nCROSS_COMPILE := /home/ubuntu/rk3568/linux_sdk/prebuilts/gcc/linux-x86/aarch64/gcc-linaro-6.3.1-2017.05-x86_64_aarch64-linux-gnu/bin/aarch64-linux-gnu-\n\nall:\n    $(MAKE) -C $(KDIR) M=$(PWD) ARCH=$(ARCH) CROSS_COMPILE=$(CROSS_COMPILE) modules\n\nclean:\n    $(MAKE) -C $(KDIR) M=$(PWD) clean\n</code></pre>"},{"location":"%E8%BF%85%E4%B8%BA3568/16.%E8%AE%BE%E5%A4%87%E5%8F%B7%E5%AE%9E%E6%93%8D/#99-mychardevrules","title":"99-mychardev.rules","text":"<pre><code>KERNEL==\"mychardev[0-9]*\", SYMLINK+=\"mydev%n\", MODE=\"0666\", GROUP=\"plugdev\"\nRULE\n</code></pre> <p>\u7f16\u8bd1</p> <pre><code>make\n</code></pre> <p>\u4f20\u8f93</p> <pre><code>scp chardev.ko 99-mychardev.rules root@192.168.0.104:/tmp/\n</code></pre> <p>\u5c0699-mychardev.rules\u653e\u5230/etc/udev/rules.d\u76ee\u5f55</p> <pre><code>cp 99-mychardev.rules /etc/udev/rules.d\n</code></pre>"},{"location":"%E8%BF%85%E4%B8%BA3568/16.%E8%AE%BE%E5%A4%87%E5%8F%B7%E5%AE%9E%E6%93%8D/#_1","title":"\u52a0\u8f7d\u6a21\u5757","text":"<pre><code>insmod mychardev.ko \n</code></pre> <ul> <li>\u53ef\u4ee5\u770b\u5230\u5df2\u7ecf\u81ea\u52a8\u5206\u914d\u4e86\u8bbe\u5907\u53f7\uff0c\u5305\u62ec \u4e3b\u8bbe\u5907\u53f7major=236  \u6b21\u8bbe\u5907\u53f7minor=0  \u5206\u914d\u8282\u70b9 node=/dev/mychardev0</li> </ul> <pre><code>[root@topeet:/tmp]# insmod mychardev.ko \n[  165.909031] mychardev: loading out-of-tree module taints kernel.\n[root@topeet:/tmp]# [  165.910416] mychardev: loaded. major=236 minor=0 node=/dev/mychardev0\n</code></pre>"},{"location":"%E8%BF%85%E4%B8%BA3568/16.%E8%AE%BE%E5%A4%87%E5%8F%B7%E5%AE%9E%E6%93%8D/#_2","title":"\u9a8c\u8bc1\u5185\u6838\u662f\u5426\u521b\u5efa\u8282\u70b9","text":"<pre><code>[root@topeet:/tmp]# ls -l /dev/mychardev*\n</code></pre> <pre><code>[root@topeet:/tmp]# ls -l /dev/mychardev*\ncrw-rw-rw- 1 root plugdev 236, 0 Aug 21 15:04 /dev/mychardev0\n</code></pre>"},{"location":"%E8%BF%85%E4%B8%BA3568/16.%E8%AE%BE%E5%A4%87%E5%8F%B7%E5%AE%9E%E6%93%8D/#udev","title":"\u5e94\u7528 udev \u89c4\u5219\u5e76\u89e6\u53d1","text":"<p>\u786e\u4fdd\u8fd9\u4e2a\u6587\u4ef6\u5b58\u5728</p> <pre><code>[root@topeet:/etc/udev/rules.d]# ls\n99-mychardev.rules\n[root@topeet:/etc/udev/rules.d]# cat 99-mychardev.rules \nKERNEL==\"mychardev[0-9]*\", SYMLINK+=\"mydev%n\", MODE=\"0666\", GROUP=\"plugdev\"\nRULE\n</code></pre> <p>\u91cd\u65b0\u52a0\u8f7d\u5e76\u89e6\u53d1\uff1a</p> <pre><code> udevadm control --reload\n udevadm trigger --name-match=\"/dev/mychardev0\"\n # \u6216\u8005\u76f4\u63a5\u91cd\u65b0\u63d2/\u5378\u8f7d\u6a21\u5757\uff1a\n rmmod mychardev &amp;&amp;  insmod mychardev.ko\n</code></pre>"},{"location":"%E8%BF%85%E4%B8%BA3568/16.%E8%AE%BE%E5%A4%87%E5%8F%B7%E5%AE%9E%E6%93%8D/#_3","title":"\u9a8c\u8bc1","text":"<pre><code>[root@topeet:/tmp]#  ls -l /dev/mydev*\nlrwxrwxrwx 1 root root 10 Aug 21 15:24 /dev/mydev0 -&gt; mychardev0\n</code></pre>"},{"location":"%E8%BF%85%E4%B8%BA3568/17.%E6%B3%A8%E5%86%8C%E5%AD%97%E7%AC%A6%E7%B1%BB%E8%AE%BE%E5%A4%87/","title":"\u6ce8\u518c\u5b57\u7b26\u7c7b\u8bbe\u5907","text":""},{"location":"%E8%BF%85%E4%B8%BA3568/17.%E6%B3%A8%E5%86%8C%E5%AD%97%E7%AC%A6%E7%B1%BB%E8%AE%BE%E5%A4%87/#_1","title":"\u6ce8\u518c\u5b57\u7b26\u7c7b\u8bbe\u5907","text":""},{"location":"%E8%BF%85%E4%B8%BA3568/17.%E6%B3%A8%E5%86%8C%E5%AD%97%E7%AC%A6%E7%B1%BB%E8%AE%BE%E5%A4%87/#_2","title":"\u6982\u5ff5\u603b\u89c8","text":"<ul> <li>\u5b57\u7b26\u8bbe\u5907\uff1a\u6309\u5b57\u8282\u6d41\u4e0e\u7528\u6237\u6001\u4ea4\u4e92\uff08\u5982\u4e32\u53e3\u3001GPIO \u63a7\u5236\u63a5\u53e3\u7b49\uff09\uff0c\u5bf9\u5e94 <code>/dev/*</code> \u8bbe\u5907\u8282\u70b9\u3002</li> <li>VFS \u8c03\u5ea6\uff1a\u7528\u6237\u6001\u7684 <code>open/read/write/ioctl/poll/mmap/...</code> \u901a\u8fc7 VFS \u5206\u53d1\u5230\u9a71\u52a8\u63d0\u4f9b\u7684\u4e00\u7ec4\u56de\u8c03\uff08<code>file_operations</code>\uff09\u3002</li> <li>\u8bbe\u5907\u53f7\uff08dev_t\uff09\uff1a\u7531 \u4e3b\u8bbe\u5907\u53f7 major + \u6b21\u8bbe\u5907\u53f7 minor \u7ec4\u6210\uff0c\u6807\u8bc6\u9a71\u52a8\u7c7b\u578b\u4e0e\u5177\u4f53\u5b9e\u4f8b\u3002</li> <li>\u8282\u70b9\u521b\u5efa\uff1a\u73b0\u4ee3\u7cfb\u7edf\u901a\u5e38\u901a\u8fc7 <code>class</code>/<code>device</code> + udev \u81ea\u52a8\u751f\u6210 <code>/dev/xxx</code>\uff1b\u4e5f\u53ef\u624b\u5de5 <code>mknod</code>\uff08\u8f83\u5c11\u7528\u4e86\uff09\u3002</li> </ul>"},{"location":"%E8%BF%85%E4%B8%BA3568/17.%E6%B3%A8%E5%86%8C%E5%AD%97%E7%AC%A6%E7%B1%BB%E8%AE%BE%E5%A4%87/#_3","title":"\u4e24\u6761\u4e3b\u6d41\u6ce8\u518c\u8def\u5f84","text":"<ol> <li>\u6807\u51c6 cdev \u6d41\u7a0b\uff08\u6700\u901a\u7528\uff0c\u53ef\u7ec6\u7c92\u5ea6\u63a7\u5236\uff09</li> <li>\u5206\u914d\u8bbe\u5907\u53f7 \u2192 \u521d\u59cb\u5316/\u6ce8\u518c <code>cdev</code> \u2192\uff08\u53ef\u9009\uff09\u5efa\u7acb <code>class</code> \u4e0e <code>device</code> \u4ee5\u89e6\u53d1 udev \u521b\u5efa\u8bbe\u5907\u8282\u70b9\u3002</li> <li>\u9002\u5408\u591a\u5b9e\u4f8b\u3001\u590d\u6742 IO\u3001\u9700\u8981\u81ea\u5b9a\u4e49\u6b21\u8bbe\u5907\u5e03\u5c40\u7684\u9a71\u52a8\u3002</li> <li>misc \u8bbe\u5907\uff08\u5feb\u901f\u8def\u5f84\uff09</li> <li>\u7528 <code>misc_register()</code> \u628a\u8bbe\u5907\u6302\u5230\u56fa\u5b9a\u4e3b\u8bbe\u5907\u53f7 10\uff08misc\uff09\u4e0b\uff0c\u5185\u6838\u5206\u914d\u6b21\u8bbe\u5907\u53f7\u3002</li> <li>\u9002\u5408\u7b80\u5355\u5355\u5b9e\u4f8b\u6216\u4e0d\u9700\u8981\u81ea\u5df1\u7ba1\u7406\u4e00\u6bb5\u6b21\u8bbe\u5907\u53f7\u7684\u573a\u666f\uff1b\u66f4\u7701\u4e8b\uff0c\u4f46\u7075\u6d3b\u5ea6\u7a0d\u4f4e\u3002</li> </ol>"},{"location":"%E8%BF%85%E4%B8%BA3568/17.%E6%B3%A8%E5%86%8C%E5%AD%97%E7%AC%A6%E7%B1%BB%E8%AE%BE%E5%A4%87/#_4","title":"\u8bbe\u5907\u53f7\uff1a\u6982\u5ff5\u4e0e\u7528\u6cd5","text":"<ul> <li>\u52a8\u6001\u5206\u914d\uff08\u63a8\u8350\uff09\uff1a\u8ba9\u5185\u6838\u5206\u914d\u53ef\u7528\u7684\u4e3b/\u6b21\u8bbe\u5907\u53f7\uff0c\u907f\u514d\u51b2\u7a81\u3002</li> <li><code>alloc_chrdev_region(dev*, baseminor, count, name)</code></li> <li>\u5173\u952e\u53c2\u6570\uff1a<ul> <li><code>dev*</code>\uff1a\u8f93\u51fa\u5f97\u5230\u7684 <code>dev_t</code></li> <li><code>baseminor</code>\uff1a\u8d77\u59cb\u6b21\u8bbe\u5907\u53f7\uff08\u5e38\u7528 0\uff09</li> <li><code>count</code>\uff1a\u4e00\u6b21\u8981\u591a\u5c11\u4e2a\u8fde\u7eed\u6b21\u8bbe\u5907\u53f7\uff08\u591a\u5b9e\u4f8b\u65f6 &gt;1\uff09</li> <li><code>name</code>\uff1a\u663e\u793a\u5728 <code>/proc/devices</code> \u7684\u540d\u79f0</li> </ul> </li> <li>\u9759\u6001\u6ce8\u518c\uff1a\u4f60\u6307\u5b9a\u4e3b\u8bbe\u5907\u53f7\u4e0e\u8d77\u59cb\u6b21\u8bbe\u5907\u53f7\uff0c\u82e5\u5360\u7528\u4f1a\u5931\u8d25\u3002</li> <li><code>register_chrdev_region(from_dev, count, name)</code></li> <li>\u91ca\u653e\uff1a\u5378\u8f7d\u65f6\u914d\u5bf9 <code>unregister_chrdev_region(from_dev, count)</code></li> </ul> <p>\u4f4d\u5bbd\uff1a\u4e3b\u6d41\u914d\u7f6e\u4e0b dev_t \u603b 32 \u4f4d\uff08major 12\u3001minor 20\uff09\uff0c\u4f46\u4ee5\u5185\u6838\u5b9e\u9645\u914d\u7f6e\u4e3a\u51c6\uff1b\u4f7f\u7528\u5b8f <code>MAJOR(dev_t) / MINOR(dev_t) / MKDEV(major,minor)</code> \u53d6\u7528/\u6784\u9020\u3002</p>"},{"location":"%E8%BF%85%E4%B8%BA3568/17.%E6%B3%A8%E5%86%8C%E5%AD%97%E7%AC%A6%E7%B1%BB%E8%AE%BE%E5%A4%87/#cdev","title":"cdev \u6ce8\u518c\uff1a\u6982\u5ff5\u4e0e\u7528\u6cd5","text":"<ul> <li><code>cdev</code> \u662f\u628a\u4f60\u7684 \u6587\u4ef6\u64cd\u4f5c\u56de\u8c03 \u6302\u5230 VFS \u7684\u5bf9\u8c61\u3002</li> <li>\u5e38\u7528\u51fd\u6570\uff1a</li> <li><code>cdev_init(cdev*, file_operations*)</code>\uff1a\u521d\u59cb\u5316 cdev \u5e76\u7ed1\u5b9a\u56de\u8c03\u8868</li> <li><code>cdev_add(cdev*, dev_t first, count)</code>\uff1a\u6ce8\u518c\u5230\u5185\u6838\uff08\u53ef\u8986\u76d6\u591a\u6b21\u8bbe\u5907\uff09</li> <li><code>cdev_del(cdev*)</code>\uff1a\u6ce8\u9500</li> <li>\u4e00\u4e2a cdev \u7ba1\u591a\u5b9e\u4f8b\uff1a<code>count &gt; 1</code>\uff1b\u56de\u8c03\u4e2d\u901a\u8fc7 \u6b21\u8bbe\u5907\u53f7\u533a\u5206\u5b9e\u4f8b\uff08<code>iminor(inode)</code>\uff09\u3002</li> <li>\u591a\u4e2a cdev\uff1a\u6bcf\u5b9e\u4f8b\u4e00\u4e2a cdev\uff0c\u4fbf\u4e8e\u9694\u79bb\u4e0e\u4e0d\u540c\u56de\u8c03\u3002</li> </ul>"},{"location":"%E8%BF%85%E4%B8%BA3568/17.%E6%B3%A8%E5%86%8C%E5%AD%97%E7%AC%A6%E7%B1%BB%E8%AE%BE%E5%A4%87/#dev","title":"/dev \u8282\u70b9\u7684\u5bfc\u51fa\uff1a\u6982\u5ff5\u4e0e\u7528\u6cd5","text":"<ul> <li>\u73b0\u4ee3\u505a\u6cd5\uff1a\u5efa\u7acb class \u4e0e device\uff0c\u8ba9 udev \u81ea\u52a8\u521b\u5efa\u8bbe\u5907\u8282\u70b9\u5e76\u53ef\u52a0\u6743\u9650/\u522b\u540d\u3002</li> <li><code>class_create(owner, \"classname\")</code> \u2192 \u51fa\u73b0 <code>/sys/class/classname/</code></li> <li><code>device_create(class, parent, devt, drvdata, \"nodefmt\", idx)</code> \u2192 \u89e6\u53d1 udev \u521b\u5efa <code>/dev/node</code></li> <li>\u914d\u5bf9\u7684\u9500\u6bc1\uff1a<code>device_destroy()</code> \u2192 <code>class_destroy()</code></li> <li>udev \u89c4\u5219\uff08\u5728\u677f\u5b50\u7684 rootfs \u4e0a\uff09\uff1a</li> <li>\u5178\u578b\uff1a<code>KERNEL==\"mychardev[0-9]*\", SYMLINK+=\"mydev%n\", MODE=\"0666\", GROUP=\"plugdev\"</code></li> <li>\u4f5c\u7528\uff1a\u4e3a\u771f\u5b9e\u8282\u70b9 <code>/dev/mychardev0</code> \u589e\u52a0\u7a33\u5b9a\u522b\u540d <code>/dev/mydev0</code>\uff0c\u5e76\u8bbe\u7f6e\u6743\u9650/\u7ec4\u3002</li> <li>\u624b\u5de5 mknod\uff1a\u4ec5\u5728\u6ca1\u6709 udev \u7684\u6781\u7b80\u7cfb\u7edf\u4e0a\u4f5c\u4e3a\u5907\u9009\u3002</li> </ul>"},{"location":"%E8%BF%85%E4%B8%BA3568/17.%E6%B3%A8%E5%86%8C%E5%AD%97%E7%AC%A6%E7%B1%BB%E8%AE%BE%E5%A4%87/#vfs","title":"VFS\u2192\u9a71\u52a8\uff1a\u5e38\u7528\u56de\u8c03\u4e0e\u53c2\u6570\u89e3\u6790","text":"<p>\uff08\u56de\u8c03\u90fd\u5728 <code>struct file_operations</code> \u91cc\uff1b\u4ee5\u4e0b\u7ed9\u8c03\u7528\u65f6\u673a\u3001\u5173\u952e\u53c2\u6570\u4e0e\u5e38\u89c1\u8fd4\u56de\u503c\uff09</p> <ul> <li><code>.open(inode\\*, file\\*)</code></li> <li>\u4f55\u65f6\uff1a\u7528\u6237 <code>open()</code> \u8bbe\u5907\u6587\u4ef6\u65f6</li> <li>\u7528\u9014\uff1a\u51c6\u5907\u4f1a\u8bdd\u4e0a\u4e0b\u6587\uff0c\u53ef\u5728 <code>file-&gt;private_data</code> \u7ed1\u5b9a\u5b9e\u4f8b\u6570\u636e</li> <li>\u8fd4\u56de\uff1a0 \u6210\u529f\uff0c\u8d1f\u503c\u9519\u8bef\u7801\uff08\u5982 <code>-ENODEV/-EBUSY</code>\uff09</li> <li><code>.release(inode\\*, file\\*)</code></li> <li>\u4f55\u65f6\uff1a<code>close()</code> \u6216\u8fdb\u7a0b\u9000\u51fa\u65f6</li> <li>\u7528\u9014\uff1a\u91ca\u653e\u4f1a\u8bdd\u8d44\u6e90\u3001\u51cf\u5c11\u5f15\u7528</li> <li>\u8fd4\u56de\uff1a0 \u6216\u9519\u8bef\u7801</li> <li><code>.read(file\\*, __user \\*buf, size_t count, loff_t \\*ppos)</code></li> <li>\u4f55\u65f6\uff1a\u7528\u6237 <code>read()</code></li> <li>\u53c2\u6570\uff1a<ul> <li><code>buf</code>\uff1a\u7528\u6237\u6001\u6307\u9488\uff08\u5fc5\u987b\u7528 <code>copy_to_user()</code> \u7b49\u8bbf\u95ee\uff09</li> <li><code>count</code>\uff1a\u5e0c\u671b\u8bfb\u53d6\u7684\u5b57\u8282\u6570</li> <li><code>ppos</code>\uff1a\u6587\u4ef6\u5185\u504f\u79fb\uff08\u53ef\u7528\u4e8e\u987a\u5e8f\u8bfb\u53d6\uff09</li> </ul> </li> <li>\u8fd4\u56de\uff1a\u5b9e\u9645\u8bfb\u53d6\u5b57\u8282\u6570\uff1b0 \u8868 EOF\uff1b\u8d1f\u503c\u9519\u8bef\u7801\uff08\u5982 <code>-EFAULT/-EAGAIN/-ERESTARTSYS</code>\uff09</li> <li><code>.write(file\\*, const __user \\*buf, size_t count, loff_t \\*ppos)</code></li> <li>\u4f55\u65f6\uff1a<code>write()</code></li> <li>\u53c2\u6570\uff1a\u540c\u4e0a\uff0c\u5f80\u5185\u6838\u8bfb\u5165\u7528\u6237\u6570\u636e\u9700 <code>copy_from_user()</code></li> <li>\u8fd4\u56de\uff1a\u5df2\u5199\u5165\u5b57\u8282\u6570\u6216\u8d1f\u503c\u9519\u8bef\u7801</li> <li><code>.llseek(file\\*, off_t, whence)</code></li> <li>\u63a7\u5236 <code>*ppos</code> \u7684\u79fb\u52a8\uff1b\u82e5\u8bbe\u5907\u4e0d\u652f\u6301\u5b9a\u4f4d\uff0c\u4f7f\u7528 <code>no_llseek</code>\uff1b\u82e5\u652f\u6301\uff0c\u5e38\u7528 <code>default_llseek</code></li> <li><code>.unlocked_ioctl(file\\*, cmd, unsigned long arg)</code> \u4e0e <code>.compat_ioctl</code></li> <li>\u4f55\u65f6\uff1a<code>ioctl(fd, cmd, arg)</code></li> <li>cmd \u7f16\u7801\uff1a\u7528 <code>_IO/_IOR/_IOW/_IOWR</code> \u5b8f\u8bbe\u8ba1\uff08\u5305\u542b\u65b9\u5411\u3001\u5927\u5c0f\u3001\u9b54\u6570\u3001\u5e8f\u53f7\uff09</li> <li>\u53c2\u6570\uff1a<ul> <li><code>cmd</code>\uff1a\u64cd\u4f5c\u7801</li> <li><code>arg</code>\uff1a\u7528\u6237\u6001\u6307\u9488\u6216\u6574\u6570\uff0864/32 \u517c\u5bb9\u95ee\u9898\u8d70 <code>compat_ioctl</code>\uff09</li> </ul> </li> <li>\u8fd4\u56de\uff1a0 \u6216\u8d1f\u503c\uff1b\u82e5\u8fd4\u56de\u7ed3\u6784\u5230\u7528\u6237\u6001\uff0c\u4ecd\u9700 <code>copy_to_user()</code></li> <li><code>.poll(file\\*, poll_table \\*wait)</code></li> <li>\u4f55\u65f6\uff1a\u7528\u6237 <code>poll/epoll/select</code></li> <li>\u7528\u9014\uff1a\u62a5\u544a\u5f53\u524d\u53ef\u8bfb/\u53ef\u5199/\u9519\u8bef\u7b49\u4e8b\u4ef6\uff08\u8fd4\u56de <code>POLLIN|POLLOUT|POLLERR...</code>\uff09\uff0c\u5e76\u628a <code>wait</code> \u4e0e\u4f60\u7684\u7b49\u5f85\u961f\u5217\u7ed1\u5b9a\uff0c\u5b9e\u73b0\u5c31\u7eea\u901a\u77e5</li> <li>\u914d\u5957\uff1a\u5185\u6838\u4fa7\u6570\u636e\u5c31\u7eea\u65f6 <code>wake_up_interruptible(&amp;wq)</code></li> <li><code>.mmap(file\\*, vm_area_struct \\*vma)</code></li> <li>\u4f55\u65f6\uff1a\u7528\u6237 <code>mmap()</code> \u8bbe\u5907\u8282\u70b9</li> <li>\u7528\u9014\uff1a\u9ad8\u6027\u80fd\u5171\u4eab\u7f13\u51b2; \u590d\u6742\u5ea6\u8f83\u9ad8\uff0c\u6ce8\u610f\u7f13\u5b58\u4e00\u81f4\u6027\u4e0e VM \u64cd\u4f5c</li> <li>\u8fd4\u56de\uff1a0 \u6216\u9519\u8bef\u7801</li> <li><code>.flush</code> / <code>.fsync</code> / <code>.fasync</code></li> <li>\u8f83\u5c11\u7528\uff1a<code>flush</code> \u5728 <code>close()</code> \u524d\uff1b<code>fsync</code> \u4e3a\u843d\u76d8/\u540c\u6b65\uff1b<code>fasync</code> \u4e3a\u5f02\u6b65\u901a\u77e5\uff08<code>SIGIO</code>\uff09</li> <li><code>.owner = THIS_MODULE</code></li> <li>\u91cd\u8981\uff01VFS \u5728\u6253\u5f00\u8bbe\u5907\u65f6\u589e\u52a0\u6a21\u5757\u5f15\u7528\uff0c\u907f\u514d\u5378\u8f7d\u4e2d\u65ad\u6b63\u5728\u4f7f\u7528\u7684\u56de\u8c03\u3002</li> </ul>"},{"location":"%E8%BF%85%E4%B8%BA3568/17.%E6%B3%A8%E5%86%8C%E5%AD%97%E7%AC%A6%E7%B1%BB%E8%AE%BE%E5%A4%87/#_5","title":"\u7528\u6237\u6001\u4ea4\u4e92\u8981\u70b9","text":"<ul> <li>\u7528\u6237\u7f13\u51b2\u533a\uff1a\u53ea\u80fd\u7528 <code>copy_to_user()/copy_from_user()</code> \u6216 <code>get_user()/put_user()</code> \u8bbf\u95ee\uff1b\u5426\u5219\u5185\u6838\u5d29\u6e83\u3002</li> <li>\u975e\u963b\u585e I/O\uff1a\u6587\u4ef6\u4ee5 <code>O_NONBLOCK</code> \u6253\u5f00\u65f6\uff0c\u4e0d\u53ef\u7acb\u5373\u6ee1\u8db3\u7684\u8bfb/\u5199\u5e94\u8fd4\u56de <code>-EAGAIN</code>\uff1b\u963b\u585e\u60c5\u5f62\u4f7f\u7528\u7b49\u5f85\u961f\u5217\u5e76\u53ef\u88ab\u4fe1\u53f7\u6253\u65ad\uff08\u8fd4\u56de <code>-ERESTARTSYS</code>\uff09\u3002</li> <li>ioctl \u8bbe\u8ba1\uff1a\u7528\u7edf\u4e00\u9b54\u6570\u3001\u7f16\u53f7\u4e0e\u65b9\u5411\uff1b\u9a71\u52a8\u7aef\u53ef\u7528 <code>_IOC_*</code> \u5b8f\u89e3\u7801\u5e76\u68c0\u67e5\u7ed3\u6784\u5927\u5c0f\uff0c\u907f\u514d ABI \u6df7\u4e71\u3002</li> </ul>"},{"location":"%E8%BF%85%E4%B8%BA3568/17.%E6%B3%A8%E5%86%8C%E5%AD%97%E7%AC%A6%E7%B1%BB%E8%AE%BE%E5%A4%87/#minor","title":"\u591a\u5b9e\u4f8b\u4e0e\u6b21\u8bbe\u5907\uff08minor\uff09\u7684\u7528\u6cd5","text":"<ul> <li>\u4e00\u6b21\u7533\u8bf7\u591a\u4e2a\u6b21\u8bbe\u5907\uff08<code>count = N</code>\uff09\uff0c\u8ba9\u540c\u4e00\u5957\u56de\u8c03\u670d\u52a1\u591a\u4e2a\u5b9e\u4f8b\u3002</li> <li>\u5728\u56de\u8c03\u4e2d\u901a\u8fc7 <code>iminor(inode)</code> \u6216 <code>MINOR(file-&gt;f_inode-&gt;i_rdev)</code> \u5206\u8fa8\u5b9e\u4f8b\u3002</li> <li>\u53ef\u4ee5\u4e3a\u6bcf\u4e2a\u5b9e\u4f8b\u7ef4\u62a4\u5404\u81ea\u7684\u7f13\u51b2\u3001\u9501\u3001\u72b6\u6001\u673a\uff1b\u6216\u4e00\u4e2a\u5b9e\u4f8b\u4e00\u4e2a <code>cdev</code>\u3002</li> </ul>"},{"location":"%E8%BF%85%E4%B8%BA3568/17.%E6%B3%A8%E5%86%8C%E5%AD%97%E7%AC%A6%E7%B1%BB%E8%AE%BE%E5%A4%87/#_6","title":"\u5e76\u53d1\u4e0e\u751f\u547d\u5468\u671f","text":"<ul> <li>\u4f1a\u8bdd\u79c1\u6709\u6570\u636e\uff1a<code>file-&gt;private_data</code> \u6302\u6bcf\u6b21 <code>open()</code> \u7684\u4e0a\u4e0b\u6587\u3002</li> <li>\u9501\uff1a\u4e2d\u65ad\u4e0a\u4e0b\u6587\u7528\u81ea\u65cb\u9501\uff1b\u8fdb\u7a0b\u4e0a\u4e0b\u6587\u7528\u4e92\u65a5\u91cf\uff1b\u5f15\u7528\u8ba1\u6570\u7528 <code>refcount_t/atomic_t</code>\u3002</li> <li>\u6a21\u5757\u5f15\u7528\uff1a<code>.owner=THIS_MODULE</code> + \u8c28\u614e\u7684\u70ed\u63d2\u62d4/\u5378\u8f7d\u8def\u5f84\uff0c\u907f\u514d use-after-free\u3002</li> </ul>"},{"location":"%E8%BF%85%E4%B8%BA3568/17.%E6%B3%A8%E5%86%8C%E5%AD%97%E7%AC%A6%E7%B1%BB%E8%AE%BE%E5%A4%87/#_7","title":"\u5178\u578b\u6e05\u7406\u987a\u5e8f\uff08\u5378\u8f7d\u65f6\uff09","text":"<ol> <li>\u505c\u6b62\u5bf9\u5916\u670d\u52a1\uff08\u5982\u7981\u6b62\u65b0 <code>open</code>\u3001\u901a\u77e5\u5728\u9014 I/O \u7ed3\u675f\uff09</li> <li><code>device_destroy</code> \u2192 <code>class_destroy</code></li> <li><code>cdev_del</code></li> <li><code>unregister_chrdev_region</code></li> </ol>"},{"location":"%E8%BF%85%E4%B8%BA3568/17.%E6%B3%A8%E5%86%8C%E5%AD%97%E7%AC%A6%E7%B1%BB%E8%AE%BE%E5%A4%87/#_8","title":"\u8c03\u8bd5\u4e0e\u81ea\u68c0","text":"<ul> <li><code>/proc/devices</code>\uff1a\u67e5\u770b\u4e3b\u8bbe\u5907\u53f7\u767b\u8bb0</li> <li><code>/sys/class/&lt;class&gt;/</code>\uff1aclass \u4e0e device \u662f\u5426\u521b\u5efa</li> <li><code>ls -l /dev/*</code>\uff1a\u8282\u70b9\u662f\u5426\u5b58\u5728\u3001\u6743\u9650\u662f\u5426\u6b63\u786e</li> <li><code>udevadm info/monitor/test</code>\uff1audev \u662f\u5426\u5e94\u7528\u89c4\u5219\u3001\u522b\u540d\u662f\u5426\u521b\u5efa</li> <li><code>dmesg</code>\uff1a\u9a71\u52a8\u65e5\u5fd7\u4e0e\u9519\u8bef\u8def\u5f84</li> </ul>"},{"location":"%E8%BF%85%E4%B8%BA3568/17.%E6%B3%A8%E5%86%8C%E5%AD%97%E7%AC%A6%E7%B1%BB%E8%AE%BE%E5%A4%87/#_9","title":"\u5e38\u89c1\u5751\u4e0e\u7ecf\u9a8c","text":"<ul> <li>\u7c7b\u578b\u4e0d\u5339\u914d\uff1a<code>min()/max()</code> \u9700\u4fdd\u8bc1\u4e24\u4fa7\u7c7b\u578b\u4e00\u81f4\uff0c\u63a8\u8350 <code>min_t(type, a, b)</code>\u3002</li> <li>\u504f\u79fb\u7ba1\u7406\uff1a<code>read/write</code> \u8981\u7ef4\u62a4 <code>*ppos</code> \u4e0e\u7f13\u51b2\u8fb9\u754c\uff1b\u4e0d\u652f\u6301\u5b9a\u4f4d\u5c31\u7528 <code>no_llseek</code>\u3002</li> <li>\u6743\u9650/\u7ec4\uff1a\u522b\u5728\u9a71\u52a8\u91cc\u786c\u7f16\u7801\u6743\u9650\uff1b\u4ea4\u7ed9 udev \u89c4\u5219\u7edf\u4e00\u7ba1\u7406\u66f4\u7075\u6d3b\u3002</li> <li>\u963b\u585e/\u4fe1\u53f7\uff1a\u963b\u585e\u7b49\u5f85\u65f6\u68c0\u67e5 <code>signal_pending()</code>\uff1b\u8fd4\u56de <code>-ERESTARTSYS</code> \u8ba9\u5185\u6838\u5904\u7406\u91cd\u542f\u3002</li> <li>\u7528\u6237\u6307\u9488\uff1a\u4efb\u4f55\u6765\u81ea\u7528\u6237\u6001\u7684\u6307\u9488\u90fd\u5fc5\u987b\u5f53\u6210\u201c\u4e0d\u53ef\u4fe1\u201d\u5904\u7406\uff0c\u5148 <code>copy_from_user()</code> \u5230\u5185\u6838\u7f13\u51b2\u518d\u7528\u3002</li> <li>\u70ed\u63d2\u62d4/\u5e76\u53d1\u5173\u95ed\uff1a\u6ce8\u610f\u4e0e <code>rmmod</code>\u3001\u7535\u6e90\u7ba1\u7406\u56de\u8c03\uff08<code>suspend/resume</code>\uff09\u7684\u7ade\u6001\u3002</li> </ul>"},{"location":"%E8%BF%85%E4%B8%BA3568/17.%E6%B3%A8%E5%86%8C%E5%AD%97%E7%AC%A6%E7%B1%BB%E8%AE%BE%E5%A4%87/#misc","title":"misc \u8bbe\u5907\u7684\u53c2\u6570\u8bf4\u660e\uff08\u5feb\u901f\u56de\u987e\uff09","text":"<ul> <li><code>struct miscdevice</code>\uff1a</li> <li><code>minor</code>\uff1a<code>MISC_DYNAMIC_MINOR</code>\uff08\u5e38\u7528\uff09\u3001\u6216\u56fa\u5b9a\u6b21\u8bbe\u5907\u53f7</li> <li><code>name</code>\uff1a\u5728 <code>/dev/</code> \u4e0b\u7684\u8282\u70b9\u540d\uff08\u901a\u5e38\u5c31\u662f\u5b83\uff09</li> <li><code>fops</code>\uff1a\u56de\u8c03\u8868</li> <li><code>mode</code>\uff1a\u8282\u70b9\u6743\u9650\uff08\u7b80\u5316\u4e86 udev \u914d\u7f6e\uff0c\u4f46\u751f\u4ea7\u4e0a\u4ecd\u5efa\u8bae\u914d\u5408 udev \u505a\u66f4\u7ec6\u89c4\u5219\uff09</li> <li>\u51fd\u6570\uff1a<code>misc_register()</code> / <code>misc_deregister()</code></li> </ul> <p>\u4e00\u53e5\u8bdd\u8bb0\u5fc6\uff1a</p> <p>\u201c\u52a8\u6001\u5206\u914d\u8bbe\u5907\u53f7 + cdev \u6ce8\u518c + class/device \u5bfc\u51fa + udev \u89c4\u5219\u56fa\u5316\u540d\u5b57\u4e0e\u6743\u9650\uff0c\u56de\u8c03\u4e2d\u7528 copy_to/from_user\u3001poll \u7b49\u540c\u6b65\u673a\u5236 \u4e0e\u7528\u6237\u7a7a\u95f4\u6253\u901a\uff0c\u8fd9\u5c31\u662f\u5b57\u7b26\u8bbe\u5907\u6ce8\u518c\u4e0e\u8bbf\u95ee\u7684\u901a\u7528\u5957\u8def\u3002\u201d</p>"},{"location":"%E8%BF%85%E4%B8%BA3568/2.1%20usb%E8%BD%AC%E4%B8%B2%E5%8F%A3%E9%A9%B1%E5%8A%A8%E9%97%AE%E9%A2%98/","title":"2.1 usb\u8f6c\u4e32\u53e3\u9a71\u52a8\u95ee\u9898","text":"<p>\u4e0d\u5efa\u8bae\u5728windwos\u4e0a\u8fdb\u884c\u4e32\u53e3\u8c03\u8bd5\uff0c\u9a71\u52a8\u6709\u95ee\u9898</p> <p>https://blog.csdn.net/weixin_43233550/article/details/108247792   \u4e0a\u8ff0\u5b89\u88c5\u51fa\u73b0\u95ee\u9898\uff0c\u63d2\u62d4\u65f6\u4f1a\u9020\u6210\u7535\u8111\u6b7b\u673a\uff0c\u5e76\u4e14\u4e0d\u80fd\u53d1\u9001\u53ea\u80fd\u63a5\u6536\uff0c\u9a71\u52a8\u5b58\u5728\u95ee\u9898</p>"},{"location":"%E8%BF%85%E4%B8%BA3568/2.1%20usb%E8%BD%AC%E4%B8%B2%E5%8F%A3%E9%A9%B1%E5%8A%A8%E9%97%AE%E9%A2%98/#linux-ubuntu18","title":"\u89e3\u51b3\u529e\u6cd5\uff0c\u5728linux\u4e0a\u4f7f\u7528 (ubuntu18)","text":""},{"location":"%E8%BF%85%E4%B8%BA3568/2.1%20usb%E8%BD%AC%E4%B8%B2%E5%8F%A3%E9%A9%B1%E5%8A%A8%E9%97%AE%E9%A2%98/#_1","title":"2.1 usb\u8f6c\u4e32\u53e3\u9a71\u52a8\u95ee\u9898","text":"<p>\u63d2\u5165 USB \u8f6c\u4e32\u53e3\u7ebf\u540e\u6267\u884c\uff1a</p> <pre><code>lsusb\n</code></pre> <p>\u80fd\u770b\u5230\u7c7b\u4f3c\u8f93\u51fa\uff0c\u5185\u6838\u81ea\u5e26\u8fd9\u4e2a\u9a71\u52a8\u4e86\uff0c\u4e0d\u7528\u5b89\u88c5\uff1a</p> <pre><code>Bus 002 Device 004: ID 067b:2303 Prolific Technology, Inc. PL2303 Serial Port\n</code></pre>"},{"location":"%E8%BF%85%E4%B8%BA3568/2.1%20usb%E8%BD%AC%E4%B8%B2%E5%8F%A3%E9%A9%B1%E5%8A%A8%E9%97%AE%E9%A2%98/#picocom","title":"\u5b89\u88c5 picocom","text":"<pre><code>sudo apt update\nsudo apt install picocom\n</code></pre>"},{"location":"%E8%BF%85%E4%B8%BA3568/2.1%20usb%E8%BD%AC%E4%B8%B2%E5%8F%A3%E9%A9%B1%E5%8A%A8%E9%97%AE%E9%A2%98/#_2","title":"\u57fa\u672c\u8fde\u63a5\u547d\u4ee4","text":"<p>\u5f53\u524d USB \u8f6c\u4e32\u53e3\u8bbe\u5907\u662f <code>/dev/ttyUSB0</code>\uff0c\u6ce2\u7279\u7387\u662f 115200\uff08\u5e38\u89c1\u9ed8\u8ba4\u503c\uff09\uff1a</p> <pre><code>sudo picocom -b 115200 /dev/ttyUSB0\n</code></pre> <p>\u6d4b\u8bd5\u65f6\u6536\u53d1\u6b63\u5e38</p>"},{"location":"%E8%BF%85%E4%B8%BA3568/2.%E9%95%9C%E5%83%8F%E7%83%A7%E5%86%99/","title":"RK3568\u955c\u50cf\u70e7\u5199","text":""},{"location":"%E8%BF%85%E4%B8%BA3568/2.%E9%95%9C%E5%83%8F%E7%83%A7%E5%86%99/#rk3568","title":"RK3568\u955c\u50cf\u70e7\u5199","text":"<p>\u4e0a\u4e00\u5c0f\u8282\u5236\u4f5c\u4e86update.img \u955c\u50cf,\u73b0\u5728\u5bf9\u955c\u50cf\u8fdb\u884c\u70e7\u5199</p>"},{"location":"%E8%BF%85%E4%B8%BA3568/2.%E9%95%9C%E5%83%8F%E7%83%A7%E5%86%99/#_1","title":"\u51c6\u5907\u5de5\u4f5c","text":"<ul> <li>update.img \u955c\u50cf</li> <li>rktools \u9a71\u52a8\u5b89\u88c5</li> <li>rk\u4e0b\u8f7d\u5de5\u5177rkdevtool_relase_Vxx.x</li> <li>\u8bbe\u7f6e\u62e8\u7801\u4e3a\u70e7\u5199\u6a21\u5f0f</li> <li>\u4e32\u53e3\u9a71\u52a8\u5b89\u88c5  \uff08\u6ce2\u7279\u7387115200\uff09</li> </ul> <p>\u6309\u4f4f vol+ \u4e0a\u75352-3\u79d2\u5de6\u53f3\u677e\u5f00\u6309\u952e\u8fdb\u5165loader\u6a21\u5f0f</p>"},{"location":"%E8%BF%85%E4%B8%BA3568/2.%E9%95%9C%E5%83%8F%E7%83%A7%E5%86%99/#_2","title":"\u6574\u4e2a\u70e7\u5199","text":"<ul> <li>\u5c06\u5347\u7ea7\u56fa\u4ef6\u653e\u5728\u6b64\u76ee\u5f55   \uff08\u8981\u5355\u4e2a\u70e7\u5199\u7684\u4e5f\u653e\u5728\u6b64\u76ee\u5f55\uff09</li> </ul> <ul> <li>\u70b9\u51fb\u5347\u7ea7\u56fa\u4ef6\uff0c\u56fa\u4ef6\u9009\u62e9update.img   \u70b9\u51fb\u5347\u7ea7</li> </ul>"},{"location":"%E8%BF%85%E4%B8%BA3568/2.%E9%95%9C%E5%83%8F%E7%83%A7%E5%86%99/#_3","title":"\u5355\u72ec\u70e7\u5199","text":"<p>\u5355\u72ec\u70e7\u5199boot  kernel  buildroot \uff0c\u6700\u597d\u662f\u5148\u70e7\u5199\u4e00\u4e2a\u53ef\u4ee5\u6b63\u5e38\u8fd0\u884c\u7684update.img\uff0c\u518d\u5355\u4e2a\u70e7\u5f55\u9a8c\u8bc1</p> <p>\u53f3\u952e---\u300b\u5bfc\u5165\u914d\u7f6e</p> <p></p> <p>\u9009\u62e9\u70e7\u5199\u5de5\u5177\u4e0b\u7684linux.cfg\u6587\u4ef6</p> <p></p> <p>\u5355\u72ec\u70e7\u5199\u54ea\u4e00\u4e2a\u5c31\u52fe\u9009\u54ea\u4e00\u4e2a\u3002\u70e7\u5199\u7684\u6587\u4ef6\u8def\u5f84\u53ef\u4ee5\u81ea\u5df1\u9009\u62e9</p> <p></p>"},{"location":"%E8%BF%85%E4%B8%BA3568/3.rk3568%E9%A9%B1%E5%8A%A8%E5%BC%80%E5%8F%91-%E7%99%BD%E7%BA%B8%E5%86%85%E6%A0%B8%E7%BC%96%E8%AF%91%E8%BF%90%E8%A1%8C/","title":"3.rk3568\u9a71\u52a8\u5f00\u53d1 \u767d\u7eb8\u5185\u6838\u7f16\u8bd1\u8fd0\u884c","text":"<p>03_\u3010iTOP-RK3568\u5f00\u53d1\u677f\u3011\u6307\u5357\u6559\u7a0b\\02_Linux\u9a71\u52a8\u914d\u5957\u8d44\u6599\\02_Linux_SDK\u6e90\u7801\\linux_sdk.tar.gz</p> <p>\u6b64sdk\u53ea\u5305\u542b\u5185\u6838\uff0c\u4e0d\u5305\u542b\u5185\u6838\u4ee5\u53ca\u6587\u4ef6\u7cfb\u7edf\uff0c\u9002\u5408\u5355\u72ec\u8fdb\u884c\u9a71\u52a8\u5f00\u53d1\uff0c\u7f16\u8bd1\u7684\u5185\u6838\u955c\u50cf\u4e3aboot.img </p> <p>\u524d\u9762\u5df2\u7ecf\u70e7\u5199\u8fc7update.img\u955c\u50cf\u4e86,\u9a71\u52a8\u5f00\u53d1\u5b8c\u6210\u6d4b\u8bd5\u53ea\u9700\u8981\u66f4\u65b0boot.img \u5c31\u53ef\u4ee5\u4e86</p> <p>\u7f16\u8bd1\u5185\u6838 \uff0803_\u3010iTOP-RK3568\u5f00\u53d1\u677f\u3011\u6307\u5357\u6559\u7a0b\\02_Linux\u9a71\u52a8\u914d\u5957\u8d44\u6599\\02_Linux_SDK\u6e90\u7801\\linux_sdk.tar.gz\uff09</p> <pre><code>./build.sh kernel\n</code></pre> <p>\u7f16\u8bd1\u540e\u70e7\u5199\uff08\u5355\u72ec\u66f4\u65b0boot.img\uff09</p> <p></p> <p>\u786e\u4fdd\u80fd\u591f\u542f\u52a8\u8fd9\u4e2a  \u201c\u767d\u7eb8\u5185\u6838\u201d</p> <pre><code>[root@topeet:/]# uname -a\nLinux topeet 4.19.232 #4 SMP Mon Aug 18 09:03:36 EDT 2025 aarch64 GNU/Linux\n</code></pre>"},{"location":"%E8%BF%85%E4%B8%BA3568/4.%E7%AC%AC%E4%B8%80%E4%B8%AAhello%E9%A9%B1%E5%8A%A8%28%E6%A8%A1%E5%9D%97%E6%96%B9%E5%BC%8F%29/","title":"\u7f16\u5199\u7b2c\u4e00\u4e2ahello\u9a71\u52a8(\u7f16\u8bd1\u6210\u6a21\u5757)","text":""},{"location":"%E8%BF%85%E4%B8%BA3568/4.%E7%AC%AC%E4%B8%80%E4%B8%AAhello%E9%A9%B1%E5%8A%A8%28%E6%A8%A1%E5%9D%97%E6%96%B9%E5%BC%8F%29/#hello","title":"\u7f16\u5199\u7b2c\u4e00\u4e2ahello\u9a71\u52a8(\u7f16\u8bd1\u6210\u6a21\u5757)","text":"<p>\u76f4\u63a5\u62ff\u6a21\u677f\uff0c\u4e0d\u5fc5\u5173\u6ce8\u5982\u4f55\u7f16\u5199\u7684\uff0c\u8fd9\u4e00\u8282\u53ea\u9700\u8981\u7406\u89e3\u7f16\u8bd1\u7684\u8fc7\u7a0b</p>"},{"location":"%E8%BF%85%E4%B8%BA3568/4.%E7%AC%AC%E4%B8%80%E4%B8%AAhello%E9%A9%B1%E5%8A%A8%28%E6%A8%A1%E5%9D%97%E6%96%B9%E5%BC%8F%29/#helloworldc","title":"helloworld.c","text":"<pre><code>#include &lt;linux/module.h&gt;\n#include &lt;linux/kernel.h&gt; \nstatic int __init helloworld_init(void)        \n{\n    printk(KERN_EMERG \"helloworld_init\\r\\n\");\n    return 0;\n}\nstatic void __exit helloworld_exit(void)    \n{\n    printk(KERN_EMERG \"helloworld_exit\\r\\n\");\n}\n\nmodule_init(helloworld_init);    \nmodule_exit(helloworld_exit);   \nMODULE_LICENSE(\"GPL v2\");    \nMODULE_AUTHOR(\"topeet\"); \n</code></pre>"},{"location":"%E8%BF%85%E4%B8%BA3568/4.%E7%AC%AC%E4%B8%80%E4%B8%AAhello%E9%A9%B1%E5%8A%A8%28%E6%A8%A1%E5%9D%97%E6%96%B9%E5%BC%8F%29/#_1","title":"\u7f16\u8bd1\u5de5\u5177\u94fe\u786e\u8ba4","text":"<p>\u5728sdk\u4e2d\u67e5\u770b\u7f16\u8bd1\u5de5\u5177\u94fe\uff08\u7f16\u8bd1\u5185\u6838\u4e0e\u5355\u72ec\u7684\u9a71\u52a8\u6700\u597d\u4fdd\u8bc1\u4f7f\u7528\u540c\u4e00\u4e2a\u7f16\u8bd1\u5de5\u5177\u94fe\uff09</p> <pre><code>ubuntu@ubuntu1804:~/rk3568/linux_sdk$ cd prebuilts\nubuntu@ubuntu1804:~/rk3568/linux_sdk/prebuilts$ ls\ngcc\nubuntu@ubuntu1804:~/rk3568/linux_sdk/prebuilts$ find . -type f -name \"aarch64*-gcc\"\n./gcc/linux-x86/aarch64/gcc-linaro-6.3.1-2017.05-x86_64_aarch64-linux-gnu/bin/aarch64-linux-gnu-gcc\n</code></pre> <p>\u7f16\u5199 Makefile</p> <ul> <li>\u5c06\u7f16\u8bd1\u5de5\u5177\u94fe\u7684\u8def\u5f84\u5199\u5165 Makefile\u5f53\u4e2d \uff08\u82e5\u6b64\u5904kernle\u7684\u9876\u5c42Makefile\u6587\u4ef6\u6709\u6307\u5b9aARCH \u548c CROSS_COMPILE\uff0c\u5219\u6b64\u5904\u7684Makefile \u53ef\u4ee5\u4e0d\u7528\u6307\u5b9a\uff09</li> <li>\u6307\u5b9a\u5185\u6838\u8def\u5f84</li> </ul> <pre><code>#!/bin/bash\nobj-m := helloworld.o\n\nKDIR := /home/ubuntu/rk3568/linux_sdk/kernel\nPWD  := $(shell pwd)\n\n# \u6307\u5b9a\u5de5\u5177\u94fe\u548c\u67b6\u6784\nARCH := arm64\nCROSS_COMPILE := /home/ubuntu/rk3568/linux_sdk/prebuilts/gcc/linux-x86/aarch64/gcc-linaro-6.3.1-2017.05-x86_64_aarch64-linux-gnu/bin/aarch64-linux-gnu-\n\nall:\n    $(MAKE) -C $(KDIR) M=$(PWD) ARCH=$(ARCH) CROSS_COMPILE=$(CROSS_COMPILE) modules\n\nclean:\n    $(MAKE) -C $(KDIR) M=$(PWD) clean\n</code></pre>"},{"location":"%E8%BF%85%E4%B8%BA3568/4.%E7%AC%AC%E4%B8%80%E4%B8%AAhello%E9%A9%B1%E5%8A%A8%28%E6%A8%A1%E5%9D%97%E6%96%B9%E5%BC%8F%29/#_2","title":"\u7f16\u8bd1","text":"<pre><code>ubuntu@ubuntu1804:~/rk3568/driver/01_helloworld$ make\nmake -C /home/ubuntu/rk3568/linux_sdk/kernel M=/home/ubuntu/rk3568/driver/01_helloworld ARCH=arm64 CROSS_COMPILE=/home/ubuntu/rk3568/linux_sdk/prebuilts/gcc/linux-x86/aarch64/gcc-linaro-6.3.1-2017.05-x86_64_aarch64-linux-gnu/bin/aarch64-linux-gnu- modules\nmake[1]: Entering directory '/home/ubuntu/rk3568/linux_sdk/kernel'\n  CC [M]  /home/ubuntu/rk3568/driver/01_helloworld/helloworld.o\n  Building modules, stage 2.\n  MODPOST 1 modules\n  CC      /home/ubuntu/rk3568/driver/01_helloworld/helloworld.mod.o\n  LD [M]  /home/ubuntu/rk3568/driver/01_helloworld/helloworld.ko\nmake[1]: Leaving directory '/home/ubuntu/rk3568/linux_sdk/kernel'\nubuntu@ubuntu1804:~/rk3568/driver/01_helloworld$ ls\nhelloworld.c  helloworld.ko  helloworld.mod.c  helloworld.mod.o  helloworld.o  Makefile  modules.order  Module.symvers\n</code></pre>"},{"location":"%E8%BF%85%E4%B8%BA3568/4.%E7%AC%AC%E4%B8%80%E4%B8%AAhello%E9%A9%B1%E5%8A%A8%28%E6%A8%A1%E5%9D%97%E6%96%B9%E5%BC%8F%29/#_3","title":"\u7f16\u8bd1\u6587\u4ef6\u89e3\u6790","text":"<p>\u4e0b\u9762\u662f\u8fd9\u4e9b\u751f\u6210\u6587\u4ef6\u5404\u81ea\u7684\u542b\u4e49\u4e0e\u7528\u9014\uff08\u6309\u6700\u5e38\u89c1\u5173\u5fc3\u5ea6\u6392\u5e8f\uff09\uff1a</p>"},{"location":"%E8%BF%85%E4%B8%BA3568/4.%E7%AC%AC%E4%B8%80%E4%B8%AAhello%E9%A9%B1%E5%8A%A8%28%E6%A8%A1%E5%9D%97%E6%96%B9%E5%BC%8F%29/#_4","title":"\u5feb\u901f\u5bf9\u7167\u8868","text":"\u6587\u4ef6 \u4f5c\u7528 \u4f55\u65f6\u4f1a\u7528\u5230 <code>helloworld.ko</code> \u5185\u6838\u6a21\u5757\u6210\u54c1\uff08\u53ef\u88c5\u8f7d\u7684\u5185\u6838\u5bf9\u8c61\uff09 <code>insmod</code>/<code>modprobe</code> \u52a0\u8f7d\u5230\u5185\u6838 <code>helloworld.o</code> \u6e90\u6587\u4ef6\u7f16\u8bd1\u540e\u7684 \u76ee\u6807\u6587\u4ef6\uff08\u672a\u94fe\u63a5\u6210\u6a21\u5757\uff09 \u4e2d\u95f4\u4ea7\u7269\uff0c\u4f9b <code>modpost</code>/\u94fe\u63a5\u4f7f\u7528 <code>helloworld.mod.c</code> Kbuild \u81ea\u52a8\u751f\u6210\u7684 \u6a21\u5757\u5143\u6570\u636e\u6e90\u7801\uff08\u5305\u542b <code>MODULE_INFO</code> \u4fe1\u606f\uff09 \u53c2\u4e0e\u7f16\u8bd1\u6210 <code>.mod.o</code>\uff0c\u6700\u7ec8\u8fdb\u5165 <code>.ko</code> <code>helloworld.mod.o</code> \u7531 <code>helloworld.mod.c</code> \u7f16\u8bd1\u5f97\u5230\u7684\u76ee\u6807\u6587\u4ef6 \u94fe\u63a5\u8fdb <code>.ko</code>\uff0c\u63d0\u4f9b vermagic\u3001\u4f9d\u8d56\u3001license \u7b49\u4fe1\u606f <code>Module.symvers</code> \u7b26\u53f7\u7248\u672c\u8868\uff1a\u5bfc\u51fa\u7b26\u53f7\u4e0e\u5176 CRC\uff08\u542f\u7528 <code>CONFIG_MODVERSIONS</code> \u65f6\uff09 \u4f9b\u5176\u4ed6\u6a21\u5757\u8054\u7f16/\u4e8c\u8fdb\u5236\u517c\u5bb9\u6821\u9a8c\u4f7f\u7528 <code>modules.order</code> \u5f53\u524d\u76ee\u5f55\u4e0b \u6a21\u5757\u7f16\u8bd1\u987a\u5e8f \u5217\u8868 \u5b89\u88c5/\u6253\u5305\u6a21\u5757\u65f6\u4fdd\u6301\u987a\u5e8f <code>.tmp_versions/</code>\uff08\u672a\u5217\u51fa\u65f6\u53ef\u80fd\u5df2\u6e05\u7406\uff09 \u4fdd\u5b58\u6bcf\u4e2a\u6a21\u5757\u7684 \u7248\u672c\u4fe1\u606f\uff08<code>*.mod</code>\uff09 <code>modpost</code> \u4f7f\u7528 <code>*.cmd</code>\uff08\u672a\u5217\u51fa\u65f6\u53ef\u80fd\u5df2\u6e05\u7406\uff09 kbuild \u7684 \u91cd\u5efa\u89c4\u5219\u7f13\u5b58 \u7528\u4e8e\u589e\u91cf\u6784\u5efa\u5224\u65ad\u662f\u5426\u9700\u8981\u91cd\u7f16"},{"location":"%E8%BF%85%E4%B8%BA3568/5.%E5%A6%82%E4%BD%95%E4%BC%A0%E8%BE%93%E5%86%85%E6%A0%B8%E6%A8%A1%E5%9D%97/","title":"\u5982\u4f55\u4f20\u8f93\u5185\u6838\u6a21\u5757\uff1f","text":""},{"location":"%E8%BF%85%E4%B8%BA3568/5.%E5%A6%82%E4%BD%95%E4%BC%A0%E8%BE%93%E5%86%85%E6%A0%B8%E6%A8%A1%E5%9D%97/#_1","title":"\u5982\u4f55\u4f20\u8f93\u5185\u6838\u6a21\u5757\uff1f","text":"<p>\u524d\u4e00\u8282\u7f16\u5199\u4e86\u7b2c\u4e00\u4e2ahello\u9a71\u52a8\uff0c\u8fd9\u4e00\u8282\u770b\u5982\u4f55\u5c06\u9a71\u52a8\u6a21\u5757\u653e\u5230\u5185\u6838\u4e2d\u8fd0\u884c</p>"},{"location":"%E8%BF%85%E4%B8%BA3568/5.%E5%A6%82%E4%BD%95%E4%BC%A0%E8%BE%93%E5%86%85%E6%A0%B8%E6%A8%A1%E5%9D%97/#_2","title":"\u6a21\u5757\u7f16\u8bd1\u51fa\u6765\u5728\u6211\u7684\u7535\u8111\u4e0a\uff0c\u8981\u653e\u5230\u5f00\u53d1\u677f\u4e0a\uff0c\u6709\u54ea\u4e9b\u65b9\u5f0f\uff1f","text":""},{"location":"%E8%BF%85%E4%B8%BA3568/5.%E5%A6%82%E4%BD%95%E4%BC%A0%E8%BE%93%E5%86%85%E6%A0%B8%E6%A8%A1%E5%9D%97/#_3","title":"\u6709\u7f51\u6700\u7701\u4e8b","text":""},{"location":"%E8%BF%85%E4%B8%BA3568/5.%E5%A6%82%E4%BD%95%E4%BC%A0%E8%BE%93%E5%86%85%E6%A0%B8%E6%A8%A1%E5%9D%97/#1-scp-sftp","title":"1) scp / sftp\uff08\u9996\u9009\uff09","text":"<p>\u524d\u63d0\uff1a\u677f\u5b50\u4e0a\u6709 SSH\uff08openssh/dropbear\uff09\u3002</p> <pre><code># \u5f00\u53d1\u673a \u2192 \u677f\u5b50\nscp helloworld.ko root@BOARD_IP:/tmp/\n# \u6216\u4ea4\u4e92\u5f0f\nsftp root@BOARD_IP\nsftp&gt; put helloworld.ko /tmp/\n</code></pre>"},{"location":"%E8%BF%85%E4%B8%BA3568/5.%E5%A6%82%E4%BD%95%E4%BC%A0%E8%BE%93%E5%86%85%E6%A0%B8%E6%A8%A1%E5%9D%97/#2-rsync","title":"2) rsync\uff08\u5927\u6587\u4ef6/\u591a\u6587\u4ef6\u66f4\u5feb\uff09","text":"<pre><code>rsync -avz helloworld.ko root@BOARD_IP:/tmp/\n</code></pre>"},{"location":"%E8%BF%85%E4%B8%BA3568/5.%E5%A6%82%E4%BD%95%E4%BC%A0%E8%BE%93%E5%86%85%E6%A0%B8%E6%A8%A1%E5%9D%97/#3-http-wgetcurl-ssh","title":"3) \u4e34\u65f6 HTTP \u670d\u52a1 + wget/curl\uff08\u677f\u5b50\u65e0 SSH \u4e5f\u53ef\uff09","text":"<p>\u5f00\u53d1\u673a\u5728 .ko \u6240\u5728\u76ee\u5f55\u5f00\u4e00\u4e2a\u4e34\u65f6 http\uff1a</p> <pre><code>python3 -m http.server 8000\n</code></pre> <p>\u677f\u5b50\u4e0a\u4e0b\u8f7d\uff1a</p> <pre><code>wget http://DEV_IP:8000/helloworld.ko -O /tmp/helloworld.ko\n# \u6216\ncurl -O http://DEV_IP:8000/helloworld.ko\n</code></pre>"},{"location":"%E8%BF%85%E4%B8%BA3568/5.%E5%A6%82%E4%BD%95%E4%BC%A0%E8%BE%93%E5%86%85%E6%A0%B8%E6%A8%A1%E5%9D%97/#4-tftp","title":"4) TFTP\uff08\u5d4c\u5165\u5f0f\u5e38\u7528\u3001\u4f9d\u8d56\u5c11\uff09","text":"<p>\u5f00\u53d1\u673a\u5b89\u88c5/\u542f\u52a8 tftpd\uff08\u5982 tftpd-hpa\uff09\uff0c\u628a .ko \u653e\u5230 TFTP \u6839\u76ee\u5f55\u3002  \u677f\u5b50\u4e0a\uff1a</p> <pre><code>tftp -g -r helloworld.ko DEV_IP -l /tmp/helloworld.ko\n# \u6216 busybox:\ntftp -g DEV_IP -r helloworld.ko -l /tmp/helloworld.ko\n</code></pre>"},{"location":"%E8%BF%85%E4%B8%BA3568/5.%E5%A6%82%E4%BD%95%E4%BC%A0%E8%BE%93%E5%86%85%E6%A0%B8%E6%A8%A1%E5%9D%97/#5-nfs","title":"5) NFS \u5171\u4eab\uff08\u5f00\u53d1\u65f6\u8d85\u9ad8\u6548\uff09","text":"<p>\u5f00\u53d1\u673a\u5bfc\u51fa\u76ee\u5f55\uff0c\u677f\u5b50\u4e0a\u76f4\u63a5\u6302\u8f7d\uff1a</p> <pre><code># \u677f\u5b50\nmount -t nfs DEV_IP:/path/to/share /mnt\n# \u4e4b\u540e\u50cf\u672c\u5730\u6587\u4ef6\u4e00\u6837\u7528\uff1a\ncp /mnt/helloworld.ko /tmp/\n</code></pre>"},{"location":"%E8%BF%85%E4%B8%BA3568/5.%E5%A6%82%E4%BD%95%E4%BC%A0%E8%BE%93%E5%86%85%E6%A0%B8%E6%A8%A1%E5%9D%97/#6-sambacifswindows","title":"6) Samba/CIFS\uff08Windows/\u6df7\u5408\u73af\u5883\uff09","text":"<pre><code>mount -t cifs //DEV_IP/share /mnt -o username=xxx,password=yyy\ncp /mnt/helloworld.ko /tmp/\n</code></pre>"},{"location":"%E8%BF%85%E4%B8%BA3568/5.%E5%A6%82%E4%BD%95%E4%BC%A0%E8%BE%93%E5%86%85%E6%A0%B8%E6%A8%A1%E5%9D%97/#_4","title":"\u53ea\u6709\u4e32\u53e3\u3001\u6ca1\u7f51\u7edc","text":""},{"location":"%E8%BF%85%E4%B8%BA3568/5.%E5%A6%82%E4%BD%95%E4%BC%A0%E8%BE%93%E5%86%85%E6%A0%B8%E6%A8%A1%E5%9D%97/#7-zmodempicocomminicom-lrzsz","title":"7) ZMODEM\uff08picocom/minicom + lrzsz\uff09","text":"<p>\u5728\u677f\u5b50\u5b89\u88c5\u63a5\u6536\u7aef\uff08\u82e5\u6ca1\u6709\uff09\uff1a</p> <pre><code># Debian/Ubuntu \u7c7b\napt-get install lrzsz\n</code></pre> <p>\u7528 <code>picocom</code> \u8fde\u4e0a\u540e\uff0c\u5728\u677f\u5b50\u4e0a\u6267\u884c\uff1a</p> <pre><code>cd /tmp &amp;&amp; rz -E\n</code></pre> <p>\u5728\u5f00\u53d1\u673a\u7684 picocom\u91cc\u6309 <code>Ctrl+A</code> \u7136\u540e <code>Ctrl+S</code> \u89e6\u53d1\u53d1\u9001\uff08\u9009\u62e9 zmodem\uff09\uff0c\u9009\u4e2d <code>helloworld.ko</code> \u53d1\u9001\u5373\u53ef\u3002  \uff08\u4f60\u7684 picocom \u9ed8\u8ba4 <code>send_cmd</code> \u5c31\u662f <code>sz -vv</code>\uff0c\u5f88\u5408\u9002\uff09</p> <p>\u6ca1\u6709 lrzsz \u65f6\u4e5f\u53ef\u7528 X/YMODEM\uff08rx/sx/ry/sy\uff09\uff0c\u4f46 zmodem \u6700\u7a33\u3002</p>"},{"location":"%E8%BF%85%E4%B8%BA3568/5.%E5%A6%82%E4%BD%95%E4%BC%A0%E8%BE%93%E5%86%85%E6%A0%B8%E6%A8%A1%E5%9D%97/#8-xmodemymodem-ymodem","title":"8) XMODEM/YMODEM\uff08\u4f60\u4e4b\u524d\u63d0\u8fc7 ymodem\uff09","text":"<ul> <li>\u677f\u5b50\u4e0a\uff1a<code>rb</code>/<code>rx</code>/<code>rz</code>/<code>sb</code>/<code>sx</code>/<code>sz</code>\uff08\u89c6\u53ef\u7528\u5de5\u5177\u800c\u5b9a\uff09</li> <li>\u6d41\u7a0b\u4e0e\u4e0a\u9762\u7c7b\u4f3c\uff0c\u901f\u5ea6\u7565\u6162\u3001\u53ef\u9760\u6027\u8f83 zmodem \u5dee\u4e00\u70b9</li> </ul>"},{"location":"%E8%BF%85%E4%B8%BA3568/5.%E5%A6%82%E4%BD%95%E4%BC%A0%E8%BE%93%E5%86%85%E6%A0%B8%E6%A8%A1%E5%9D%97/#_5","title":"\u53ef\u79fb\u52a8\u4ecb\u8d28","text":""},{"location":"%E8%BF%85%E4%B8%BA3568/5.%E5%A6%82%E4%BD%95%E4%BC%A0%E8%BE%93%E5%86%85%E6%A0%B8%E6%A8%A1%E5%9D%97/#9-u-tf","title":"9) U \u76d8 / TF \u5361","text":"<p>\u5f00\u53d1\u673a\u62f7\u8d1d \u2192 \u63d2\u5230\u677f\u5b50\u4e0a\u6302\u8f7d\uff1a</p> <pre><code>mount /dev/sda1 /mnt   # \u8bbe\u5907\u540d\u770b dmesg\ncp /mnt/helloworld.ko /tmp/\numount /mnt\n</code></pre>"},{"location":"%E8%BF%85%E4%B8%BA3568/5.%E5%A6%82%E4%BD%95%E4%BC%A0%E8%BE%93%E5%86%85%E6%A0%B8%E6%A8%A1%E5%9D%97/#10-usb-otgmsc-gadget-u","title":"10) USB-OTG/MSC Gadget\uff08\u677f\u5b50\u628a\u81ea\u8eab\u4f2a\u88c5\u6210 U \u76d8\uff09","text":"<p>\u9002\u5408\u6ca1\u6709\u5b58\u50a8\u5668\u53e3\u4f46\u6709 OTG \u7684\u8bbe\u5907\uff0c\u9700\u8981 gadget \u6a21\u5757\u652f\u6301\uff1b\u7565\u590d\u6742\uff0c\u5f00\u53d1\u671f\u5076\u5c14\u7528\u3002</p>"},{"location":"%E8%BF%85%E4%B8%BA3568/5.%E5%A6%82%E4%BD%95%E4%BC%A0%E8%BE%93%E5%86%85%E6%A0%B8%E6%A8%A1%E5%9D%97/#android-rk3568-android","title":"Android \u56fa\u4ef6\uff08\u82e5 RK3568 \u8dd1\u7684\u662f Android\uff09","text":""},{"location":"%E8%BF%85%E4%B8%BA3568/5.%E5%A6%82%E4%BD%95%E4%BC%A0%E8%BE%93%E5%86%85%E6%A0%B8%E6%A8%A1%E5%9D%97/#11-adb","title":"11) ADB","text":"<pre><code>adb push helloworld.ko /data/local/tmp/\nadb shell\n#&gt; su\n#&gt; insmod /data/local/tmp/helloworld.ko\n</code></pre>"},{"location":"%E8%BF%85%E4%B8%BA3568/5.%E5%A6%82%E4%BD%95%E4%BC%A0%E8%BE%93%E5%86%85%E6%A0%B8%E6%A8%A1%E5%9D%97/#_6","title":"\u4f20\u8fc7\u53bb\u540e\u7684\u9a8c\u8bc1\uff08\u901a\u7528\uff09","text":"<pre><code># \u677f\u5b50\u4e0a\nmodinfo /tmp/helloworld.ko        # \u770b vermagic\u3001\u4f9d\u8d56\u7b49\nuname -r                           # \u786e\u8ba4\u4e0e\u5185\u6838\u7248\u672c\u5339\u914d\nsudo insmod /tmp/helloworld.ko\ndmesg | tail -n 50\nlsmod | grep helloworld\nsudo rmmod helloworld\n</code></pre>"},{"location":"%E8%BF%85%E4%B8%BA3568/5.%E5%A6%82%E4%BD%95%E4%BC%A0%E8%BE%93%E5%86%85%E6%A0%B8%E6%A8%A1%E5%9D%97/#_7","title":"\u9009\u578b\u5efa\u8bae\uff08\u600e\u4e48\u9009\u6700\u5feb\uff09","text":"<ul> <li>\u6709 SSH \u21d2 \u7528 scp/rsync\u3002</li> <li>\u6709\u7f51\u6ca1 SSH \u21d2 HTTP + wget \u6216 TFTP\u3002</li> <li>\u5b8c\u5168\u79bb\u7ebf\u53ea\u6709\u4e32\u53e3 /USB \u21d2 ZMODEM\uff08rz/sz\uff09\u3002</li> <li>\u9891\u7e41\u8fed\u4ee3\u3001\u591a\u6587\u4ef6 \u21d2 NFS \u6302\u8f7d\u6700\u723d\u3002</li> </ul> <p>\u6211\u7684\u677f\u5b50\u7f51\u7edc\u5df2\u7ecf\u901a\u4e86\uff0c\u4f46\u662f\u6211\u4e0d\u77e5\u9053\u6709\u4ec0\u4e48\u4f20\u8f93\u670d\u52a1\u5f00\u542f\u4e86</p> <pre><code>which scp\nwhich sftp\nwhich wget\nwhich curl\nwhich tftp\nwhich rz\n</code></pre> <pre><code>[root@topeet:/]# which scp\nh sftp\nwhich wget\nwhich curl\nwhich tftp\nwhich rz\n/usr/bin/scp\n[root@topeet:/]# which sftp\n[root@topeet:/]# which wget\n/usr/bin/wget\n[root@topeet:/]# which curl\n[root@topeet:/]# which tftp\n/usr/bin/tftp\n[root@topeet:/]# which rz\n/usr/bin/rz\n</code></pre> <p>\u5df2\u7ecf\u5f00\u542f\u7684\u670d\u52a1</p> <pre><code>\u2705 scp \u2192 \u6700\u5e38\u7528\u3001\u6700\u65b9\u4fbf\n\n\u2705 wget \u2192 \u5982\u679c PC \u4e0a\u5f00 HTTP \u670d\u52a1\uff0c\u4e5f\u80fd\u4e0b\u8f7d\n\n\u2705 tftp \u2192 \u9002\u5408\u5d4c\u5165\u5f0f\u73af\u5883\n\n\u2705 rz \u2192 \u53ef\u4ee5\u901a\u8fc7\u4e32\u53e3\u4f20\u6587\u4ef6\n</code></pre>"},{"location":"%E8%BF%85%E4%B8%BA3568/5.%E5%A6%82%E4%BD%95%E4%BC%A0%E8%BE%93%E5%86%85%E6%A0%B8%E6%A8%A1%E5%9D%97/#scp","title":"\u4f7f\u7528scp\u670d\u52a1","text":"<p>\u5b66\u4e24\u6761scp\u7684\u6307\u4ee4</p> <pre><code>\u5728 \u5f00\u53d1\u673a\uff08Ubuntu\uff09 \u4e0a\u6267\u884c\uff1a\nscp helloworld.ko root@BOARD_IP:/tmp/\n\n\u7136\u540e\u5728\u677f\u5b50\u4e0a\uff1a\ninsmod /tmp/helloworld.ko\n</code></pre> <p>\u4e3b\u673a</p> <pre><code>ubuntu@ubuntu1804:~/rk3568/driver/01_helloworld$ scp helloworld.ko root@192.168.0.104:/tmp/\nThe authenticity of host '192.168.0.104 (192.168.0.104)' can't be established.\nECDSA key fingerprint is SHA256:UQiERmq9suYMmC7+EDO+fL4C58oSkvP4pCHYzvzU6oU.\nAre you sure you want to continue connecting (yes/no)? yes\nWarning: Permanently added '192.168.0.104' (ECDSA) to the list of known hosts.\nroot@192.168.0.104's password: \nhelloworld.ko              100%  159KB  12.0MB/s   00:00                                                                                                                                                                                                                                                                     \n</code></pre> <p>\u5f00\u53d1\u677f</p> <pre><code>[root@topeet:/tmp]# ls\ndbus  dnsmasq.leases  messages  messages.0  mountall.log  resolv.conf  subsys\n[root@topeet:/tmp]# ls\ndbus  dnsmasq.leases  helloworld.ko  messages  messages.0  mountall.log  resolv.conf  subsys\n[root@topeet:/tmp]# \n</code></pre>"},{"location":"%E8%BF%85%E4%B8%BA3568/6.%E5%8A%A0%E8%BD%BD%EF%BC%8C%E6%9F%A5%E7%9C%8B%EF%BC%8C%E5%8D%B8%E8%BD%BD%E5%86%85%E6%A0%B8%E9%A9%B1%E5%8A%A8/","title":"Linux \u5185\u6838\u6a21\u5757\u64cd\u4f5c\u6307\u4ee4\u901f\u67e5","text":""},{"location":"%E8%BF%85%E4%B8%BA3568/6.%E5%8A%A0%E8%BD%BD%EF%BC%8C%E6%9F%A5%E7%9C%8B%EF%BC%8C%E5%8D%B8%E8%BD%BD%E5%86%85%E6%A0%B8%E9%A9%B1%E5%8A%A8/#linux","title":"Linux \u5185\u6838\u6a21\u5757\u64cd\u4f5c\u6307\u4ee4\u901f\u67e5","text":""},{"location":"%E8%BF%85%E4%B8%BA3568/6.%E5%8A%A0%E8%BD%BD%EF%BC%8C%E6%9F%A5%E7%9C%8B%EF%BC%8C%E5%8D%B8%E8%BD%BD%E5%86%85%E6%A0%B8%E9%A9%B1%E5%8A%A8/#1","title":"1\ufe0f\u20e3 \u52a0\u8f7d\u6a21\u5757","text":"<pre><code># \u7528 insmod\uff0c\u76f4\u63a5\u6307\u5b9a .ko \u6587\u4ef6\u8def\u5f84\ninsmod /path/to/module.ko\n</code></pre> <p>\u9002\u5408\u7cbe\u7b80 rootfs\uff0c\u6ca1\u6709 <code>/lib/modules</code> \u65f6\u4f7f\u7528\u3002</p> <pre><code># \u7528 modprobe\uff08\u9700\u8981 /lib/modules/$(uname -r) \u548c modules.dep\uff09\nmodprobe module_name\n</code></pre>"},{"location":"%E8%BF%85%E4%B8%BA3568/6.%E5%8A%A0%E8%BD%BD%EF%BC%8C%E6%9F%A5%E7%9C%8B%EF%BC%8C%E5%8D%B8%E8%BD%BD%E5%86%85%E6%A0%B8%E9%A9%B1%E5%8A%A8/#2","title":"2\ufe0f\u20e3 \u67e5\u770b\u5df2\u52a0\u8f7d\u6a21\u5757","text":"<pre><code># \u67e5\u770b\u6240\u6709\u6a21\u5757\uff08\u5b8c\u6574\u7248\u7cfb\u7edf\u5e38\u7528\uff09\nlsmod\n\n# \u5728\u7cbe\u7b80\u7cfb\u7edf\u4e2d\uff0c\u7b49\u4ef7\u65b9\u5f0f\ncat /proc/modules\n\n# \u67e5\u770b\u5185\u6838\u65e5\u5fd7\uff0c\u786e\u8ba4\u6a21\u5757\u521d\u59cb\u5316\u6253\u5370\ndmesg | tail -n 20\n</code></pre>"},{"location":"%E8%BF%85%E4%B8%BA3568/6.%E5%8A%A0%E8%BD%BD%EF%BC%8C%E6%9F%A5%E7%9C%8B%EF%BC%8C%E5%8D%B8%E8%BD%BD%E5%86%85%E6%A0%B8%E9%A9%B1%E5%8A%A8/#3","title":"3\ufe0f\u20e3 \u5378\u8f7d\u6a21\u5757","text":"<pre><code># \u57fa\u672c\u7528\u6cd5\nrmmod module_name\n\n# \u63a8\u8350\u7528 modprobe \u5378\u8f7d\uff08\u652f\u6301\u4f9d\u8d56\uff09\nmodprobe -r module_name\n</code></pre>"},{"location":"%E8%BF%85%E4%B8%BA3568/6.%E5%8A%A0%E8%BD%BD%EF%BC%8C%E6%9F%A5%E7%9C%8B%EF%BC%8C%E5%8D%B8%E8%BD%BD%E5%86%85%E6%A0%B8%E9%A9%B1%E5%8A%A8/#4-helloworld","title":"4\ufe0f\u20e3 \u5e38\u89c1\u9a8c\u8bc1\u6d41\u7a0b\uff08HelloWorld \u6a21\u5757\u4e3e\u4f8b\uff09","text":"<pre><code># \u52a0\u8f7d\ninsmod /tmp/helloworld.ko\n\n# \u786e\u8ba4\u5df2\u52a0\u8f7d\ncat /proc/modules | grep helloworld\ndmesg | tail -n 20\n\n# \u5378\u8f7d\nrmmod helloworld\ndmesg | tail -n 20\n</code></pre>"},{"location":"%E8%BF%85%E4%B8%BA3568/7.%E9%A9%B1%E5%8A%A8%E7%BC%96%E8%AF%91%E8%BF%9B%E5%86%85%E6%A0%B8/","title":"\u9a71\u52a8\u7f16\u8bd1\u8fdb\u5185\u6838\u65b9\u5f0f","text":""},{"location":"%E8%BF%85%E4%B8%BA3568/7.%E9%A9%B1%E5%8A%A8%E7%BC%96%E8%AF%91%E8%BF%9B%E5%86%85%E6%A0%B8/#_1","title":"\u9a71\u52a8\u7f16\u8bd1\u8fdb\u5185\u6838\u65b9\u5f0f","text":"<ul> <li> <p>\u7f16\u8bd1\u6210\u6a21\u5757\u662f\u4e3a\u4e86\u65b9\u4fbf\u5f00\u53d1\uff0c\u5feb\u901f\u9a8c\u8bc1</p> </li> <li> <p>\u5f53\u5f00\u53d1\u7ed3\u675f \u65f6\u4f1a\u5c06\u6240\u6709\u9a71\u52a8\u76f4\u63a5\u7f16\u8bd1\u8fdb\u5185\u6838\uff0c</p> </li> </ul>"},{"location":"%E8%BF%85%E4%B8%BA3568/8.kconfig%E8%AF%AD%E6%B3%95/","title":"8.kconfig\u8bed\u6cd5","text":""},{"location":"%E8%BF%85%E4%B8%BA3568/9.%E5%B0%86hello%E9%A9%B1%E5%8A%A8%E7%BC%96%E8%AF%91%E8%BF%9B%E5%86%85%E6%A0%B8%E5%AE%9E%E6%93%8D/","title":"9.\u5c06hello\u9a71\u52a8\u7f16\u8bd1\u8fdb\u5185\u6838\u5b9e\u64cd","text":""},{"location":"%E8%BF%85%E4%B8%BA3568/9.%E5%B0%86hello%E9%A9%B1%E5%8A%A8%E7%BC%96%E8%AF%91%E8%BF%9B%E5%86%85%E6%A0%B8%E5%AE%9E%E6%93%8D/#_1","title":"\u6b65\u9aa4","text":"<ul> <li>\u5728\u5185\u6838\u7684\u9a71\u52a8 \u5b57\u7b26\u8bbe\u5907 \u521b\u5efa\u4e00\u4e2ahelloworld\u6587\u4ef6\u5939</li> <li>\u7f16\u5199Kconfig\u6587\u4ef6 \u6dfb\u52a0helloworld \u9a71\u52a8</li> <li>\u5728\u4e0a\u5c42\u76ee\u5f55\u7684kconfig\u4e2d\u5305\u542bhelloworld\u76ee\u5f55\u4e0b\u7684Kconfig\uff08\u5230\u8fd9\u4e00\u6b65\u53ef\u4ee5\u4f7f\u7528make menuconfig\u67e5\u770b\u662f\u5426\u6210\u529f\uff09</li> </ul>"},{"location":"%E8%BF%85%E4%B8%BA3568/9.%E5%B0%86hello%E9%A9%B1%E5%8A%A8%E7%BC%96%E8%AF%91%E8%BF%9B%E5%86%85%E6%A0%B8%E5%AE%9E%E6%93%8D/#1helloworld","title":"1.\u5728\u5b57\u7b26\u9a71\u52a8\u76ee\u5f55\u4e0b\u521b\u5efa\u4e00\u4e2ahelloworld\u76ee\u5f55","text":"<pre><code>/home/ubuntu/rk3568/linux_sdk/kernel/drivers/char/helloworld\n</code></pre>"},{"location":"%E8%BF%85%E4%B8%BA3568/9.%E5%B0%86hello%E9%A9%B1%E5%8A%A8%E7%BC%96%E8%AF%91%E8%BF%9B%E5%86%85%E6%A0%B8%E5%AE%9E%E6%93%8D/#2helloworldkconfig","title":"2.\u6253\u5f00helloworld\u76ee\u5f55\u5e76\u7f16\u5199Kconfig\u6587\u4ef6","text":"<p>Kconfig</p> <pre><code>menu \"HelloWorld driver\"\n\nconfig HELLOWORLD\n    tristate \"Hello World driver\"\n    help\n      A simple hello world driver.\n      Say Y to build it into the kernel,\n      M to build as a module,\n      N to exclude it.\n\nendmenu\n</code></pre>"},{"location":"%E8%BF%85%E4%B8%BA3568/9.%E5%B0%86hello%E9%A9%B1%E5%8A%A8%E7%BC%96%E8%AF%91%E8%BF%9B%E5%86%85%E6%A0%B8%E5%AE%9E%E6%93%8D/#3kconfighelloworldkconfig","title":"3.\u5728\u4e0a\u4e00\u5c42Kconfig\u5305\u542bhelloworld\u4e2d\u7684Kconfig","text":"<pre><code>source \"drivers/char/helloworld/Kconfig\"\n</code></pre>"},{"location":"%E8%BF%85%E4%B8%BA3568/9.%E5%B0%86hello%E9%A9%B1%E5%8A%A8%E7%BC%96%E8%AF%91%E8%BF%9B%E5%86%85%E6%A0%B8%E5%AE%9E%E6%93%8D/#kconfig","title":"\u5148\u9a8c\u8bc1Kconfig\u662f\u5426\u6dfb\u52a0\u6210\u529f","text":"<pre><code>export ARCH=arm64\nmake menuconfig\n</code></pre> <pre><code>  Device Drivers  ---&gt;\n       Character devices  ---&gt; \n               HelloWorld driver  ---&gt; \n</code></pre>"},{"location":"%E8%BF%85%E4%B8%BA3568/9.%E5%B0%86hello%E9%A9%B1%E5%8A%A8%E7%BC%96%E8%AF%91%E8%BF%9B%E5%86%85%E6%A0%B8%E5%AE%9E%E6%93%8D/#4hellworldc","title":"4.\u6dfb\u52a0hellworld.c \u9a71\u52a8","text":"<pre><code>#include &lt;linux/init.h&gt;\n#include &lt;linux/module.h&gt;\n\nstatic int __init hello_init(void)\n{\n    pr_info(\"Hello, world driver loaded!\\n\");\n    return 0;\n}\n\nstatic void __exit hello_exit(void)\n{\n    pr_info(\"Hello, world driver unloaded!\\n\");\n}\n\nmodule_init(hello_init);\nmodule_exit(hello_exit);\n\nMODULE_LICENSE(\"GPL\");\nMODULE_AUTHOR(\"You\");\nMODULE_DESCRIPTION(\"Simple Hello World driver\");\n</code></pre>"},{"location":"%E8%BF%85%E4%B8%BA3568/9.%E5%B0%86hello%E9%A9%B1%E5%8A%A8%E7%BC%96%E8%AF%91%E8%BF%9B%E5%86%85%E6%A0%B8%E5%AE%9E%E6%93%8D/#5makefile","title":"5.\u7f16\u5199Makefile","text":"<ul> <li>\u6b64\u5904\u7684CONFIG_HELLOWORLD  \u9700\u8981\u4e0eKconfig\u6587\u4ef6\u5bf9\u5e94 config HELLOWORLD</li> </ul> <pre><code>obj-$(CONFIG_HELLOWORLD) += helloworld.o\n</code></pre>"},{"location":"%E8%BF%85%E4%B8%BA3568/9.%E5%B0%86hello%E9%A9%B1%E5%8A%A8%E7%BC%96%E8%AF%91%E8%BF%9B%E5%86%85%E6%A0%B8%E5%AE%9E%E6%93%8D/#6makefilehelloworldmakefile","title":"6.\u5728\u4e0a\u4e00\u5c42Makefile\u5305\u542bhelloworld\u4e2d\u7684Makefile","text":"<pre><code>obj-$(CONFIG_HELLOWORLD) += helloworld/\n</code></pre>"},{"location":"%E8%BF%85%E4%B8%BA3568/9.%E5%B0%86hello%E9%A9%B1%E5%8A%A8%E7%BC%96%E8%AF%91%E8%BF%9B%E5%86%85%E6%A0%B8%E5%AE%9E%E6%93%8D/#7config","title":"7.\u66f4\u6539\u7f16\u8bd1config\u6587\u4ef6","text":"<pre><code>ubuntu@ubuntu1804:~/rk3568/linux_sdk$ ./build.sh kernel\nprocessing option: kernel\n============Start building kernel============\nTARGET_ARCH          =arm64\nTARGET_KERNEL_CONFIG =rockchip_linux_defconfig\nTARGET_KERNEL_DTS    =rk3568-evb1-ddr4-v10-linux\nTARGET_KERNEL_CONFIG_FRAGMENT =\n==========================================\n</code></pre> <p>\u9ed8\u8ba4\u7f16\u8bd1\u65f6\u53ef\u4ee5\u770b\u5230\u4f7f\u7528\u7684\u662frockchip_linux_defconfig \u6587\u4ef6\uff0c\u4e0emake menuconfig\u51fa\u6765\u7684.config\u65e0\u5173\uff0c\u8fd9\u65f6\u5019\u53ef\u4ee5\u5c06rockchip_linux_defconfig\u8986\u76d6</p> <p>\u5728kernel\u76ee\u5f55\u4e0b\u6267\u884c\u5982\u4e0b\u547d\u4ee4</p> <pre><code>cp .config arch/arm64/configs/rockchip_linux_defconfig\n</code></pre> <p>\u8986\u76d6\u662f\u5426\u6210\u529f\uff0c\u68c0\u67e5\u6700\u540e\u66f4\u65b0\u65f6\u95f4</p> <p></p>"},{"location":"%E8%BF%85%E4%B8%BA3568/9.%E5%B0%86hello%E9%A9%B1%E5%8A%A8%E7%BC%96%E8%AF%91%E8%BF%9B%E5%86%85%E6%A0%B8%E5%AE%9E%E6%93%8D/#_2","title":"\u7f16\u8bd1","text":"<pre><code> ./build.sh kernel\n</code></pre>"},{"location":"%E8%BF%85%E4%B8%BA3568/9.%E5%B0%86hello%E9%A9%B1%E5%8A%A8%E7%BC%96%E8%AF%91%E8%BF%9B%E5%86%85%E6%A0%B8%E5%AE%9E%E6%93%8D/#_3","title":"\u70e7\u5f55\u955c\u50cf","text":""},{"location":"%E8%BF%85%E4%B8%BA3568/9.%E5%B0%86hello%E9%A9%B1%E5%8A%A8%E7%BC%96%E8%AF%91%E8%BF%9B%E5%86%85%E6%A0%B8%E5%AE%9E%E6%93%8D/#_4","title":"\u68c0\u67e5","text":"<ul> <li>\u67e5\u770b\u9a71\u52a8\u662f\u5426\u6709\u88ab\u7f16\u8bd1\u7684\u6587\u4ef6</li> </ul> <ul> <li>\u67e5\u770b \u5185\u6838\u542f\u52a8\u65e5\u5fd7</li> </ul> <pre><code>[root@topeet:/dev]# dmesg | grep -i hello\n[    1.762110] Hello, world driver loaded!\n</code></pre> <p>\u9a71\u52a8\u5df2\u7ecf\u968f\u5185\u6838\u542f\u52a8\u8fd0\u884c\u4e86</p>"}]}