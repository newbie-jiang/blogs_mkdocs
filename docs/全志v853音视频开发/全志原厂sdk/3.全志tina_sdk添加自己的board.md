# 全志tina_sdk添加自己的boards

参考

https://blog.csdn.net/weixin_44179831/article/details/126845384?spm=1001.2014.3001.5502





1.添加设备树

```
tina-v85x-release\device\config\chips\v853\configs
```

![image-20250724014712813](https://newbie-typora.oss-cn-shenzhen.aliyuncs.com/TyporaJPG/image-20250724014712813.png)

2.添加自己的板

```
tina-v85x-release\target\allwinner
```

![image-20250724014745523](https://newbie-typora.oss-cn-shenzhen.aliyuncs.com/TyporaJPG/image-20250724014745523.png)

编译

```
make -j && pack
```

编译失败

```
Error: arch/arm/boot/dts/board.dts:988.1-7 Label or path spif0 not found
Error: arch/arm/boot/dts/board.dts:1861.1-12 Label or path e907_rproc not found
FATAL ERROR: Syntax error parsing input tree
scripts/Makefile.lib:313: recipe for target 'arch/arm/boot/dts/board.dtb' failed
make[6]: *** [arch/arm/boot/dts/board.dtb] Error 1
arch/arm/Makefile:343: recipe for target 'dtbs' failed
make[5]: *** [dtbs] Error 2
make[5]: Leaving directory '/home/ubuntu/opt/V85x/tina-v85x-release/lichee/linux-4.9'
Makefile:31: recipe for target '/home/ubuntu/opt/V85x/tina-v85x-release/out/v853-100ask/compile_dir/target/linux-v853-100ask/linux-4.9.191/.image' failed
make[4]: *** [/home/ubuntu/opt/V85x/tina-v85x-release/out/v853-100ask/compile_dir/target/linux-v853-100ask/linux-4.9.191/.image] Error 2
make[4]: Leaving directory '/home/ubuntu/opt/V85x/tina-v85x-release/target/allwinner/v853-100ask'
Makefile:13: recipe for target 'install' failed
make[3]: *** [install] Error 2
make[3]: Leaving directory '/home/ubuntu/opt/V85x/tina-v85x-release/target/allwinner'
target/Makefile:21: recipe for target 'target/allwinner/install' failed
make[2]: *** [target/allwinner/install] Error 2
make[2]: Leaving directory '/home/ubuntu/opt/V85x/tina-v85x-release'

```

这表示**在 `board.dts` 文件的第 988 行和第 1861 行引用了名为 `spif0` 和 `e907_rproc` 的 label，但这两个 label 在你的 DTS/DTSI 文件中并不存在**。



```
Y:\tina-v853-100ask\lichee\linux-4.9\arch\arm\boot\dts\sun8iw21p1.dtsi
```

对照着百问网的查找更改或者直接替换，在dtsi中添加上 spif0  和 e907_rproc

```
Y:\opt\V85x\tina-v85x-release\lichee\linux-4.9\arch\arm\boot\dts\sun8iw21p1-clk.dtsi
```

添加

```
	clk_e907_gate: e907_gate{
			#clock-cells = <0>;
			compatible = "allwinner,periph-clock";
			clock-output-names = "e907_gate";
		};
```











