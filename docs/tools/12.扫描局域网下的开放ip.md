更改自己的网段就行了



```py
import threading
import subprocess
import platform

def ping(ip, result_list):
    # 根据平台适配 ping 命令
    param = '-n' if platform.system().lower() == 'windows' else '-c'
    # Linux 下需要加 -W 1 设置超时时间，Windows 下用 -w 1000
    timeout_param = '-w' if platform.system().lower() == 'windows' else '-W'
    timeout = '1000' if platform.system().lower() == 'windows' else '1'
    command = ['ping', param, '1', timeout_param, timeout, ip]
    try:
        output = subprocess.check_output(command, stderr=subprocess.STDOUT)
        result_list.append(ip)
    except subprocess.CalledProcessError:
        pass  # 不可达就什么也不做

def scan_network(base_ip):
    threads = []
    reachable_ips = []
    for i in range(1, 255):  # 1-254
        ip = f"{base_ip}.{i}"
        t = threading.Thread(target=ping, args=(ip, reachable_ips))
        threads.append(t)
        t.start()
    for t in threads:
        t.join()
    print("Ping通的IP有：")
    for ip in sorted(reachable_ips, key=lambda x: list(map(int, x.split('.')))):
        print(ip)

if __name__ == "__main__":
    # 192.168.0.x 网段
    base_ip = "192.168.0"
    scan_network(base_ip)

```





![image-20250720225409955](https://newbie-typora.oss-cn-shenzhen.aliyuncs.com/TyporaJPG/image-20250720225409955.png)